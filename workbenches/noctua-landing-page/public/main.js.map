{"version":3,"file":"main.js","mappings":"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AS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SA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0BAA0B,EAAE,0BAA0B;IACtD,8BAA8B,EAAE,8BAA8B;IAC9D,kCAAkC,EAAE,kCAAkC;IACtE,oBAAoB,EAAE,oBAAoB;IAC1C,SAAS,EAAE,GAAG,eAAe,UAAU;IAEvC,WAAW;IACX,SAAS,EAAE,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE;IACtC,oBAAoB,EAAE,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,gCAAgC;IAE/E,YAAY,EAAE,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,aAAa;IAEpD,SAAS,EAAE,2CAA2C;IACtD,iBAAiB,EAAE,mCAAmC;IACtD,gBAAgB,EAAE,wFAAwF;IAC1G,eAAe,EAAE,2FAA2F;CAC7G,CAAC;;;;;;;;;;;;;;;;;;ACxE6C;AAGF;AACY;AAEzD,IAAI,6EAAsB,EAAE;IAC1B,6DAAc,EAAE,CAAC;CAClB;AAED,wEAAwB,CAAC,eAAe,CAAC,sDAAS,CAAC;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;;;;;;;;;;;ACXlC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACnSA;;;;;;;;;;ACAA","sources":["./src/@noctua.announcement/@noctua.announcement.module.ts","./src/@noctua.announcement/components/announcement-panel/announcement-panel.component.ts","./src/@noctua.announcement/components/announcement-panel/announcement-panel.component.html","./src/@noctua.announcement/services/cam.service.ts","./src/@noctua.common/data/noc-colors.ts","./src/@noctua.common/models/graph-settings.ts","./src/@noctua.common/models/menu-panels.ts","./src/@noctua.common/models/workench-id.ts","./src/@noctua.common/services/noctua-common-menu.service.ts","./src/@noctua.common/services/noctua-data.service.ts","./src/@noctua.curie/data/go-context.ts","./src/@noctua.curie/services/curie.service.ts","./src/@noctua.doctor/models/menu-panels.ts","./src/@noctua.doctor/services/doctor-menu.service.ts","./src/@noctua.editor/index.ts","./src/@noctua.editor/inline-detail/detail-dropdown/detail-dropdown-ref.ts","./src/@noctua.editor/inline-detail/detail-dropdown/detail-dropdown.component.ts","./src/@noctua.editor/inline-detail/detail-dropdown/detail-dropdown.component.html","./src/@noctua.editor/inline-detail/detail-dropdown/detail-dropdown.tokens.ts","./src/@noctua.editor/inline-detail/inline-detail.service.ts","./src/@noctua.editor/inline-editor/editor-dropdown/editor-dropdown-ref.ts","./src/@noctua.editor/inline-editor/editor-dropdown/editor-dropdown.component.ts","./src/@noctua.editor/inline-editor/editor-dropdown/editor-dropdown.component.html","./src/@noctua.editor/inline-editor/editor-dropdown/editor-dropdown.tokens.ts","./src/@noctua.editor/inline-editor/inline-editor.component.ts","./src/@noctua.editor/inline-editor/inline-editor.component.html","./src/@noctua.editor/inline-editor/inline-editor.service.ts","./src/@noctua.editor/inline-reference/inline-reference.service.ts","./src/@noctua.editor/inline-reference/reference-dropdown/reference-dropdown-ref.ts","./src/@noctua.editor/inline-reference/reference-dropdown/reference-dropdown.component.ts","./src/@noctua.editor/inline-reference/reference-dropdown/reference-dropdown.component.html","./src/@noctua.editor/inline-reference/reference-dropdown/reference-dropdown.tokens.ts","./src/@noctua.editor/inline-with/inline-with.service.ts","./src/@noctua.editor/inline-with/with-dropdown/with-dropdown-ref.ts","./src/@noctua.editor/inline-with/with-dropdown/with-dropdown.component.ts","./src/@noctua.editor/inline-with/with-dropdown/with-dropdown.component.html","./src/@noctua.editor/inline-with/with-dropdown/with-dropdown.tokens.ts","./src/@noctua.editor/models/editor-category.ts","./src/@noctua.editor/noctua-editor.module.ts","./src/@noctua.form/data/config/data-utils.ts","./src/@noctua.form/data/config/entity-definition.ts","./src/@noctua.form/data/config/model-definition.ts","./src/@noctua.form/data/config/shape-definition.ts","./src/@noctua.form/data/index.ts","./src/@noctua.form/data/withfrom.ts","./src/@noctua.form/index.ts","./src/@noctua.form/models/activity/activity-node.ts","./src/@noctua.form/models/activity/activity.ts","./src/@noctua.form/models/activity/cam.ts","./src/@noctua.form/models/activity/connector-activity.ts","./src/@noctua.form/models/activity/connector-rule.ts","./src/@noctua.form/models/activity/entity-lookup.ts","./src/@noctua.form/models/activity/entity.ts","./src/@noctua.form/models/activity/error/violation-error.ts","./src/@noctua.form/models/activity/evidence.ts","./src/@noctua.form/models/activity/index.ts","./src/@noctua.form/models/activity/noctua-form-graph.ts","./src/@noctua.form/models/activity/parser/activity-error.ts","./src/@noctua.form/models/activity/parser/activity-rules.ts","./src/@noctua.form/models/activity/parser/index.ts","./src/@noctua.form/models/activity/pending-change.ts","./src/@noctua.form/models/activity/predicate.ts","./src/@noctua.form/models/activity/sae-graph.ts","./src/@noctua.form/models/activity/summary.ts","./src/@noctua.form/models/activity/triple.ts","./src/@noctua.form/models/annotation.ts","./src/@noctua.form/models/article.ts","./src/@noctua.form/models/cam-page.ts","./src/@noctua.form/models/contributor.ts","./src/@noctua.form/models/forms/activity-connector-form.ts","./src/@noctua.form/models/forms/activity-form-metadata.ts","./src/@noctua.form/models/forms/activity-form.ts","./src/@noctua.form/models/forms/cam-form.ts","./src/@noctua.form/models/forms/entity-form.ts","./src/@noctua.form/models/forms/entity-group-form.ts","./src/@noctua.form/models/forms/evidence-form.ts","./src/@noctua.form/models/forms/form-type.ts","./src/@noctua.form/models/forms/index.ts","./src/@noctua.form/models/forms/triple-form.ts","./src/@noctua.form/models/forms/validators/evidence-validator.ts","./src/@noctua.form/models/forms/validators/term-validator.ts","./src/@noctua.form/models/group.ts","./src/@noctua.form/models/index.ts","./src/@noctua.form/models/menu-panels.ts","./src/@noctua.form/models/organism.ts","./src/@noctua.form/noctua-form-config.ts","./src/@noctua.form/services/activity-connector.service.ts","./src/@noctua.form/services/activity-entity.service.ts","./src/@noctua.form/services/activity-form.service.ts","./src/@noctua.form/services/cam-stats.service.ts","./src/@noctua.form/services/cam.service.ts","./src/@noctua.form/services/config/noctua-form-config.service.ts","./src/@noctua.form/services/graph.service.ts","./src/@noctua.form/services/index.ts","./src/@noctua.form/services/lookup.service.ts","./src/@noctua.form/services/noctua-form-menu.service.ts","./src/@noctua.form/services/triple-form.service.ts","./src/@noctua.form/services/user.service.ts","./src/@noctua.form/utils/noctua-form-utils.ts","./src/@noctua.graph/data/cam-stencil.ts","./src/@noctua.graph/data/edge-display.ts","./src/@noctua.graph/models/cam-canvas.ts","./src/@noctua.graph/models/cam-stencil.ts","./src/@noctua.graph/models/shapes.ts","./src/@noctua.graph/models/shapes/list.ts","./src/@noctua.graph/services/graph-editor-service.ts","./src/@noctua.graph/services/shapes.service.ts","./src/@noctua.search/components/art-basket/art-basket.component.ts","./src/@noctua.search/components/art-basket/art-basket.component.html","./src/@noctua.search/components/cam-terms/cam-terms.component.ts","./src/@noctua.search/components/cam-terms/cam-terms.component.html","./src/@noctua.search/components/dialogs/cams-review-changes/cams-review-changes.component.ts","./src/@noctua.search/components/dialogs/cams-review-changes/cams-review-changes.component.html","./src/@noctua.search/components/dialogs/cams-unsaved/cams-unsaved.component.ts","./src/@noctua.search/components/dialogs/cams-unsaved/cams-unsaved.component.html","./src/@noctua.search/components/find-replace/find-replace.component.ts","./src/@noctua.search/components/find-replace/find-replace.component.html","./src/@noctua.search/components/review-form/review-form.component.ts","./src/@noctua.search/components/review-form/review-form.component.html","./src/@noctua.search/components/search-contributors/search-contributors.component.ts","./src/@noctua.search/components/search-contributors/search-contributors.component.html","./src/@noctua.search/components/search-filter/search-filter.component.ts","./src/@noctua.search/components/search-filter/search-filter.component.html","./src/@noctua.search/components/search-form/search-form.component.ts","./src/@noctua.search/components/search-form/search-form.component.html","./src/@noctua.search/components/search-groups/search-groups.component.ts","./src/@noctua.search/components/search-groups/search-groups.component.html","./src/@noctua.search/components/search-history/search-history.component.ts","./src/@noctua.search/components/search-history/search-history.component.html","./src/@noctua.search/components/search-organisms/search-organisms.component.ts","./src/@noctua.search/components/search-organisms/search-organisms.component.html","./src/@noctua.search/components/search-relation/search-relation.component.ts","./src/@noctua.search/components/search-relation/search-relation.component.html","./src/@noctua.search/components/term-detail/term-detail.component.ts","./src/@noctua.search/components/term-detail/term-detail.component.html","./src/@noctua.search/index.ts","./src/@noctua.search/models/art-basket.ts","./src/@noctua.search/models/cam-page.ts","./src/@noctua.search/models/menu-panels.ts","./src/@noctua.search/models/review-mode.ts","./src/@noctua.search/models/search-criteria.ts","./src/@noctua.search/models/search-history.ts","./src/@noctua.search/noctua-search.module.ts","./src/@noctua.search/services/dialog.service.ts","./src/@noctua.search/services/noctua-review-search.service.ts","./src/@noctua.search/services/noctua-search.service.ts","./src/@noctua.search/services/search-menu.service.ts","./src/@noctua.sparql/services/sparql/sparql-minerva.service.ts","./src/@noctua.sparql/services/sparql/sparql.service.ts","./src/@noctua/animations/index.ts","./src/@noctua/components/confirm-dialog/confirm-dialog.component.ts","./src/@noctua/components/confirm-dialog/confirm-dialog.component.html","./src/@noctua/components/confirm-dialog/confirm-dialog.module.ts","./src/@noctua/components/confirm-dialog/confirm-dialog.service.ts","./src/@noctua/components/index.ts","./src/@noctua/components/material-color-picker/material-color-picker.component.ts","./src/@noctua/components/material-color-picker/material-color-picker.component.html","./src/@noctua/components/material-color-picker/material-color-picker.module.ts","./src/@noctua/components/progress-bar/progress-bar.component.ts","./src/@noctua/components/progress-bar/progress-bar.component.html","./src/@noctua/components/progress-bar/progress-bar.module.ts","./src/@noctua/components/progress-bar/progress-bar.service.ts","./src/@noctua/components/widget/widget-toggle.directive.ts","./src/@noctua/components/widget/widget.component.ts","./src/@noctua/components/widget/widget.component.html","./src/@noctua/components/widget/widget.module.ts","./src/@noctua/directives/directives.ts","./src/@noctua/directives/noctua-perfect-scrollbar/noctua-perfect-scrollbar.directive.ts","./src/@noctua/directives/noctua-perfect-scrollbar/noctua-perfect-scrollbar.interfaces.ts","./src/@noctua/mat-colors/index.ts","./src/@noctua/material.module.ts","./src/@noctua/noctua.module.ts","./src/@noctua/pipes/camelCaseToDash.pipe.ts","./src/@noctua/pipes/filter.pipe.ts","./src/@noctua/pipes/getById.pipe.ts","./src/@noctua/pipes/htmlToPlaintext.pipe.ts","./src/@noctua/pipes/keys.pipe.ts","./src/@noctua/pipes/pipes.module.ts","./src/@noctua/services/config.service.ts","./src/@noctua/services/match-media.service.ts","./src/@noctua/services/splash-screen.service.ts","./src/@noctua/shared.module.ts","./src/@noctua/utils/noctua-utils.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/layout/components/content/content.component.ts","./src/app/layout/components/content/content.component.html","./src/app/layout/components/content/content.module.ts","./src/app/layout/components/footer/footer.component.ts","./src/app/layout/components/footer/footer.component.html","./src/app/layout/components/footer/footer.module.ts","./src/app/layout/components/noctua-apps/noctua-apps.component.ts","./src/app/layout/components/noctua-apps/noctua-apps.component.html","./src/app/layout/components/noctua-apps/noctua-apps.module.ts","./src/app/layout/components/quick-panel/quick-panel.component.ts","./src/app/layout/components/quick-panel/quick-panel.component.html","./src/app/layout/components/quick-panel/quick-panel.module.ts","./src/app/layout/components/toolbar/toolbar.component.ts","./src/app/layout/components/toolbar/toolbar.component.html","./src/app/layout/components/toolbar/toolbar.module.ts","./src/app/layout/layout-noctua/layout-noctua.component.ts","./src/app/layout/layout-noctua/layout-noctua.component.html","./src/app/layout/layout-noctua/layout-noctua.module.ts","./src/app/layout/layout.module.ts","./src/app/main/apps/apps.module.ts","./src/app/main/apps/noctua-doctor/noctua-doctor.component.ts","./src/app/main/apps/noctua-doctor/noctua-doctor.component.html","./src/app/main/apps/noctua-doctor/noctua-doctor.module.ts","./src/app/main/apps/noctua-form/cam/activity/activity-connector-form/activity-connector-form.component.ts","./src/app/main/apps/noctua-form/cam/activity/activity-connector-form/activity-connector-form.component.html","./src/app/main/apps/noctua-form/cam/activity/activity-form/activity-form.component.ts","./src/app/main/apps/noctua-form/cam/activity/activity-form/activity-form.component.html","./src/app/main/apps/noctua-form/cam/activity/activity-form/entity-form/entity-form.component.ts","./src/app/main/apps/noctua-form/cam/activity/activity-form/entity-form/entity-form.component.html","./src/app/main/apps/noctua-form/cam/activity/preview-activity/preview-activity.component.ts","./src/app/main/apps/noctua-form/cam/activity/preview-activity/preview-activity.component.html","./src/app/main/apps/noctua-form/cam/cam-form/cam-form.component.ts","./src/app/main/apps/noctua-form/cam/cam-form/cam-form.component.html","./src/app/main/apps/noctua-form/cam/cam-preview/cam-graph/cam-graph.component.ts","./src/app/main/apps/noctua-form/cam/cam-preview/cam-graph/cam-graph.component.html","./src/app/main/apps/noctua-form/cam/cam-preview/cam-preview.component.ts","./src/app/main/apps/noctua-form/cam/cam-preview/cam-preview.component.html","./src/app/main/apps/noctua-form/cam/cam-preview/graph-preview/graph-preview.component.ts","./src/app/main/apps/noctua-form/cam/cam-preview/graph-preview/graph-preview.component.html","./src/app/main/apps/noctua-form/cam/cam-table/activity-form-table/activity-form-table-node/activity-form-table-node.component.ts","./src/app/main/apps/noctua-form/cam/cam-table/activity-form-table/activity-form-table-node/activity-form-table-node.component.html","./src/app/main/apps/noctua-form/cam/cam-table/activity-form-table/activity-form-table.component.ts","./src/app/main/apps/noctua-form/cam/cam-table/activity-form-table/activity-form-table.component.html","./src/app/main/apps/noctua-form/cam/cam-table/activity-form-table/evidence-table/evidence-table.component.ts","./src/app/main/apps/noctua-form/cam/cam-table/activity-form-table/evidence-table/evidence-table.component.html","./src/app/main/apps/noctua-form/cam/cam-table/activity-table/activity-table.component.ts","./src/app/main/apps/noctua-form/cam/cam-table/activity-table/activity-table.component.html","./src/app/main/apps/noctua-form/cam/cam-table/activity-table/evidence-table/evidence-table.component.ts","./src/app/main/apps/noctua-form/cam/cam-table/activity-table/evidence-table/evidence-table.component.html","./src/app/main/apps/noctua-form/cam/cam-table/activity-tree-table/activity-tree-table.component.ts","./src/app/main/apps/noctua-form/cam/cam-table/activity-tree-table/activity-tree-table.component.html","./src/app/main/apps/noctua-form/cam/cam-table/activity-tree/activity-tree-node/activity-tree-node.component.ts","./src/app/main/apps/noctua-form/cam/cam-table/activity-tree/activity-tree-node/activity-tree-node.component.html","./src/app/main/apps/noctua-form/cam/cam-table/activity-tree/activity-tree.component.ts","./src/app/main/apps/noctua-form/cam/cam-table/activity-tree/activity-tree.component.html","./src/app/main/apps/noctua-form/cam/cam-table/cam-table.component.ts","./src/app/main/apps/noctua-form/cam/cam-table/cam-table.component.html","./src/app/main/apps/noctua-form/cam/cam-toolbar/cam-toolbar.component.ts","./src/app/main/apps/noctua-form/cam/cam-toolbar/cam-toolbar.component.html","./src/app/main/apps/noctua-form/cam/copy-model/copy-model.component.ts","./src/app/main/apps/noctua-form/cam/copy-model/copy-model.component.html","./src/app/main/apps/noctua-form/cam/index.ts","./src/app/main/apps/noctua-form/components/cam-stats/aspect-stats/aspect-stats.component.ts","./src/app/main/apps/noctua-form/components/cam-stats/aspect-stats/aspect-stats.component.html","./src/app/main/apps/noctua-form/components/cam-stats/cam-stats.component.ts","./src/app/main/apps/noctua-form/components/cam-stats/cam-stats.component.html","./src/app/main/apps/noctua-form/components/cam-stats/contribution-stats/contribution-stats.component.ts","./src/app/main/apps/noctua-form/components/cam-stats/contribution-stats/contribution-stats.component.html","./src/app/main/apps/noctua-form/components/cam-stats/general-stats/general-stats.component.ts","./src/app/main/apps/noctua-form/components/cam-stats/general-stats/general-stats.component.html","./src/app/main/apps/noctua-form/components/cam-stats/gp-stats/gp-stats.component.ts","./src/app/main/apps/noctua-form/components/cam-stats/gp-stats/gp-stats.component.html","./src/app/main/apps/noctua-form/components/cam-stats/statement-stats/statement-stats.component.ts","./src/app/main/apps/noctua-form/components/cam-stats/statement-stats/statement-stats.component.html","./src/app/main/apps/noctua-form/components/select-evidence/select-evidence.component.ts","./src/app/main/apps/noctua-form/components/select-evidence/select-evidence.component.html","./src/app/main/apps/noctua-form/components/term-detail/term-detail.component.ts","./src/app/main/apps/noctua-form/components/term-detail/term-detail.component.html","./src/app/main/apps/noctua-form/dialogs/activity-errors/activity-errors.component.ts","./src/app/main/apps/noctua-form/dialogs/activity-errors/activity-errors.component.html","./src/app/main/apps/noctua-form/dialogs/add-evidence/add-evidence.component.ts","./src/app/main/apps/noctua-form/dialogs/add-evidence/add-evidence.component.html","./src/app/main/apps/noctua-form/dialogs/before-save/before-save.component.ts","./src/app/main/apps/noctua-form/dialogs/before-save/before-save.component.html","./src/app/main/apps/noctua-form/dialogs/cam-errors/cam-errors.component.ts","./src/app/main/apps/noctua-form/dialogs/cam-errors/cam-errors.component.html","./src/app/main/apps/noctua-form/dialogs/confirm-copy-model/confirm-copy-model.component.ts","./src/app/main/apps/noctua-form/dialogs/confirm-copy-model/confirm-copy-model.component.html","./src/app/main/apps/noctua-form/dialogs/create-activity/create-activity.component.ts","./src/app/main/apps/noctua-form/dialogs/create-activity/create-activity.component.html","./src/app/main/apps/noctua-form/dialogs/create-from-existing/create-from-existing.component.ts","./src/app/main/apps/noctua-form/dialogs/create-from-existing/create-from-existing.component.html","./src/app/main/apps/noctua-form/dialogs/link-to-existing/link-to-existing.component.ts","./src/app/main/apps/noctua-form/dialogs/link-to-existing/link-to-existing.component.html","./src/app/main/apps/noctua-form/dialogs/preview-activity/preview-activity.component.ts","./src/app/main/apps/noctua-form/dialogs/preview-activity/preview-activity.component.html","./src/app/main/apps/noctua-form/dialogs/search-database/search-database.component.ts","./src/app/main/apps/noctua-form/dialogs/search-database/search-database.component.html","./src/app/main/apps/noctua-form/dialogs/search-evidence/search-evidence.component.ts","./src/app/main/apps/noctua-form/dialogs/search-evidence/search-evidence.component.html","./src/app/main/apps/noctua-form/dialogs/select-evidence/select-evidence.component.ts","./src/app/main/apps/noctua-form/dialogs/select-evidence/select-evidence.component.html","./src/app/main/apps/noctua-form/index.ts","./src/app/main/apps/noctua-form/noctua-form.component.ts","./src/app/main/apps/noctua-form/noctua-form.component.html","./src/app/main/apps/noctua-form/noctua-form.module.ts","./src/app/main/apps/noctua-form/services/dialog.service.ts","./src/app/main/apps/noctua-graph/activity-connector-table/activity-connector-table.component.ts","./src/app/main/apps/noctua-graph/activity-connector-table/activity-connector-table.component.html","./src/app/main/apps/noctua-graph/activity-table/activity-table.component.ts","./src/app/main/apps/noctua-graph/activity-table/activity-table.component.html","./src/app/main/apps/noctua-graph/cam-graph/cam-graph.component.ts","./src/app/main/apps/noctua-graph/cam-graph/cam-graph.component.html","./src/app/main/apps/noctua-graph/cam-graph/services/cam-graph.service.ts","./src/app/main/apps/noctua-graph/graph-settings/graph-settings.component.ts","./src/app/main/apps/noctua-graph/graph-settings/graph-settings.component.html","./src/app/main/apps/noctua-graph/noctua-graph.component.ts","./src/app/main/apps/noctua-graph/noctua-graph.component.html","./src/app/main/apps/noctua-graph/noctua-graph.module.ts","./src/app/main/apps/noctua-graph/relation-preview/relation-preview.component.ts","./src/app/main/apps/noctua-graph/relation-preview/relation-preview.component.html","./src/app/main/apps/noctua-pathway/noctua-pathway.component.ts","./src/app/main/apps/noctua-pathway/noctua-pathway.component.html","./src/app/main/apps/noctua-pathway/noctua-pathway.module.ts","./src/app/main/apps/noctua-search/cams/cams-review-changes/cams-review-changes.component.ts","./src/app/main/apps/noctua-search/cams/cams-review-changes/cams-review-changes.component.html","./src/app/main/apps/noctua-search/cams/cams-review/cams-review.component.ts","./src/app/main/apps/noctua-search/cams/cams-review/cams-review.component.html","./src/app/main/apps/noctua-search/cams/cams-table/cams-table.component.ts","./src/app/main/apps/noctua-search/cams/cams-table/cams-table.component.html","./src/app/main/apps/noctua-search/noctua-search.component.ts","./src/app/main/apps/noctua-search/noctua-search.component.html","./src/app/main/apps/noctua-search/noctua-search.module.ts","./src/app/main/apps/noctua-tutorial/basic-tutorial/basic-tutorial.component.ts","./src/app/main/apps/noctua-tutorial/basic-tutorial/basic-tutorial.component.html","./src/app/main/apps/noctua-tutorial/noctua-tutorial.component.ts","./src/app/main/apps/noctua-tutorial/noctua-tutorial.component.html","./src/app/main/apps/noctua-tutorial/noctua-tutorial.module.ts","./src/app/noctua-config.ts","./src/app/startup.service.ts","./src/environments/environment-data.ts","./src/environments/environment.ts","./src/main.ts","./node_modules/moment/locale|sync|/^/.*$","ignored|C:\\work\\go\\noctua-landing-page\\node_modules\\engine.io-client\\lib\\transports|ws","ignored|C:\\work\\go\\noctua-landing-page\\node_modules\\object-inspect|./util.inspect"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AnnouncementPanelComponent } from './components/announcement-panel/announcement-panel.component';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { NoctuaSharedModule } from '@noctua/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatIconModule,\n    MatButtonModule,\n    MatSidenavModule,\n    FlexLayoutModule,\n    NoctuaSharedModule\n  ],\n  exports: [\n    AnnouncementPanelComponent\n  ],\n  declarations: [\n    AnnouncementPanelComponent],\n})\nexport class NoctuaAnnouncementModule { }\n","import { Component, Input, OnInit, OnDestroy } from '@angular/core';\r\nimport { MatSidenav } from '@angular/material/sidenav';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { NoctuaSearchMenuService } from '@noctua.search/services/search-menu.service';\r\nimport { NoctuaAnnouncementService } from '@noctua.announcement/services/cam.service';\r\nimport { Announcement } from '@noctua.announcement/models/announcement';\r\n\r\n\r\n@Component({\r\n  selector: 'noc-announcement-panel',\r\n  templateUrl: './announcement-panel.component.html',\r\n  styleUrls: ['./announcement-panel.component.scss'],\r\n})\r\n\r\nexport class AnnouncementPanelComponent implements OnInit, OnDestroy {\r\n\r\n  @Input('sidenav') sidenav: MatSidenav;\r\n  announcements: Announcement[];\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    private noctuaAnnouncementService: NoctuaAnnouncementService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.noctuaAnnouncementService.onAnnouncementsChanged.pipe(\r\n      takeUntil(this._unsubscribeAll))\r\n      .subscribe((announcements: Announcement[]) => {\r\n        if (announcements) {\r\n          this.announcements = announcements\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  close() {\r\n    this.sidenav.close();\r\n  }\r\n\r\n\r\n}\r\n","<form fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"noc-cam-form noc-drawer h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-drawer-header-title\">\r\n      Announcements</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> Close\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-drawer-body w-100-p p-8\" noctuaPerfectScrollbar>\r\n    <div *ngFor=\"let announcement of announcements\" class=\"alert alert-{{announcement.level}} w-100-p my-8\">\r\n      <strong>{{announcement.title}}</strong><br>\r\n      {{announcement.description}}\r\n      <a *ngIf=\"announcement.descriptionUrl\" href=\"{{announcement.descriptionUrl}}\" target=\"_banl\">\r\n        More Details\r\n      </a>\r\n    </div>\r\n  </div>\r\n</form>","import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Announcement } from \"@noctua.announcement/models/announcement\";\r\nimport { environment } from \"environments/environment\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NoctuaAnnouncementService {\r\n  cursor = 0;\r\n  onAnnouncementsChanged: BehaviorSubject<any>;\r\n  onAnnouncementChanged: BehaviorSubject<any>;\r\n\r\n  constructor(\r\n    private httpClient: HttpClient) {\r\n\r\n    this.onAnnouncementsChanged = new BehaviorSubject(null);\r\n    this.onAnnouncementChanged = new BehaviorSubject(null);\r\n\r\n  }\r\n\r\n  getAnnouncement() {\r\n    return this.httpClient.get(environment.announcementUrl).subscribe((response: Announcement[]) => {\r\n      if (response) {\r\n        if (response.length > 0) {\r\n          this.onAnnouncementChanged.next(response[this.cursor]);\r\n        }\r\n        this.onAnnouncementsChanged.next(response);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { cloneDeep, find } from 'lodash';\r\nimport { MatColors } from '@noctua/mat-colors';\r\n\r\nexport function getColor(color: string, hue: string | number) {\r\n    const palette = MatColors.getColor(color);\r\n    if (palette) {\r\n        return palette[hue];\r\n    }\r\n\r\n    return null;\r\n}\r\n","import { FormControl, FormGroup } from \"@angular/forms\";\r\n\r\n\r\nexport class SettingsOptions {\r\n  showAspect = false;\r\n  showIsExtension = false;\r\n  showEvidence = true;\r\n  showEvidenceSummary = true;\r\n  showReference = true;\r\n  showEvidenceCode = true;\r\n  showWith = true;\r\n  showGroup = true;\r\n  showContributor = true;\r\n  showAddEvidenceButton = false;\r\n\r\n  createSettingsForm() {\r\n    return new FormGroup({\r\n      showAspect: new FormControl(this.showAspect),\r\n      showIsExtension: new FormControl(this.showIsExtension),\r\n      showEvidence: new FormControl(this.showEvidence),\r\n      showEvidenceSummary: new FormControl(this.showEvidenceSummary),\r\n      showEvidenceCode: new FormControl(this.showEvidenceCode),\r\n      showReference: new FormControl(this.showReference),\r\n      showWith: new FormControl(this.showWith),\r\n      showGroup: new FormControl(this.showGroup),\r\n      showContributor: new FormControl(this.showContributor),\r\n    });\r\n  }\r\n\r\n  populateSettings(value) {\r\n    this.showAspect = value.showAspect;\r\n    this.showIsExtension = value.showIsExtension;\r\n    this.showEvidence = value.showEvidence;\r\n    this.showReference = value.showReference;\r\n    this.showEvidenceCode = value.showEvidenceCode;\r\n    this.showEvidenceSummary = value.showEvidenceSummary;\r\n    this.showWith = value.showWith;\r\n    this.showGroup = value.showGroup;\r\n    this.showContributor = value.showContributor;\r\n  }\r\n\r\n  graphSettings() {\r\n    this.showAspect = false;\r\n    this.showIsExtension = false;\r\n    this.showEvidence = true;\r\n    this.showEvidenceSummary = true;\r\n    this.showReference = true;\r\n    this.showEvidenceCode = true;\r\n    this.showWith = true;\r\n    this.showGroup = false;\r\n    this.showContributor = false;\r\n  }\r\n};","export enum LeftPanel {\r\n    filter = 'filter',\r\n    relation = 'relation',\r\n    group = 'group',\r\n    contributor = 'contributor',\r\n    organism = 'organism',\r\n    history = 'history',\r\n    replace = 'replace',\r\n    artBasket = 'artBasket',\r\n    activityForm = 'activityForm',\r\n    camForm = 'camForm',\r\n    copyModel = 'copyModel',\r\n    apps = 'apps',\r\n    announcement = 'announcement',\r\n    findReplace = 'findReplace',\r\n    camTermsSummary = 'camTermsSummary',\r\n    camStats = 'camStats'\r\n};\r\n\r\nexport enum MiddlePanel {\r\n    camPreview = 'camPreview',\r\n    camTable = 'camTable',\r\n    camGraph = 'camGraph',\r\n};\r\n\r\nexport enum RightPanel {\r\n    activityForm = 'activityForm',\r\n    activityPreview = 'activityPreview',\r\n    camForm = 'camForm',\r\n    camTable = 'camTable',\r\n    activityTable = 'activityTable',\r\n    activityConnectorTable = 'activityConnectorTable',\r\n    graphSettings = 'graphSettings',\r\n    termDetail = 'termDetail'\r\n}","export enum WorkbenchId {\r\n  FORM = 'noctua-form',\r\n  GRAPH_EDITOR = 'graph-editor',\r\n  VISUAL_PATHWAY_EDITOR = 'noctua-visual-pathway-editor'\r\n}","import { environment } from 'environments/environment';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpParams } from '@angular/common/http';\r\nimport { MatDrawer, MatSidenav } from '@angular/material/sidenav';\r\nimport { NoctuaGraphService, NoctuaUserService } from '@geneontology/noctua-form-base';\r\nimport { LeftPanel, MiddlePanel, RightPanel } from './../models/menu-panels';\r\nimport { PerfectScrollbarDirective } from 'ngx-perfect-scrollbar';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { SettingsOptions } from './../models/graph-settings';\r\nimport { WorkbenchId } from '@noctua.common/models/workench-id';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NoctuaCommonMenuService {\r\n\r\n  onCamSettingsChanged: BehaviorSubject<SettingsOptions>;\r\n  selectedLeftSidenav: LeftPanel = LeftPanel.apps;\r\n  selectedLeftPanel: LeftPanel;\r\n  selectedMiddlePanel: MiddlePanel;\r\n  selectedRightPanel: RightPanel;\r\n  resultsViewScrollbar: PerfectScrollbarDirective;\r\n\r\n  private _leftDrawer: MatDrawer;\r\n  private _rightDrawer: MatDrawer;\r\n  private _leftSidenav: MatSidenav;\r\n\r\n  constructor(\r\n    private _noctuaGraphService: NoctuaGraphService,\r\n    private noctuaUserService: NoctuaUserService) {\r\n\r\n    const settings = new SettingsOptions()\r\n    settings.graphSettings()\r\n    this.onCamSettingsChanged = new BehaviorSubject(settings);\r\n  }\r\n\r\n  createModel(type: WorkbenchId) {\r\n    const self = this;\r\n\r\n    const _newModelBbopManager = this._noctuaGraphService.registerManager();\r\n    _newModelBbopManager.register('rebuild', function (resp) { }, 10);\r\n    _newModelBbopManager.add_model().then((resp) => {\r\n      const modelId = resp.data().id;\r\n      let params = new HttpParams();\r\n      params = params.append('model_id', modelId);\r\n      params = params.append('barista_token', self.noctuaUserService.baristaToken);\r\n\r\n      const paramsString = params.toString();\r\n      const urls =\r\n      {\r\n        [WorkbenchId.GRAPH_EDITOR]: `${environment.noctuaUrl}/editor/graph/${modelId}?${paramsString}`,\r\n        [WorkbenchId.FORM]: `${environment.workbenchUrl}${WorkbenchId.FORM}?${paramsString}`,\r\n        [WorkbenchId.VISUAL_PATHWAY_EDITOR]: `${environment.workbenchUrl}${WorkbenchId.VISUAL_PATHWAY_EDITOR}?${paramsString}`\r\n      }\r\n\r\n      window.open(urls[type], '_blank');\r\n    });\r\n  }\r\n\r\n  public setLeftSidenav(leftSidenav: MatSidenav) {\r\n    this._leftSidenav = leftSidenav;\r\n  }\r\n\r\n  public openLeftSidenav() {\r\n    return this._leftSidenav.open();\r\n  }\r\n\r\n  selectLeftSidenav(panel: LeftPanel) {\r\n    this.selectedLeftSidenav = panel;\r\n  }\r\n\r\n\r\n  selectLeftPanel(panel: LeftPanel) {\r\n    this.selectedLeftPanel = panel;\r\n  }\r\n\r\n  selectMiddlePanel(panel: MiddlePanel) {\r\n    this.selectedMiddlePanel = panel;\r\n  }\r\n\r\n  selectRightPanel(panel: RightPanel) {\r\n    this.selectedRightPanel = panel;\r\n  }\r\n\r\n  public setLeftDrawer(leftDrawer: MatDrawer) {\r\n    this._leftDrawer = leftDrawer;\r\n  }\r\n\r\n  public closeLeftDrawer() {\r\n    return this._leftDrawer.close();\r\n  }\r\n\r\n  public setRightDrawer(rightDrawer: MatDrawer) {\r\n    this._rightDrawer = rightDrawer;\r\n  }\r\n\r\n  public openLeftDrawer() {\r\n    return this._leftDrawer.open();\r\n  }\r\n\r\n  public openRightDrawer() {\r\n    return this._rightDrawer.open();\r\n  }\r\n\r\n  public closeRightDrawer() {\r\n    return this._rightDrawer.close();\r\n  }\r\n\r\n  public toggleLeftDrawer(panel: LeftPanel) {\r\n    if (this.selectedLeftPanel === panel) {\r\n      this._leftDrawer.toggle();\r\n    } else {\r\n      this.selectLeftPanel(panel);\r\n      return this.openLeftDrawer();\r\n    }\r\n  }\r\n\r\n  scrollTo(q: string) {\r\n\r\n    setTimeout(() => {\r\n      if (this.resultsViewScrollbar) {\r\n        this.resultsViewScrollbar.update();\r\n\r\n        setTimeout(() => {\r\n          this.resultsViewScrollbar.scrollToElement(q, -140, 1000);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","import { environment } from 'environments/environment';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, forkJoin, Observable } from 'rxjs';\r\nimport { NoctuaUserService, Contributor, Organism, compareOrganism, compareGroup, compareContributor } from '@geneontology/noctua-form-base';\r\nimport { map } from 'rxjs/operators';\r\nimport { MatColors } from '@noctua/mat-colors';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NoctuaDataService {\r\n  baristaUrl = environment.globalBaristaLocation;\r\n  searchApi = environment.searchApi;\r\n  onOrganismsChanged: BehaviorSubject<any>;\r\n\r\n  constructor(\r\n    private httpClient: HttpClient,\r\n    private noctuaUserService: NoctuaUserService) {\r\n    this.onOrganismsChanged = new BehaviorSubject(null);\r\n\r\n  }\r\n\r\n  setup() {\r\n    const self = this;\r\n    const setup$ = forkJoin([this.getUsers(), this.getGroups()]);\r\n\r\n    setup$.subscribe((responseList) => {\r\n      if (responseList) {\r\n        self.noctuaUserService.contributors = self.loadContributors(responseList[0]);\r\n        self.noctuaUserService.groups = self.loadGroups(responseList[1]);\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n\r\n  getUsers(): Observable<any> {\r\n    const self = this;\r\n\r\n    return this.httpClient.get(`${self.baristaUrl}/users`);\r\n  }\r\n\r\n  getUserInfo(uri: string): Observable<any> {\r\n    const self = this;\r\n\r\n    const encodedUrl = encodeURIComponent(uri);\r\n    return this.httpClient.get(`${self.baristaUrl}/user_info_by_id/${encodedUrl}`);\r\n  }\r\n\r\n  getGroups(): Observable<any> {\r\n    const self = this;\r\n\r\n    return this.httpClient.get(`${self.baristaUrl}/groups`);\r\n  }\r\n\r\n  getOrganisms(): Observable<any> {\r\n    const self = this;\r\n\r\n    return this.httpClient.get(`${self.searchApi}/taxa`).pipe(\r\n      map(res => res['taxa'])\r\n    );\r\n  }\r\n\r\n\r\n  loadContributors(response) {\r\n    const self = this;\r\n    const contributors = response.map((item) => {\r\n      const contributor = new Contributor();\r\n\r\n      contributor.name = item.nickname;\r\n      contributor.orcid = item.uri;\r\n      contributor.group = item.group;\r\n      contributor.initials = self.getInitials(item.nickname);\r\n      contributor.color = self.getColor(contributor.initials);\r\n\r\n      return contributor;\r\n    });\r\n\r\n    return contributors.sort(compareContributor);\r\n  }\r\n\r\n  loadGroups(response) {\r\n    const groups = response.map((item) => {\r\n      const group: any = {\r\n        name: item.label,\r\n        url: item.id\r\n      };\r\n\r\n      return group;\r\n    });\r\n\r\n    return groups.sort(compareGroup);\r\n  }\r\n\r\n  loadOrganisms() {\r\n    this.getOrganisms()\r\n      .subscribe((response: any) => {\r\n        if (!response) {\r\n          return;\r\n        }\r\n\r\n        const organisms = response.map((item) => {\r\n          const organism: Organism = {\r\n            taxonName: item.label ? item.label : '',\r\n            taxonIri: item.id\r\n          };\r\n\r\n          return organism;\r\n        });\r\n\r\n        this.onOrganismsChanged.next(organisms.sort(compareOrganism));\r\n      });\r\n  }\r\n\r\n  private getInitials(string) {\r\n    const names = string.split(' ');\r\n    let initials = names[0].substring(0, 1).toUpperCase();\r\n\r\n    if (names.length > 1) {\r\n      initials += names[names.length - 1].substring(0, 1).toUpperCase();\r\n    }\r\n\r\n    return initials;\r\n  }\r\n\r\n  private getColor(name: string) {\r\n    const colors = Object.keys(MatColors.all);\r\n    const index = (name.charCodeAt(0) - 65) % (colors.length - 5);\r\n\r\n    if (index && index > 0) {\r\n      return MatColors.getColor(colors[index])[100];\r\n    } else {\r\n      return '##bbc9cc';\r\n    }\r\n  }\r\n}\r\n","\r\nexport const goContextConfig =\r\n{\r\n    \"@context\": {\r\n        \"gomodel\": \"http://model.geneontology.org/\",\r\n        \"BIOMD\": \"http://www.ebi.ac.uk/compneur-srv/biomodels-main/publ-model.do?mid=\",\r\n        \"COG_Function\": \"http://www.ncbi.nlm.nih.gov/COG/grace/shokog.cgi?fun=\",\r\n        \"WB\": \"http://identifiers.org/wormbase/\",\r\n        \"FBbt\": \"http://purl.obolibrary.org/obo/FBbt_\",\r\n        \"KEGG_LIGAND\": \"http://www.genome.jp/dbget-bin/www_bget?cpd:\",\r\n        \"PSO_GIT\": \"https://github.com/Planteome/plant-stress-ontology/issues/\",\r\n        \"MaizeGDB_stock\": \"http://maizegdb.org/data_center/stock?id=\",\r\n        \"EMAPA\": \"http://purl.obolibrary.org/obo/EMAPA_\",\r\n        \"GO\": \"http://purl.obolibrary.org/obo/GO_\",\r\n        \"NCBI_GP\": \"http://www.ncbi.nlm.nih.gov/entrez/viewer.fcgi?db=protein&val=\",\r\n        \"NMPDR\": \"http://www.nmpdr.org/linkin.cgi?id=\",\r\n        \"CASSPC\": \"http://research.calacademy.org/research/ichthyology/catalog/getname.asp?rank=Species&id=\",\r\n        \"TGD_REF\": \"http://db.ciliate.org/cgi-bin/reference/reference.pl?dbid=\",\r\n        \"NCBIGene\": \"http://identifiers.org/ncbigene/\",\r\n        \"KEGG_REACTION\": \"http://www.genome.jp/dbget-bin/www_bget?rn:\",\r\n        \"PseudoCAP\": \"http://v2.pseudomonas.com/getAnnotation.do?locusID=\",\r\n        \"UniPathway\": \"http://www.grenoble.prabi.fr/obiwarehouse/unipathway/upa?upid=\",\r\n        \"MEROPS_fam\": \"http://merops.sanger.ac.uk/cgi-bin/famsum?family=\",\r\n        \"GO_REF\": \"http://purl.obolibrary.org/obo/go/references/\",\r\n        \"VEGA\": \"http://vega.sanger.ac.uk/id/\",\r\n        \"ZFIN\": \"http://identifiers.org/zfin/\",\r\n        \"AspGD_REF\": \"http://www.aspergillusgenome.org/cgi-bin/reference/reference.pl?dbid=\",\r\n        \"RO\": \"http://purl.obolibrary.org/obo/RO_\",\r\n        \"Pfam\": \"http://pfam.xfam.org/family/\",\r\n        \"UBERON\": \"http://purl.obolibrary.org/obo/UBERON_\",\r\n        \"GR\": \"http://www.gramene.org/db/searches/browser?search_type=All&RGN=on&query=\",\r\n        \"PDB\": \"http://www.rcsb.org/pdb/cgi/explore.cgi?pdbId=\",\r\n        \"CORIELL\": \"http://ccr.coriell.org/Sections/Search/Sample_Detail.aspx?Ref=\",\r\n        \"JCVI_GenProp\": \"http://cmr.jcvi.org/cgi-bin/CMR/shared/GenomePropDefinition.cgi?prop_acc=\",\r\n        \"SGN\": \"http://identifiers.org/sgn/\",\r\n        \"BFO\": \"http://purl.obolibrary.org/obo/BFO_\",\r\n        \"Genesys-pgr\": \"https://www.genesys-pgr.org/acn/search?q=\",\r\n        \"UniMod\": \"http://www.unimod.org/modifications_view.php?editid1=\",\r\n        \"UM-BBD_reactionID\": \"http://eawag-bbd.ethz.ch/servlets/pageservlet?ptype=r&reacID=\",\r\n        \"PubChem_Substance\": \"http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?CMD=search&DB=pcsubstance&term=\",\r\n        \"EcoCyc\": \"http://biocyc.org/ECOLI/NEW-IMAGE?type=PATHWAY&object=\",\r\n        \"Reactome\": \"http://identifiers.org/reactome/\",\r\n        \"InterPro\": \"http://identifiers.org/interpro/\",\r\n        \"UniRule\": \"http://www.uniprot.org/unirule/\",\r\n        \"MGCSC_GENETIC_STOCKS\": \"http://www.maizegdb.org/cgi-bin/displaystockrecord.cgi?id=\",\r\n        \"dictyBase\": \"http://identifiers.org/dictybase/\",\r\n        \"PO_GIT\": \"https://github.com/Planteome/plant-ontology/issues/\",\r\n        \"AspGD_LOCUS\": \"http://identifiers.org/aspgd.locus/\",\r\n        \"SGD\": \"http://identifiers.org/sgd/\",\r\n        \"COG_Pathway\": \"http://www.ncbi.nlm.nih.gov/COG/new/release/coglist.cgi?pathw=\",\r\n        \"ENZYME\": \"http://www.expasy.ch/cgi-bin/nicezyme.pl?\",\r\n        \"PAMGO_MGG\": \"http://scotland.fgl.ncsu.edu/cgi-bin/adHocQuery.cgi?adHocQuery_dbName=smeng_goannotation&Action=Data&QueryName=Functional+Categorization+of+MGG+GO+Annotation&P_KeyWord=\",\r\n        \"AgBase\": \"http://www.agbase.msstate.edu/cgi-bin/getEntry.pl?db_pick=[ChickGO/MaizeGO]&uid=\",\r\n        \"AraCyc\": \"http://www.arabidopsis.org:1555/ARA/NEW-IMAGE?type=NIL&object=\",\r\n        \"EcoCyc_REF\": \"http://biocyc.org/ECOLI/reference.html?type=CITATION-FRAME&object=\",\r\n        \"CHEBI\": \"http://purl.obolibrary.org/obo/CHEBI_\",\r\n        \"HGNC\": \"http://identifiers.org/hgnc/\",\r\n        \"dictyBase_gene_name\": \"http://dictybase.org/gene/\",\r\n        \"TAIR\": \"http://identifiers.org/tair.locus/\",\r\n        \"EnsemblFungi\": \"http://www.ensemblgenomes.org/id/\",\r\n        \"Wikipedia\": \"http://en.wikipedia.org/wiki/\",\r\n        \"SUPERFAMILY\": \"http://supfam.cs.bris.ac.uk/SUPERFAMILY/cgi-bin/scop.cgi?ipid=SSF\",\r\n        \"SWALL\": \"http://ca.expasy.org/cgi-bin/sprot-search-de?S=1&amp;T=1&amp;SEARCH=\",\r\n        \"PSI-MOD\": \"http://www.ebi.ac.uk/ontology-lookup/?termId=MOD:\",\r\n        \"FYPO\": \"http://purl.obolibrary.org/obo/FYPO_\",\r\n        \"RGD\": \"http://identifiers.org/rgd/\",\r\n        \"UM-BBD_enzymeID\": \"http://eawag-bbd.ethz.ch/servlets/pageservlet?ptype=ep&enzymeID=\",\r\n        \"Broad_MGG\": \"http://www.broad.mit.edu/annotation/genome/magnaporthe_grisea/GeneLocus.html?sp=S\",\r\n        \"Swiss-Prot\": \"http://www.ebi.uniprot.org/uniprot-srv/uniProtView.do?proteinac=\",\r\n        \"PMID\": \"http://www.ncbi.nlm.nih.gov/pubmed/\",\r\n        \"Xenbase\": \"http://identifiers.org/xenbase/\",\r\n        \"PR\": \"http://purl.obolibrary.org/obo/PR_\",\r\n        \"MIPS_funcat\": \"http://mips.gsf.de/cgi-bin/proj/funcatDB/search_advanced.pl?action=2&wert=\",\r\n        \"GR_REF\": \"http://www.gramene.org/db/literature/pub_search?ref_id=\",\r\n        \"MaizeGDB\": \"http://maizegdb.org/gene_center/gene/\",\r\n        \"HAMAP\": \"http://hamap.expasy.org/unirule/\",\r\n        \"SGN_ref\": \"http://www.sgn.cornell.edu/chado/publication.pl?pub_id=\",\r\n        \"TO_GIT\": \"https://github.com/Planteome/plant-trait-ontology/issues/\",\r\n        \"MeSH\": \"http://n2t.net/MESH:\",\r\n        \"GR_PROTEIN\": \"http://identifiers.org/gramene.protein/\",\r\n        \"MaizeGDB_REF\": \"http://maizegdb.org/data_center/reference?id=\",\r\n        \"GEO\": \"http://www.ncbi.nlm.nih.gov/sites/GDSbrowser?acc=\",\r\n        \"PO\": \"http://purl.obolibrary.org/obo/PO_\",\r\n        \"PomBase\": \"http://identifiers.org/pombase/\",\r\n        \"ENA\": \"http://www.ebi.ac.uk/ena/data/view/\",\r\n        \"PIRSF\": \"http://pir.georgetown.edu/cgi-bin/ipcSF?id=\",\r\n        \"EMBL\": \"http://www.ebi.ac.uk/cgi-bin/emblfetch?style=html&Submit=Go&id=\",\r\n        \"Prosite\": \"http://www.expasy.ch/cgi-bin/prosite-search-ac?\",\r\n        \"H-invDB_cDNA\": \"http://www.h-invitational.jp/hinv/spsoup/transcript_view?acc_id=\",\r\n        \"EC\": \"http://www.expasy.org/enzyme/\",\r\n        \"MACSC_REF\": \"http://www.maizegdb.org/cgi-bin/displaytraitrecord.cgi?id=\",\r\n        \"PAMGO_VMD\": \"http://vmd.vbi.vt.edu/cgi-bin/browse/go_detail.cgi?gene_id=\",\r\n        \"IRGC\": \"https://www.genesys-pgr.org/acn/search?q=IRGC+\",\r\n        \"NASC_code\": \"http://seeds.nottingham.ac.uk/NASC/stockatidb.lasso?code=\",\r\n        \"COG_Cluster\": \"http://www.ncbi.nlm.nih.gov/COG/new/release/cow.cgi?cog=\",\r\n        \"TreeGenes\": \"http://dendrome.ucdavis.edu/treegenes/protein/view_protein.php?id=\",\r\n        \"WB_REF\": \"http://www.wormbase.org/db/misc/paper?name=\",\r\n        \"TGD_LOCUS\": \"http://db.ciliate.org/cgi-bin/locus.pl?locus=\",\r\n        \"MA\": \"http://purl.obolibrary.org/obo/MA_\",\r\n        \"UniProtKB\": \"http://identifiers.org/uniprot/\",\r\n        \"MGI\": \"http://identifiers.org/mgi/\",\r\n        \"GRINDesc\": \"https://npgsweb.ars-grin.gov/gringlobal/descriptordetail.aspx?id=\",\r\n        \"DDANAT\": \"http://purl.obolibrary.org/obo/DDANAT_\",\r\n        \"RAP-DB\": \"http://rapdb.dna.affrc.go.jp/tools/search/run?id=on&attr=desc&attr=cgs&attr=cgn&attr=cgss&attr=cgns&attr=rgss&attr=rgns&keyword=\",\r\n        \"KEGG_PATHWAY\": \"http://identifiers.org/kegg.pathway/\",\r\n        \"JCVI_CMR\": \"http://cmr.jcvi.org/cgi-bin/CMR/shared/GenePage.cgi?locus=\",\r\n        \"dictyBase_REF\": \"http://dictybase.org/db/cgi-bin/dictyBase/reference/reference.pl?refNo=\",\r\n        \"DOI\": \"http://dx.doi.org/\",\r\n        \"LIFEdb\": \"http://www.dkfz.de/LIFEdb/LIFEdb.aspx?ID=\",\r\n        \"PANTHER\": \"http://identifiers.org/panther.family/\",\r\n        \"Gene3D\": \"http://gene3d.biochem.ucl.ac.uk/search?mode=family&sterm=\",\r\n        \"PATRIC\": \"http://patric.vbi.vt.edu/gene/overview.php?fid=\",\r\n        \"FB\": \"http://identifiers.org/flybase/\",\r\n        \"PAINT_REF\": \"http://www.pantherdb.org/panther/lookupId.jsp?id=PTHR\",\r\n        \"CASREF\": \"http://research.calacademy.org/research/ichthyology/catalog/getref.asp?id=\",\r\n        \"ENSEMBL\": \"http://identifiers.org/ensembl/\",\r\n        \"SMART\": \"http://smart.embl-heidelberg.de/smart/do_annotation.pl?BLAST=DUMMY&DOMAIN=\",\r\n        \"RefSeq\": \"http://www.ncbi.nlm.nih.gov/entrez/viewer.fcgi?val=\",\r\n        \"WBls\": \"http://purl.obolibrary.org/obo/WBls_\",\r\n        \"MaizeGDB_QTL\": \"http://www.maizegdb.org/data_center/trait?id=\",\r\n        \"SOY_ref\": \"http://www.soybase.org/sbt/search/search_results.php?category=Soybase_ID&search_term=\",\r\n        \"ECO\": \"http://purl.obolibrary.org/obo/ECO_\",\r\n        \"CGD_REF\": \"http://www.candidagenome.org/cgi-bin/reference/reference.pl?dbid=\",\r\n        \"ECK\": \"http://www.ecogene.org/geneInfo.php?eck_id=\",\r\n        \"CGD\": \"http://identifiers.org/cgd/\",\r\n        \"GR_GENE\": \"http://identifiers.org/gramene.gene/\",\r\n        \"RNAmods\": \"http://s59.cas.albany.edu/RNAmods/cgi-bin/rnashow.cgi?\",\r\n        \"KEGG_ENZYME\": \"http://identifiers.org/kegg.enzyme/\",\r\n        \"CACAO\": \"http://gowiki.tamu.edu/wiki/index.php/\",\r\n        \"IUPHAR_GPCR\": \"http://www.iuphar-db.org/DATABASE/FamilyMenuForward?familyId=\",\r\n        \"JCVI_TIGRFAMS\": \"http://search.jcvi.org/search?p&q=\",\r\n        \"SOY_QTL\": \"http://soybase.org/sbt/search/search_results.php?category=QTLName&search_term=\",\r\n        \"DDBJ\": \"http://arsa.ddbj.nig.ac.jp/arsa/ddbjSplSearch?KeyWord=\",\r\n        \"PRINTS\": \"http://www.bioinf.manchester.ac.uk/cgi-bin/dbbrowser/sprint/searchprintss.cgi?display_opts=Prints&category=None&queryform=false&regexpr=off&prints_accn=\",\r\n        \"PO_REF\": \"http://planteome.org/po_ref/\",\r\n        \"IMG\": \"http://img.jgi.doe.gov/cgi-bin/pub/main.cgi?section=GeneDetail&page=geneDetail&gene_oid=\",\r\n        \"CL\": \"http://purl.obolibrary.org/obo/CL_\",\r\n        \"UniProtKB-SubCell\": \"http://www.uniprot.org/locations/\",\r\n        \"NIF_Subcellular\": \"http://www.neurolex.org/wiki/\",\r\n        \"GeneDB\": \"http://identifiers.org/genedb/\",\r\n        \"ApiDB_PlasmoDB\": \"http://www.plasmodb.org/gene/\",\r\n        \"RNAcentral\": \"http://rnacentral.org/rna/\",\r\n        \"CGD_LOCUS\": \"http://www.candidagenome.org/cgi-bin/locus.pl?locus=\",\r\n        \"Rfam\": \"http://rfam.sanger.ac.uk/family/\",\r\n        \"Broad_NEUROSPORA\": \"http://www.broadinstitute.org/annotation/genome/neurospora/GeneDetails.html?sp=S\",\r\n        \"AGI_LocusCode\": \"http://arabidopsis.org/servlets/TairObject?type=locus&name=\",\r\n        \"OBO_SF2_PO\": \"http://sourceforge.net/p/obo/plant-ontology-po-term-requests/\",\r\n        \"FMA\": \"http://purl.obolibrary.org/obo/FMA_\",\r\n        \"CDD\": \"http://www.ncbi.nlm.nih.gov/Structure/cdd/cddsrv.cgi?uid=\",\r\n        \"PubChem_Compound\": \"http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?CMD=search&DB=pccompound&term=\",\r\n        \"HGNC_gene\": \"http://identifiers.org/hgnc.gene/\",\r\n        \"PharmGKB\": \"http://www.pharmgkb.org/do/serve?objId=\",\r\n        \"VMD\": \"http://vmd.vbi.vt.edu/cgi-bin/browse/browserDetail_new.cgi?gene_id=\",\r\n        \"UniParc\": \"http://www.uniprot.org/uniparc/\",\r\n        \"MEROPS\": \"http://merops.sanger.ac.uk/cgi-bin/pepsum?mid=\",\r\n        \"GDB\": \"http://www.gdb.org/gdb-bin/genera/accno?accessionNum=GDB:\",\r\n        \"SEED\": \"http://www.theseed.org/linkin.cgi?id=\",\r\n        \"SO\": \"http://purl.obolibrary.org/obo/SO_\",\r\n        \"Soy_gene\": \"http://www.soybase.org/sbt/search/search_results.php?category=FeatureName&search_term=\",\r\n        \"CORUM\": \"http://mips.gsf.de/genre/proj/corum/complexdetails.html?id=\",\r\n        \"RHEA\": \"http://www.rhea-db.org/reaction.xhtml?id=\",\r\n        \"dbSNP\": \"http://identifiers.org/dbsnp/\",\r\n        \"MaizeGDB_Locus\": \"http://identifiers.org/maizegdb.locus/\",\r\n        \"MO\": \"http://mged.sourceforge.net/ontologies/MGEDontology.php#\",\r\n        \"PLANA_REF\": \"http://purl.obolibrary.org/obo/plana/references/\",\r\n        \"BRENDA\": \"http://www.brenda-enzymes.info/php/result_flat.php4?ecno=\",\r\n        \"ASAP\": \"https://asap.ahabs.wisc.edu/annotation/php/feature_info.php?FeatureID=\",\r\n        \"CAS\": \"http://identifiers.org/cas/\",\r\n        \"H-invDB_locus\": \"http://www.h-invitational.jp/hinv/spsoup/locus_view?hix_id=\",\r\n        \"UM-BBD_ruleID\": \"http://eawag-bbd.ethz.ch/servlets/rule.jsp?rule=\",\r\n        \"NCBITaxon\": \"http://purl.obolibrary.org/obo/NCBITaxon_\",\r\n        \"ComplexPortal\": \"https://www.ebi.ac.uk/complexportal/complex/\",\r\n        \"JSTOR\": \"http://www.jstor.org/stable/\",\r\n        \"GRIMS\": \"https://www.genesys-pgr.org/acn/search2?q=IRGC+\",\r\n        \"PATO\": \"http://purl.obolibrary.org/obo/PATO_\",\r\n        \"GR_QTL\": \"http://identifiers.org/gramene.qtl/\",\r\n        \"ECOGENE\": \"http://www.ecogene.org/geneInfo.php?eg_id=\",\r\n        \"HPA_antibody\": \"http://www.proteinatlas.org/antibody_info.php?antibody_id=\",\r\n        \"VBRC\": \"http://vbrc.org/query.asp?web_id=VBRC:\",\r\n        \"EO_GIT\": \"https://github.com/Planteome/plant-environment-ontology/issues/\",\r\n        \"EchoBASE\": \"http://www.biolws1.york.ac.uk/echobase/Gene.cfm?recordID=\",\r\n        \"CASGEN\": \"http://research.calacademy.org/research/ichthyology/catalog/getname.asp?rank=Genus&id=\",\r\n        \"IUPHAR_RECEPTOR\": \"http://www.iuphar-db.org/DATABASE/ObjectDisplayForward?objectId=\",\r\n        \"IRIC\": \"http://oryzasnp.org/_variety.zul?irisid=\",\r\n        \"GenBank\": \"http://www.ncbi.nlm.nih.gov/entrez/viewer.fcgi?db=nucleotide&val=\",\r\n        \"TGD\": \"http://identifiers.org/tgd/\",\r\n        \"JCVI_EGAD\": \"http://cmr.jcvi.org/cgi-bin/CMR/EgadSearch.cgi?search_string=\",\r\n        \"PubChem_BioAssay\": \"http://pubchem.ncbi.nlm.nih.gov/assay/assay.cgi?aid=\",\r\n        \"TC\": \"http://www.tcdb.org/tcdb/index.php?tc=\",\r\n        \"SABIO-RK\": \"http://sabio.villa-bosch.de/reacdetails.jsp?reactid=\",\r\n        \"OBO_SF2_PECO\": \"https://sourceforge.net/p/obo/plant-environment-ontology-eo/\",\r\n        \"MetaCyc\": \"http://identifiers.org/metacyc/\",\r\n        \"PAMGO_GAT\": \"http://agro.vbi.vt.edu/public/servlet/GeneEdit?&Search=Search&level=2&genename=\",\r\n        \"ModBase\": \"http://salilab.org/modbase/searchbyid?databaseID=\",\r\n        \"OMIM\": \"http://omim.org/entry/\",\r\n        \"GR_MUT\": \"http://www.gramene.org/db/genes/search_gene?acc=\",\r\n        \"HPA\": \"http://www.proteinatlas.org/tissue_profile.php?antibody_id=\",\r\n        \"IntAct\": \"http://identifiers.org/intact/\",\r\n        \"ProDom\": \"http://prodom.prabi.fr/prodom/current/cgi-bin/request.pl?question=DBEN&query=\",\r\n        \"GRIN\": \"https://npgsweb.ars-grin.gov/gringlobal/accessiondetail.aspx?id=\",\r\n        \"WBPhenotype\": \"http://purl.obolibrary.org/obo/WBPhenotype_\",\r\n        \"BioCyc\": \"http://biocyc.org/META/NEW-IMAGE?type=PATHWAY&object=\",\r\n        \"ENSEMBL_GeneID\": \"http://www.ensembl.org/id/\",\r\n        \"PIR\": \"http://pir.georgetown.edu/cgi-bin/pirwww/nbrfget?uid=\",\r\n        \"UniProtKB-KW\": \"http://www.uniprot.org/keywords/\",\r\n        \"Planteome_gene\": \"https://www.google.com/search?q=\",\r\n        \"AspGD\": \"http://www.aspergillusgenome.org/cgi-bin/locus.pl?dbid=\",\r\n        \"JCVI_Medtr\": \"http://medicago.jcvi.org/cgi-bin/medicago/search/shared/ORF_infopage.cgi?orf=\",\r\n        \"EuPathDB\": \"http://eupathdb.org/gene/\",\r\n        \"PMCID\": \"http://www.ncbi.nlm.nih.gov/sites/entrez?db=pmc&cmd=search&term=\"\r\n    }\r\n}\r\n","import { environment } from './../../environments/environment';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, Observable, Subscriber } from 'rxjs';\r\nimport { map, filter, reduce, catchError, retry, tap } from 'rxjs/operators';\r\n\r\nimport { parseContext, CurieUtil } from '@geneontology/curie-util-es5';\r\n\r\ndeclare function require(name: string);\r\n\r\nimport { goContextConfig } from './../data/go-context';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CurieService {\r\n\r\n  private _curie: any;\r\n\r\n  constructor() {\r\n    const map = parseContext(goContextConfig);\r\n    this._curie = new CurieUtil(map);\r\n  }\r\n\r\n  getCurieUtil() {\r\n    return this._curie;\r\n  }\r\n\r\n}\r\n","export enum LeftPanel {\r\n    home = 'home',\r\n    checklist = 'checklist',\r\n    obsolete = 'obsolete',\r\n    terms = 'terms',\r\n    group = 'group',\r\n    contributor = 'contributor',\r\n    calendar = 'calendar',\r\n    chat = 'chat',\r\n    notes = 'notes',\r\n    activities = 'activities'\r\n};\r\n\r\nexport enum MiddlePanel {\r\n    home = 'home',\r\n    cams = 'cams',\r\n    camsReview = 'camReview',\r\n    reviewChanges = 'reviewChanges'\r\n};\r\n\r\nexport enum RightPanel {\r\n    camForm = 'camForm',\r\n    copyModel = 'copyModel',\r\n}","import { Injectable } from '@angular/core';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { PerfectScrollbarDirective } from 'ngx-perfect-scrollbar';\r\nimport { LeftPanel, MiddlePanel, RightPanel } from './../models/menu-panels';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class NoctuaDoctorMenuService {\r\n    isReviewMode = false;\r\n    reviewLevel = 0;\r\n    selectedLeftPanel: LeftPanel;\r\n    selectedMiddlePanel: MiddlePanel;\r\n    selectedRightPanel: RightPanel;\r\n    resultsViewScrollbar: PerfectScrollbarDirective;\r\n\r\n    private leftDrawer: MatDrawer;\r\n    private rightDrawer: MatDrawer;\r\n\r\n    constructor() {\r\n        this.selectedLeftPanel = LeftPanel.obsolete;\r\n        this.selectedMiddlePanel = MiddlePanel.cams;\r\n    }\r\n\r\n    selectLeftPanel(panel: LeftPanel) {\r\n        this.selectedLeftPanel = panel;\r\n    }\r\n\r\n    selectMiddlePanel(panel: MiddlePanel) {\r\n        this.selectedMiddlePanel = panel;\r\n\r\n        if (panel === MiddlePanel.cams) {\r\n            this.reviewLevel = 0;\r\n        } else if (panel === MiddlePanel.camsReview) {\r\n            this.reviewLevel = 1;\r\n        } else if (panel === MiddlePanel.reviewChanges) {\r\n            this.reviewLevel = 2;\r\n        }\r\n        this.scrollToTop();\r\n    }\r\n\r\n    selectRightPanel(panel: RightPanel) {\r\n        this.selectedRightPanel = panel;\r\n    }\r\n\r\n    public setLeftDrawer(leftDrawer: MatDrawer) {\r\n        this.leftDrawer = leftDrawer;\r\n    }\r\n\r\n    public openLeftDrawer() {\r\n        return this.leftDrawer.open();\r\n    }\r\n\r\n    public closeLeftDrawer() {\r\n        return this.leftDrawer.close();\r\n    }\r\n\r\n    public toggleLeftDrawer(panel: LeftPanel) {\r\n        if (this.selectedLeftPanel === panel) {\r\n            this.leftDrawer.toggle();\r\n        } else {\r\n            this.selectLeftPanel(panel);\r\n            return this.openLeftDrawer();\r\n        }\r\n    }\r\n\r\n    public setRightDrawer(rightDrawer: MatDrawer) {\r\n        this.rightDrawer = rightDrawer;\r\n    }\r\n\r\n    public openRightDrawer() {\r\n        return this.rightDrawer.open();\r\n    }\r\n\r\n    public closeRightDrawer() {\r\n        return this.rightDrawer.close();\r\n    }\r\n\r\n    scrollToTop() {\r\n        setTimeout(() => {\r\n            if (this.resultsViewScrollbar) {\r\n                this.resultsViewScrollbar.update();\r\n\r\n                setTimeout(() => {\r\n                    this.resultsViewScrollbar.scrollToTop(0);\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    scrollTo(q: string) {\r\n\r\n        setTimeout(() => {\r\n            if (this.resultsViewScrollbar) {\r\n                this.resultsViewScrollbar.update();\r\n\r\n                setTimeout(() => {\r\n                    this.resultsViewScrollbar.scrollToElement(q, -140, 1000);\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n","export * from './noctua-editor.module';\r\n","import { OverlayRef } from '@angular/cdk/overlay';\r\n\r\nexport class DetailDropdownOverlayRef {\r\n\r\n    constructor(private overlayRef: OverlayRef) { }\r\n\r\n    close(): void {\r\n        this.overlayRef.dispose();\r\n    }\r\n}\r\n","import { Component, Inject, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport {\r\n  NoctuaFormConfigService,\r\n  Entity,\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { detailDropdownData } from './detail-dropdown.tokens';\r\nimport { DetailDropdownOverlayRef } from './detail-dropdown-ref';\r\nimport { NoctuaFormDialogService } from 'app/main/apps/noctua-form';\r\n\r\n@Component({\r\n  selector: 'noc-detail-dropdown',\r\n  templateUrl: './detail-dropdown.component.html',\r\n  styleUrls: ['./detail-dropdown.component.scss']\r\n})\r\n\r\nexport class NoctuaDetailDropdownComponent implements OnInit, OnDestroy {\r\n  evidenceDBForm: FormGroup;\r\n  formControl: FormControl;\r\n  termDetail\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(public dialogRef: DetailDropdownOverlayRef,\r\n    @Inject(detailDropdownData) public data: any,\r\n    private noctuaFormDialogService: NoctuaFormDialogService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n    this.formControl = data.formControl;\r\n    this.termDetail = data.termDetail;\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  clearValues() {\r\n\r\n  }\r\n\r\n  save() {\r\n    const self = this;\r\n    const db = this.evidenceDBForm.value.db;\r\n    const accession = this.evidenceDBForm.value.accession;\r\n    const errors = [];\r\n    let canSave = true;\r\n\r\n    if (accession.trim() === '') {\r\n      self.noctuaFormDialogService.openActivityErrorsDialog(errors);\r\n      canSave = false;\r\n    }\r\n\r\n    if (canSave) {\r\n      this.formControl.setValue(db.name + ':' + accession.trim());\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  useTerm(term: Entity) {\r\n    this.formControl.setValue(term);\r\n  }\r\n\r\n  cancelEvidenceDb() {\r\n    this.evidenceDBForm.controls['accession'].setValue('');\r\n  }\r\n\r\n  close() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<div (click)=\"$event.stopPropagation()\" class=\"noc-item-details noc-drawer w-100-p\">\r\n  <div class=\"noc-header w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <div class=\"noc-header-title\">\r\n      <div class=\"text-truncate\">\r\n        {{termDetail.label}}\r\n      </div>\r\n    </div>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"$event.stopPropagation(); close()\" class=\"noc-rounded-button noc-sm\"\r\n      color=\"primary\" aria-label=\"Close Selected Item\">\r\n      <mat-icon>close</mat-icon> Close\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-body w-100-p\" noctuaPerfectScrollbar>\r\n    <div class=\"noc-section-row\">\r\n      <div class=\"noc-title\">\r\n        Term\r\n      </div>\r\n      <div class=\"noc-description\">\r\n        {{termDetail.label}} <small>({{termDetail.id}})</small>\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-section-row\">\r\n      <div class=\"noc-title\">\r\n        Definition\r\n      </div>\r\n      <div class=\"noc-description\">\r\n        {{termDetail.description}}\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-section-row\">\r\n      <div class=\"noc-title\">\r\n        Is A Type Of\r\n      </div>\r\n      <div class=\"noc-description\">\r\n        <div *ngFor=\"let rootType of termDetail.rootTypes\">\r\n          {{rootType.label}}<small>({{rootType.id}})</small>\r\n          <a (click)=\"useTerm(rootType)\">\r\n            Use\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"noc-footer w-100-p\">\r\n    <span fxFlex></span>\r\n    <!-- <button class=\"noc-rounded-button\" mat-raised-button color=\"primary\">Use</button> -->\r\n  </div>\r\n</div>\r\n","import { InjectionToken } from '@angular/core';\r\n\r\nexport const detailDropdownData = new InjectionToken<any>('detailDropdownData');","import { Injectable, Inject, Injector, ElementRef, ComponentRef, ViewChild } from '@angular/core';\r\nimport {\r\n    Overlay,\r\n    OverlayRef,\r\n    OverlayConfig,\r\n    PositionStrategy\r\n} from '@angular/cdk/overlay';\r\nimport { ComponentPortal, PortalInjector } from '@angular/cdk/portal';\r\nimport { DetailDropdownOverlayRef } from './detail-dropdown/detail-dropdown-ref';\r\nimport { detailDropdownData } from './detail-dropdown/detail-dropdown.tokens';\r\n\r\nimport { NoctuaDetailDropdownComponent } from './detail-dropdown/detail-dropdown.component';\r\n\r\nexport interface SearchCriiteria {\r\n    gp: string;\r\n    url: string;\r\n}\r\n\r\nexport interface DetailDropdownDialogConfig {\r\n    panelClass?: string;\r\n    hasBackdrop?: boolean;\r\n    backdropClass?: string;\r\n    positionStrategy?: PositionStrategy;\r\n    width?: string;\r\n    data?: any;\r\n}\r\n\r\nconst DEFAULT_CONFIG: DetailDropdownDialogConfig = {\r\n    hasBackdrop: false,\r\n    backdropClass: 'dark-backdrop',\r\n    panelClass: 'tm-file-preview-dialog-panel',\r\n    // width: '600px',\r\n    data: null\r\n};\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class InlineDetailService {\r\n\r\n    constructor(\r\n        private injector: Injector,\r\n        private overlay: Overlay) { }\r\n    private dialogRef: DetailDropdownOverlayRef;\r\n\r\n\r\n    open(elementToConnectTo: ElementRef, config: DetailDropdownDialogConfig = {}) {\r\n        const dialogConfig = { ...DEFAULT_CONFIG, ...config };\r\n\r\n\r\n        if (this.dialogRef) {\r\n            this.dialogRef.close();\r\n        }\r\n        dialogConfig['positionStrategy'] = this._getPosition(elementToConnectTo);\r\n        // dialogConfig['width'] = '420px';\r\n        const originRect = elementToConnectTo.nativeElement;\r\n        const overlayRef = this.createOverlay(dialogConfig);\r\n        const dialogRef = new DetailDropdownOverlayRef(overlayRef);\r\n        const overlayComponent = this.attachDialogContainer(overlayRef, dialogConfig, dialogRef);\r\n\r\n        overlayRef.backdropClick().subscribe(_ => dialogRef.close());\r\n\r\n        this.dialogRef = dialogRef;\r\n        return dialogRef;\r\n    }\r\n\r\n    close(data): void {\r\n        //  this.overlayRef.dispose();\r\n    }\r\n\r\n    private createInjector(config: DetailDropdownDialogConfig, dialogRef: DetailDropdownOverlayRef): PortalInjector {\r\n        const injectionTokens = new WeakMap();\r\n\r\n        injectionTokens.set(DetailDropdownOverlayRef, dialogRef);\r\n        injectionTokens.set(detailDropdownData, config.data);\r\n\r\n        return new PortalInjector(this.injector, injectionTokens);\r\n    }\r\n\r\n    private attachDialogContainer(overlayRef: OverlayRef, config: DetailDropdownDialogConfig, dialogRef: DetailDropdownOverlayRef) {\r\n        const injector = this.createInjector(config, dialogRef);\r\n\r\n        const containerPortal = new ComponentPortal(NoctuaDetailDropdownComponent, null, injector);\r\n        const containerRef: ComponentRef<NoctuaDetailDropdownComponent> = overlayRef.attach(containerPortal);\r\n\r\n        return containerRef.instance;\r\n    }\r\n\r\n    private createOverlay(config: DetailDropdownDialogConfig) {\r\n        const overlayConfig = this.getOverlayConfig(config);\r\n\r\n        return this.overlay.create(overlayConfig);\r\n    }\r\n\r\n    private getOverlayConfig(config: DetailDropdownDialogConfig): OverlayConfig {\r\n        const overlayConfig = new OverlayConfig({\r\n            hasBackdrop: config.hasBackdrop,\r\n            backdropClass: config.backdropClass,\r\n            width: config.width,\r\n            panelClass: config.panelClass,\r\n            scrollStrategy: this.overlay.scrollStrategies.block(),\r\n            positionStrategy: config.positionStrategy\r\n        });\r\n\r\n        return overlayConfig;\r\n    }\r\n\r\n    private _getPosition(elementToConnectTo: ElementRef) {\r\n\r\n        return this.overlay.position()\r\n            .flexibleConnectedTo(elementToConnectTo)\r\n            .withFlexibleDimensions(true)\r\n            .withPush(true)\r\n            .withPositions([{\r\n                originX: 'end',\r\n                originY: 'center',\r\n                overlayX: 'start',\r\n                overlayY: 'center',\r\n            }])\r\n        //.withDirection('ltr')\r\n        //.withFallbackPosition(origin.bottomRight, overlay.topRight)\r\n        //.withFallbackPosition(origin.topLeft, overlay.bottomLeft)\r\n        //.withFallbackPosition(origin.topRight, overlay.bottomRight)\r\n        // .withFallbackPosition(origin.topCenter, overlay.bottomCenter)\r\n        // .withFallbackPosition(origin.bottomCenter, overlay.topCenter)\r\n    }\r\n\r\n}\r\n","import { OverlayRef } from '@angular/cdk/overlay';\r\n\r\nexport class EditorDropdownOverlayRef {\r\n\r\n    constructor(private overlayRef: OverlayRef) { }\r\n\r\n    close(): void {\r\n        this.overlayRef.dispose();\r\n    }\r\n}\r\n","import { Component, Inject, OnInit, OnDestroy, NgZone } from '@angular/core';\r\nimport { FormControl, FormGroup, FormArray } from '@angular/forms';\r\nimport { Subscription, Subject, EMPTY } from 'rxjs';\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  NoctuaActivityEntityService,\r\n  CamService,\r\n  Entity,\r\n  noctuaFormConfig,\r\n  ActivityError,\r\n  ErrorType,\r\n  ErrorLevel,\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { Cam } from '@geneontology/noctua-form-base';\r\nimport { Activity } from '@geneontology/noctua-form-base';\r\nimport { ActivityNode } from '@geneontology/noctua-form-base';\r\nimport { Evidence } from '@geneontology/noctua-form-base';\r\n\r\nimport { editorDropdownData } from './editor-dropdown.tokens';\r\nimport { EditorDropdownOverlayRef } from './editor-dropdown-ref';\r\nimport { NoctuaFormDialogService } from 'app/main/apps/noctua-form';\r\nimport { EditorCategory } from './../../models/editor-category';\r\nimport { concatMap, finalize, take, takeUntil } from 'rxjs/operators';\r\nimport { find } from 'lodash';\r\nimport { InlineReferenceService } from './../../inline-reference/inline-reference.service';\r\n\r\n@Component({\r\n  selector: 'noc-editor-dropdown',\r\n  templateUrl: './editor-dropdown.component.html',\r\n  styleUrls: ['./editor-dropdown.component.scss']\r\n})\r\n\r\nexport class NoctuaEditorDropdownComponent implements OnInit, OnDestroy {\r\n  EditorCategory = EditorCategory;\r\n  activity: Activity;\r\n  cam: Cam;\r\n  insertEntity = false;\r\n  entity: ActivityNode;\r\n  category: EditorCategory;\r\n  evidenceIndex: number;\r\n  entityFormGroup: FormGroup;\r\n  evidenceFormGroup: FormGroup;\r\n  entityFormSub: Subscription;\r\n  termNode: ActivityNode;\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  displaySection = {\r\n    relationship: false,\r\n    term: false,\r\n    evidence: false,\r\n    reference: false,\r\n    with: false,\r\n  };\r\n\r\n  constructor(\r\n    private zone: NgZone,\r\n    public dialogRef: EditorDropdownOverlayRef,\r\n    @Inject(editorDropdownData) public data: any,\r\n    private noctuaFormDialogService: NoctuaFormDialogService,\r\n    private camService: CamService,\r\n    private noctuaActivityEntityService: NoctuaActivityEntityService,\r\n    private inlineReferenceService: InlineReferenceService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.cam = data.cam;\r\n    this.activity = data.activity;\r\n    this.entity = data.entity;\r\n    this.category = data.category;\r\n    this.evidenceIndex = data.evidenceIndex;\r\n    this.insertEntity = data.insertEntity;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this._displaySection(this.category);\r\n    this.entityFormSub = this.noctuaActivityEntityService.entityFormGroup$\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(entityFormGroup => {\r\n        if (!entityFormGroup) {\r\n          return;\r\n        }\r\n        const evidenceFormArray = entityFormGroup.get('evidenceFormArray') as FormArray;\r\n        this.entityFormGroup = entityFormGroup;\r\n        this.evidenceFormGroup = evidenceFormArray.at(this.evidenceIndex) as FormGroup;\r\n      });\r\n  }\r\n\r\n  openAddReference(event, name: string) {\r\n\r\n    const data = {\r\n      formControl: this.evidenceFormGroup.controls[name] as FormControl,\r\n    };\r\n    this.inlineReferenceService.open(event.target, { data });\r\n\r\n  }\r\n\r\n  save() {\r\n    const self = this;\r\n    switch (self.category) {\r\n      case EditorCategory.term:\r\n      case EditorCategory.evidence:\r\n      case EditorCategory.reference:\r\n      case EditorCategory.with:\r\n      case EditorCategory.relationship:\r\n        this.close();\r\n        self.noctuaActivityEntityService.saveActivityReplace(self.cam).pipe(\r\n          take(1),\r\n          concatMap((result) => {\r\n            return EMPTY;\r\n            //return self.camService.getStoredModel(self.cam)\r\n          }),\r\n          finalize(() => {\r\n            self.zone.run(() => {\r\n              self.cam.loading.status = false;\r\n              self.cam.reviewCamChanges()\r\n              //self.camService.reviewChangesCams();\r\n            })\r\n          }))\r\n          .subscribe(() => {\r\n            self.zone.run(() => {\r\n\r\n            })\r\n            // self.noctuaFormDialogService.openInfoToast('Activity successfully updated.', 'OK');\r\n\r\n          });\r\n        break;\r\n      case EditorCategory.evidenceAll:\r\n        self.noctuaActivityEntityService.addEvidence().then(() => {\r\n          this.close();\r\n          self.noctuaFormDialogService.openInfoToast('Evidence successfully updated.', 'OK');\r\n        });\r\n        break;\r\n      case EditorCategory.all:\r\n        self.noctuaActivityEntityService.addIndividual().then(() => {\r\n          this.close();\r\n          self.noctuaFormDialogService.openInfoToast('Activity successfully updated.', 'OK');\r\n        });\r\n        break;\r\n    }\r\n  }\r\n\r\n  openSearchDatabaseDialog(entity: ActivityNode) {\r\n    const self = this;\r\n    const gpNode = this.activity.getGPNode();\r\n\r\n    if (gpNode && gpNode.hasValue()) {\r\n      const data = {\r\n        readonly: false,\r\n        gpNode: gpNode.term,\r\n        aspect: entity.aspect,\r\n        entity: entity,\r\n        params: {\r\n          term: '',\r\n          evidence: ''\r\n        }\r\n      };\r\n\r\n      const success = (selected) => {\r\n        if (selected.term) {\r\n          const term = new Entity(selected.term.term.id, selected.term.term.label);\r\n\r\n          if (selected.evidences && selected.evidences.length > 0) {\r\n            self.noctuaActivityEntityService.reinitializeForm(term, selected.evidences);\r\n\r\n            /*  selected.evidences.forEach((evidence: Evidence) => {\r\n               evidence.evidenceExts.forEach((evidenceExt) => {\r\n                 evidenceExt.relations.forEach((relation) => {\r\n                   const node = self.noctuaFormConfigService.insertActivityNodeByPredicate(self.noctuaActivityFormService.activity, self.entity, relation.id);\r\n                   node.term = new Entity(evidenceExt.term.id, evidenceExt.term.id);\r\n                   node.predicate.setEvidence([evidence]);\r\n                 });\r\n               });\r\n \r\n             }); */\r\n          }\r\n        }\r\n      };\r\n      self.noctuaFormDialogService.openSearchDatabaseDialog(data, success);\r\n    } else {\r\n      const meta = {\r\n        aspect: 'Gene Product'\r\n      };\r\n      const error = new ActivityError(ErrorLevel.error, ErrorType.general, 'Please enter a gene product', meta)\r\n      self.noctuaFormDialogService.openActivityErrorsDialog([error])\r\n    }\r\n  }\r\n\r\n  addRootTerm() {\r\n    const self = this;\r\n\r\n    const term = find(noctuaFormConfig.rootNode, (rootNode) => {\r\n      return rootNode.aspect === self.entity.aspect;\r\n    });\r\n\r\n    if (term) {\r\n\r\n      const evidence = new Evidence();\r\n      evidence.setEvidence(new Entity(\r\n        noctuaFormConfig.evidenceAutoPopulate.nd.evidence.id,\r\n        noctuaFormConfig.evidenceAutoPopulate.nd.evidence.label));\r\n      evidence.reference = noctuaFormConfig.evidenceAutoPopulate.nd.reference;\r\n      self.noctuaActivityEntityService.reinitializeForm(new Entity(term.id, term.label), [evidence]);\r\n    }\r\n  }\r\n\r\n  clearValues() {\r\n    const self = this;\r\n\r\n    self.entity.clearValues();\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  updateTermList() {\r\n    const self = this;\r\n    this.camService.updateTermList(self.noctuaActivityFormService.activity, this.entity);\r\n  }\r\n\r\n  updateEvidenceList() {\r\n    const self = this;\r\n    this.camService.updateEvidenceList(self.noctuaActivityFormService.activity, this.entity);\r\n  }\r\n\r\n  updateReferenceList() {\r\n    const self = this;\r\n    this.camService.updateReferenceList(self.noctuaActivityFormService.activity, this.entity);\r\n  }\r\n\r\n  updateWithList() {\r\n    const self = this;\r\n    this.camService.updateWithList(self.noctuaActivityFormService.activity, this.entity);\r\n  }\r\n\r\n\r\n  termDisplayFn(term): string | undefined {\r\n    return term && term.id ? `${term.label} (${term.id})` : undefined;\r\n  }\r\n\r\n  evidenceDisplayFn(evidence): string | undefined {\r\n    return evidence && evidence.id ? `${evidence.label} (${evidence.id})` : undefined;\r\n  }\r\n\r\n  compareEntity(a: any, b: any) {\r\n    return (a.id === b.id);\r\n  }\r\n\r\n  private _displaySection(category: EditorCategory) {\r\n    switch (category) {\r\n      case EditorCategory.relationship:\r\n        this.displaySection.relationship = true;\r\n        break;\r\n      case EditorCategory.term:\r\n        this.displaySection.term = true;\r\n        break;\r\n      case EditorCategory.evidence:\r\n        this.displaySection.evidence = true;\r\n        break;\r\n      case EditorCategory.reference:\r\n        this.displaySection.reference = true;\r\n        break;\r\n      case EditorCategory.with:\r\n        this.displaySection.with = true;\r\n        break;\r\n      case EditorCategory.evidenceAll:\r\n        this.displaySection.evidence = true;\r\n        this.displaySection.reference = true;\r\n        this.displaySection.with = true;\r\n        break;\r\n      case EditorCategory.all:\r\n        this.displaySection.term = true;\r\n        this.displaySection.evidence = true;\r\n        this.displaySection.reference = true;\r\n        this.displaySection.with = true;\r\n        break;\r\n    }\r\n  }\r\n\r\n  close() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n\r\n","<div [formGroup]=\"entityFormGroup\" fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"w-100-p\">\r\n  <div *ngIf=\"displaySection.relationship\" class=\"noc-edit-field p-4\" fxFlex=\"300px\" fxLayout=\"row\"\r\n    fxLayoutAlign=\"start stretch\">\r\n    <div class=\"p-4 w-100-p\">\r\n      <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n        <mat-label>Choose Causal Relation</mat-label>\r\n        <mat-select placeholder=\"\" [compareWith]=\"compareEntity\" formControlName=\"relationship\">\r\n          <mat-option *ngFor=\"let bpOnlyEdge of noctuaFormConfigService.bpOnlyEdges.options\" [value]=\"bpOnlyEdge\">\r\n            {{bpOnlyEdge.label}}\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"displaySection.term\" class=\"noc-edit-field p-4\" fxFlex=\"250px\" fxLayout=\"row\"\r\n    fxLayoutAlign=\"start stretch\">\r\n    <mat-form-field class=\"noc-sm w-100-p\" appearance=\"outline\">\r\n      <mat-label>{{entity.label}}</mat-label>\r\n      <textarea type=\"text\" matInput formControlName=\"term\" [matAutocomplete]=\"termAuto\" row=\"2\"\r\n        (focus)=\"updateTermList()\">\r\n      </textarea>\r\n      <mat-autocomplete #termAuto=\"matAutocomplete\" [displayWith]=\"termDisplayFn\" class=\"noc-term-autocomplete\">\r\n        <mat-option *ngFor=\"let item of entity?.termLookup.results\" [value]=\"item\">\r\n          <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n            <div class=\"noc-term-label\">\r\n              {{ item.label }}\r\n            </div>\r\n            <span fxFlex></span>\r\n            <div class=\"noc-term-id\">\r\n              <a *ngIf=\"item.link\" (click)=\"$event.stopPropagation()\" href=\"{{item.link}}\" target=\"_blank\">\r\n                {{ item.id }}\r\n              </a>\r\n              <span *ngIf=\"!item.link\">\r\n                {{ item.id }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </mat-option>\r\n      </mat-autocomplete>\r\n    </mat-form-field>\r\n  </div>\r\n  <ng-container *ngIf=\"evidenceFormGroup\" [formGroup]=\"evidenceFormGroup\">\r\n    <div *ngIf=\"displaySection.evidence\" class=\"noc-edit-field p-4\" fxFlex=\"250px\">\r\n      <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n        <mat-label>Evidence</mat-label>\r\n        <textarea type=\"text\" matInput formControlName=\"evidence\" [matAutocomplete]=\"evidenceAuto\" rows=\"2\"\r\n          (focus)=\"updateEvidenceList()\"></textarea>\r\n        <mat-autocomplete #evidenceAuto=\"matAutocomplete\" [displayWith]=\"evidenceDisplayFn\"\r\n          class=\"noc-term-autocomplete\">\r\n          <mat-option *ngFor=\"let item of entity?.predicate?.evidenceLookup.results\" [value]=\"item\">\r\n            <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-term-label\">\r\n                {{ item.label }}\r\n              </div>\r\n              <span fxFlex></span>\r\n              <div class=\"noc-term-id mr-8\">\r\n                <strong>\r\n                  {{ item.xref }}\r\n                </strong>\r\n              </div>\r\n              <div class=\"noc-term-id\">\r\n                <a *ngIf=\"item.link\" (click)=\"$event.stopPropagation()\" href=\"{{item.link}}\" target=\"_blank\">\r\n                  {{ item.id }}\r\n                </a>\r\n                <span *ngIf=\"!item.link\">\r\n                  {{ item.id }}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </mat-option>\r\n        </mat-autocomplete>\r\n      </mat-form-field>\r\n    </div>\r\n    <div *ngIf=\"displaySection.reference\" class=\"noc-edit-field p-4\" fxFlex=\"150px\">\r\n      <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n        <mat-label>Reference</mat-label>\r\n        <textarea matInput formControlName=\"reference\" [matAutocomplete]=\"referenceAuto\" rows=\"2\" autocomplete=\"off\"\r\n          (focus)=\"updateReferenceList()\"></textarea>\r\n        <button mat-icon-button matSuffix (click)=\"openAddReference($event, 'reference')\"\r\n          class=\"noc-evidence-db-trigger\">\r\n          <mat-icon>playlist_add</mat-icon>\r\n        </button>\r\n        <mat-autocomplete #referenceAuto=\"matAutocomplete\" class=\"noc-term-autocomplete\">\r\n          <mat-option *ngFor=\"let item of entity?.predicate?.referenceLookup.results\" [value]=\"item\">\r\n            <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-term-label\">\r\n                {{ item }}\r\n              </div>\r\n            </div>\r\n          </mat-option>\r\n        </mat-autocomplete>\r\n      </mat-form-field>\r\n    </div>\r\n    <div *ngIf=\"displaySection.with\" class=\"noc-edit-field p-4\" fxFlex fxFlex=\"150px\">\r\n      <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n        <mat-label>With</mat-label>\r\n        <textarea matInput formControlName=\"with\" [matAutocomplete]=\"withAuto\" rows=\"2\" (focus)=\"updateWithList()\"\r\n          autocomplete=\"off\"></textarea>\r\n        <mat-autocomplete #withAuto=\"matAutocomplete\" class=\"noc-term-autocomplete\">\r\n          <mat-option *ngFor=\"let item of entity?.predicate?.withLookup.results\" [value]=\"item\">\r\n            <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-term-label\">\r\n                {{ item }}\r\n              </div>\r\n            </div>\r\n          </mat-option>\r\n        </mat-autocomplete>\r\n      </mat-form-field>\r\n    </div>\r\n  </ng-container>\r\n  <button *ngIf=\"true\" mat-icon-button class=\"noc-action-button\" fxFlex=\"40px\" [matMenuTriggerFor]=\"entityMenu\">\r\n    <mat-icon>more_vert</mat-icon>\r\n  </button>\r\n  <mat-menu #entityMenu=\"matMenu\" class=\"noc-dropdown-menu\">\r\n    <!-- <button mat-menu-item *ngIf=\"entity.aspect\" class=\"\" (click)=\"openSearchDatabaseDialog(entity)\">\r\n      Search Annotations\r\n    </button>\r\n    \r\n    <button mat-menu-item [matMenuTriggerFor]=\"evidenceMenu\">Evidence</button> -->\r\n    <button mat-menu-item *ngIf=\"entity.aspect\" class=\"\" (click)=\"addRootTerm()\">\r\n      Add Root Term\r\n    </button>\r\n  </mat-menu>\r\n  <mat-menu #evidenceMenu=\"matMenu\">\r\n\r\n  </mat-menu>\r\n  <button mat-icon-button (click)=\"close()\">\r\n    <mat-icon>cancel</mat-icon>\r\n  </button>\r\n  <button mat-icon-button (click)=\"save()\">\r\n    <mat-icon>check_circle</mat-icon>\r\n  </button>\r\n</div>","import { InjectionToken } from '@angular/core';\r\n\r\nexport const editorDropdownData = new InjectionToken<any>('editorDropdownData');","import { Component, EventEmitter, OnDestroy, OnInit, Output, ElementRef, ViewChild, Input } from '@angular/core';\r\nimport { Overlay, OverlayConfig, OriginConnectionPosition, OverlayConnectionPosition } from '@angular/cdk/overlay';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { cloneDeep } from 'lodash';\r\n\r\nimport { InlineEditorService, EditorDropdownDialogConfig } from './inline-editor.service';\r\n\r\nimport {\r\n    CamService,\r\n    NoctuaActivityEntityService,\r\n    ActivityNode,\r\n    Activity,\r\n    Cam\r\n} from '@geneontology/noctua-form-base';\r\nimport { EditorCategory } from './../models/editor-category';\r\n\r\n@Component({\r\n    selector: 'noctua-inline-editor',\r\n    templateUrl: './inline-editor.component.html',\r\n    styleUrls: ['./inline-editor.component.scss']\r\n})\r\nexport class NoctuaInlineEditorComponent implements OnInit, OnDestroy {\r\n    collapsed: boolean;\r\n    noctuaConfig: any;\r\n\r\n    @Input() cam: Cam;\r\n    @Input() activity: Activity;\r\n    @Input() entity: ActivityNode;\r\n    @Input() category: EditorCategory;\r\n    @Input() evidenceIndex = 0;\r\n\r\n    @ViewChild('editorDropdownTrigger', { read: ElementRef })\r\n    private editorDropdownTrigger: ElementRef;\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    constructor(private inlineEditorService: InlineEditorService,\r\n        private camService: CamService,\r\n        private noctuaActivityEntityService: NoctuaActivityEntityService) {\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n\r\n    }\r\n\r\n    openEditorDropdown(event) {\r\n        const displayEntity = cloneDeep(this.entity);\r\n        const data = {\r\n            cam: this.cam,\r\n            activity: this.activity,\r\n            entity: displayEntity,\r\n            category: this.category,\r\n            evidenceIndex: this.evidenceIndex\r\n        };\r\n        this.camService.onCamChanged.next(this.cam);\r\n        this.camService.activity = this.activity;\r\n        this.noctuaActivityEntityService.initializeForm(this.activity, displayEntity);\r\n        this.inlineEditorService.open(event.target, { data });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this._unsubscribeAll.next(null);\r\n        this._unsubscribeAll.complete();\r\n    }\r\n}\r\n","<button mat-icon-button (click)=\"openEditorDropdown($event)\" #editorDropdownTrigger class=\"noc-trigger-button\">\r\n  <mat-icon class=\"s-12 secondary-text\">edit</mat-icon>\r\n</button>\r\n","import { Injectable, Inject, Injector, ElementRef, ComponentRef, ViewChild } from '@angular/core';\r\nimport {\r\n    Overlay,\r\n    OverlayRef,\r\n    OverlayConfig,\r\n    OriginConnectionPosition,\r\n    OverlayConnectionPosition,\r\n    PositionStrategy\r\n} from '@angular/cdk/overlay';\r\nimport { ComponentPortal, PortalInjector } from '@angular/cdk/portal';\r\nimport { EditorDropdownOverlayRef } from './editor-dropdown/editor-dropdown-ref';\r\nimport { editorDropdownData } from './editor-dropdown/editor-dropdown.tokens';\r\n\r\nimport { NoctuaEditorDropdownComponent } from './editor-dropdown/editor-dropdown.component';\r\n\r\nimport {\r\n    CamService,\r\n    NoctuaActivityEntityService,\r\n    NoctuaActivityFormService\r\n} from '@geneontology/noctua-form-base';\r\n\r\nexport interface SearchCriiteria {\r\n    gp: string;\r\n    url: string;\r\n}\r\n\r\nexport interface EditorDropdownDialogConfig {\r\n    panelClass?: string;\r\n    hasBackdrop?: boolean;\r\n    backdropClass?: string;\r\n    positionStrategy?: PositionStrategy;\r\n    width?: string;\r\n    data?: any;\r\n}\r\n\r\nconst DEFAULT_CONFIG: EditorDropdownDialogConfig = {\r\n    hasBackdrop: true,\r\n    backdropClass: 'dark-backdrop',\r\n    panelClass: 'tm-file-preview-dialog-panel',\r\n    // width: '600px',\r\n    data: null\r\n};\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class InlineEditorService {\r\n\r\n    constructor(\r\n        private injector: Injector,\r\n        private overlay: Overlay,\r\n        private camService: CamService,\r\n        public noctuaActivityFormService: NoctuaActivityFormService,\r\n        private noctuaActivityEntityService: NoctuaActivityEntityService) { }\r\n\r\n    /*     openEditorDropdown(event, config) {\r\n            const data = {\r\n                cam: config.cam,\r\n                activity: config.activity,\r\n                entity: config.entity,\r\n                category: config.category,\r\n                evidenceIndex: config.evidenceIndex\r\n            };\r\n            // this.camService.onCamChanged.next(this.cam);\r\n            this.camService.onCamChanged.next(config.cam);\r\n            this.camService.activity = config.activity;\r\n            this.noctuaActivityEntityService.initializeForm(config.activity, config.entity);\r\n            this.open(event.target, { data });\r\n        } */\r\n\r\n    open(elementToConnectTo: ElementRef, config: EditorDropdownDialogConfig = {}) {\r\n        const dialogConfig = { ...DEFAULT_CONFIG, ...config };\r\n\r\n        dialogConfig['positionStrategy'] = this._getPosition(elementToConnectTo);\r\n        // dialogConfig['width'] = '420px';\r\n        // const originRect = elementToConnectTo.nativeElement;\r\n        const overlayRef = this.createOverlay(dialogConfig);\r\n        const dialogRef = new EditorDropdownOverlayRef(overlayRef);\r\n        const overlayComponent = this.attachDialogContainer(overlayRef, dialogConfig, dialogRef);\r\n\r\n        overlayRef.backdropClick().subscribe(_ => dialogRef.close());\r\n\r\n        return dialogRef;\r\n    }\r\n\r\n    close(data): void {\r\n        //  this.overlayRef.dispose();\r\n    }\r\n\r\n    private createInjector(config: EditorDropdownDialogConfig, dialogRef: EditorDropdownOverlayRef): PortalInjector {\r\n        const injectionTokens = new WeakMap();\r\n\r\n        injectionTokens.set(EditorDropdownOverlayRef, dialogRef);\r\n        injectionTokens.set(editorDropdownData, config.data);\r\n\r\n        return new PortalInjector(this.injector, injectionTokens);\r\n    }\r\n\r\n    private attachDialogContainer(overlayRef: OverlayRef, config: EditorDropdownDialogConfig, dialogRef: EditorDropdownOverlayRef) {\r\n        const injector = this.createInjector(config, dialogRef);\r\n\r\n        const containerPortal = new ComponentPortal(NoctuaEditorDropdownComponent, null, injector);\r\n        const containerRef: ComponentRef<NoctuaEditorDropdownComponent> = overlayRef.attach(containerPortal);\r\n\r\n        return containerRef.instance;\r\n    }\r\n\r\n    private createOverlay(config: EditorDropdownDialogConfig) {\r\n        const overlayConfig = this.getOverlayConfig(config);\r\n\r\n        return this.overlay.create(overlayConfig);\r\n    }\r\n\r\n    private getOverlayConfig(config: EditorDropdownDialogConfig): OverlayConfig {\r\n        const overlayConfig = new OverlayConfig({\r\n            hasBackdrop: config.hasBackdrop,\r\n            backdropClass: config.backdropClass,\r\n            width: config.width,\r\n            panelClass: config.panelClass,\r\n            scrollStrategy: this.overlay.scrollStrategies.block(),\r\n            positionStrategy: config.positionStrategy\r\n        });\r\n\r\n        return overlayConfig;\r\n    }\r\n\r\n    private _getPosition(elementToConnectTo: ElementRef) {\r\n        const origin = {\r\n            topLeft: { originX: 'start', originY: 'top' } as OriginConnectionPosition,\r\n            topRight: { originX: 'end', originY: 'top' } as OriginConnectionPosition,\r\n            bottomLeft: { originX: 'start', originY: 'bottom' } as OriginConnectionPosition,\r\n            bottomRight: { originX: 'end', originY: 'bottom' } as OriginConnectionPosition,\r\n            topCenter: { originX: 'center', originY: 'top' } as OriginConnectionPosition,\r\n            bottomCenter: { originX: 'center', originY: 'bottom' } as OriginConnectionPosition\r\n        };\r\n\r\n        const overlay = {\r\n            topLeft: { overlayX: 'start', overlayY: 'top' } as OverlayConnectionPosition,\r\n            topRight: { overlayX: 'end', overlayY: 'top' } as OverlayConnectionPosition,\r\n            bottomLeft: { overlayX: 'start', overlayY: 'bottom' } as OverlayConnectionPosition,\r\n            bottomRight: { overlayX: 'end', overlayY: 'bottom' } as OverlayConnectionPosition,\r\n            topCenter: { overlayX: 'center', overlayY: 'top' } as OverlayConnectionPosition,\r\n            bottomCenter: { overlayX: 'center', overlayY: 'bottom' } as OverlayConnectionPosition\r\n        };\r\n\r\n        return this.overlay.position()\r\n            .flexibleConnectedTo(elementToConnectTo)\r\n            .withFlexibleDimensions(true)\r\n            .withPush(true)\r\n            .withPositions([{\r\n                overlayX: 'end',\r\n                overlayY: 'top',\r\n                originX: 'end',\r\n                originY: 'bottom'\r\n            }]);\r\n        //.withOffsetY(1)\r\n        //.withDirection('ltr')\r\n        //.withFallbackPosition(origin.bottomRight, overlay.topRight)\r\n        //.withFallbackPosition(origin.topLeft, overlay.bottomLeft)\r\n        //.withFallbackPosition(origin.topRight, overlay.bottomRight)\r\n        // .withFallbackPosition(origin.topCenter, overlay.bottomCenter)\r\n        // .withFallbackPosition(origin.bottomCenter, overlay.topCenter)\r\n    }\r\n}","import { Injectable, Inject, Injector, ElementRef, ComponentRef, ViewChild } from '@angular/core';\r\nimport {\r\n    Overlay,\r\n    OverlayRef,\r\n    OverlayConfig,\r\n    OriginConnectionPosition,\r\n    OverlayConnectionPosition,\r\n    PositionStrategy\r\n} from '@angular/cdk/overlay';\r\nimport { ComponentPortal, PortalInjector } from '@angular/cdk/portal';\r\nimport { ReferenceDropdownOverlayRef } from './reference-dropdown/reference-dropdown-ref';\r\nimport { referenceDropdownData } from './reference-dropdown/reference-dropdown.tokens';\r\n\r\nimport { NoctuaReferenceDropdownComponent } from './reference-dropdown/reference-dropdown.component';\r\n\r\nexport interface SearchCriiteria {\r\n    gp: string;\r\n    url: string;\r\n}\r\n\r\nexport interface ReferenceDropdownDialogConfig {\r\n    panelClass?: string;\r\n    hasBackdrop?: boolean;\r\n    backdropClass?: string;\r\n    positionStrategy?: PositionStrategy;\r\n    width?: string;\r\n    data?: any;\r\n}\r\n\r\nconst DEFAULT_CONFIG: ReferenceDropdownDialogConfig = {\r\n    hasBackdrop: true,\r\n    backdropClass: 'dark-backdrop',\r\n    panelClass: 'tm-file-preview-dialog-panel',\r\n    // width: '600px',\r\n    data: null\r\n};\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class InlineReferenceService {\r\n\r\n    constructor(\r\n        private injector: Injector,\r\n        private overlay: Overlay) { }\r\n\r\n\r\n    open(elementToConnectTo: ElementRef, config: ReferenceDropdownDialogConfig = {}) {\r\n        const dialogConfig = { ...DEFAULT_CONFIG, ...config };\r\n\r\n        dialogConfig['positionStrategy'] = this._getPosition(elementToConnectTo);\r\n        // dialogConfig['width'] = '420px';\r\n        const originRect = elementToConnectTo.nativeElement;\r\n        const overlayRef = this.createOverlay(dialogConfig);\r\n        const dialogRef = new ReferenceDropdownOverlayRef(overlayRef);\r\n        const overlayComponent = this.attachDialogContainer(overlayRef, dialogConfig, dialogRef);\r\n\r\n        overlayRef.backdropClick().subscribe(_ => dialogRef.close());\r\n\r\n        return dialogRef;\r\n    }\r\n\r\n    close(data): void {\r\n        //  this.overlayRef.dispose();\r\n    }\r\n\r\n    private createInjector(config: ReferenceDropdownDialogConfig, dialogRef: ReferenceDropdownOverlayRef): PortalInjector {\r\n        const injectionTokens = new WeakMap();\r\n\r\n        injectionTokens.set(ReferenceDropdownOverlayRef, dialogRef);\r\n        injectionTokens.set(referenceDropdownData, config.data);\r\n\r\n        return new PortalInjector(this.injector, injectionTokens);\r\n    }\r\n\r\n    private attachDialogContainer(overlayRef: OverlayRef, config: ReferenceDropdownDialogConfig, dialogRef: ReferenceDropdownOverlayRef) {\r\n        const injector = this.createInjector(config, dialogRef);\r\n\r\n        const containerPortal = new ComponentPortal(NoctuaReferenceDropdownComponent, null, injector);\r\n        const containerRef: ComponentRef<NoctuaReferenceDropdownComponent> = overlayRef.attach(containerPortal);\r\n\r\n        return containerRef.instance;\r\n    }\r\n\r\n    private createOverlay(config: ReferenceDropdownDialogConfig) {\r\n        const overlayConfig = this.getOverlayConfig(config);\r\n\r\n        return this.overlay.create(overlayConfig);\r\n    }\r\n\r\n    private getOverlayConfig(config: ReferenceDropdownDialogConfig): OverlayConfig {\r\n        const overlayConfig = new OverlayConfig({\r\n            hasBackdrop: config.hasBackdrop,\r\n            backdropClass: config.backdropClass,\r\n            width: config.width,\r\n            panelClass: config.panelClass,\r\n            scrollStrategy: this.overlay.scrollStrategies.block(),\r\n            positionStrategy: config.positionStrategy\r\n        });\r\n\r\n        return overlayConfig;\r\n    }\r\n\r\n    private _getPosition(elementToConnectTo: ElementRef) {\r\n        const origin = {\r\n            topLeft: { originX: 'start', originY: 'top' } as OriginConnectionPosition,\r\n            topRight: { originX: 'end', originY: 'top' } as OriginConnectionPosition,\r\n            bottomLeft: { originX: 'start', originY: 'bottom' } as OriginConnectionPosition,\r\n            bottomRight: { originX: 'end', originY: 'bottom' } as OriginConnectionPosition,\r\n            topCenter: { originX: 'center', originY: 'top' } as OriginConnectionPosition,\r\n            bottomCenter: { originX: 'center', originY: 'bottom' } as OriginConnectionPosition\r\n        };\r\n\r\n        const overlay = {\r\n            topLeft: { overlayX: 'start', overlayY: 'top' } as OverlayConnectionPosition,\r\n            topRight: { overlayX: 'end', overlayY: 'top' } as OverlayConnectionPosition,\r\n            bottomLeft: { overlayX: 'start', overlayY: 'bottom' } as OverlayConnectionPosition,\r\n            bottomRight: { overlayX: 'end', overlayY: 'bottom' } as OverlayConnectionPosition,\r\n            topCenter: { overlayX: 'center', overlayY: 'top' } as OverlayConnectionPosition,\r\n            bottomCenter: { overlayX: 'center', overlayY: 'bottom' } as OverlayConnectionPosition\r\n        };\r\n\r\n        return this.overlay.position()\r\n            .flexibleConnectedTo(elementToConnectTo)\r\n            .withFlexibleDimensions(true)\r\n            .withPush(true)\r\n            .withPositions([{\r\n                overlayX: 'end',\r\n                overlayY: 'top',\r\n                originX: 'end',\r\n                originY: 'bottom'\r\n            }]);\r\n        //.withOffsetY(1)\r\n        //.withDirection('ltr')\r\n        //.withFallbackPosition(origin.bottomRight, overlay.topRight)\r\n        //.withFallbackPosition(origin.topLeft, overlay.bottomLeft)\r\n        //.withFallbackPosition(origin.topRight, overlay.bottomRight)\r\n        // .withFallbackPosition(origin.topCenter, overlay.bottomCenter)\r\n        // .withFallbackPosition(origin.bottomCenter, overlay.topCenter)\r\n    }\r\n\r\n    getLink() {\r\n\r\n    }\r\n}\r\n","import { OverlayRef } from '@angular/cdk/overlay';\r\n\r\nexport class ReferenceDropdownOverlayRef {\r\n\r\n    constructor(private overlayRef: OverlayRef) { }\r\n\r\n    close(): void {\r\n        this.overlayRef.dispose();\r\n    }\r\n}\r\n","import { Component, Inject, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, takeUntil } from 'rxjs/operators';\r\n\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  ActivityError,\r\n  noctuaFormConfig,\r\n  Article,\r\n  NoctuaLookupService,\r\n  ErrorLevel,\r\n  ErrorType\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { referenceDropdownData } from './reference-dropdown.tokens';\r\nimport { ReferenceDropdownOverlayRef } from './reference-dropdown-ref';\r\nimport { NoctuaFormDialogService } from 'app/main/apps/noctua-form';\r\nimport { SparqlService } from '@noctua.sparql/services/sparql/sparql.service';\r\n\r\n@Component({\r\n  selector: 'noc-reference-dropdown',\r\n  templateUrl: './reference-dropdown.component.html',\r\n  styleUrls: ['./reference-dropdown.component.scss']\r\n})\r\n\r\nexport class NoctuaReferenceDropdownComponent implements OnInit, OnDestroy {\r\n  evidenceDBForm: FormGroup;\r\n  formControl: FormControl;\r\n  article: Article;\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(public dialogRef: ReferenceDropdownOverlayRef,\r\n    @Inject(referenceDropdownData) public data: any,\r\n    private noctuaLookupService: NoctuaLookupService,\r\n    private noctuaFormDialogService: NoctuaFormDialogService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n    this.formControl = data.formControl;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.evidenceDBForm = this._createEvidenceDBForm();\r\n    this._onValueChange();\r\n  }\r\n\r\n  clearValues() {\r\n\r\n  }\r\n\r\n  save() {\r\n    const self = this;\r\n    const db = this.evidenceDBForm.value.db;\r\n    const accession = this.evidenceDBForm.value.accession;\r\n    const errors = [];\r\n    let canSave = true;\r\n\r\n    if (accession.trim() === '') {\r\n      const error = new ActivityError(ErrorLevel.error, ErrorType.general, `${db.name} accession is required`);\r\n      errors.push(error);\r\n      self.noctuaFormDialogService.openActivityErrorsDialog(errors);\r\n      canSave = false;\r\n    }\r\n\r\n    if (canSave) {\r\n      this.formControl.setValue(db.name + ':' + accession.trim());\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  cancelEvidenceDb() {\r\n    this.evidenceDBForm.controls['accession'].setValue('');\r\n  }\r\n\r\n  private _createEvidenceDBForm() {\r\n    return new FormGroup({\r\n      db: new FormControl(this.noctuaFormConfigService.evidenceDBs.selected),\r\n      accession: new FormControl('',\r\n        [\r\n          Validators.required,\r\n        ])\r\n    });\r\n  }\r\n\r\n  private _onValueChange() {\r\n    const self = this;\r\n\r\n    self.evidenceDBForm.valueChanges.pipe(\r\n      takeUntil(this._unsubscribeAll),\r\n      distinctUntilChanged(),\r\n      debounceTime(1000)\r\n    ).subscribe(data => {\r\n      self.article = null;\r\n      self._updateArticle(data);\r\n    });\r\n  }\r\n\r\n  close() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  private _updateArticle(value) {\r\n    const self = this;\r\n\r\n    if (value.db.name === noctuaFormConfig.evidenceDB.options.pmid.name && value.accession) {\r\n      const pmid = value.accession.trim();\r\n\r\n      if (pmid === '') {\r\n        return;\r\n      }\r\n      this.noctuaLookupService.getPubmedInfo(pmid).pipe(\r\n        takeUntil(this._unsubscribeAll))\r\n        .subscribe((article: Article) => {\r\n          self.article = article;\r\n        });\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<form [formGroup]=\"evidenceDBForm\" novalidate class=\"pl-8 pr-8 w-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <mat-form-field appearance=\"outline\" fxFlex=\"100px\" class=\"noc-sm  mr-12\">\r\n      <mat-select placeholder=\"\" formControlName=\"db\">\r\n        <mat-option *ngFor=\"let evidenceDB of noctuaFormConfigService.evidenceDBs.options\" [value]=\"evidenceDB\">\r\n          {{evidenceDB.label}}\r\n        </mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n    <mat-form-field appearance=\"outline\" fxFlex=\"\" class=\"noc-sm w-100-p\">\r\n      <input matInput formControlName=\"accession\" type=\"text\" placeholder=\"Accession\" autocomplete=\"off\">\r\n    </mat-form-field>\r\n    <button mat-icon-button (click)=\"close()\">\r\n      <mat-icon>cancel</mat-icon>\r\n    </button>\r\n    <button mat-icon-button (click)=\"save()\">\r\n      <mat-icon>check_circle</mat-icon>\r\n    </button>\r\n  </div>\r\n  <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <div *ngIf=\"article\" class=\"noc-article-info\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-article-title w-100-p\">\r\n        <a (click)=\"$event.stopPropagation()\" href=\"{{article.link}}\" target=\"_blank\">\r\n          {{article.title}}\r\n        </a>\r\n      </div>\r\n      <div class=\"noc-article-author w-100-p\">\r\n        <mat-icon class=\"s-16 mr-4\">person</mat-icon> <span>{{article.author}}</span>\r\n      </div>\r\n      <div class=\"noc-article-date w-100-p\">\r\n        <mat-icon class=\"s-16 mr-4\">date_range</mat-icon> <span>{{article.date}}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>\r\n","import { InjectionToken } from '@angular/core';\r\n\r\nexport const referenceDropdownData = new InjectionToken<any>('referenceDropdownData');","import { Injectable, Inject, Injector, ElementRef, ComponentRef, ViewChild } from '@angular/core';\r\nimport {\r\n    Overlay,\r\n    OverlayRef,\r\n    OverlayConfig,\r\n    OriginConnectionPosition,\r\n    OverlayConnectionPosition,\r\n    PositionStrategy\r\n} from '@angular/cdk/overlay';\r\nimport { ComponentPortal, PortalInjector } from '@angular/cdk/portal';\r\nimport { WithDropdownOverlayRef } from './with-dropdown/with-dropdown-ref';\r\nimport { withDropdownData } from './with-dropdown/with-dropdown.tokens';\r\nimport { NoctuaWithDropdownComponent } from './with-dropdown/with-dropdown.component';\r\n\r\n\r\nexport interface WithDropdownDialogConfig {\r\n    panelClass?: string;\r\n    hasBackdrop?: boolean;\r\n    backdropClass?: string;\r\n    positionStrategy?: PositionStrategy;\r\n    width?: string;\r\n    data?: any;\r\n}\r\n\r\nconst DEFAULT_CONFIG: WithDropdownDialogConfig = {\r\n    hasBackdrop: true,\r\n    backdropClass: 'dark-backdrop',\r\n    panelClass: 'tm-file-preview-dialog-panel',\r\n    // width: '600px',\r\n    data: null\r\n};\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class InlineWithService {\r\n\r\n    constructor(\r\n        private injector: Injector,\r\n        private overlay: Overlay) { }\r\n\r\n\r\n    open(elementToConnectTo: ElementRef, config: WithDropdownDialogConfig = {}) {\r\n        const dialogConfig = { ...DEFAULT_CONFIG, ...config };\r\n\r\n        dialogConfig['positionStrategy'] = this._getPosition(elementToConnectTo);\r\n        // dialogConfig['width'] = '420px';\r\n        const originRect = elementToConnectTo.nativeElement;\r\n        const overlayRef = this.createOverlay(dialogConfig);\r\n        const dialogRef = new WithDropdownOverlayRef(overlayRef);\r\n        const overlayComponent = this.attachDialogContainer(overlayRef, dialogConfig, dialogRef);\r\n\r\n        overlayRef.backdropClick().subscribe(_ => dialogRef.close());\r\n\r\n        return dialogRef;\r\n    }\r\n\r\n    close(data): void {\r\n        //  this.overlayRef.dispose();\r\n    }\r\n\r\n    private createInjector(config: WithDropdownDialogConfig, dialogRef: WithDropdownOverlayRef): PortalInjector {\r\n        const injectionTokens = new WeakMap();\r\n\r\n        injectionTokens.set(WithDropdownOverlayRef, dialogRef);\r\n        injectionTokens.set(withDropdownData, config.data);\r\n\r\n        return new PortalInjector(this.injector, injectionTokens);\r\n    }\r\n\r\n    private attachDialogContainer(overlayRef: OverlayRef, config: WithDropdownDialogConfig, dialogRef: WithDropdownOverlayRef) {\r\n        const injector = this.createInjector(config, dialogRef);\r\n\r\n        const containerPortal = new ComponentPortal(NoctuaWithDropdownComponent, null, injector);\r\n        const containerRef: ComponentRef<NoctuaWithDropdownComponent> = overlayRef.attach(containerPortal);\r\n\r\n        return containerRef.instance;\r\n    }\r\n\r\n    private createOverlay(config: WithDropdownDialogConfig) {\r\n        const overlayConfig = this.getOverlayConfig(config);\r\n\r\n        return this.overlay.create(overlayConfig);\r\n    }\r\n\r\n    private getOverlayConfig(config: WithDropdownDialogConfig): OverlayConfig {\r\n        const overlayConfig = new OverlayConfig({\r\n            hasBackdrop: config.hasBackdrop,\r\n            backdropClass: config.backdropClass,\r\n            width: config.width,\r\n            panelClass: config.panelClass,\r\n            scrollStrategy: this.overlay.scrollStrategies.block(),\r\n            positionStrategy: config.positionStrategy\r\n        });\r\n\r\n        return overlayConfig;\r\n    }\r\n\r\n    private _getPosition(elementToConnectTo: ElementRef) {\r\n        const origin = {\r\n            topLeft: { originX: 'start', originY: 'top' } as OriginConnectionPosition,\r\n            topRight: { originX: 'end', originY: 'top' } as OriginConnectionPosition,\r\n            bottomLeft: { originX: 'start', originY: 'bottom' } as OriginConnectionPosition,\r\n            bottomRight: { originX: 'end', originY: 'bottom' } as OriginConnectionPosition,\r\n            topCenter: { originX: 'center', originY: 'top' } as OriginConnectionPosition,\r\n            bottomCenter: { originX: 'center', originY: 'bottom' } as OriginConnectionPosition\r\n        };\r\n\r\n        const overlay = {\r\n            topLeft: { overlayX: 'start', overlayY: 'top' } as OverlayConnectionPosition,\r\n            topRight: { overlayX: 'end', overlayY: 'top' } as OverlayConnectionPosition,\r\n            bottomLeft: { overlayX: 'start', overlayY: 'bottom' } as OverlayConnectionPosition,\r\n            bottomRight: { overlayX: 'end', overlayY: 'bottom' } as OverlayConnectionPosition,\r\n            topCenter: { overlayX: 'center', overlayY: 'top' } as OverlayConnectionPosition,\r\n            bottomCenter: { overlayX: 'center', overlayY: 'bottom' } as OverlayConnectionPosition\r\n        };\r\n\r\n        return this.overlay.position()\r\n            .flexibleConnectedTo(elementToConnectTo)\r\n            .withFlexibleDimensions(true)\r\n            .withPush(true)\r\n            .withPositions([{\r\n                overlayX: 'end',\r\n                overlayY: 'top',\r\n                originX: 'end',\r\n                originY: 'bottom'\r\n            }]);\r\n        //.withOffsetY(1)\r\n        //.withDirection('ltr')\r\n        //.withFallbackPosition(origin.bottomRight, overlay.topRight)\r\n        //.withFallbackPosition(origin.topLeft, overlay.bottomLeft)\r\n        //.withFallbackPosition(origin.topRight, overlay.bottomRight)\r\n        // .withFallbackPosition(origin.topCenter, overlay.bottomCenter)\r\n        // .withFallbackPosition(origin.bottomCenter, overlay.topCenter)\r\n    }\r\n\r\n    getLink() {\r\n\r\n    }\r\n}\r\n","import { OverlayRef } from '@angular/cdk/overlay';\r\n\r\nexport class WithDropdownOverlayRef {\r\n\r\n    constructor(private overlayRef: OverlayRef) { }\r\n\r\n    close(): void {\r\n        this.overlayRef.dispose();\r\n    }\r\n}\r\n","import { Component, Inject, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators, FormBuilder, FormArray } from '@angular/forms';\r\nimport { Subject, Observable } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, takeUntil, startWith, map } from 'rxjs/operators';\r\n\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  ActivityError,\r\n  noctuaFormConfig,\r\n  Article,\r\n  NoctuaLookupService,\r\n  withfrom,\r\n  ErrorLevel,\r\n  ErrorType\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { withDropdownData } from './with-dropdown.tokens';\r\nimport { WithDropdownOverlayRef } from './with-dropdown-ref';\r\nimport { NoctuaFormDialogService } from 'app/main/apps/noctua-form';\r\nimport { SparqlService } from '@noctua.sparql/services/sparql/sparql.service';\r\nimport { CdkDragDrop, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\r\n\r\n@Component({\r\n  selector: 'noc-with-dropdown',\r\n  templateUrl: './with-dropdown.component.html',\r\n  styleUrls: ['./with-dropdown.component.scss']\r\n})\r\n\r\nexport class NoctuaWithDropdownComponent implements OnInit, OnDestroy {\r\n  evidenceDBForm: FormGroup;\r\n  formControl: FormControl;\r\n\r\n  weeks = [];\r\n  connectedTo = [];\r\n\r\n  myForm: FormGroup;\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  indata = {\r\n    companies: [\r\n      {\r\n        projects: [\r\n          {\r\n            projectName: \"WB:145787\",\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n\r\n\r\n  options: string[] = withfrom;\r\n  filteredOptions: Observable<string[]>;\r\n\r\n\r\n\r\n  constructor(private fb: FormBuilder, public dialogRef: WithDropdownOverlayRef,\r\n    @Inject(withDropdownData) public data: any,\r\n    private noctuaLookupService: NoctuaLookupService,\r\n    private noctuaFormDialogService: NoctuaFormDialogService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n    this.formControl = data.formControl;\r\n\r\n    this.myForm = this.fb.group({\r\n      companies: this.fb.array([])\r\n    });\r\n    const withfroms = this.formControl.value;\r\n    if (withfroms) {\r\n      const groups = withfroms.split(',');\r\n      const items = groups.map((group) => {\r\n        return group.split('|');\r\n      })\r\n\r\n    }\r\n\r\n    //this.setCompanies();\r\n\r\n\r\n\r\n    this.weeks = [\r\n      {\r\n        id: 'week-1',\r\n        weeklist: [\r\n          \"item 1\",\r\n          \"item 2\",\r\n          \"item 3\",\r\n          \"item 4\",\r\n          \"item 5\"\r\n        ]\r\n      }, {\r\n        id: 'week-2',\r\n        weeklist: [\r\n          \"item 1\",\r\n          \"item 2\",\r\n          \"item 3\",\r\n          \"item 4\",\r\n          \"item 5\"\r\n        ]\r\n      }\r\n    ];\r\n    for (let week of this.weeks) {\r\n      this.connectedTo.push(week.id);\r\n    };\r\n  }\r\n\r\n  private _filter(value: string): string[] {\r\n    const filterValue = value.toLowerCase();\r\n\r\n    return this.options.filter(option => option.toLowerCase().includes(filterValue));\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.evidenceDBForm = this._createEvidenceDBForm();\r\n  }\r\n\r\n  clearValues() {\r\n\r\n  }\r\n\r\n  addNewCompany() {\r\n    let control = <FormArray>this.myForm.controls['companies'];\r\n    control.push(\r\n      this.fb.group({\r\n        company: [''],\r\n        projects: this.fb.array([])\r\n      })\r\n    )\r\n  }\r\n\r\n  deleteCompany(index) {\r\n    let control = <FormArray>this.myForm.controls['companies'];\r\n    control.removeAt(index)\r\n  }\r\n\r\n  addNewProject(control, value?) {\r\n    const projectName = new FormControl(value);\r\n    control.push(this.fb.group({ projectName: projectName }));\r\n\r\n    this._onValueChange(projectName)\r\n  }\r\n\r\n  deleteProject(control, index) {\r\n    control.removeAt(index)\r\n  }\r\n\r\n  setCompanies() {\r\n    let control = <FormArray>this.myForm.controls['companies'];\r\n    this.indata.companies.forEach(x => {\r\n      control.push(this.fb.group({\r\n        projects: this.setProjects(x)\r\n      }));\r\n    })\r\n  }\r\n\r\n  setProjects(x) {\r\n    let arr = new FormArray([]);\r\n    x.projects.forEach(y => {\r\n      this.addNewProject(arr, y.projectName);\r\n    });\r\n    return arr;\r\n  }\r\n\r\n  drop(event: CdkDragDrop<string[]>) {\r\n    if (event.previousContainer === event.container) {\r\n      moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\r\n    } else {\r\n      transferArrayItem(event.previousContainer.data,\r\n        event.container.data,\r\n        event.previousIndex,\r\n        event.currentIndex);\r\n    }\r\n  }\r\n\r\n  save() {\r\n    const self = this;\r\n    const errors = [];\r\n    let canSave = true;\r\n\r\n    const withs = this.myForm.value.companies.map((project) => {\r\n      return project.projects.map((item) => {\r\n        if (!item.projectName.includes(':')) {\r\n          const error = new ActivityError(ErrorLevel.error, ErrorType.general, `${item.projectName} wrong format, Did you forget ':'`);\r\n          errors.push(error);\r\n          canSave = false;\r\n        }\r\n        return item.projectName;\r\n      }).join('|');\r\n    }).join(',');\r\n\r\n\r\n    /*   if (accession.trim() === '') {\r\n        const error = new ActivityError(ErrorLevel.error, ErrorType.general,  `${db.name} accession is required`);\r\n        errors.push(error);\r\n        self.noctuaFormDialogService.openActivityErrorsDialog(errors);\r\n        canSave = false;\r\n      } */\r\n\r\n    if (canSave) {\r\n      this.formControl.setValue(withs);\r\n      this.close();\r\n    } else {\r\n      self.noctuaFormDialogService.openActivityErrorsDialog(errors);\r\n    }\r\n  }\r\n\r\n  cancelEvidenceDb() {\r\n    this.evidenceDBForm.controls['accession'].setValue('');\r\n  }\r\n\r\n  private _createEvidenceDBForm() {\r\n    return new FormGroup({\r\n      db: new FormControl(this.noctuaFormConfigService.evidenceDBs.selected),\r\n      accession: new FormControl('',\r\n        [\r\n          Validators.required,\r\n        ])\r\n    });\r\n  }\r\n\r\n  private _onValueChange(formControl: FormControl) {\r\n    const self = this;\r\n\r\n    this.filteredOptions = formControl.valueChanges\r\n      .pipe(\r\n        takeUntil(this._unsubscribeAll),\r\n        distinctUntilChanged(),\r\n        debounceTime(400),\r\n        startWith(''),\r\n        map(value => this._filter(value))\r\n      );\r\n  }\r\n\r\n  close() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<form [formGroup]=\"myForm\" novalidate class=\"pl-8 pr-8 w-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div formArrayName=\"companies\" class=\"noc-form-secion w-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\"\r\n    noctuaPerfectScrollbar>\r\n    <!--     <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <mat-form-field appearance=\"outline\" fxFlex=\"100px\" class=\"noc-sm  mr-12\">\r\n        <mat-select placeholder=\"\" formControlName=\"db\">\r\n          <mat-option *ngFor=\"let evidenceDB of noctuaFormConfigService.evidenceDBs.options\" [value]=\"evidenceDB\">\r\n            {{evidenceDB.label}}\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n      <mat-form-field appearance=\"outline\" fxFlex=\"\" class=\"noc-sm w-100-p\">\r\n        <input matInput formControlName=\"accession\" type=\"text\" placeholder=\"Accession\" autocomplete=\"off\">\r\n      </mat-form-field>\r\n      <button mat-icon-button (click)=\"add()\">\r\n        <mat-icon>add</mat-icon>\r\n      </button>\r\n      <button mat-icon-button (click)=\"remove()\">\r\n        <mat-icon>check_circle</mat-icon>\r\n      </button>\r\n    </div>\r\n    <div class=\"w-100-p\" ngFor=\"let item of myForm.get('items').controls; let i=index;\">\r\n      <div class=\"drag-container\">\r\n        <div class=\"section-heading\">Week {{week.id}}</div>\r\n        <div cdkDropList id=\"{{week.id}}\" [cdkDropListData]=\"week.weeklist\" [cdkDropListConnectedTo]=\"connectedTo\"\r\n          class=\"item-list\" (cdkDropListDropped)=\"drop($event)\">\r\n          <div class=\"item-box\" *ngFor=\"let weekItem of week.weeklist\" cdkDrag>\r\n            <mat-form-field appearance=\"outline\" fxFlex=\"\" class=\"noc-sm w-100-p\">\r\n              <input matInput type=\"text\" [value]=\"weekItem\" (ngModel)=\"weekItem\" placeholder=\"Accession\"\r\n                autocomplete=\"off\">\r\n            </mat-form-field>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div> -->\r\n\r\n    <div class=\"noc-with-group\" *ngFor=\"let comp of myForm.get('companies')?.controls; let i=index\">\r\n      <div [formGroupName]=\"i\">\r\n        <div formArrayName=\"projects\">\r\n          <div *ngFor=\"let project of comp.get('projects').controls; let j=index\">\r\n            <div [formGroupName]=\"j\">\r\n              <mat-form-field appearance=\"outline\" fxFlex=\"\" class=\"noc-sm w-100-p\">\r\n                <input matInput formControlName=\"projectName\" type=\"text\" placeholder=\"Accession\" autocomplete=\"off\"\r\n                  [matAutocomplete]=\"withAuto\">\r\n              </mat-form-field>\r\n              <button mat-icon-button (click)=\"addNewProject(comp.controls.projects)\">\r\n                <mat-icon>add</mat-icon>\r\n              </button>\r\n              <button mat-icon-button (click)=\"deleteProject(comp.controls.projects, j)\">\r\n                <mat-icon>delete_forever</mat-icon>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-16\" *ngIf=\"comp.get('projects').controls.length===0\">\r\n            <a (click)=\"addNewProject(comp.controls.projects)\">\r\n              Add With/From\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <mat-autocomplete #withAuto=\"matAutocomplete\">\r\n      <mat-option *ngFor=\"let option of filteredOptions | async\" [value]=\"option\">\r\n        {{option}}\r\n      </mat-option>\r\n    </mat-autocomplete>\r\n    <button mat-button (click)=\"addNewCompany()\">Add Group</button><br><br>\r\n\r\n\r\n\r\n    <!--   <pre>{{myForm.value | json}}</pre> -->\r\n  </div>\r\n  <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"end center\">\r\n    <button mat-icon-button (click)=\"close()\">\r\n      Cancel\r\n    </button>\r\n    <button mat-icon-button color=\"primary\" (click)=\"save()\">\r\n      Ok\r\n    </button>\r\n  </div>\r\n</form>\r\n","import { InjectionToken } from '@angular/core';\r\n\r\nexport const withDropdownData = new InjectionToken<any>('withDropdownData');","export enum EditorCategory {\r\n  relationship = 'relationship',\r\n  term = 'term',\r\n  evidence = 'evidence',\r\n  reference = 'reference',\r\n  with = 'with',\r\n  evidenceAll = 'evidenceAll',\r\n  all = 'all'\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NoctuaSharedModule } from '@noctua/shared.module';\r\nimport { NoctuaInlineEditorComponent } from './inline-editor/inline-editor.component';\r\nimport { NoctuaEditorDropdownComponent } from './inline-editor/editor-dropdown/editor-dropdown.component';\r\nimport { NoctuaReferenceDropdownComponent } from './inline-reference/reference-dropdown/reference-dropdown.component';\r\nimport { NoctuaWithDropdownComponent } from './inline-with/with-dropdown/with-dropdown.component';\r\nimport { NoctuaDetailDropdownComponent } from './inline-detail/detail-dropdown/detail-dropdown.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        NoctuaDetailDropdownComponent,\r\n        NoctuaInlineEditorComponent,\r\n        NoctuaEditorDropdownComponent,\r\n        NoctuaReferenceDropdownComponent,\r\n        NoctuaWithDropdownComponent,\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        RouterModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        NoctuaSharedModule\r\n    ],\r\n    exports: [\r\n        NoctuaDetailDropdownComponent,\r\n        NoctuaInlineEditorComponent,\r\n        NoctuaReferenceDropdownComponent,\r\n        NoctuaWithDropdownComponent\r\n    ]\r\n})\r\nexport class NoctuaEditorModule {\r\n}\r\n","import { cloneDeep } from \"lodash\";\r\nimport { ShexShapeAssociation } from \"../shape\";\r\nimport shapeTerms from './../shape-terms.json'\r\n\r\nexport class DataUtils {\r\n\r\n  public static toTitleCase(str) {\r\n    str = str.toLowerCase().split(' ');\r\n    for (var i = 0; i < str.length; i++) {\r\n      str[i] = str[i].charAt(0).toUpperCase() + str[i].slice(1);\r\n    }\r\n    return str.join(' ');\r\n  }\r\n\r\n  public static genTermLookupTable() {\r\n    const result = {};\r\n    shapeTerms.forEach((term) => {\r\n      result[term.id] = term\r\n    })\r\n\r\n    return result;\r\n  }\r\n\r\n  public static getSubjectShapes(shapes: ShexShapeAssociation[], subjectId): ShexShapeAssociation[] {\r\n    return shapes.filter(shape => {\r\n      return shape.subject === subjectId && !shape.exclude_from_extensions;\r\n    });\r\n  }\r\n\r\n  public static getPredicates(shapes: ShexShapeAssociation[]): string[] {\r\n    const predicates = shapes.map((shape) => {\r\n      return shape.predicate\r\n    });\r\n\r\n    return [...new Set(predicates)]\r\n\r\n  }\r\n\r\n  public static getRangeBySubject(shapes: ShexShapeAssociation[], subjectId: string, predicateId: string): ShexShapeAssociation {\r\n    return shapes.find(shape => {\r\n      return shape.subject === subjectId &&\r\n        shape.predicate === predicateId &&\r\n        !shape.exclude_from_extensions;\r\n    });\r\n  }\r\n\r\n  public static getRangeLabels(shapes: ShexShapeAssociation[], lookupTable): string[] {\r\n    const predicates = shapes.map((shape) => {\r\n      const range = shape.object.map((term) => {\r\n        return lookupTable[term]?.label;\r\n      })\r\n\r\n      const result = cloneDeep(lookupTable[shape.predicate])\r\n      result['rangeLabel'] = range.join(', ');\r\n\r\n      return result;\r\n\r\n    });\r\n\r\n    return predicates;\r\n\r\n  }\r\n}","import {\r\n    ActivityNode,\r\n    ActivityNodeType,\r\n    ActivityNodeDisplay,\r\n    GoCategory,\r\n    categoryToClosure\r\n} from './../../models/activity/activity-node';\r\nimport { EntityLookup } from './../..//models/activity/entity-lookup';\r\nimport { Predicate } from './../../models/activity/predicate';\r\n\r\nconst baseRequestParams = {\r\n    defType: 'edismax',\r\n    indent: 'on',\r\n    qt: 'standard',\r\n    wt: 'json',\r\n    rows: '50',\r\n    start: '0',\r\n    packet: '1',\r\n    callback_type: 'search',\r\n    //fl: ['annotation_class'],\r\n    qf: [\r\n        'annotation_class^3',\r\n        'annotation_class_label_searchable^5.5',\r\n        'description_searchable^1',\r\n        'comment_searchable^0.5',\r\n        'synonym_searchable^1',\r\n        'alternate_id^1',\r\n        'isa_closure^1',\r\n        'isa_closure_label_searchable^1'\r\n    ],\r\n    _: Date.now()\r\n};\r\n\r\nexport const ObsoleteTerm = {\r\n    id: null,\r\n    category: 'true',\r\n    categoryType: 'is_obsolete',\r\n} as GoCategory;\r\n\r\nexport const GoProteinContainingComplex = {\r\n    id: ActivityNodeType.GoProteinContainingComplex,\r\n    category: 'GO:0032991',\r\n    categoryType: 'isa_closure',\r\n} as GoCategory;\r\n\r\nexport const GoCellularComponent = {\r\n    id: ActivityNodeType.GoCellularComponent,\r\n    category: 'GO:0005575',\r\n    categoryType: 'isa_closure',\r\n    suffix: `OR NOT ${GoProteinContainingComplex.categoryType}:\"${GoProteinContainingComplex.category}\"`,\r\n} as GoCategory;\r\n\r\nexport const GoAllCellularComponent = {\r\n    id: ActivityNodeType.GoCellularComponent,\r\n    category: 'GO:0005575',\r\n    categoryType: 'isa_closure',\r\n} as GoCategory;\r\n\r\nexport const GoCellularAnatomical = {\r\n    id: ActivityNodeType.GoCellularAnatomical,\r\n    category: 'GO:0110165',\r\n    categoryType: 'isa_closure',\r\n} as GoCategory;\r\n\r\nexport const GoBiologicalProcess = {\r\n    id: ActivityNodeType.GoBiologicalProcess,\r\n    category: 'GO:0008150',\r\n    categoryType: 'isa_closure',\r\n} as GoCategory;\r\n\r\nexport const GoMolecularFunction = {\r\n    id: ActivityNodeType.GoMolecularFunction,\r\n    category: 'GO:0003674',\r\n    categoryType: 'isa_closure',\r\n} as GoCategory;\r\n\r\nexport const GoMolecularEntity = {\r\n    id: ActivityNodeType.GoMolecularEntity,\r\n    category: 'CHEBI:33695',\r\n    categoryType: 'isa_closure',\r\n} as GoCategory;\r\n\r\nexport const GoChemicalEntity = {\r\n    id: ActivityNodeType.GoChemicalEntity,\r\n    category: 'CHEBI:24431',\r\n    categoryType: 'isa_closure',\r\n} as GoCategory;\r\n\r\nexport const GoEvidence = {\r\n    id: ActivityNodeType.GoEvidence,\r\n    category: 'ECO:0000352',\r\n    categoryType: 'isa_closure',\r\n} as GoCategory;\r\n\r\nexport const GoEvidenceNode = {\r\n    id: ActivityNodeType.GoEvidence,\r\n    category: 'ECO:0000000',\r\n    categoryType: 'isa_closure',\r\n} as GoCategory;\r\n\r\nexport const GoCellTypeEntity = {\r\n    id: ActivityNodeType.GoCellTypeEntity,\r\n    category: 'CL:0000003',\r\n    categoryType: 'isa_closure',\r\n} as GoCategory;\r\n\r\nexport const GoAnatomicalEntity = {\r\n    id: ActivityNodeType.GoAnatomicalEntity,\r\n    category: 'CARO:0000000',\r\n    categoryType: 'isa_closure',\r\n} as GoCategory;\r\n\r\nexport const GoOrganism = {\r\n    id: ActivityNodeType.GoOrganism,\r\n    category: 'NCBITaxon',\r\n    categoryType: 'idspace',\r\n} as GoCategory;\r\n\r\nexport const GoBiologicalPhase = {\r\n    id: ActivityNodeType.GoBiologicalPhase,\r\n    category: 'GO:0044848',\r\n    categoryType: 'isa_closure',\r\n} as GoCategory;\r\n\r\nexport const UberonStage = {\r\n    id: ActivityNodeType.UberonStage,\r\n    category: 'UBERON:0000105',\r\n    categoryType: 'isa_closure',\r\n} as GoCategory;\r\n\r\nexport const generateBaseTerm = (goCategories: GoCategory[], override: Partial<ActivityNodeDisplay> = {}): ActivityNode => {\r\n    const activityNode = new ActivityNode();\r\n    const predicate = new Predicate(null);\r\n    const fqTermCategory = categoryToClosure(goCategories);\r\n    const fqEvidenceCategory = categoryToClosure([GoEvidence]);\r\n\r\n    predicate.setEvidenceMeta('eco', Object.assign({}, JSON.parse(JSON.stringify(baseRequestParams)), {\r\n        fq: [\r\n            'document_category:\"ontology_class\"',\r\n            fqEvidenceCategory\r\n        ],\r\n    }));\r\n\r\n    activityNode.predicate = predicate;\r\n\r\n    if (goCategories && goCategories.length > 0) {\r\n        activityNode.termLookup = new EntityLookup(null,\r\n            Object.assign({}, JSON.parse(JSON.stringify(baseRequestParams)), {\r\n                fq: [\r\n                    'document_category:\"ontology_class\"',\r\n                    fqTermCategory\r\n                ],\r\n            })\r\n        );\r\n    }\r\n\r\n    activityNode.overrideValues(override);\r\n\r\n    return activityNode;\r\n};\r\n\r\n\r\n\r\nexport const setEvidenceLookup = (predicate: Predicate): void => {\r\n    const fqEvidenceCategory = categoryToClosure([GoEvidence]);\r\n\r\n    predicate.setEvidenceMeta('eco', Object.assign({}, JSON.parse(JSON.stringify(baseRequestParams)), {\r\n        fq: [\r\n            'document_category:\"ontology_class\"',\r\n            fqEvidenceCategory\r\n        ],\r\n    }));\r\n};\r\n\r\n","import { noctuaFormConfig } from './../../noctua-form-config';\r\n\r\nimport * as EntityDefinition from './entity-definition';\r\nimport * as ShapeDescription from './../../data/config/shape-definition';\r\nimport { each, } from 'lodash';\r\nimport { ActivityNodeType, ActivityNodeDisplay, ActivityNode, GoCategory } from './../../models/activity/activity-node';\r\nimport { Entity } from '../../models/activity/entity';\r\nimport { Predicate } from '../../models/activity/predicate';\r\nimport { ActivityType, Activity } from '../../models/activity/activity';\r\nimport { v4 as uuid } from 'uuid';\r\nimport shexJson from './../shapes.json'\r\nimport shapeTerms from './../shape-terms.json'\r\nimport { DataUtils } from './data-utils';\r\nimport { ShexShapeAssociation } from '../shape';\r\n\r\n\r\nexport interface ActivityDescription {\r\n    type: ActivityType;\r\n    isComplex?: boolean;\r\n    nodes: { [key: string]: ActivityNodeDisplay };\r\n    triples: { subject: string, object: string, predicate: any }[];\r\n    overrides?: { [key: string]: ActivityNodeDisplay };\r\n}\r\n\r\nexport interface InsertNodeDescription {\r\n    node: ActivityNodeDisplay;\r\n    predicate: Entity;\r\n}\r\n\r\nconst getNodeDefaults = (subjectNode: ActivityNode, predExpr: ShapeDescription.PredicateExpression, ranges: GoCategory[]) => {\r\n    const node = {\r\n        type: ActivityNodeType.GoMolecularEntity,\r\n        category: ranges,\r\n        label: predExpr.label,\r\n        canDelete: true,\r\n        displaySection: subjectNode.displaySection,\r\n        displayGroup: subjectNode.displayGroup,\r\n        weight: subjectNode.weight + 2\r\n    } as ActivityNodeDisplay\r\n\r\n    return node\r\n}\r\n\r\nexport const activityUnitBaseDescription: ActivityDescription = {\r\n    type: ActivityType.default,\r\n    nodes: {\r\n        [ActivityNodeType.GoMolecularFunction]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoMolecularFunction.id,\r\n            type: ActivityNodeType.GoMolecularFunction,\r\n            category: [EntityDefinition.GoMolecularFunction],\r\n            label: 'Molecular Function',\r\n            aspect: 'F',\r\n            displaySection: noctuaFormConfig.displaySection.fd,\r\n            displayGroup: noctuaFormConfig.displayGroup.mf,\r\n            skipEvidenceCheck: true,\r\n            canDelete: false,\r\n            termRequired: true,\r\n            weight: 1\r\n        },\r\n    },\r\n    triples: [],\r\n};\r\n\r\nexport const bpOnlyAnnotationBaseDescription: ActivityDescription = {\r\n    type: ActivityType.bpOnly,\r\n    isComplex: true,\r\n    nodes: {\r\n        [ActivityNodeType.GoMolecularFunction]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoMolecularFunction.id,\r\n            type: ActivityNodeType.GoMolecularFunction,\r\n            category: [EntityDefinition.GoMolecularFunction],\r\n            label: 'Molecular Function',\r\n            aspect: 'F',\r\n            displaySection: noctuaFormConfig.displaySection.fd,\r\n            displayGroup: noctuaFormConfig.displayGroup.mf,\r\n            skipEvidenceCheck: true,\r\n            visible: false,\r\n            canDelete: false,\r\n            weight: 1\r\n        }\r\n    },\r\n    triples: []\r\n};\r\n\r\nexport const ccOnlyAnnotationBaseDescription: ActivityDescription = {\r\n    type: ActivityType.ccOnly,\r\n    nodes: {\r\n        [ActivityNodeType.GoMolecularEntity]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoMolecularEntity.id,\r\n            type: ActivityNodeType.GoMolecularEntity,\r\n            category: [EntityDefinition.GoMolecularEntity, EntityDefinition.GoProteinContainingComplex],\r\n            label: 'Gene Product',\r\n            skipEvidenceCheck: true,\r\n            termRequired: true,\r\n            canDelete: false,\r\n            displaySection: noctuaFormConfig.displaySection.gp,\r\n            displayGroup: noctuaFormConfig.displayGroup.gp,\r\n            weight: 1\r\n        }\r\n    },\r\n    triples: [],\r\n};\r\n\r\nexport const proteinComplexBaseDescription: ActivityDescription = {\r\n    type: ActivityType.proteinComplex,\r\n    nodes: {\r\n        [ActivityNodeType.GoMolecularFunction]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoMolecularFunction.id,\r\n            type: ActivityNodeType.GoMolecularFunction,\r\n            category: [EntityDefinition.GoMolecularFunction],\r\n            label: 'Molecular Function',\r\n            aspect: 'F',\r\n            displaySection: noctuaFormConfig.displaySection.fd,\r\n            displayGroup: noctuaFormConfig.displayGroup.mf,\r\n            skipEvidenceCheck: true,\r\n            visible: false,\r\n            canDelete: false,\r\n            weight: 1\r\n        }\r\n    },\r\n    triples: [],\r\n};\r\n\r\nexport const moleculeBaseDescription: ActivityDescription = {\r\n    type: ActivityType.molecule,\r\n    nodes: {\r\n        [ActivityNodeType.GoChemicalEntity]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoChemicalEntity.id,\r\n            type: ActivityNodeType.GoChemicalEntity,\r\n            category: [EntityDefinition.GoChemicalEntity],\r\n            label: 'Molecule',\r\n            skipEvidenceCheck: true,\r\n            showEvidence: false,\r\n            termRequired: true,\r\n            canDelete: false,\r\n            displaySection: noctuaFormConfig.displaySection.gp,\r\n            displayGroup: noctuaFormConfig.displayGroup.gp,\r\n            weight: 1\r\n        }\r\n    },\r\n    triples: [],\r\n};\r\n\r\n\r\nexport const activityUnitDescription: ActivityDescription = {\r\n    type: ActivityType.default,\r\n    nodes: {\r\n        [ActivityNodeType.GoMolecularFunction]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoMolecularFunction.id,\r\n            type: ActivityNodeType.GoMolecularFunction,\r\n            category: [EntityDefinition.GoMolecularFunction],\r\n            label: 'Molecular Function',\r\n            aspect: 'F',\r\n            displaySection: noctuaFormConfig.displaySection.fd,\r\n            displayGroup: noctuaFormConfig.displayGroup.mf,\r\n            termRequired: true,\r\n            canDelete: false,\r\n            weight: 1\r\n        },\r\n        [ActivityNodeType.GoMolecularEntity]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoMolecularEntity.id,\r\n            type: ActivityNodeType.GoMolecularEntity,\r\n            category: [EntityDefinition.GoMolecularEntity, EntityDefinition.GoProteinContainingComplex],\r\n            label: 'enabled by (GP)',\r\n            displaySection: noctuaFormConfig.displaySection.gp,\r\n            displayGroup: noctuaFormConfig.displayGroup.gp,\r\n            termRequired: true,\r\n            skipEvidenceCheck: true,\r\n            canDelete: false,\r\n            weight: 2\r\n        },\r\n        [ActivityNodeType.GoBiologicalProcess]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoBiologicalProcess.id,\r\n            type: ActivityNodeType.GoBiologicalProcess,\r\n            category: [EntityDefinition.GoBiologicalProcess],\r\n            label: '(MF) part of (BP)',\r\n            aspect: 'P',\r\n            displaySection: noctuaFormConfig.displaySection.fd,\r\n            displayGroup: noctuaFormConfig.displayGroup.bp,\r\n            weight: 10\r\n        },\r\n        [ActivityNodeType.GoCellularComponent]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoCellularComponent.id,\r\n            type: ActivityNodeType.GoCellularComponent,\r\n            category: [EntityDefinition.GoCellularComponent],\r\n            label: '(MF) occurs in (CC)',\r\n            aspect: 'C',\r\n            displaySection: noctuaFormConfig.displaySection.fd,\r\n            displayGroup: noctuaFormConfig.displayGroup.cc,\r\n            weight: 20\r\n        }\r\n    },\r\n    triples: [{\r\n        subject: ActivityNodeType.GoMolecularFunction,\r\n        object: ActivityNodeType.GoMolecularEntity,\r\n        predicate: noctuaFormConfig.edge.enabledBy\r\n    }, {\r\n        subject: ActivityNodeType.GoMolecularFunction,\r\n        object: ActivityNodeType.GoBiologicalProcess,\r\n        predicate: noctuaFormConfig.edge.partOf\r\n    }, {\r\n        subject: ActivityNodeType.GoMolecularFunction,\r\n        object: ActivityNodeType.GoCellularComponent,\r\n        predicate: noctuaFormConfig.edge.occursIn\r\n    }],\r\n};\r\n\r\nexport const bpOnlyAnnotationDescription: ActivityDescription = {\r\n    type: ActivityType.bpOnly,\r\n    nodes: {\r\n        [ActivityNodeType.GoMolecularFunction]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoMolecularFunction.id,\r\n            type: ActivityNodeType.GoMolecularFunction,\r\n            category: [EntityDefinition.GoMolecularFunction],\r\n            label: 'Molecular Function',\r\n            aspect: 'F',\r\n            displaySection: noctuaFormConfig.displaySection.fd,\r\n            displayGroup: noctuaFormConfig.displayGroup.mf,\r\n            visible: false,\r\n            canDelete: false,\r\n            weight: 1\r\n        },\r\n        [ActivityNodeType.GoMolecularEntity]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoMolecularEntity.id,\r\n            type: ActivityNodeType.GoMolecularEntity,\r\n            category: [EntityDefinition.GoMolecularEntity, EntityDefinition.GoProteinContainingComplex],\r\n            label: 'enabled by (GP)',\r\n            displaySection: noctuaFormConfig.displaySection.gp,\r\n            displayGroup: noctuaFormConfig.displayGroup.gp,\r\n            termRequired: true,\r\n            skipEvidenceCheck: true,\r\n            canDelete: false,\r\n            weight: 2\r\n        },\r\n\r\n        [ActivityNodeType.GoBiologicalProcess]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoBiologicalProcess.id,\r\n            type: ActivityNodeType.GoBiologicalProcess,\r\n            category: [EntityDefinition.GoBiologicalProcess],\r\n            label: 'Biological Process',\r\n            aspect: 'P',\r\n            displaySection: noctuaFormConfig.displaySection.fd,\r\n            displayGroup: noctuaFormConfig.displayGroup.bp,\r\n            termRequired: true,\r\n            weight: 10\r\n        },\r\n        [ActivityNodeType.GoCellularComponent]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoCellularComponent.id,\r\n            type: ActivityNodeType.GoCellularComponent,\r\n            category: [EntityDefinition.GoCellularComponent],\r\n            label: 'occurs in (CC)',\r\n            aspect: 'C',\r\n            displaySection: noctuaFormConfig.displaySection.fd,\r\n            displayGroup: noctuaFormConfig.displayGroup.cc,\r\n            weight: 20\r\n        }\r\n    },\r\n    triples: [{\r\n        subject: ActivityNodeType.GoMolecularFunction,\r\n        object: ActivityNodeType.GoMolecularEntity,\r\n        predicate: noctuaFormConfig.edge.enabledBy\r\n    }, {\r\n        subject: ActivityNodeType.GoMolecularFunction,\r\n        object: ActivityNodeType.GoBiologicalProcess,\r\n        predicate: noctuaFormConfig.edge.causallyUpstreamOfOrWithin\r\n    }, {\r\n        subject: ActivityNodeType.GoBiologicalProcess,\r\n        object: ActivityNodeType.GoCellularComponent,\r\n        predicate: noctuaFormConfig.edge.occursIn\r\n    }],\r\n    overrides: {\r\n        [ActivityNodeType.GoBiologicalProcess]: <ActivityNodeDisplay>{\r\n            label: 'Biological Process',\r\n\r\n        },\r\n        [ActivityNodeType.GoCellularComponent]: <ActivityNodeDisplay>{\r\n\r\n        }\r\n    }\r\n};\r\n\r\nexport const ccOnlyAnnotationDescription: ActivityDescription = {\r\n    type: ActivityType.ccOnly,\r\n    nodes: {\r\n        [ActivityNodeType.GoMolecularEntity]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoMolecularEntity.id,\r\n            type: ActivityNodeType.GoMolecularEntity,\r\n            category: [EntityDefinition.GoMolecularEntity, EntityDefinition.GoProteinContainingComplex],\r\n            label: 'Gene Product',\r\n            skipEvidenceCheck: true,\r\n            termRequired: true,\r\n            canDelete: false,\r\n            displaySection: noctuaFormConfig.displaySection.gp,\r\n            displayGroup: noctuaFormConfig.displayGroup.gp,\r\n            weight: 1\r\n        },\r\n        /*[ActivityNodeType.GoCellularComponent]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoCellularComponent.id,\r\n            type: ActivityNodeType.GoCellularComponent,\r\n            category: [EntityDefinition.GoCellularComponent],\r\n            aspect: 'C',\r\n            termRequired: true,\r\n            label: 'part of (CC)',\r\n            displaySection: noctuaFormConfig.displaySection.fd,\r\n            displayGroup: noctuaFormConfig.displayGroup.cc,\r\n\r\n            weight: 2\r\n        }*/\r\n    },\r\n    triples: [\r\n        /*{\r\n        subject: ActivityNodeType.GoMolecularEntity,\r\n        object: ActivityNodeType.GoCellularComponent,\r\n        predicate: noctuaFormConfig.edge.partOf\r\n    }*/],\r\n};\r\n\r\nexport const proteinComplexDescription: ActivityDescription = {\r\n    type: ActivityType.proteinComplex,\r\n    isComplex: true,\r\n    nodes: {\r\n        [ActivityNodeType.GoProteinContainingComplex]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoProteinContainingComplex.id,\r\n            type: ActivityNodeType.GoProteinContainingComplex,\r\n            category: [EntityDefinition.GoProteinContainingComplex],\r\n            label: 'Protein Complex',\r\n            skipEvidenceCheck: true,\r\n            termRequired: true,\r\n            canDelete: false,\r\n            displaySection: noctuaFormConfig.displaySection.gp,\r\n            displayGroup: noctuaFormConfig.displayGroup.gp,\r\n            weight: 2\r\n        },\r\n        [ActivityNodeType.GoMolecularFunction]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoMolecularFunction.id,\r\n            type: ActivityNodeType.GoMolecularFunction,\r\n            category: [EntityDefinition.GoMolecularFunction],\r\n            label: 'Molecular Function',\r\n            aspect: 'F',\r\n            displaySection: noctuaFormConfig.displaySection.fd,\r\n            displayGroup: noctuaFormConfig.displayGroup.mf,\r\n            termRequired: true,\r\n            canDelete: false,\r\n            weight: 1\r\n        },\r\n        [ActivityNodeType.GoBiologicalProcess]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoBiologicalProcess.id,\r\n            type: ActivityNodeType.GoBiologicalProcess,\r\n            category: [EntityDefinition.GoBiologicalProcess],\r\n            label: '(MF) part of (BP)',\r\n            aspect: 'P',\r\n            displaySection: noctuaFormConfig.displaySection.fd,\r\n            displayGroup: noctuaFormConfig.displayGroup.bp,\r\n            weight: 10\r\n        },\r\n        [ActivityNodeType.GoCellularComponent]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoCellularComponent.id,\r\n            type: ActivityNodeType.GoCellularComponent,\r\n            category: [EntityDefinition.GoCellularComponent],\r\n            label: '(MF) occurs in (CC)',\r\n            aspect: 'C',\r\n            displaySection: noctuaFormConfig.displaySection.fd,\r\n            displayGroup: noctuaFormConfig.displayGroup.cc,\r\n            weight: 20\r\n        }\r\n    },\r\n    triples: [{\r\n        subject: ActivityNodeType.GoMolecularFunction,\r\n        object: ActivityNodeType.GoProteinContainingComplex,\r\n        predicate: noctuaFormConfig.edge.enabledBy\r\n    }, {\r\n        subject: ActivityNodeType.GoMolecularFunction,\r\n        object: ActivityNodeType.GoBiologicalProcess,\r\n        predicate: noctuaFormConfig.edge.partOf\r\n    }, {\r\n        subject: ActivityNodeType.GoMolecularFunction,\r\n        object: ActivityNodeType.GoCellularComponent,\r\n        predicate: noctuaFormConfig.edge.occursIn\r\n    }],\r\n};\r\n\r\nexport const moleculeDescription: ActivityDescription = {\r\n    type: ActivityType.molecule,\r\n    nodes: {\r\n        [ActivityNodeType.GoChemicalEntity]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoChemicalEntity.id,\r\n            type: ActivityNodeType.GoChemicalEntity,\r\n            category: [EntityDefinition.GoChemicalEntity],\r\n            label: 'Molecule',\r\n            skipEvidenceCheck: true,\r\n            termRequired: true,\r\n            canDelete: false,\r\n            displaySection: noctuaFormConfig.displaySection.gp,\r\n            displayGroup: noctuaFormConfig.displayGroup.gp,\r\n            weight: 1\r\n        },\r\n        [ActivityNodeType.GoCellularComponent]: <ActivityNodeDisplay>{\r\n            id: EntityDefinition.GoCellularComponent.id,\r\n            type: ActivityNodeType.GoCellularComponent,\r\n            category: [EntityDefinition.GoCellularComponent],\r\n            label: '(Chemical) located in (CC)',\r\n            aspect: 'C',\r\n            displaySection: noctuaFormConfig.displaySection.fd,\r\n            displayGroup: noctuaFormConfig.displayGroup.cc,\r\n            weight: 20\r\n        }\r\n    },\r\n    triples: [{\r\n        subject: ActivityNodeType.GoChemicalEntity,\r\n        object: ActivityNodeType.GoCellularComponent,\r\n        predicate: noctuaFormConfig.edge.locatedIn\r\n    }],\r\n};\r\n\r\nexport const createActivity = (activityDescription: ActivityDescription): Activity => {\r\n    const self = this;\r\n    const activity = new Activity();\r\n\r\n    activity.activityType = activityDescription.type;\r\n\r\n    each(activityDescription.nodes, (node: ActivityNodeDisplay) => {\r\n        const activityNode = EntityDefinition.generateBaseTerm(node.category, node);\r\n\r\n        activity.addNode(activityNode);\r\n    });\r\n\r\n    each(activityDescription.triples, (triple) => {\r\n        const objectNode = activity.getNode(triple.object);\r\n\r\n        if (objectNode) {\r\n            const predicate: Predicate = objectNode.predicate;\r\n\r\n            predicate.edge = Entity.createEntity(triple.predicate);\r\n            objectNode.treeLevel++;\r\n            activity.addEdgeById(triple.subject, triple.object, predicate);\r\n        }\r\n    });\r\n\r\n    //activity.postRunUpdate();\r\n    activity.updateEntityInsertMenu();\r\n    activity.enableSubmit();\r\n    return activity;\r\n};\r\n\r\nexport const createActivityShex = (activityDescription: ActivityDescription): Activity => {\r\n    const self = this;\r\n    const activity = new Activity();\r\n\r\n    activity.activityType = activityDescription.type;\r\n\r\n    each(activityDescription.nodes, (node: ActivityNodeDisplay) => {\r\n        const activityNode = EntityDefinition.generateBaseTerm(node.category, node);\r\n\r\n        activity.addNode(activityNode);\r\n    });\r\n\r\n    each(activityDescription.triples, (triple) => {\r\n        const objectNode = activity.getNode(triple.object);\r\n\r\n        if (objectNode) {\r\n            const predicate: Predicate = objectNode.predicate;\r\n\r\n            predicate.edge = Entity.createEntity(triple.predicate);\r\n            objectNode.treeLevel++;\r\n            activity.addEdgeById(triple.subject, triple.object, predicate);\r\n        }\r\n    });\r\n\r\n    //activity.postRunUpdate();\r\n    activity.updateShapeMenuShex();\r\n    activity.enableSubmit();\r\n    return activity;\r\n};\r\n\r\nexport const insertNode = (activity: Activity, subjectNode: ActivityNode, nodeDescription: InsertNodeDescription): ActivityNode => {\r\n    const objectNode = EntityDefinition.generateBaseTerm(nodeDescription.node.category, nodeDescription.node);\r\n\r\n    objectNode.id = activity.exist(nodeDescription.node.type) ?\r\n        `${nodeDescription.node.type}'@@'${uuid()}` :\r\n        nodeDescription.node.type;\r\n\r\n    objectNode.subjectId = subjectNode.id\r\n\r\n    objectNode.type = nodeDescription.node.type;\r\n    activity.addNode(objectNode);\r\n    objectNode.treeLevel = subjectNode.treeLevel + 1;\r\n\r\n    const predicate: Predicate = activity.getNode(objectNode.id).predicate;\r\n    predicate.subjectId = subjectNode.id;\r\n    predicate.objectId = objectNode.id;\r\n    predicate.edge = Entity.createEntity(nodeDescription.predicate);\r\n\r\n    activity.updateEdges(subjectNode, objectNode, predicate);\r\n    activity.resetPresentation();\r\n    return objectNode;\r\n};\r\n\r\nexport const insertNodeShex = (activity: Activity,\r\n    subjectNode: ActivityNode,\r\n    predExpr: ShapeDescription.PredicateExpression): ActivityNode => {\r\n    const lookupTable = DataUtils.genTermLookupTable();\r\n    const shapes = shexJson.goshapes as ShexShapeAssociation[];\r\n\r\n    const ranges = []\r\n    subjectNode.category.forEach((category: GoCategory) => {\r\n        //const subjectShapes = DataUtils.getSubjectShapes(shapes, category.category);\r\n        console.log(category.category)\r\n        const shape = DataUtils.getRangeBySubject(shapes, category.category, predExpr.id);\r\n        if (shape) {\r\n            const range = shape.object.map(inNode => {\r\n                const node = lookupTable[inNode]\r\n                const category = new GoCategory()\r\n                category.category = node.id\r\n\r\n                return category;\r\n            })\r\n            ranges.push(...range)\r\n        }\r\n    })\r\n\r\n    const overrides = getNodeDefaults(subjectNode, predExpr, ranges)\r\n    const objectNode = EntityDefinition.generateBaseTerm(ranges, overrides);\r\n\r\n    objectNode.id = uuid()\r\n    objectNode.subjectId = subjectNode.id\r\n\r\n    // objectNode.type = nodeDescription.node.type;\r\n    activity.addNode(objectNode);\r\n    objectNode.treeLevel = subjectNode.treeLevel + 1;\r\n\r\n    const predicate: Predicate = activity.getNode(objectNode.id).predicate;\r\n    predicate.subjectId = subjectNode.id;\r\n    predicate.objectId = objectNode.id;\r\n    predicate.edge = Entity.createEntity(predExpr);\r\n\r\n    activity.updateEdges(subjectNode, objectNode, predicate);\r\n    activity.resetPresentation();\r\n    return objectNode;\r\n};\r\n","import { noctuaFormConfig } from './../../noctua-form-config';\r\nimport { Entity } from './../../models/activity/entity';\r\nimport * as EntityDefinition from './entity-definition';\r\nimport { ActivityNodeDisplay, ActivityNodeType } from './../../models/activity/activity-node';\r\nimport { cloneDeep, each, uniqWith } from 'lodash';\r\n\r\nimport shexJson from './../shapes.json'\r\nimport shapeTerms from './../shape-terms.json'\r\nimport { ShexShapeAssociation } from '../shape';\r\nimport { DataUtils } from './data-utils';\r\n\r\nexport enum CardinalityType {\r\n    none = 'none',\r\n    oneToOne = 'oneToOne',\r\n    oneToMany = 'oneToMany',\r\n}\r\n\r\nexport interface ShapeDescription {\r\n    id: string;\r\n    label: string;\r\n    node: ActivityNodeDisplay;\r\n    predicate: Entity;\r\n    cardinality: CardinalityType;\r\n}\r\n\r\nexport interface PredicateExpression {\r\n    id: string;\r\n    label: string;\r\n    cardinality: number;\r\n}\r\n\r\nconst addCausalEdges = (edges: Entity[]): ShapeDescription[] => {\r\n    const causalShapeDescriptions: ShapeDescription[] = [];\r\n\r\n    each(edges, (edge: Entity) => {\r\n        causalShapeDescriptions.push({\r\n            id: ActivityNodeType.GoBiologicalProcess,\r\n            node: <ActivityNodeDisplay>{\r\n                type: ActivityNodeType.GoBiologicalProcess,\r\n                category: [EntityDefinition.GoBiologicalProcess],\r\n                label: `MF ${edge.label} BP`,\r\n                aspect: 'P',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.bp,\r\n                isKey: true,\r\n                relationEditable: true,\r\n                weight: 10,\r\n            },\r\n            predicate: edge,\r\n            cardinality: CardinalityType.oneToOne\r\n        } as ShapeDescription);\r\n    });\r\n\r\n    return causalShapeDescriptions;\r\n};\r\n\r\nexport function compareRange(a, b) {\r\n    return a.id === b.id;\r\n}\r\n\r\nexport const getShexJson = (subjectIds: string[]) => {\r\n    const pred = []\r\n    const lookupTable = DataUtils.genTermLookupTable();\r\n    const shapes = shexJson.goshapes as ShexShapeAssociation[];\r\n    subjectIds.forEach((subjectId: string) => {\r\n        const subjectShapes = DataUtils.getSubjectShapes(shapes, subjectId);\r\n        if (subjectShapes) {\r\n            const predicates = DataUtils.getPredicates(shapes);\r\n            const entities = DataUtils.getRangeLabels(subjectShapes, lookupTable)\r\n\r\n            pred.push(...entities)\r\n        }\r\n    });\r\n\r\n    return uniqWith(pred, compareRange) as any\r\n\r\n    // return pred\r\n}\r\n\r\n\r\n// ORDER MATTERS A LOT\r\n// What can you insert\r\nexport const canInsertEntity = {\r\n    [ActivityNodeType.GoMolecularEntity]: [\r\n        <ShapeDescription>{\r\n            label: 'Add part of (Protein Complex)',\r\n            id: ActivityNodeType.GoProteinContainingComplex,\r\n            node: <ActivityNodeDisplay>{\r\n                type: ActivityNodeType.GoProteinContainingComplex,\r\n                category: [EntityDefinition.GoProteinContainingComplex],\r\n                label: '(GP) part of (Protein Complex)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.cc,\r\n                weight: 3,\r\n                isKey: false,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.partOf,\r\n            cardinality: CardinalityType.oneToMany\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add located in (CC)',\r\n            id: ActivityNodeType.GoCellularComponent,\r\n            node: <ActivityNodeDisplay>{\r\n                type: ActivityNodeType.GoCellularComponent,\r\n                category: [EntityDefinition.GoCellularComponent],\r\n                label: '(GP) located in (CC)',\r\n                aspect: 'C',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.cc,\r\n                weight: 10,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.locatedIn,\r\n            cardinality: CardinalityType.oneToMany\r\n        },\r\n    ],\r\n\r\n    [ActivityNodeType.GoProteinContainingComplex]: [\r\n        <ShapeDescription>{\r\n            label: 'Add has part (Gene Product)',\r\n            id: ActivityNodeType.GoMolecularEntity,\r\n            node: <ActivityNodeDisplay>{\r\n                type: ActivityNodeType.GoMolecularEntity,\r\n                category: [EntityDefinition.GoMolecularEntity, EntityDefinition.GoProteinContainingComplex],\r\n                label: '(Protein Complex) has part (GP)',\r\n                displaySection: noctuaFormConfig.displaySection.gp,\r\n                displayGroup: noctuaFormConfig.displayGroup.gp,\r\n                weight: 3,\r\n                isKey: false,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.hasPart,\r\n            cardinality: CardinalityType.oneToMany\r\n        },\r\n    ],\r\n    [ActivityNodeType.GoMolecularFunction]: [\r\n        <ShapeDescription>{\r\n            label: 'Add enabled by Protein Complex',\r\n            id: ActivityNodeType.GoProteinContainingComplex,\r\n            node: <ActivityNodeDisplay>{\r\n                id: EntityDefinition.GoProteinContainingComplex.id,\r\n                type: ActivityNodeType.GoProteinContainingComplex,\r\n                category: [EntityDefinition.GoProteinContainingComplex],\r\n                label: '(MF) enabled by (Protein Complex)',\r\n                displaySection: noctuaFormConfig.displaySection.gp,\r\n                displayGroup: noctuaFormConfig.displayGroup.gp,\r\n                termRequired: true,\r\n                weight: 2,\r\n                isKey: true\r\n            },\r\n            predicate: noctuaFormConfig.edge.enabledBy,\r\n            cardinality: CardinalityType.oneToOne\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add enabled by GP',\r\n            id: ActivityNodeType.GoMolecularEntity,\r\n            node: <ActivityNodeDisplay>{\r\n                id: EntityDefinition.GoMolecularEntity.id,\r\n                type: ActivityNodeType.GoMolecularEntity,\r\n                category: [EntityDefinition.GoMolecularEntity, EntityDefinition.GoProteinContainingComplex],\r\n                label: '(MF) enabled by (GP)',\r\n                displaySection: noctuaFormConfig.displaySection.gp,\r\n                displayGroup: noctuaFormConfig.displayGroup.gp,\r\n                termRequired: true,\r\n                weight: 2,\r\n                isKey: true\r\n            },\r\n            predicate: noctuaFormConfig.edge.enabledBy,\r\n            cardinality: CardinalityType.oneToOne\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add part of (BP)',\r\n            id: ActivityNodeType.GoBiologicalProcess,\r\n            node: <ActivityNodeDisplay>{\r\n                type: ActivityNodeType.GoBiologicalProcess,\r\n                category: [EntityDefinition.GoBiologicalProcess],\r\n                label: '(MF) part of (BP)',\r\n                aspect: 'P',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.bp,\r\n                weight: 10,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.partOf,\r\n            cardinality: CardinalityType.oneToOne\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add occurs in (CC)',\r\n            id: ActivityNodeType.GoCellularComponent,\r\n            node: <ActivityNodeDisplay>{\r\n                type: ActivityNodeType.GoCellularComponent,\r\n                category: [EntityDefinition.GoCellularComponent],\r\n                label: '(MF) occurs in (CC)',\r\n                aspect: 'C',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.cc,\r\n                weight: 20,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.occursIn,\r\n            cardinality: CardinalityType.oneToOne\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add occurs in (Cell Type)',\r\n            id: ActivityNodeType.GoCellTypeEntity,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [EntityDefinition.GoCellTypeEntity],\r\n                type: ActivityNodeType.GoCellTypeEntity,\r\n                label: 'occurs in (Cell Type)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.cc,\r\n                isExtension: false,\r\n                weight: 30,\r\n\r\n            },\r\n            predicate: noctuaFormConfig.edge.occursIn,\r\n            cardinality: CardinalityType.oneToOne\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add occurs in (Anatomy)',\r\n            id: ActivityNodeType.GoAnatomicalEntity,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [EntityDefinition.GoAnatomicalEntity],\r\n                type: ActivityNodeType.GoAnatomicalEntity,\r\n                label: 'occurs in (Anatomy)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.cc,\r\n                isExtension: true,\r\n                weight: 40,\r\n            },\r\n            predicate: noctuaFormConfig.edge.occursIn,\r\n            cardinality: CardinalityType.oneToOne\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add occurs in (Organism)',\r\n            id: ActivityNodeType.GoOrganism,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [EntityDefinition.GoOrganism],\r\n                type: ActivityNodeType.GoOrganism,\r\n                label: 'part of (Organism)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.cc,\r\n                isExtension: true,\r\n                weight: 50,\r\n            },\r\n            predicate: noctuaFormConfig.edge.occursIn,\r\n            cardinality: CardinalityType.oneToOne\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add Has Input (Chemical/Protein Containing Complex)',\r\n            id: ActivityNodeType.GoChemicalEntityHasInput,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [EntityDefinition.GoChemicalEntity, EntityDefinition.GoProteinContainingComplex],\r\n                type: ActivityNodeType.GoChemicalEntityHasInput,\r\n                label: 'has input (Chemical/Protein Containing Complex)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.mf,\r\n                isExtension: true,\r\n                weight: 4,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.hasInput,\r\n            cardinality: CardinalityType.oneToMany\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add Has Output (Chemical/Protein Containing Complex)',\r\n            id: ActivityNodeType.GoChemicalEntityHasOutput,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [EntityDefinition.GoChemicalEntity, EntityDefinition.GoProteinContainingComplex],\r\n                type: ActivityNodeType.GoChemicalEntityHasOutput,\r\n                label: 'has output (Chemical/Protein Containing Complex)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.mf,\r\n                isExtension: true,\r\n                weight: 5,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.hasOutput,\r\n            cardinality: CardinalityType.oneToMany\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add Happens During (Biological Phase)',\r\n            id: ActivityNodeType.GoBiologicalPhase,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [EntityDefinition.GoBiologicalPhase, EntityDefinition.UberonStage],\r\n                type: ActivityNodeType.GoBiologicalPhase,\r\n                label: 'happens during (Biological Phase)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.mf,\r\n                isExtension: true,\r\n                weight: 3,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.happensDuring,\r\n            cardinality: CardinalityType.oneToOne\r\n        },\r\n\r\n        <ShapeDescription>{\r\n            label: 'Add has part (Subfunction)',\r\n            id: ActivityNodeType.GoMolecularFunction,\r\n            node: <ActivityNodeDisplay>{\r\n                type: ActivityNodeType.GoMolecularFunction,\r\n                category: [EntityDefinition.GoMolecularFunction],\r\n                label: 'has part (Subfunction)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.cc,\r\n                weight: 100,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.hasPart,\r\n            cardinality: CardinalityType.oneToMany\r\n        },\r\n\r\n        // Causal Edges\r\n        ...addCausalEdges([\r\n            Entity.createEntity(noctuaFormConfig.edge.causallyUpstreamOfOrWithin),\r\n            Entity.createEntity(noctuaFormConfig.edge.causallyUpstreamOf),\r\n            Entity.createEntity(noctuaFormConfig.edge.causallyUpstreamOfNegativeEffect),\r\n            Entity.createEntity(noctuaFormConfig.edge.causallyUpstreamOfPositiveEffect),\r\n            Entity.createEntity(noctuaFormConfig.edge.causallyUpstreamOfOrWithinPositiveEffect),\r\n            Entity.createEntity(noctuaFormConfig.edge.causallyUpstreamOfOrWithinNegativeEffect),\r\n        ])\r\n    ],\r\n    [ActivityNodeType.GoBiologicalProcess]: [\r\n        <ShapeDescription>{\r\n            label: 'Add part of (BP)',\r\n            id: ActivityNodeType.GoBiologicalProcess,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [EntityDefinition.GoBiologicalProcess],\r\n                type: ActivityNodeType.GoBiologicalProcess,\r\n                label: 'part of (BP)',\r\n                aspect: 'P',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.bp,\r\n                isExtension: true,\r\n                weight: 10,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.partOf,\r\n            cardinality: CardinalityType.oneToOne\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add occurs in (CC)',\r\n            id: ActivityNodeType.GoCellularComponent,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [EntityDefinition.GoCellularComponent],\r\n                type: ActivityNodeType.GoCellularComponent,\r\n                aspect: 'C',\r\n                label: 'occurs in (CC)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.bp,\r\n                isExtension: true,\r\n                weight: 20\r\n            },\r\n            predicate: noctuaFormConfig.edge.occursIn,\r\n            cardinality: CardinalityType.oneToOne\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add Has Input (Chemical/Anatomical Entity/Protein Containing Complex)',\r\n            id: ActivityNodeType.GoChemicalEntityHasInput,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [\r\n                    EntityDefinition.GoChemicalEntity,\r\n                    EntityDefinition.GoAnatomicalEntity,\r\n                    EntityDefinition.GoProteinContainingComplex\r\n                ],\r\n                type: ActivityNodeType.GoChemicalEntityHasInput,\r\n                label: 'Has Input (Chemical/Anatomical Entity/Protein Containing Complex)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.bp,\r\n                isExtension: true,\r\n                weight: 14,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.hasInput,\r\n            cardinality: CardinalityType.oneToMany\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add Has Output (Chemical/Anatomical Entity/Protein Containing Complex)',\r\n            id: ActivityNodeType.GoChemicalEntityHasInput,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [\r\n                    EntityDefinition.GoChemicalEntity,\r\n                    EntityDefinition.GoAnatomicalEntity,\r\n                    EntityDefinition.GoProteinContainingComplex\r\n                ],\r\n                type: ActivityNodeType.GoChemicalEntityHasOutput,\r\n                label: 'Has Output (Chemical/Anatomical Entity/Protein Containing Complex)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.bp,\r\n                isExtension: true,\r\n                weight: 14,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.hasOutput,\r\n            cardinality: CardinalityType.oneToMany\r\n        },\r\n    ],\r\n    [ActivityNodeType.GoCellularComponent]: [\r\n        <ShapeDescription>{\r\n            label: 'Add part of (CC)',\r\n            id: ActivityNodeType.GoCellularComponent,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [EntityDefinition.GoCellularComponent],\r\n                type: ActivityNodeType.GoCellularComponent,\r\n                aspect: 'C',\r\n                label: 'part of (CC)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.cc,\r\n                isExtension: true,\r\n                weight: 20,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.partOf,\r\n            cardinality: CardinalityType.oneToOne\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add part of (Cell Type)',\r\n            id: ActivityNodeType.GoCellTypeEntity,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [EntityDefinition.GoCellTypeEntity],\r\n                type: ActivityNodeType.GoCellTypeEntity,\r\n                label: 'part of (Cell Type)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.cc,\r\n                isExtension: true,\r\n                weight: 30,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.partOf,\r\n            cardinality: CardinalityType.oneToOne\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add part of (Anatomy)',\r\n            id: ActivityNodeType.GoAnatomicalEntity,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [EntityDefinition.GoAnatomicalEntity],\r\n                type: ActivityNodeType.GoAnatomicalEntity,\r\n                label: 'part of (Anatomy)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.cc,\r\n                isExtension: true,\r\n                weight: 40,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.partOf,\r\n            cardinality: CardinalityType.oneToOne\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add part of (Organism)',\r\n            id: ActivityNodeType.GoOrganism,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [EntityDefinition.GoOrganism],\r\n                type: ActivityNodeType.GoOrganism,\r\n                label: 'part of (Organism)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.cc,\r\n                isExtension: true,\r\n                weight: 50,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.partOf,\r\n            cardinality: CardinalityType.oneToOne\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add Existence Overlaps (BP/Phase/Stage)',\r\n            id: ActivityNodeType.BPPhaseStageExistenceOverlaps,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [\r\n                    EntityDefinition.GoBiologicalProcess,\r\n                    EntityDefinition.UberonStage,\r\n                ],\r\n                type: ActivityNodeType.BPPhaseStageExistenceOverlaps,\r\n                label: 'existence overlaps (BP/Phase/Stage)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.cc,\r\n                isExtension: true,\r\n                weight: 60,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.existenceOverlaps,\r\n            cardinality: CardinalityType.oneToMany\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add Existence Starts and Ends During (BP/Phase/Stage)',\r\n            id: ActivityNodeType.BPPhaseStageExistenceStartsEnds,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [\r\n                    EntityDefinition.GoBiologicalProcess,\r\n                    EntityDefinition.UberonStage\r\n                ],\r\n                type: ActivityNodeType.BPPhaseStageExistenceStartsEnds,\r\n                label: 'Add Existence Starts and Ends During (BP/Phase/Stage)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.cc,\r\n                isExtension: true,\r\n                weight: 61,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.existenceStartsEndsDuring,\r\n            cardinality: CardinalityType.oneToMany\r\n        },\r\n    ],\r\n    [ActivityNodeType.GoCellTypeEntity]: [\r\n        <ShapeDescription>{\r\n            label: 'Add part of (Anatomy)',\r\n            id: ActivityNodeType.GoAnatomicalEntity,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [EntityDefinition.GoAnatomicalEntity],\r\n                type: ActivityNodeType.GoAnatomicalEntity,\r\n                label: 'part of (Anatomy)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.cc,\r\n                isExtension: true,\r\n                weight: 40,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.partOf,\r\n            cardinality: CardinalityType.oneToOne\r\n        },\r\n        <ShapeDescription>{\r\n            label: 'Add part of (Organism)',\r\n            id: ActivityNodeType.GoOrganism,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [EntityDefinition.GoOrganism],\r\n                type: ActivityNodeType.GoOrganism,\r\n                label: 'part of (Organism)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.cc,\r\n                isExtension: true,\r\n                weight: 50,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.partOf,\r\n            cardinality: CardinalityType.oneToOne\r\n        }\r\n    ],\r\n    [ActivityNodeType.GoAnatomicalEntity]: [\r\n        <ShapeDescription>{\r\n            label: 'Add part of (Organism)',\r\n            id: ActivityNodeType.GoOrganism,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [EntityDefinition.GoOrganism],\r\n                type: ActivityNodeType.GoOrganism,\r\n                label: 'part of (Organism)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.cc,\r\n                isExtension: true,\r\n                weight: 50,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.partOf,\r\n            cardinality: CardinalityType.oneToOne\r\n        }\r\n    ],\r\n    [ActivityNodeType.GoChemicalEntity]: [\r\n        <ShapeDescription>{\r\n            label: 'Add located in (CC)',\r\n            id: ActivityNodeType.GoCellularComponent,\r\n            node: <ActivityNodeDisplay>{\r\n                category: [EntityDefinition.GoCellularComponent],\r\n                type: ActivityNodeType.GoCellularComponent,\r\n                aspect: 'C',\r\n                label: 'located in (CC)',\r\n                displaySection: noctuaFormConfig.displaySection.fd,\r\n                displayGroup: noctuaFormConfig.displayGroup.cc,\r\n                isExtension: true,\r\n                weight: 20,\r\n                showInMenu: true,\r\n            },\r\n            predicate: noctuaFormConfig.edge.locatedIn,\r\n            cardinality: CardinalityType.oneToOne\r\n        },\r\n    ]\r\n};\r\n\r\n\r\n\r\n","import * as EntityDefinition from './config/entity-definition';\r\nimport * as ShapeDefinition from './config/shape-definition';\r\n\r\nexport { EntityDefinition };\r\nexport { ShapeDefinition };\r\nexport { withfrom } from './withfrom';\r\n","export const withfrom = [\r\n    'AgBase'\r\n    , 'AGI_LocusCode'\r\n    , 'ApiDB_PlasmoDB'\r\n    , 'AraCyc'\r\n    , 'ASAP'\r\n    , 'AspGD'\r\n    , 'AspGD_LOCUS'\r\n    , 'AspGD_REF'\r\n    , 'BFO'\r\n    , 'BioCyc'\r\n    , 'BIOMD'\r\n    , 'BRENDA'\r\n    , 'Broad_MGG'\r\n    , 'Broad_NEUROSPORA'\r\n    , 'CACAO'\r\n    , 'CAS'\r\n    , 'CASGEN'\r\n    , 'CASREF'\r\n    , 'CASSPC'\r\n    , 'CDD'\r\n    , 'CGD'\r\n    , 'CGD_LOCUS'\r\n    , 'CGD_REF'\r\n    , 'CHEBI'\r\n    , 'CL'\r\n    , 'COG_Cluster'\r\n    , 'COG_Function'\r\n    , 'COG_Pathway'\r\n    , 'ComplexPortal'\r\n    , 'CORIELL'\r\n    , 'CORUM'\r\n    , 'dbSNP'\r\n    , 'DDANAT'\r\n    , 'DDBJ'\r\n    , 'dictyBase'\r\n    , 'dictyBase_gene_name'\r\n    , 'dictyBase_REF'\r\n    , 'DOI'\r\n    , 'EC'\r\n    , 'EchoBASE'\r\n    , 'ECK'\r\n    , 'ECO'\r\n    , 'EcoCyc'\r\n    , 'EcoCyc_REF'\r\n    , 'ECOGENE'\r\n    , 'EMAPA'\r\n    , 'EMBL'\r\n    , 'ENA'\r\n    , 'ENSEMBL'\r\n    , 'ENSEMBL_GeneID'\r\n    , 'EnsemblFungi'\r\n    , 'ENZYME'\r\n    , 'EO_GIT'\r\n    , 'EuPathDB'\r\n    , 'FB'\r\n    , 'FBbt'\r\n    , 'FMA'\r\n    , 'FYPO'\r\n    , 'GDB'\r\n    , 'GenBank'\r\n    , 'Gene3D'\r\n    , 'GeneDB'\r\n    , 'Genesys-pgr'\r\n    , 'GEO'\r\n    , 'GO'\r\n    , 'GO_REF'\r\n    , 'GR'\r\n    , 'GR_GENE'\r\n    , 'GR_MUT'\r\n    , 'GR_PROTEIN'\r\n    , 'GR_QTL'\r\n    , 'GR_REF'\r\n    , 'GRIMS'\r\n    , 'GRIN'\r\n    , 'GRINDesc'\r\n    , 'H-invDB_cDNA'\r\n    , 'H-invDB_locus'\r\n    , 'HAMAP'\r\n    , 'HGNC'\r\n    , 'HGNC_gene'\r\n    , 'HPA'\r\n    , 'HPA_antibody'\r\n    , 'IMG'\r\n    , 'IntAct'\r\n    , 'InterPro'\r\n    , 'IRGC'\r\n    , 'IRIC'\r\n    , 'IUPHAR_GPCR'\r\n    , 'IUPHAR_RECEPTOR'\r\n    , 'JCVI_CMR'\r\n    , 'JCVI_EGAD'\r\n    , 'JCVI_GenProp'\r\n    , 'JCVI_Medtr'\r\n    , 'JCVI_TIGRFAMS'\r\n    , 'JSTOR'\r\n    , 'KEGG_ENZYME'\r\n    , 'KEGG_LIGAND'\r\n    , 'KEGG_PATHWAY'\r\n    , 'KEGG_REACTION'\r\n    , 'LIFEdb'\r\n    , 'MA'\r\n    , 'MACSC_REF'\r\n    , 'MaizeGDB'\r\n    , 'MaizeGDB_Locus'\r\n    , 'MaizeGDB_QTL'\r\n    , 'MaizeGDB_REF'\r\n    , 'MaizeGDB_stock'\r\n    , 'MEROPS'\r\n    , 'MEROPS_fam'\r\n    , 'MeSH'\r\n    , 'MetaCyc'\r\n    , 'MGCSC_GENETIC_STOCKS'\r\n    , 'MGI'\r\n    , 'MIPS_funcat'\r\n    , 'MO'\r\n    , 'ModBase'\r\n    , 'NASC_code'\r\n    , 'NCBI_GP'\r\n    , 'NCBIGene'\r\n    , 'NCBITaxon'\r\n    , 'NIF_Subcellular'\r\n    , 'NMPDR'\r\n    , 'OBO_SF2_PECO'\r\n    , 'OBO_SF2_PO'\r\n    , 'OMIM'\r\n    , 'PAINT_REF'\r\n    , 'PAMGO_GAT'\r\n    , 'PAMGO_MGG'\r\n    , 'PAMGO_VMD'\r\n    , 'PANTHER'\r\n    , 'PATO'\r\n    , 'PATRIC'\r\n    , 'PDB'\r\n    , 'Pfam'\r\n    , 'PharmGKB'\r\n    , 'PIR'\r\n    , 'PIRSF'\r\n    , 'PLANA_REF'\r\n    , 'Planteome_gene'\r\n    , 'PMCID'\r\n    , 'PMID'\r\n    , 'PO'\r\n    , 'PO_GIT'\r\n    , 'PO_REF'\r\n    , 'PomBase'\r\n    , 'PR'\r\n    , 'PRINTS'\r\n    , 'ProDom'\r\n    , 'Prosite'\r\n    , 'PseudoCAP'\r\n    , 'PSI-MOD'\r\n    , 'PSO_GIT'\r\n    , 'PubChem_BioAssay'\r\n    , 'PubChem_Compound'\r\n    , 'PubChem_Substance'\r\n    , 'RAP-DB'\r\n    , 'Reactome'\r\n    , 'RefSeq'\r\n    , 'Rfam'\r\n    , 'RGD'\r\n    , 'RHEA'\r\n    , 'RNAcentral'\r\n    , 'RNAmods'\r\n    , 'RO'\r\n    , 'SABIO-RK'\r\n    , 'SEED'\r\n    , 'SGD'\r\n    , 'SGN'\r\n    , 'SGN_ref'\r\n    , 'SMART'\r\n    , 'SO'\r\n    , 'Soy_gene'\r\n    , 'SOY_QTL'\r\n    , 'SOY_ref'\r\n    , 'SUPERFAMILY'\r\n    , 'SWALL'\r\n    , 'Swiss-Prot'\r\n    , 'TAIR'\r\n    , 'TC'\r\n    , 'TGD'\r\n    , 'TGD_LOCUS'\r\n    , 'TGD_REF'\r\n    , 'TO_GIT'\r\n    , 'TreeGenes'\r\n    , 'UBERON'\r\n    , 'UM-BBD_enzymeID'\r\n    , 'UM-BBD_reactionID'\r\n    , 'UM-BBD_ruleID'\r\n    , 'UniMod'\r\n    , 'UniParc'\r\n    , 'UniPathway'\r\n    , 'UniProtKB'\r\n    , 'UniProtKB-KW'\r\n    , 'UniProtKB-SubCell'\r\n    , 'UniRule'\r\n    , 'VBRC'\r\n    , 'VEGA'\r\n    , 'VMD'\r\n    , 'WB'\r\n    , 'WB_REF'\r\n    , 'WBls'\r\n    , 'WBPhenotype'\r\n    , 'Wikipedia'\r\n    , 'Xenbase'\r\n    , 'ZFIN'\r\n];","export { NoctuaFormUtils } from './utils/noctua-form-utils';\r\nexport { noctuaFormConfig } from './noctua-form-config';\r\nexport * from './services';\r\nexport * from './models';\r\nexport * from './data';\r\n","import { Evidence } from './evidence';\r\nimport { ActivityError, ErrorLevel, ErrorType } from './parser/activity-error';\r\nimport { Activity } from './activity';\r\nimport { Entity, EntityType } from './entity';\r\nimport { EntityLookup } from './entity-lookup';\r\nimport { Contributor } from './../contributor';\r\nimport { each, find, some } from 'lodash';\r\nimport { NoctuaFormUtils } from './../../utils/noctua-form-utils';\r\nimport { Predicate } from './predicate';\r\nimport { PendingChange } from './pending-change';\r\nimport { CamStats } from './cam';\r\n\r\nexport class GoCategory {\r\n  id: ActivityNodeType;\r\n  category: string;\r\n  categoryType = 'isa_closure';\r\n  suffix: string;\r\n}\r\n\r\nexport enum ActivityNodeType {\r\n\r\n  GoCellularComponent = 'GoCellularComponent',\r\n  GoBiologicalProcess = 'GoBiologicalProcess',\r\n  GoMolecularFunction = 'GoMolecularFunction',\r\n  GoMolecularEntity = 'GoMolecularEntity',\r\n  // extensions \r\n  GoCellularAnatomical = 'GoCellularAnatomical',\r\n  GoProteinContainingComplex = 'GoProteinContainingComplex',\r\n  GoBiologicalPhase = 'GoBiologicalPhase',\r\n  GoChemicalEntity = 'GoChemicalEntity',\r\n  GoCellTypeEntity = 'GoCellTypeEntity',\r\n  GoAnatomicalEntity = 'GoAnatomicalEntity',\r\n  GoOrganism = 'GoOrganism',\r\n  WormLifeStage = \"WormLifeStage\",\r\n  // extra internal use\r\n  GoChemicalEntityHasInput = 'GoChemicalEntityHasInput',\r\n  GoChemicalEntityHasOutput = 'GoChemicalEntityHasOutput',\r\n\r\n  // evidence\r\n  GoEvidence = 'GoEvidence',\r\n  BPPhaseStageExistenceOverlaps = \"BPPhaseStageExistenceOverlaps\",\r\n  BPPhaseStageExistenceStartsEnds = \"BPPhaseStageExistenceStartsEnds\",\r\n  UberonStage = \"UberonStage\"\r\n}\r\n\r\nexport interface ActivityNodeDisplay {\r\n  id: string;\r\n  rootTypes: Entity[];\r\n  type: ActivityNodeType;\r\n  label: string;\r\n  uuid: string;\r\n  isExtension: boolean;\r\n  aspect: string;\r\n  category: GoCategory[];\r\n  displaySection: any;\r\n  displayGroup: any;\r\n  treeLevel: number;\r\n  required: boolean;\r\n  termRequired: boolean;\r\n  visible: boolean;\r\n  skipEvidenceCheck: boolean;\r\n  showEvidence: boolean;\r\n  isKey: boolean;\r\n  weight: number;\r\n  relationEditable: boolean;\r\n  showInMenu: boolean;\r\n  canDelete: boolean;\r\n}\r\n\r\nexport class ActivityNode implements ActivityNodeDisplay {\r\n  subjectId: string;\r\n  entityType = EntityType.ACTIVITY_NODE\r\n  type: ActivityNodeType;\r\n  label: string;\r\n  uuid: string;\r\n  category: GoCategory[];\r\n  rootTypes: Entity[] = [];\r\n  term: Entity = new Entity('', '');\r\n  date: string;\r\n  termLookup: EntityLookup = new EntityLookup();\r\n  isExtension = false;\r\n  aspect: string;\r\n  nodeGroup: any = {};\r\n  activity: Activity;\r\n  ontologyClass: any = [];\r\n  isComplement = false;\r\n  closures: any = [];\r\n  assignedBy: boolean = null;\r\n  contributor: Contributor = null;\r\n  isCatalyticActivity = false;\r\n  isKey = false;\r\n  displaySection: any;\r\n  displayGroup: any;\r\n  predicate: Predicate;\r\n  treeLevel = 1;\r\n  required = false;\r\n  termRequired = false;\r\n  visible = true;\r\n  canInsertNodes;\r\n  skipEvidenceCheck = false;\r\n  showEvidence = true;\r\n  errors = [];\r\n  warnings = [];\r\n  status = '0';\r\n  weight: 0;\r\n  relationEditable = false;\r\n  showInMenu = false;\r\n  insertMenuNodes = [];\r\n  linkedNode = false;\r\n  familyNodes = [];\r\n  displayId: string;\r\n  expandable: boolean = true;\r\n  expanded: boolean = false;\r\n  causalNode: boolean = false;\r\n  frequency: number;\r\n  canDelete: boolean = true;\r\n\r\n  private _id: string;\r\n\r\n  //For Save \r\n  pendingEntityChanges: PendingChange;\r\n  pendingRelationChanges: PendingChange;\r\n\r\n\r\n  constructor(activityNode?: Partial<ActivityNodeDisplay>) {\r\n    if (activityNode) {\r\n      this.overrideValues(activityNode);\r\n    }\r\n  }\r\n\r\n  getTerm() {\r\n    return this.term;\r\n  }\r\n\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  set id(id: string) {\r\n    this._id = id;\r\n    this.displayId = NoctuaFormUtils.cleanID(id);\r\n  }\r\n\r\n  get classExpression() {\r\n    return this.term.classExpression;\r\n  }\r\n\r\n  set classExpression(classExpression) {\r\n    this.term.classExpression = classExpression;\r\n  }\r\n\r\n  setTermOntologyClass(value) {\r\n    this.ontologyClass = value;\r\n  }\r\n\r\n  toggleIsComplement() {\r\n    const self = this;\r\n    self.isComplement = !self.isComplement;\r\n    self.nodeGroup.isComplement = self.isComplement;\r\n  }\r\n\r\n  setIsComplement(complement) {\r\n    const self = this;\r\n    self.isComplement = complement;\r\n  }\r\n\r\n  hasValue() {\r\n    const self = this;\r\n    return self.term.hasValue();\r\n  }\r\n\r\n  hasRootType(inRootType: GoCategory) {\r\n    const found = find(this.rootTypes, (rootType: Entity) => {\r\n      return rootType.id === inRootType.category;\r\n    });\r\n\r\n    return found ? true : false\r\n  }\r\n\r\n  hasRootTypes(inRootTypes: GoCategory[]) {\r\n    let found = false;\r\n    for (let i = 0; i < this.rootTypes.length; i++) {\r\n      for (let j = 0; j < inRootTypes.length; j++) {\r\n        if (this.rootTypes[i].id === inRootTypes[j].category) {\r\n          found = true;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    return found;\r\n  }\r\n\r\n  clearValues() {\r\n    const self = this;\r\n    self.term.id = null;\r\n    self.term.label = null;\r\n    self.predicate.resetEvidence();\r\n  }\r\n\r\n  copyValues(node: ActivityNode) {\r\n    const self = this;\r\n    self.uuid = node.uuid;\r\n    self.term = node.term;\r\n    self.assignedBy = node.assignedBy;\r\n    self.isComplement = node.isComplement;\r\n    self.isCatalyticActivity = node.isCatalyticActivity;\r\n  }\r\n\r\n  setTermLookup(value) {\r\n    this.termLookup.requestParams = value;\r\n  }\r\n\r\n  setDisplay(value) {\r\n    if (value) {\r\n      this.displaySection = value.displaySection;\r\n      this.displayGroup = value.displayGroup;\r\n    }\r\n  }\r\n\r\n  enableRow() {\r\n    const self = this;\r\n    let result = true;\r\n    if (self.nodeGroup) {\r\n      if (self.nodeGroup.isComplement && self.treeLevel > 0) {\r\n        result = false;\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  reviewTermChanges(stat: CamStats, modifiedStats: CamStats): boolean {\r\n    const self = this;\r\n    let modified = false;\r\n\r\n    if (self.term.modified) {\r\n      if (self.id === ActivityNodeType.GoMolecularEntity) {\r\n        modifiedStats.gpsCount++;\r\n        stat.gpsCount++;\r\n      } else {\r\n        modifiedStats.termsCount++;\r\n        stat.termsCount++;\r\n      }\r\n\r\n      modified = true;\r\n    }\r\n\r\n    each(self.predicate.evidence, (evidence: Evidence, key) => {\r\n      const evidenceModified = evidence.reviewEvidenceChanges(stat, modifiedStats);\r\n      modified = modified || evidenceModified;\r\n    });\r\n\r\n    modifiedStats.updateTotal();\r\n    return modified;\r\n  }\r\n\r\n  checkStored(oldNode: ActivityNode) {\r\n    const self = this;\r\n\r\n    if (oldNode && self.term.id !== oldNode.term.id) {\r\n      self.term.termHistory.unshift(new Entity(oldNode.term.id, oldNode.term.label));\r\n      self.term.modified = true;\r\n    }\r\n\r\n    each(self.predicate.evidence, (evidence: Evidence, key) => {\r\n      const oldEvidence = oldNode?.predicate.getEvidenceById(evidence.uuid)\r\n      evidence.checkStored(oldEvidence)\r\n    });\r\n  }\r\n\r\n  addPendingChanges(oldNode: ActivityNode) {\r\n    const self = this;\r\n\r\n    if (self.term.id !== oldNode.term.id) {\r\n      self.pendingEntityChanges = new PendingChange(self.uuid, oldNode.term, self.term);\r\n    }\r\n\r\n    if (self.predicate.edge.id !== oldNode.predicate.edge.id) {\r\n      self.pendingRelationChanges = new PendingChange(self.uuid, oldNode.predicate.edge, self.predicate.edge);\r\n    }\r\n\r\n    each(self.predicate.evidence, (evidence: Evidence, key) => {\r\n      const oldEvidence = oldNode.predicate.getEvidenceById(evidence.uuid)\r\n      evidence.addPendingChanges(oldEvidence);\r\n    });\r\n\r\n    //this is temporary swap back into old\r\n    //self.term = oldNode.term\r\n  }\r\n\r\n  enableSubmit(errors, validateEvidence = true) {\r\n    const self = this;\r\n    let result = true;\r\n\r\n    if (self.termRequired && !self.term.id) {\r\n      self.required = true;\r\n      const meta = {\r\n        aspect: self.label\r\n      };\r\n      const error = new ActivityError(ErrorLevel.error, ErrorType.general, `\"${self.label}\" is required`, meta);\r\n      errors.push(error);\r\n      result = false;\r\n    } else {\r\n      self.required = false;\r\n    }\r\n\r\n    if (!self.skipEvidenceCheck && self.hasValue() && validateEvidence) {\r\n      each(self.predicate.evidence, (evidence: Evidence, key) => {\r\n        result = evidence.enableSubmit(errors, self, key + 1) && result;\r\n      });\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  overrideValues(override: Partial<ActivityNodeDisplay> = {}) {\r\n    Object.assign(this, override);\r\n  }\r\n}\r\n\r\nexport function categoryToClosure(categories: GoCategory[]) {\r\n\r\n  let results = categories.map((category) => {\r\n    let result\r\n    if (category.categoryType === 'is_obsolete') {\r\n      result = `${category.categoryType}:${category.category}`;\r\n    } else {\r\n      result = `${category.categoryType}:\"${category.category}\"`;\r\n    }\r\n    if (category.suffix) {\r\n      result += ' ' + category.suffix;\r\n    }\r\n    return result\r\n  }).join(' OR ');\r\n\r\n  return results;\r\n}\r\n\r\nexport function compareTerm(a: ActivityNode, b: ActivityNode) {\r\n  return a.term.id === b.term.id;\r\n}\r\n\r\nexport function compareNodeWeight(a: ActivityNode, b: ActivityNode): number {\r\n  if (a.weight < b.weight) {\r\n    return -1;\r\n  } else {\r\n    return 1;\r\n  }\r\n}\r\n\r\n","import { v4 as uuid } from 'uuid';\r\nimport { Edge as NgxEdge, Node as NgxNode } from '@swimlane/ngx-graph';\r\nimport { noctuaFormConfig } from './../../noctua-form-config';\r\nimport { SaeGraph } from './sae-graph';\r\nimport { ActivityError, ErrorLevel, ErrorType } from './parser/activity-error';\r\nimport { ActivityNode, ActivityNodeType, compareNodeWeight } from './activity-node';\r\nimport { Evidence } from './evidence';\r\nimport { compareTripleWeight, Triple } from './triple';\r\nimport { Entity } from './entity';\r\nimport { Predicate } from './predicate';\r\nimport { getEdges, Edge, getNodes, subtractNodes } from './noctua-form-graph';\r\nimport * as ShapeDescription from './../../data/config/shape-definition';\r\nimport { each, filter, find } from 'lodash';\r\nimport { NoctuaFormUtils } from './../../utils/noctua-form-utils';\r\nimport { Violation } from './error/violation-error';\r\nimport { TermsSummary } from './summary';\r\n\r\n\r\nimport moment from 'moment';\r\n\r\nexport enum ActivityState {\r\n  creation = 1,\r\n  editing\r\n}\r\n\r\nexport enum ActivitySortField {\r\n  GP = 'gp',\r\n  MF = 'mf',\r\n  BP = 'bp',\r\n  CC = 'cc',\r\n  DATE = 'date'\r\n}\r\n\r\nexport enum ActivityDisplayType {\r\n  TABLE = 'table',\r\n  TREE = 'tree',\r\n  TREE_TABLE = 'tree_table', //for ART\r\n  SLIM_TREE = 'slim_tree',\r\n  GRAPH = 'graph'\r\n}\r\n\r\nexport enum ActivityType {\r\n  default = 'default',\r\n  bpOnly = 'bpOnly',\r\n  ccOnly = 'ccOnly',\r\n  molecule = 'molecule',\r\n  proteinComplex = 'proteinComplex'\r\n}\r\n\r\nexport class ActivitySize {\r\n  width: number = 150;\r\n  height: number = 150;\r\n\r\n  constructor() {\r\n\r\n  }\r\n}\r\n\r\nexport class ActivityPosition {\r\n  x: number = 0;\r\n  y: number = 0;\r\n\r\n  constructor() {\r\n\r\n  }\r\n}\r\n\r\nexport class Activity extends SaeGraph<ActivityNode> {\r\n  gp;\r\n  label: string;\r\n  date: moment.Moment;\r\n\r\n  validateEvidence = true;\r\n\r\n  activityRows;\r\n  activityType;\r\n  errors;\r\n  submitErrors;\r\n  modified = false;\r\n  expanded = false;\r\n  visible = true;\r\n  graphPreview = {\r\n    nodes: [],\r\n    edges: []\r\n  };\r\n\r\n  molecularEntityNode: ActivityNode;\r\n  molecularFunctionNode: ActivityNode;\r\n  summary: TermsSummary = new TermsSummary()\r\n\r\n  //For Display Only\r\n  gpNode: ActivityNode;\r\n  mfNode: ActivityNode;\r\n  bpNode: ActivityNode;\r\n  ccNode: ActivityNode;\r\n\r\n  /**\r\n   * Used for HTML id attribute\r\n   */\r\n  activityDisplayType: ActivityDisplayType = ActivityDisplayType.TREE;\r\n  displayId: string;\r\n  displayNumber = '1';\r\n\r\n  hasViolations = false;\r\n  violations: Violation[] = [];\r\n\r\n  bpOnlyEdge: Entity;\r\n  ccOnlyEdge: Entity;\r\n\r\n  //Graph\r\n  position: ActivityPosition = new ActivityPosition();\r\n  size: ActivitySize = new ActivitySize();\r\n\r\n  formattedDate: string\r\n\r\n  private _backgroundColor = 'green'\r\n  private _presentation: any;\r\n  private _id: string;\r\n\r\n  constructor() {\r\n    super();\r\n    this.activityType = 'default';\r\n    this.id = uuid();\r\n    this.errors = [];\r\n    this.submitErrors = [];\r\n  }\r\n\r\n  updateProperties() {\r\n    this.updateSummary()\r\n    this.updateDate()\r\n\r\n    this.gpNode = this.getGPNode()\r\n    this.mfNode = this.getMFNode()\r\n    this.bpNode = this.getRootNodeByType(ActivityNodeType.GoBiologicalProcess)\r\n    this.ccNode = this.getRootNodeByType(ActivityNodeType.GoCellularComponent)\r\n\r\n  }\r\n\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  set id(id: string) {\r\n    this._id = id;\r\n    this.displayId = NoctuaFormUtils.cleanID(id) + 'activity';\r\n  }\r\n\r\n  get backgroundColor() {\r\n    switch (this.activityType) {\r\n      case ActivityType.ccOnly:\r\n        return 'purple'\r\n      case ActivityType.bpOnly:\r\n        return 'brown'\r\n      case ActivityType.molecule:\r\n        return 'teal'\r\n      default:\r\n        return this._backgroundColor;\r\n    }\r\n  }\r\n\r\n  get activityConnections() {\r\n    throw new Error('Method not implemented');\r\n  }\r\n\r\n  get rootNodeType(): ActivityNodeType {\r\n    if (this.activityType === ActivityType.ccOnly) {\r\n      return ActivityNodeType.GoMolecularEntity\r\n    } else if (this.activityType === ActivityType.molecule) {\r\n      return ActivityNodeType.GoChemicalEntity;\r\n    } else {\r\n      return ActivityNodeType.GoMolecularFunction\r\n    }\r\n  }\r\n\r\n  get rootNode(): ActivityNode {\r\n    return this.getNode(this.rootNodeType);\r\n  }\r\n\r\n  get rootEdge(): Triple<ActivityNode> {\r\n    let edge;\r\n\r\n    if (this.activityType === ActivityType.proteinComplex) {\r\n      edge = this.getEdge(ActivityNodeType.GoMolecularFunction, ActivityNodeType.GoProteinContainingComplex);\r\n    } else {\r\n      edge = this.getEdge(ActivityNodeType.GoMolecularFunction, ActivityNodeType.GoMolecularEntity);\r\n    }\r\n\r\n    return edge\r\n  }\r\n\r\n  postRunUpdateCompliment() {\r\n    const self = this;\r\n\r\n    if (this.activityType === ActivityType.default || this.activityType === ActivityType.bpOnly) {\r\n      const mfNode = self.getMFNode();\r\n      const edge = self.getEdge(ActivityNodeType.GoMolecularFunction, ActivityNodeType.GoMolecularEntity);\r\n\r\n      if (mfNode && edge && mfNode.isComplement) {\r\n        edge.predicate.isComplement = true;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  postRunUpdate() {\r\n    const self = this;\r\n\r\n    if (this.activityType !== ActivityType.ccOnly) {\r\n      const mfNode = self.getMFNode();\r\n      const edge = self.rootEdge;\r\n\r\n      if (mfNode && edge) {\r\n        mfNode.predicate = edge.predicate;\r\n        if (edge.predicate.edge) {\r\n          edge.predicate.edge.label = ''\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  getActivityTypeDetail() {\r\n    return noctuaFormConfig.activityType.options[this.activityType];\r\n  }\r\n\r\n  updateDate() {\r\n    const self = this;\r\n    const rootNode = this.rootNode;\r\n\r\n    if (!rootNode) return;\r\n\r\n    self.date = (moment as any)(rootNode.date, 'YYYY-MM-DD')\r\n    // self.date = rootNode.date\r\n\r\n    each(self.nodes, (node: ActivityNode) => {\r\n      const nodeDate = (moment as any)(node.date, 'YYYY-MM-DD')\r\n\r\n      if (nodeDate > self.date) {\r\n        self.date = nodeDate\r\n      }\r\n    });\r\n\r\n    // remove the subject menu\r\n    each(self.edges, (triple: Triple<ActivityNode>) => {\r\n      each(triple.predicate.evidence, (evidence: Evidence) => {\r\n\r\n        const evidenceDate = (moment as any)(evidence.date, 'YYYY-MM-DD')\r\n\r\n        if (evidenceDate > self.date) {\r\n          self.date = evidenceDate\r\n        }\r\n      })\r\n    });\r\n\r\n    this.formattedDate = self.date.format('ll');\r\n  }\r\n\r\n  updateSummary() {\r\n    const self = this;\r\n    let summary = new TermsSummary()\r\n    let coverage = 0;\r\n    const filteredNodes = self.nodes.filter(node => node.term.hasValue())\r\n\r\n    each(filteredNodes, (node: ActivityNode) => {\r\n      if (node.type === ActivityNodeType.GoMolecularFunction) {\r\n        summary.mf.append(node)\r\n      } else if (node.type === ActivityNodeType.GoBiologicalProcess) {\r\n        summary.bp.append(node)\r\n      } else if (node.type === ActivityNodeType.GoCellularComponent) {\r\n        summary.cc.append(node)\r\n      } else {\r\n        summary.other.append(node)\r\n      }\r\n    })\r\n\r\n    if (summary.mf.nodes.length > 0) {\r\n      coverage = coverage | 4\r\n    }\r\n    if (summary.bp.nodes.length > 0) {\r\n      coverage = coverage | 2\r\n    }\r\n    if (summary.cc.nodes.length > 0) {\r\n      coverage = coverage | 1\r\n    }\r\n\r\n    summary.coverage = coverage;\r\n\r\n    this.summary = summary\r\n  }\r\n\r\n  updateEntityInsertMenu() {\r\n    const self = this;\r\n\r\n    each(self.nodes, (node: ActivityNode) => {\r\n      const canInsertNodes = ShapeDescription.canInsertEntity[node.type] || [];\r\n      const insertNodes: ShapeDescription.ShapeDescription[] = [];\r\n\r\n      each(canInsertNodes, (nodeDescription: ShapeDescription.ShapeDescription) => {\r\n        if (nodeDescription.cardinality === ShapeDescription.CardinalityType.oneToOne) {\r\n          const edgeTypeExist = self.edgeTypeExist(node.id, nodeDescription.predicate.id, node.type, nodeDescription.node.type);\r\n\r\n          if (!edgeTypeExist) {\r\n            insertNodes.push(nodeDescription);\r\n          }\r\n        } else {\r\n          insertNodes.push(nodeDescription);\r\n        }\r\n      });\r\n\r\n      node.canInsertNodes = insertNodes;\r\n      node.insertMenuNodes = filter(insertNodes, (insertNode: ShapeDescription.ShapeDescription) => {\r\n        return insertNode.node.showInMenu;\r\n      });\r\n    });\r\n\r\n  }\r\n\r\n  updateShapeMenuShex(rootTypes?) {\r\n    const self = this;\r\n\r\n    each(self.nodes, (node: ActivityNode) => {\r\n      const subjectIds = node.category.map((category) => {\r\n        return category.category\r\n      });\r\n\r\n      if (rootTypes) {\r\n        subjectIds.push(...rootTypes.map(rootType => rootType.id))\r\n      }\r\n\r\n      const canInsertNodes = ShapeDescription.getShexJson(subjectIds);\r\n      const insertNodes: ShapeDescription.ShapeDescription[] = [];\r\n\r\n      each(canInsertNodes, (nodeDescription: ShapeDescription.ShapeDescription) => {\r\n        /*  if (nodeDescription.cardinality === ShapeDescription.CardinalityType.oneToOne) {\r\n           const edgeTypeExist = self.edgeTypeExist(node.id, nodeDescription.predicate.id, node.type, nodeDescription.node.type);\r\n \r\n           if (!edgeTypeExist) {\r\n             insertNodes.push(nodeDescription);\r\n           }\r\n         } else { */\r\n        insertNodes.push(nodeDescription);\r\n        // }\r\n      });\r\n\r\n\r\n      node.canInsertNodes = insertNodes;\r\n      node.insertMenuNodes = filter(insertNodes, (insertNode: ShapeDescription.ShapeDescription) => {\r\n        return true;\r\n      });\r\n\r\n      /* node.insertMenuNodes = filter(insertNodes, (insertNode: ShapeDescription.ShapeDescription) => {\r\n       return insertNode.node.showInMenu;\r\n     }); */\r\n    });\r\n\r\n  }\r\n\r\n  updateEdges(subjectNode: ActivityNode, insertNode: ActivityNode, predicate: Predicate) {\r\n    const self = this;\r\n    const canInsertSubjectNodes = ShapeDescription.canInsertEntity[subjectNode.type] || [];\r\n    let updated = false;\r\n\r\n    each(canInsertSubjectNodes, (nodeDescription: ShapeDescription.ShapeDescription) => {\r\n\r\n      if (predicate.edge.id === nodeDescription.predicate.id) {\r\n        if (nodeDescription.cardinality === ShapeDescription.CardinalityType.oneToOne) {\r\n          const edgeTypeExist = self.edgeTypeExist(subjectNode.id, nodeDescription.predicate.id, subjectNode.type, nodeDescription.node.type);\r\n\r\n          if (edgeTypeExist) {\r\n            edgeTypeExist.object.treeLevel++;\r\n            self.removeEdge(edgeTypeExist.subject, edgeTypeExist.object, edgeTypeExist.predicate);\r\n            self.addEdge(edgeTypeExist.subject, insertNode, edgeTypeExist.predicate);\r\n            self.addEdge(insertNode, edgeTypeExist.object, predicate);\r\n            updated = true;\r\n\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    if (!updated) {\r\n      self.addEdgeById(subjectNode.id, insertNode.id, predicate);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  getNodesByType(type: ActivityNodeType): ActivityNode[] {\r\n    const self = this;\r\n    const result = filter(self.nodes, (activityNode: ActivityNode) => {\r\n      return activityNode.type === type;\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  getGPNode() {\r\n    const self = this;\r\n\r\n    if (self.activityType === ActivityType.proteinComplex) {\r\n      return self.getNode(ActivityNodeType.GoProteinContainingComplex);\r\n    }\r\n\r\n    if (self.activityType === ActivityType.molecule) {\r\n      return self.getNode(ActivityNodeType.GoChemicalEntity);\r\n    }\r\n\r\n    return self.getNode(ActivityNodeType.GoMolecularEntity);\r\n  }\r\n\r\n  getFDRootNode() {\r\n    const self = this;\r\n\r\n    if (self.activityType === ActivityType.molecule) {\r\n      return self.getNode(ActivityNodeType.GoCellularComponent);\r\n    }\r\n\r\n    return self.getNode(ActivityNodeType.GoMolecularFunction);\r\n  }\r\n\r\n  getMFNode() {\r\n    const self = this;\r\n\r\n    return self.getNode(ActivityNodeType.GoMolecularFunction);\r\n  }\r\n\r\n  getBPNode() {\r\n    const self = this;\r\n\r\n    return self.getNode(ActivityNodeType.GoBiologicalProcess);\r\n  }\r\n\r\n  getCCNode() {\r\n    const self = this;\r\n\r\n    return self.getNode(ActivityNodeType.GoCellularComponent);\r\n  }\r\n\r\n  getRootNodeByType(type: ActivityNodeType): ActivityNode {\r\n    const self = this;\r\n    const rootEdges = this.getEdges(this.rootNode.id)\r\n    const found = find(rootEdges, ((node: Triple<ActivityNode>) => {\r\n      return node.object.type === type\r\n    }))\r\n\r\n    if (!found) return null\r\n\r\n    return found.object;\r\n  }\r\n\r\n  adjustCC() {\r\n    const self = this;\r\n    const ccNode = self.getNode(ActivityNodeType.GoCellularComponent);\r\n\r\n    if (ccNode && !ccNode.hasValue()) {\r\n      const ccEdges: Triple<ActivityNode>[] = this.getEdges(ccNode.id);\r\n\r\n      if (ccEdges.length > 0) {\r\n        const firstEdge = ccEdges[0];\r\n        const rootCC = noctuaFormConfig.rootNode.cc;\r\n        ccNode.term = new Entity(rootCC.id, rootCC.label);\r\n        ccNode.predicate.evidence = firstEdge.predicate.evidence;\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  getViolationDisplayErrors() {\r\n    const self = this;\r\n    const result = [];\r\n\r\n    result.push(...self.violations.map((violation: Violation) => {\r\n      return violation.getDisplayError();\r\n    }));\r\n\r\n    return result;\r\n  }\r\n\r\n  adjustActivity() {\r\n    const self = this;\r\n\r\n    if (self.activityType === noctuaFormConfig.activityType.options.bpOnly.name) {\r\n      const rootMF = noctuaFormConfig.rootNode.mf;\r\n      const mfNode = self.getMFNode();\r\n      const bpNode = self.getNode(ActivityNodeType.GoBiologicalProcess);\r\n      const bpEdge = self.getEdge(mfNode.id, bpNode.id);\r\n\r\n      mfNode.term = new Entity(rootMF.id, rootMF.label);\r\n      mfNode.predicate.evidence = bpNode.predicate.evidence;\r\n\r\n      if (self.bpOnlyEdge) {\r\n        bpEdge.predicate.edge.id = bpNode.predicate.edge.id = self.bpOnlyEdge.id;\r\n        bpEdge.predicate.edge.label = bpNode.predicate.edge.label = self.bpOnlyEdge.label;\r\n      }\r\n\r\n    }\r\n\r\n    if (self.activityType !== ActivityType.ccOnly && self.activityType !== ActivityType.molecule) {\r\n      const mfNode = self.getMFNode();\r\n      const edge = self.rootEdge;\r\n\r\n      if (mfNode && edge) {\r\n        edge.predicate.evidence = mfNode.predicate.evidence;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  copyValues(srcActivity) {\r\n    const self = this;\r\n\r\n    each(self.nodes, function (destNode: ActivityNode) {\r\n      const srcNode = srcActivity.getNode(destNode.id);\r\n      if (srcNode) {\r\n        destNode.copyValues(srcNode);\r\n      }\r\n    });\r\n  }\r\n\r\n  setActivityType(type) {\r\n    this.activityType = type;\r\n  }\r\n\r\n  getEdgesByEdgeId(edgeId: string): Triple<ActivityNode>[] {\r\n    const self = this;\r\n    const found = filter(self.edges, ((node: Triple<ActivityNode>) => {\r\n      return node.predicate.edge.id === edgeId\r\n    }))\r\n\r\n    if (!found) return null\r\n\r\n    return found;\r\n  }\r\n\r\n\r\n  enableSubmit() {\r\n    const self = this;\r\n    let result = true;\r\n\r\n    self.submitErrors = [];\r\n\r\n    each(self.nodes, (node: ActivityNode) => {\r\n      result = node.enableSubmit(self.submitErrors, this.validateEvidence) && result;\r\n    });\r\n\r\n    if (self.activityType === ActivityType.bpOnly) {\r\n      if (!self.bpOnlyEdge) {\r\n        const meta = {\r\n          aspect: 'Molecular Function'\r\n        };\r\n        const error = new ActivityError(ErrorLevel.error, ErrorType.general, `Causal relation is required`, meta);\r\n        self.submitErrors.push(error);\r\n        result = false;\r\n      }\r\n    }\r\n\r\n    if (self.nodes.length < 2) {\r\n      const error = new ActivityError(ErrorLevel.error, ErrorType.general, `At least 2 nodes are required`);\r\n      self.submitErrors.push(error);\r\n      result = false;\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  createSave() {\r\n    const self = this;\r\n    const saveData = {\r\n      title: 'enabled by ' + self.getNode(ActivityNodeType.GoMolecularEntity)?.term.label,\r\n      triples: [],\r\n      nodes: [],\r\n      graph: null\r\n    };\r\n\r\n    self.adjustCC();\r\n    self.adjustActivity();\r\n\r\n    const graph = self.getTrimmedGraph(this.rootNodeType);\r\n    const keyNodes = getNodes(graph);\r\n    const edges: Edge<Triple<ActivityNode>>[] = getEdges(graph);\r\n\r\n    saveData.nodes = Object.values(keyNodes);\r\n\r\n    saveData.triples = edges.map((edge: Edge<Triple<ActivityNode>>) => {\r\n      return edge.metadata;\r\n    });\r\n\r\n    saveData.graph = graph;\r\n\r\n    return saveData;\r\n  }\r\n\r\n  createCCSave() {\r\n    const self = this;\r\n    const ccEdges: Triple<ActivityNode>[] = self.getEdges(self.rootNode.id);\r\n\r\n    each(ccEdges, (ccEdge: Triple<ActivityNode>) => {\r\n      const activity = new Activity()\r\n      activity.addNode(self.rootNode)\r\n      activity.addEdge(ccEdge.subject, ccEdge.object, ccEdge.predicate)\r\n    });\r\n  }\r\n\r\n  createEdit(srcActivity: Activity) {\r\n    const self = this;\r\n    const srcSaveData = srcActivity.createSave();\r\n    const destSaveData = self.createSave();\r\n    const saveData = {\r\n      addNodes: destSaveData.nodes,\r\n      addTriples: destSaveData.triples,\r\n      removeIds: subtractNodes(srcSaveData.graph, destSaveData.graph).map((node: ActivityNode) => {\r\n        return node.uuid;\r\n      }),\r\n      removeTriples: []\r\n    };\r\n\r\n    return saveData;\r\n  }\r\n\r\n  createEditEvidence(srcActivity: Activity, predicate: Predicate) {\r\n    const self = this;\r\n\r\n    const removeTriples = srcActivity.getEdge(predicate.subjectId, predicate.objectId)\r\n    const addTriples = self.getEdge(predicate.subjectId, predicate.objectId)\r\n\r\n    const saveData = {\r\n      addTriples: addTriples,\r\n      removeTriples: removeTriples,\r\n    };\r\n\r\n    return saveData;\r\n  }\r\n\r\n  createAddIndividual(srcActivity: Activity, predicate: Predicate) {\r\n    const self = this;\r\n\r\n    const addTriples = self.getEdge(predicate.subjectId, predicate.objectId)\r\n\r\n    const saveData = {\r\n      addTriples: addTriples,\r\n    };\r\n\r\n    return saveData;\r\n  }\r\n\r\n  createDelete() {\r\n    const self = this;\r\n    const deleteData = {\r\n      uuids: [],\r\n      triples: []\r\n    };\r\n    const uuids: string[] = [];\r\n\r\n    each(self.nodes, (node: ActivityNode) => {\r\n      if (node.hasValue()) {\r\n        uuids.push(node.uuid);\r\n      }\r\n    });\r\n\r\n    deleteData.uuids = uuids;\r\n\r\n    return deleteData;\r\n  }\r\n\r\n  createActivityNodeDelete(node: ActivityNode) {\r\n    const self = this;\r\n    const deleteData = {\r\n      uuids: []\r\n    };\r\n    const uuids = self.descendants(node.id).map(node => node.uuid);\r\n    uuids.push(node.uuid);\r\n\r\n    deleteData.uuids = uuids;\r\n\r\n    return deleteData;\r\n  }\r\n\r\n  setPreview() {\r\n    const self = this;\r\n    const saveData = self.createSave();\r\n\r\n    self.graphPreview.nodes = <NgxNode[]>saveData.nodes.map((node: ActivityNode) => {\r\n      return {\r\n        id: node.id,\r\n        label: node.term.label ? node.term.label : '',\r\n      };\r\n    });\r\n\r\n    self.graphPreview.edges = <NgxEdge[]>saveData.triples.map((triple: Triple<ActivityNode>) => {\r\n      return {\r\n        source: triple.subject.id,\r\n        target: triple.object.id,\r\n        label: triple.predicate.edge.label\r\n      };\r\n    });\r\n  }\r\n\r\n  insertSubgraph(activity: Activity, toNode: ActivityNode, fromNode: ActivityNode) {\r\n    const self = this;\r\n\r\n    const graph = activity.getTrimmedGraph(fromNode.id);\r\n\r\n    // self.addSubGraph(graph, toNode.id, fromNode.id);\r\n  }\r\n\r\n  get title() {\r\n    const self = this;\r\n    const gp = self.getGPNode();\r\n    const gpText = gp ? gp.getTerm().label : '';\r\n    let title = '';\r\n\r\n    if (self.activityType === ActivityType.ccOnly ||\r\n      self.activityType === ActivityType.molecule) {\r\n      title = gpText;\r\n    } else {\r\n      title = `enabled by (${gpText})`;\r\n    }\r\n\r\n    return title;\r\n  }\r\n\r\n  buildTrees(): ActivityTreeNode[] {\r\n    const self = this;\r\n    const sortedEdges = self.edges.sort(compareTripleWeight);\r\n    const fdRootNode = self.getFDRootNode();\r\n\r\n    if (!fdRootNode) return [];\r\n    return [self._buildTree(sortedEdges, fdRootNode)];\r\n  }\r\n\r\n  buildGPTrees(): ActivityTreeNode[] {\r\n    const self = this;\r\n    const sortedEdges = self.edges.sort(compareTripleWeight);\r\n\r\n    return [self._buildTree(sortedEdges, self.gpNode)];\r\n  }\r\n\r\n  private _buildTree(triples: Triple<ActivityNode>[], rootNode: ActivityNode): ActivityTreeNode {\r\n    const self = this;\r\n    if (!rootNode) return;\r\n    const result: ActivityTreeNode[] = [new ActivityTreeNode(rootNode)]\r\n    const getNestedChildren = (arr: ActivityTreeNode[]) => {\r\n\r\n      for (const i in arr) {\r\n        const children = []\r\n        for (const j in triples) {\r\n          if (triples[j].subject.id === arr[i].node.id) {\r\n            children.push(new ActivityTreeNode(triples[j].object));\r\n          }\r\n        }\r\n\r\n        if (children.length > 0) {\r\n          arr[i].children = children;\r\n          getNestedChildren(children);\r\n        }\r\n      }\r\n    }\r\n\r\n    getNestedChildren(result);\r\n\r\n    return result[0]\r\n  }\r\n\r\n\r\n  get presentation() {\r\n    const self = this;\r\n\r\n    if (this._presentation) {\r\n      return this._presentation;\r\n    }\r\n\r\n    const gp = self.getNode(ActivityNodeType.GoMolecularEntity);\r\n    const mf = self.getNode(ActivityNodeType.GoMolecularFunction);\r\n    const gpText = gp ? gp.getTerm().label : '';\r\n    const mfText = mf ? mf.getTerm().label : '';\r\n    let qualifier = '';\r\n    let title = '';\r\n\r\n    if (self.activityType === ActivityType.ccOnly) {\r\n      title = gpText;\r\n    } else if (self.activityType === ActivityType.molecule) {\r\n      title = gpText;\r\n    } else if (self.activityType === ActivityType.proteinComplex) {\r\n      title = gpText;\r\n    } else {\r\n      qualifier = mf.isComplement ? 'NOT' : '';\r\n      title = `enabled by ${gpText}`;\r\n    }\r\n\r\n    const result = {\r\n      qualifier: qualifier,\r\n      title: title,\r\n      gpText: gpText,\r\n      mfText: mfText,\r\n      gp: {},\r\n      fd: {},\r\n      extra: []\r\n    };\r\n\r\n    const sortedNodes = self.nodes.sort(compareNodeWeight);\r\n\r\n    each(sortedNodes, function (node: ActivityNode) {\r\n      if (node.displaySection && node.displayGroup) {\r\n        if (!result[node.displaySection.id][node.displayGroup.id]) {\r\n          result[node.displaySection.id][node.displayGroup.id] = {\r\n            shorthand: node.displayGroup.shorthand,\r\n            label: node.displayGroup.label,\r\n            nodes: []\r\n          };\r\n        }\r\n\r\n        result[node.displaySection.id][node.displayGroup.id].nodes.push(node);\r\n        node.nodeGroup = result[node.displaySection.id][node.displayGroup.id];\r\n\r\n        if (node.isComplement) {\r\n          node.nodeGroup.isComplement = true;\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n    this._presentation = result;\r\n\r\n    return this._presentation;\r\n  }\r\n\r\n  resetPresentation() {\r\n    this._presentation = null;\r\n  }\r\n\r\n}\r\n\r\nexport class ActivityTreeNode {\r\n  parentId: string;\r\n  id: string;\r\n  node: ActivityNode;\r\n  children: ActivityTreeNode[];\r\n\r\n  constructor(node: ActivityNode, children: ActivityTreeNode[] = []) {\r\n    this.node = node;\r\n    this.id = node.id\r\n    this.children = children;\r\n  }\r\n\r\n}\r\n\r\nexport function compareActivity(a: Activity, b: Activity) {\r\n  return a.id === b.id;\r\n}\r\n\r\n\r\n\r\n","import { noctuaFormConfig } from './../../noctua-form-config';\r\nimport { Activity, ActivitySortField } from './activity'\r\nimport { ActivityNode, ActivityNodeType } from './activity-node';\r\nimport { Group } from '../group';\r\nimport { Contributor } from '../contributor';\r\nimport { Evidence } from './evidence';\r\nimport { Triple } from './triple';\r\nimport { Entity } from './entity';\r\nimport { each, find, orderBy } from 'lodash';\r\nimport { NoctuaFormUtils } from './../../utils/noctua-form-utils';\r\nimport { Violation } from './error/violation-error';\r\nimport { PendingChange } from './pending-change';\r\n\r\nexport enum ReloadType {\r\n  RESET = 'reset',\r\n  STORE = 'store'\r\n}\r\n\r\nexport enum CamRebuildSignal {\r\n  NONE = 'none',\r\n  MERGE = 'merge',\r\n  REBUILD = 'rebuild'\r\n}\r\n\r\nexport enum CamOperation {\r\n  NONE = 'none',\r\n  ADD_ACTIVITY = 'add_activity',\r\n  ADD_CAUSAL_RELATION = 'add_causal_relation'\r\n}\r\n\r\nexport class CamQueryMatch {\r\n  modelId?: string;\r\n  terms?: Entity[] = [];\r\n  reference?: Entity[] = [];\r\n}\r\n\r\nexport class CamSortBy {\r\n  field: ActivitySortField = ActivitySortField.GP\r\n  label = \"\";\r\n  ascending = true;\r\n}\r\n\r\n\r\nexport class CamStats {\r\n  totalChanges = 0;\r\n  camsCount = 0;\r\n  termsCount = 0;\r\n  gpsCount = 0;\r\n  evidenceCount = 0;\r\n  referencesCount = 0;\r\n  withsCount = 0;\r\n  relationsCount = 0;\r\n\r\n  constructor() { }\r\n\r\n  updateTotal() {\r\n    this.totalChanges =\r\n      this.termsCount\r\n      + this.gpsCount\r\n      + this.evidenceCount\r\n      + this.referencesCount\r\n      + this.withsCount\r\n      + this.relationsCount;\r\n  }\r\n}\r\n\r\nexport class CamLoadingIndicator {\r\n  status = false;\r\n  message = ''\r\n\r\n  constructor(status = false, message = '') {\r\n    this.status = status;\r\n    this.message = message;\r\n  }\r\n\r\n  reset() {\r\n    this.status = false;\r\n    this.message = '';\r\n  }\r\n}\r\n\r\nexport class CamRebuildRule {\r\n  signal = CamRebuildSignal.NONE;\r\n  count = 0;\r\n  autoRebuild = false;\r\n  autoMerge = false;\r\n  message = ''\r\n  description = ''\r\n\r\n  addMergeSignal() {\r\n    this.count++;\r\n\r\n    if (this.count === 1) {\r\n      this.signal = CamRebuildSignal.MERGE;\r\n      this.message = 'new changes available. Please refresh Model';\r\n      this.description = 'Model has pending Changes. Please Reload'\r\n    } else {\r\n      this.signal = CamRebuildSignal.REBUILD;\r\n      this.message = 'another new changes available. Please reload Model';\r\n      this.description = 'Model has pending Changes. Please Reload'\r\n    }\r\n  }\r\n\r\n  addRebuildSignal() {\r\n    this.count++;\r\n    this.signal = CamRebuildSignal.REBUILD;\r\n    this.message = 'Model has been saved. Please reload Model';\r\n    this.description = 'Model has pending Changes. Please Reload'\r\n  }\r\n\r\n  reset() {\r\n    this.count = 0;\r\n    this.signal = CamRebuildSignal.NONE;\r\n    this.message = '';\r\n    this.description = ''\r\n  }\r\n}\r\n\r\nexport class Cam {\r\n  title: string;\r\n  comments: string[] = [];\r\n  state: any;\r\n  groups: Group[] = [];\r\n  contributors: Contributor[] = [];\r\n  groupId: any;\r\n  expanded = false;\r\n  model: any;\r\n  //connectorActivities: ConnectorActivity[] = [];\r\n  causalRelations: Triple<Activity>[] = [];\r\n  sortBy: CamSortBy = new CamSortBy();\r\n  error = false;\r\n  date: string;\r\n  modified = false;\r\n  modifiedStats = new CamStats();\r\n  matchedCount = 0;\r\n  queryMatch = new CamQueryMatch();\r\n  dateReviewAdded = Date.now();\r\n\r\n\r\n  operation = CamOperation.NONE;\r\n  //rebuild\r\n  rebuildRule = new CamRebuildRule();\r\n\r\n  //bbop graphs\r\n  graph;\r\n  storedGraph;\r\n  pendingGraph;\r\n\r\n  // bbop managers \r\n  baristaClient;\r\n  engine;\r\n  manager;\r\n  copyModelManager;\r\n  artManager;\r\n  groupManager;\r\n  replaceManager;\r\n\r\n  // Display \r\n\r\n  /**\r\n   * Used for HTML id attribute\r\n   */\r\n  displayId: string;\r\n  moreDetail = false;\r\n  displayNumber = '1';\r\n\r\n  displayType;\r\n\r\n  graphPreview = {\r\n    nodes: [],\r\n    edges: []\r\n  };\r\n\r\n  loading = new CamLoadingIndicator(false)\r\n\r\n  // Error Handling\r\n  isReasoned = false;\r\n  hasViolations = false;\r\n  violations: Violation[];\r\n\r\n  //Graph\r\n  manualLayout = false;\r\n  layoutChanged = false;\r\n\r\n  private _filteredActivities: Activity[] = [];\r\n  private _activities: Activity[] = [];\r\n  private _storedActivities: Activity[] = [];\r\n  private _id: string;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  set id(id: string) {\r\n    this._id = id;\r\n    this.displayId = NoctuaFormUtils.cleanID(id);\r\n  }\r\n\r\n  get activities() {\r\n    const direction = this.sortBy.ascending ? 'asc' : 'desc';\r\n    switch (this.sortBy?.field) {\r\n      case ActivitySortField.DATE:\r\n        return orderBy(this._activities, ['date', this._getGPText], [direction, direction]);\r\n      case ActivitySortField.MF:\r\n        return orderBy(this._activities, [this._getMFText, this._getGPText], [direction, direction]);\r\n      case ActivitySortField.BP:\r\n        return orderBy(this._activities, [this._getBPText, this._getGPText], [direction, direction]);\r\n      case ActivitySortField.CC:\r\n        return orderBy(this._activities, [this._getCCText, this._getGPText], [direction, direction]);\r\n      default:\r\n        return orderBy(this._activities, [this._getGPText], [direction, direction])\r\n    }\r\n  }\r\n\r\n  set activities(srcActivities: Activity[]) {\r\n    each(srcActivities, (activity: Activity) => {\r\n      const prevActivity = this.findActivityById(activity.id);\r\n\r\n      if (prevActivity) {\r\n        activity.expanded = prevActivity.expanded;\r\n      }\r\n    });\r\n\r\n    this._activities = srcActivities;\r\n  }\r\n\r\n  get storedActivities() {\r\n    return this._storedActivities\r\n  }\r\n\r\n  set storedActivities(srcActivities: Activity[]) {\r\n    each(srcActivities, (activity: Activity) => {\r\n      const prevActivity = this.findActivityById(activity.id);\r\n\r\n      if (prevActivity) {\r\n        activity.expanded = prevActivity.expanded;\r\n      }\r\n    });\r\n\r\n    this._storedActivities = srcActivities;\r\n  }\r\n\r\n  updateSortBy(field: ActivitySortField, label: string) {\r\n    this.sortBy.field = field\r\n    this.sortBy.label = label\r\n  }\r\n\r\n  toggleExpand() {\r\n    this.expanded = !this.expanded;\r\n  }\r\n\r\n  expandAllActivities(expand: boolean) {\r\n    const self = this;\r\n\r\n    each(self.activities, (activity: Activity) => {\r\n      activity.expanded = expand;\r\n    });\r\n  }\r\n\r\n  getCausalRelation(subjectId: string, objectId: string): Triple<Activity> {\r\n    const self = this;\r\n\r\n    return self.causalRelations.find((triple: Triple<Activity>) => {\r\n      if (triple.predicate?.isReverseLink) {\r\n        return triple.object?.id === subjectId && triple.object?.id === subjectId;\r\n      }\r\n      return triple.subject?.id === subjectId && triple.object?.id === objectId;\r\n    })\r\n  }\r\n\r\n  clearHighlight() {\r\n    const self = this;\r\n\r\n    each(self._activities, (activity: Activity) => {\r\n      each(activity.nodes, (node: ActivityNode) => {\r\n        node.term.highlight = false;\r\n        each(node.predicate.evidence, (evidence: Evidence) => {\r\n          evidence.evidence.highlight = false;\r\n          evidence.referenceEntity.highlight = false;\r\n          evidence.withEntity.highlight = false;\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  findNodeById(uuid, activities: Activity[]): ActivityNode {\r\n    const self = this;\r\n    let found\r\n    each(activities, (activity) => {\r\n      found = find(activity.nodes, (node: ActivityNode) => {\r\n        return node.uuid === uuid;\r\n      });\r\n\r\n      if (found) {\r\n        return false;\r\n      }\r\n    })\r\n\r\n    return found;\r\n  }\r\n\r\n  findActivityById(id) {\r\n    const self = this;\r\n\r\n    return find(self.activities, (activity) => {\r\n      return activity.id === id;\r\n    });\r\n  }\r\n\r\n  findActivityByNodeUuid(nodeId): Activity[] {\r\n    const self = this;\r\n\r\n    const result: Activity[] = [];\r\n\r\n    each(self._activities, (activity: Activity) => {\r\n      each(activity.nodes, (node: ActivityNode) => {\r\n        if (node.uuid === nodeId) {\r\n          result.push(activity)\r\n        }\r\n        each(node.predicate.evidence, (evidence: Evidence) => {\r\n          if (evidence.uuid === nodeId) {\r\n            result.push(activity)\r\n          }\r\n        });\r\n      });\r\n    });\r\n    return result;\r\n  }\r\n\r\n  checkStored() {\r\n    const self = this;\r\n\r\n    each(self._activities, (activity: Activity) => {\r\n      each(activity.nodes, (node: ActivityNode) => {\r\n        // node.term.highlight = false;\r\n        const oldNode: ActivityNode = self.findNodeById(node.uuid, self.storedActivities)\r\n        node.checkStored(oldNode)\r\n      });\r\n    });\r\n  }\r\n\r\n  applyFilter() {\r\n    const self = this;\r\n\r\n    self.clearHighlight();\r\n\r\n    if (self.queryMatch && self.queryMatch.terms.length > 0) {\r\n      self._filteredActivities = [];\r\n      self.matchedCount = 0;\r\n\r\n      each(self._activities, (activity: Activity) => {\r\n        let match = false;\r\n        each(activity.nodes, (node: ActivityNode) => {\r\n          each(self.queryMatch.terms, (term) => {\r\n\r\n            if (node.term.uuid === term.uuid) {\r\n              node.term.highlight = true;\r\n              node.term.activityDisplayId = term.activityDisplayId = activity.displayId;\r\n\r\n              self.matchedCount += 1;\r\n              match = true;\r\n            }\r\n          });\r\n\r\n          each(node.predicate.evidence, (evidence: Evidence) => {\r\n            each(self.queryMatch.terms, (term) => {\r\n\r\n              if (evidence.uuid === term.uuid) {\r\n                evidence.referenceEntity.highlight = true;\r\n                evidence.referenceEntity.activityDisplayId = term.activityDisplayId = activity.displayId;\r\n\r\n                self.matchedCount += 1;\r\n                match = true;\r\n              }\r\n            });\r\n          });\r\n        });\r\n\r\n        if (match) {\r\n          self._filteredActivities.push(activity);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  applyWeights(weight = 0) {\r\n    const self = this;\r\n\r\n    if (self.queryMatch && self.queryMatch.terms.length > 0) {\r\n\r\n      each(self.activities, (activity: Activity) => {\r\n        each(activity.nodes, (node: ActivityNode) => {\r\n          const matchNode = find(self.queryMatch.terms, { uuid: node.term.uuid }) as Entity;\r\n\r\n          if (matchNode) {\r\n            matchNode.weight = node.term.weight = weight;\r\n            weight++;\r\n          }\r\n\r\n          each(node.predicate.evidence, (evidence: Evidence) => {\r\n            const matchNode = find(self.queryMatch.terms, { uuid: evidence.referenceEntity.uuid }) as Entity;\r\n\r\n            if (matchNode) {\r\n              matchNode.weight = evidence.referenceEntity.weight = weight;\r\n              weight++;\r\n            }\r\n          });\r\n        });\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  addPendingChanges(findEntities: Entity[], replaceWith: string, category) {\r\n    const self = this;\r\n\r\n    each(self._activities, (activity: Activity) => {\r\n      each(activity.nodes, (node: ActivityNode) => {\r\n        each(findEntities, (entity: Entity) => {\r\n          if (category.name === noctuaFormConfig.findReplaceCategory.options.reference.name) {\r\n            each(node.predicate.evidence, (evidence: Evidence, key) => {\r\n              if (evidence.uuid === entity.uuid) {\r\n                const oldReference = new Entity(evidence.reference, evidence.reference);\r\n                const newReference = new Entity(replaceWith, replaceWith);\r\n\r\n                evidence.pendingReferenceChanges = new PendingChange(evidence.uuid, oldReference, newReference);\r\n                evidence.pendingReferenceChanges.uuid = evidence.uuid;\r\n              }\r\n            });\r\n          } else {\r\n            if (node.term.uuid === entity.uuid) {\r\n              const newValue = new Entity(replaceWith, replaceWith);\r\n              node.pendingEntityChanges = new PendingChange(node.uuid, node.term, newValue);\r\n            }\r\n          }\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  reviewCamChanges(stat: CamStats = new CamStats()): boolean {\r\n    const self = this;\r\n    let modified = false;\r\n\r\n    self.modifiedStats = new CamStats();\r\n\r\n    each(self._activities, (activity: Activity) => {\r\n      each(activity.nodes, (node: ActivityNode) => {\r\n        activity.modified = node.reviewTermChanges(stat, self.modifiedStats);\r\n        modified = modified || activity.modified;\r\n      });\r\n    });\r\n\r\n    self.modifiedStats.updateTotal();\r\n    return modified;\r\n  }\r\n\r\n  getNodesByType(type: ActivityNodeType): any[] {\r\n    const self = this;\r\n    const result = [];\r\n\r\n    each(self.activities, (activity: Activity) => {\r\n      result.push({\r\n        activity,\r\n        title: activity.title,\r\n        activityNodes: activity.getNodesByType(type)\r\n      });\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  getNodesByTypeFlat(type: ActivityNodeType): ActivityNode[] {\r\n    const self = this;\r\n    const result = [];\r\n\r\n    each(self.activities, (activity: Activity) => {\r\n      result.push(...activity.getNodesByType(type));\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  getTerms(formActivity: Activity) {\r\n    const self = this;\r\n    const result = [];\r\n\r\n    if (formActivity && formActivity.nodes) {\r\n      each(formActivity.nodes, (node: ActivityNode) => {\r\n        result.push(node);\r\n      });\r\n    }\r\n\r\n    each(self.activities, (activity: Activity) => {\r\n      each(activity.nodes, (node: ActivityNode) => {\r\n        result.push(node);\r\n      });\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  getEvidences(formActivity?: Activity) {\r\n    const self = this;\r\n    const result = [];\r\n\r\n    if (formActivity && formActivity.nodes) {\r\n      each(formActivity.nodes, (node: ActivityNode) => {\r\n        each(node.predicate.evidence, (evidence: Evidence) => {\r\n          if (evidence.hasValue()) {\r\n            result.push(evidence);\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    each(self.activities, (activity: Activity) => {\r\n      each(activity.edges, (triple: Triple<ActivityNode>) => {\r\n        each(triple.predicate.evidence, (evidence: Evidence) => {\r\n          if (evidence.hasValue()) {\r\n            result.push(evidence);\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n\r\n  setViolations() {\r\n    const self = this;\r\n    self.violations?.forEach((violation: Violation) => {\r\n      const activities = this.findActivityByNodeUuid(violation.node.uuid);\r\n\r\n      if (activities) {\r\n        activities.forEach((activity: Activity) => {\r\n          activity.hasViolations = true;\r\n          activity.violations.push(violation);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  getViolationDisplayErrors() {\r\n    const self = this;\r\n    const result = [];\r\n\r\n    result.push(...self.violations.map((violation: Violation) => {\r\n      return violation.getDisplayError();\r\n    }));\r\n\r\n    return result;\r\n  }\r\n\r\n  tableCanDisplayEnabledBy(node: ActivityNode) {\r\n    return node.predicate.edge && node.predicate.edge.id === noctuaFormConfig.edge.enabledBy.id;\r\n  }\r\n\r\n  tableDisplayExtension(node: ActivityNode) {\r\n    if (node.id === 'mf') {\r\n      return '';\r\n    } else if (node.isComplement) {\r\n      return 'NOT ' + node.predicate.edge.label;\r\n    } else {\r\n      return node.predicate.edge.label;\r\n    }\r\n  }\r\n\r\n  updateActivityDisplayNumber() {\r\n    const self = this;\r\n\r\n    each(self.activities, (activity: Activity, key) => {\r\n      activity.displayNumber = self.displayNumber + '.' + (key + 1).toString();\r\n    });\r\n  }\r\n\r\n  updateProperties() {\r\n    const self = this;\r\n\r\n    each(self.activities, (activity: Activity, key) => {\r\n      activity.updateProperties()\r\n    });\r\n\r\n    this.sortBy.label = noctuaFormConfig.activitySortField.options[this.sortBy.field]?.label\r\n  }\r\n\r\n  private _getGPText(a: Activity): string {\r\n    return a.presentation.gpText.toLowerCase()\r\n  }\r\n\r\n  private _getMFText(a: Activity): string {\r\n    if (!a.mfNode) return ''\r\n    return a.mfNode.term.label;\r\n  }\r\n  private _getBPText(a: Activity): string {\r\n    if (!a.bpNode) return ''\r\n    return a.bpNode.term.label;\r\n  }\r\n  private _getCCText(a: Activity): string {\r\n    if (!a.ccNode) return ''\r\n    return a.ccNode.term.label;\r\n  }\r\n\r\n\r\n}\r\n\r\n","import { v4 as uuid } from 'uuid';\r\nimport { Edge as NgxEdge, Node as NgxNode } from '@swimlane/ngx-graph';\r\nimport { noctuaFormConfig } from './../../noctua-form-config';\r\nimport { SaeGraph } from './sae-graph';\r\nimport { Activity, ActivityType } from './activity';\r\nimport { ActivityNode } from './activity-node';\r\nimport { ConnectorRule } from './connector-rule';\r\nimport { Entity } from './entity';\r\nimport { Triple } from './triple';\r\nimport { Evidence } from './evidence';\r\nimport { Predicate } from './predicate';\r\nimport { cloneDeep, find } from 'lodash';\r\n\r\nexport enum ConnectorState {\r\n  creation = 1,\r\n  editing\r\n}\r\n\r\nexport enum ConnectorType {\r\n  ACTIVITY_ACTIVITY = 'activity',\r\n  ACTIVITY_MOLECULE = 'activityMolecule',\r\n  MOLECULE_ACTIVITY = 'moleculeActivity',\r\n};\r\n\r\nexport class ConnectorActivity extends SaeGraph<ActivityNode> {\r\n  id: string;\r\n  subject: Activity;\r\n  object: Activity;\r\n  subjectNode: ActivityNode;\r\n  objectNode: ActivityNode;\r\n  predicate: Predicate;\r\n  state: ConnectorState;\r\n  rule: ConnectorRule;\r\n  connectorType: ConnectorType\r\n  reverseEdge = false;\r\n\r\n  graphPreview = {\r\n    nodes: [],\r\n    edges: []\r\n  };\r\n\r\n  constructor(subject: Activity, object: Activity, predicate: Predicate) {\r\n    super();\r\n    this.id = uuid();\r\n\r\n    this.subject = subject;\r\n    this.object = object;\r\n    this.predicate = predicate;\r\n    this.setConnectorType()\r\n    this.rule = new ConnectorRule(this.connectorType);\r\n    this.subjectNode = cloneDeep(this.subject.rootNode);\r\n    this.objectNode = this.object.rootNode;\r\n    this.subjectNode.predicate.evidence = predicate.evidence\r\n\r\n    this.setRule();\r\n    this.setLinkDirection()\r\n    this.createGraph();\r\n    this.setPreview();\r\n  }\r\n\r\n  setRule() {\r\n    const self = this;\r\n    const question = self.edgeToConnectorQuestion(self.predicate.edge);\r\n\r\n    if (question) {\r\n\r\n      Object.entries(question).forEach(entry => {\r\n        const [key, value] = entry;\r\n        const id = (value as string).split(':');\r\n        self.rule[key] = noctuaFormConfig[id[0]][id[1]]\r\n      });\r\n    } else {\r\n      self.rule.relationship = null;\r\n      self.rule.directness = null;\r\n      self.rule.effectDirection = null;\r\n    }\r\n\r\n  }\r\n\r\n  addDefaultEvidence() {\r\n    let activity: Activity;\r\n    if (this.connectorType === ConnectorType.MOLECULE_ACTIVITY) {\r\n      activity = this.object;\r\n    } else {\r\n      activity = this.subject\r\n    }\r\n\r\n    const mfNode = activity.getMFNode()\r\n    const gpNode = activity.getGPNode()\r\n    if (gpNode && mfNode) {\r\n      const edge = activity.getEdge(mfNode.id, gpNode.id)\r\n      this.predicate.evidence = cloneDeep(edge.predicate.evidence)\r\n    }\r\n  }\r\n\r\n  checkConnection(value: any) {\r\n    const self = this;\r\n\r\n    self.rule.displaySection.effectDirection = true;\r\n\r\n    if (value.relationship) {\r\n      switch (value.relationship.id) {\r\n        case noctuaFormConfig.activityRelationship.regulation.id:\r\n          self.rule.displaySection.effectDirection = true;\r\n          self.rule.displaySection.directness = true;\r\n          break;\r\n        case noctuaFormConfig.activityRelationship.constitutivelyUpstream.id:\r\n        case noctuaFormConfig.activityRelationship.providesInputFor.id:\r\n        case noctuaFormConfig.activityRelationship.removesInputFor.id:\r\n          self.rule.displaySection.effectDirection = false;\r\n          self.rule.displaySection.directness = false;\r\n          break;\r\n        case noctuaFormConfig.activityRelationship.undetermined.id:\r\n          self.rule.displaySection.effectDirection = true;\r\n          self.rule.displaySection.directness = false;\r\n          break;\r\n        case noctuaFormConfig.moleculeActivityRelationship.regulates.id:\r\n          self.rule.displaySection.effectDirection = true;\r\n          self.rule.displaySection.directness = false;\r\n          break;\r\n        case noctuaFormConfig.moleculeActivityRelationship.substrate.id:\r\n          self.rule.displaySection.effectDirection = false;\r\n          self.rule.displaySection.directness = false;\r\n          break;\r\n        case (noctuaFormConfig.activityMoleculeRelationship.product.id):\r\n          self.rule.displaySection.effectDirection = false;\r\n          self.rule.displaySection.directness = false;\r\n          break;\r\n      }\r\n    }\r\n\r\n    self.predicate.edge = this.getCausalConnectorEdge(\r\n      value.relationship?.id,\r\n      self.rule.displaySection.effectDirection && value.effectDirection ? value.effectDirection.id : null,\r\n      self.rule.displaySection.directness && value.directness ? value.directness.id : null);\r\n\r\n    self.prepareSave(value);\r\n\r\n    this.setLinkDirection();\r\n    self.setPreview();\r\n  }\r\n\r\n  getVPEEdge(relationship: string, effectDirection?: string, directness?: string): string | undefined {\r\n    const tree = noctuaFormConfig.decisionTree;\r\n    if (tree[relationship]) {\r\n      if (tree[relationship].edge) {\r\n        return tree[relationship].edge;\r\n      } else if (effectDirection && tree[relationship][effectDirection]) {\r\n        if (tree[relationship][effectDirection].edge) {\r\n          return tree[relationship][effectDirection].edge;\r\n        } else if (directness && tree[relationship][effectDirection][directness]) {\r\n          return tree[relationship][effectDirection][directness].edge;\r\n        }\r\n      }\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  getCausalConnectorEdge(relationship, effectDirection, directness): Entity {\r\n    const predicateId = this.getVPEEdge(relationship, effectDirection, directness)\r\n\r\n    const entity = find(noctuaFormConfig.allEdges, {\r\n      id: predicateId\r\n    });\r\n    const edge = entity ? Entity.createEntity(entity) : Entity.createEntity({ id: predicateId, label: predicateId });\r\n\r\n    if (edge.id === noctuaFormConfig.edge.hasInput.id) {\r\n      edge.label = 'input of'\r\n    }\r\n\r\n    return edge\r\n  }\r\n\r\n  getInputs(edge: string): any {\r\n    const tree = noctuaFormConfig.decisionTree;\r\n    for (const relationship in tree) {\r\n      if (tree[relationship].edge === edge) {\r\n        return { relationship };\r\n      } else if (typeof tree[relationship] === 'object') {\r\n        for (const effectDirection in tree[relationship]) {\r\n          if (tree[relationship][effectDirection].edge === edge) {\r\n            return { relationship, effectDirection };\r\n          } else if (typeof tree[relationship][effectDirection] === 'object') {\r\n            for (const directness in tree[relationship][effectDirection]) {\r\n              if (tree[relationship][effectDirection][directness].edge === edge) {\r\n                return { relationship, effectDirection, directness };\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  edgeToConnectorQuestion(edge: Entity) {\r\n\r\n    const question = this.getInputs(edge.id)\r\n    return question\r\n  }\r\n\r\n  setConnectorType() {\r\n    if (this.subject.activityType !== ActivityType.molecule && this.object.activityType !== ActivityType.molecule) {\r\n      this.connectorType = ConnectorType.ACTIVITY_ACTIVITY\r\n    } else if (this.subject.activityType !== ActivityType.molecule && this.object.activityType === ActivityType.molecule) {\r\n      this.connectorType = ConnectorType.ACTIVITY_MOLECULE\r\n    } else if (this.subject.activityType === ActivityType.molecule && this.object.activityType !== ActivityType.molecule) {\r\n      this.connectorType = ConnectorType.MOLECULE_ACTIVITY\r\n    }\r\n  }\r\n\r\n\r\n  setLinkDirection() {\r\n    this.predicate.isReverseLink = (this.connectorType === ConnectorType.MOLECULE_ACTIVITY\r\n      && this.predicate.edge.id === noctuaFormConfig.edge.hasInput.id);\r\n  }\r\n\r\n  setPreview() {\r\n    this.graphPreview.nodes = [...this._getPreviewNodes()];\r\n    this.graphPreview.edges = [...this._getPreviewEdges()];\r\n  }\r\n\r\n  private _getPreviewNodes(): NgxNode[] {\r\n    const self = this;\r\n    let nodes: NgxNode[] = [];\r\n\r\n    let activityNodes = [self.subject, self.object];\r\n\r\n\r\n    nodes = <NgxNode[]>activityNodes.map((activity: Activity) => {\r\n      const node = activity.getMFNode()\r\n      return {\r\n        id: activity.id,\r\n        label: node ? node?.term.label : '',\r\n      };\r\n    });\r\n\r\n    return nodes;\r\n  }\r\n\r\n  createSave() {\r\n    const self = this;\r\n    const saveData = {\r\n      title: '',\r\n      nodes: [],\r\n      triples: [],\r\n      graph: null\r\n    };\r\n\r\n    let triples: Triple<ActivityNode>[]\r\n\r\n    if (self.predicate.isReverseLink) {\r\n      triples = [new Triple<ActivityNode>(\r\n        self.objectNode, self.subjectNode, self.predicate)\r\n      ]\r\n    } else {\r\n      triples = [new Triple<ActivityNode>(\r\n        self.subjectNode, self.objectNode, self.predicate)\r\n      ]\r\n    }\r\n\r\n    saveData.triples = triples;\r\n\r\n    return saveData;\r\n  }\r\n\r\n  createEdit(srcActivity: ConnectorActivity, predicate?: Predicate) {\r\n    const self = this;\r\n\r\n    if (predicate) {\r\n      this.predicate = predicate;\r\n    }\r\n\r\n    const srcSaveData = srcActivity.createSave();\r\n    const destSaveData = self.createSave();\r\n    const saveData = {\r\n      removeTriples: srcSaveData.triples,\r\n      addTriples: destSaveData.triples\r\n    };\r\n\r\n    return saveData;\r\n  }\r\n\r\n  createEditEvidence(srcActivity: ConnectorActivity, predicate: Predicate) {\r\n    const self = this;\r\n    self.predicate.evidence = predicate.evidence;\r\n\r\n    const removeTriples = new Triple(self.subjectNode, self.objectNode, srcActivity.predicate);\r\n    const addTriples = new Triple(self.subjectNode, self.objectNode, self.predicate);\r\n\r\n    const saveData = {\r\n      addTriples: addTriples,\r\n      removeTriples: removeTriples,\r\n    };\r\n\r\n    return saveData;\r\n  }\r\n\r\n  createDelete() {\r\n    const self = this;\r\n\r\n    const deleteData = {\r\n      triples: []\r\n    };\r\n\r\n    if (self.predicate.isReverseLink) {\r\n      deleteData.triples.push(new Triple(self.objectNode, self.subjectNode, self.predicate));\r\n    } else {\r\n      deleteData.triples.push(new Triple(self.subjectNode, self.objectNode, self.predicate));\r\n    }\r\n\r\n    return deleteData;\r\n  }\r\n\r\n  createGraph(srcEvidence?: Evidence[]) {\r\n    const self = this;\r\n    const evidence = srcEvidence ? srcEvidence : self.predicate.evidence;\r\n\r\n    self.addNodes(self.subjectNode, self.objectNode);\r\n    self.addEdge(self.subjectNode, self.objectNode, new Predicate(self.predicate.edge, evidence));\r\n  }\r\n\r\n  prepareSave(value) {\r\n    const self = this;\r\n\r\n    const evidence: Evidence[] = value.evidenceFormArray.map((evidence: Evidence) => {\r\n      const result = new Evidence();\r\n\r\n      result.uuid = evidence.uuid;\r\n      result.evidence = new Entity(evidence.evidence.id, evidence.evidence.label);\r\n      result.reference = evidence.reference;\r\n      result.with = evidence.with;\r\n\r\n      return result;\r\n    });\r\n\r\n    this.predicate.evidence = evidence;\r\n\r\n    // this.createGraph(evidence);\r\n  }\r\n\r\n  private _getPreviewEdges(): NgxEdge[] {\r\n    const self = this;\r\n\r\n    let edges: NgxEdge[] = [];\r\n\r\n    edges = <NgxEdge[]>[\r\n      {\r\n        source: self.subject.id,\r\n        target: self.object.id,\r\n        label: self.predicate.edge ? self.predicate.edge.label : ''\r\n      }];\r\n\r\n    return edges;\r\n  }\r\n}\r\n","import { ConnectorType } from './connector-activity';\r\nimport { noctuaFormConfig } from './../../noctua-form-config';\r\n\r\nexport class ConnectorRule {\r\n  directness = noctuaFormConfig.directness.direct;\r\n  effectDirection = noctuaFormConfig.effectDirection.positive;\r\n  relationship;\r\n\r\n  displaySection = {\r\n    directness: true,\r\n    effectDirection: true,\r\n  };\r\n\r\n  constructor(connectorType: ConnectorType) {\r\n\r\n    switch (connectorType) {\r\n      case (ConnectorType.ACTIVITY_ACTIVITY):\r\n        this.relationship = noctuaFormConfig.activityRelationship.regulation;\r\n        break;\r\n      case (ConnectorType.ACTIVITY_MOLECULE):\r\n        this.relationship = noctuaFormConfig.activityMoleculeRelationship.product;\r\n        break;\r\n      case (ConnectorType.MOLECULE_ACTIVITY):\r\n        this.relationship = noctuaFormConfig.moleculeActivityRelationship.regulates;\r\n        break;\r\n    }\r\n  }\r\n}\r\n","\r\ndeclare const require: any;\r\nimport { v4 as uuid } from 'uuid';\r\n\r\nexport class EntityLookup {\r\n  category: string;\r\n  requestParams: any;\r\n  results: any = [];\r\n\r\n  constructor(category?: string, requestParams?: any) {\r\n    this.category = category;\r\n    this.requestParams = requestParams;\r\n  }\r\n\r\n}\r\n","import { NoctuaFormUtils } from './../../utils/noctua-form-utils';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport enum EntityType {\r\n  ACTIVITY_NODE = 'activity_node',\r\n  EVIDENCE = 'evidence',\r\n  ENTITY = \"entity\",\r\n  ARTICLE = \"article\",\r\n  CONTRIBUTOR = \"contributor\"\r\n}\r\n\r\nexport interface EntityBase {\r\n  id: string;\r\n  label: string;\r\n}\r\n\r\nexport class Entity implements EntityBase {\r\n  entityType = EntityType.ENTITY\r\n  classExpression: any;\r\n  highlight: boolean | undefined;\r\n  modified: boolean | undefined;\r\n  termHistory: Entity[] = [];\r\n  displayId: string;\r\n  activityDisplayId: string;\r\n  weight = 1;\r\n  frequency: number;\r\n\r\n  private _uuid: string = null;\r\n\r\n  constructor(public id: string,\r\n    public label: string,\r\n    public url?: string,\r\n    uuid?: string,\r\n    public modelId?: string) {\r\n    this.uuid = uuid;\r\n  }\r\n\r\n  static createEntity(value: Partial<EntityBase>) {\r\n    const entity = new Entity(value?.id, value?.label);\r\n\r\n    return entity;\r\n  }\r\n\r\n  get uuid() {\r\n    return this._uuid;\r\n  }\r\n\r\n  set uuid(uuid: string) {\r\n    if (uuid) {\r\n      this._uuid = uuid;\r\n    }\r\n    this.displayId = 'noc-node-' + NoctuaFormUtils.cleanID(uuid);\r\n  }\r\n\r\n  hasValue() {\r\n    const result = this.id !== null && this.id !== undefined && this.id.length > 0;\r\n\r\n    return result;\r\n  }\r\n\r\n\r\n}\r\n\r\nexport function _compareEntityWeight(a: Entity, b: Entity): number {\r\n  if (a.weight < b.weight) {\r\n    return -1;\r\n  } else {\r\n    return 1;\r\n  }\r\n}\r\n","import { ActivityError, ActivityNode, Entity, ErrorLevel, ErrorType } from '../../../models/activity';\r\n\r\nexport enum ViolationType {\r\n  cardinality = 'cardinality',\r\n  relation = 'relations'\r\n}\r\n\r\nexport class Violation {\r\n  protected _message: string;\r\n  constructor(public node: Partial<ActivityNode>, public type: ViolationType) {\r\n  }\r\n\r\n  getDisplayError() { }\r\n\r\n  get message() {\r\n    return this._message;\r\n  }\r\n}\r\n\r\nexport class CardinalityViolation extends Violation {\r\n  subject: Partial<ActivityNode>;\r\n  constructor(public override node: Partial<ActivityNode>,\r\n    public predicate: Entity,\r\n    public nobjects: number,\r\n    public cardinality: string) {\r\n    super(node, ViolationType.cardinality);\r\n    this.subject = node;\r\n  }\r\n\r\n  override get message() {\r\n    this._message = `Only one ${this.predicate?.label} is allowed`\r\n    return this._message;\r\n  }\r\n\r\n  override getDisplayError() {\r\n    const self = this;\r\n    const meta = {\r\n      aspect: '',\r\n      subjectNode: {\r\n        label: self.subject?.term?.label\r\n      },\r\n      edge: {\r\n        label: self.predicate?.label\r\n      },\r\n    };\r\n\r\n    const error = new ActivityError(ErrorLevel.error, ErrorType.cardinality, self.message, meta);\r\n\r\n    return error;\r\n  }\r\n}\r\n\r\nexport class RelationViolation extends Violation {\r\n  subject: Partial<ActivityNode>;\r\n  predicate: Entity;\r\n  object: Partial<ActivityNode>;\r\n\r\n  constructor(public override node: Partial<ActivityNode>) {\r\n    super(node, ViolationType.relation);\r\n    this.subject = node;\r\n  }\r\n\r\n  override get message() {\r\n    this._message = `Incorrect relationship between ${this.subject?.term?.label} and ${this.object?.term?.label}`;\r\n    return this._message;\r\n  }\r\n\r\n  override getDisplayError() {\r\n    const self = this;\r\n    const meta = {\r\n      aspect: '',\r\n      subjectNode: {\r\n        label: self.subject?.term?.label\r\n      },\r\n      edge: {\r\n        label: self.predicate?.label\r\n      },\r\n      objectNode: {\r\n        label: self.object?.term?.label ? self.object?.term?.label : self.object?.term?.id\r\n      },\r\n    };\r\n\r\n    const error = new ActivityError(ErrorLevel.error, ErrorType.relation, self.message, meta);\r\n\r\n    return error;\r\n  }\r\n}\r\n\r\n\r\n\r\n","import { ActivityError, ErrorLevel, ErrorType } from \"./parser/activity-error\";\r\nimport { Entity, EntityType } from './entity';\r\nimport { ActivityNode } from './activity-node';\r\nimport { find, includes, isEqual } from 'lodash';\r\n\r\nimport { noctuaFormConfig } from './../../noctua-form-config';\r\nimport { CamStats } from \"./cam\";\r\nimport { Contributor } from \"../contributor\";\r\nimport { Group } from \"../group\";\r\nimport { PendingChange } from \"./pending-change\";\r\nimport { NoctuaFormUtils } from \"../../utils/noctua-form-utils\";\r\n\r\nexport class EvidenceExt {\r\n  term: Entity;\r\n  relations: Entity[] = [];\r\n}\r\n\r\nexport class Evidence {\r\n  entityType = EntityType.EVIDENCE;\r\n  edge: Entity;\r\n  evidence: Entity = new Entity('', '');\r\n  referenceEntity: Entity = new Entity('', '');\r\n  withEntity: Entity = new Entity('', '');\r\n  reference: string;\r\n  referenceUrl: string;\r\n  with: string;\r\n  groups: Group[] = [];\r\n  contributors: Contributor[] = [];\r\n  classExpression;\r\n  uuid;\r\n  evidenceRequired = false;\r\n  referenceRequired = false;\r\n  ontologyClass = [];\r\n  pendingEvidenceChanges: PendingChange;\r\n  pendingReferenceChanges: PendingChange;\r\n  pendingWithChanges: PendingChange;\r\n  frequency: number;\r\n  date: string;\r\n  formattedDate: string\r\n  evidenceExts: EvidenceExt[] = [];\r\n\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  hasValue() {\r\n    const self = this;\r\n\r\n    return self.evidence.id && self.reference;\r\n  }\r\n\r\n  setEvidenceOntologyClass(value) {\r\n    this.ontologyClass = value;\r\n  }\r\n\r\n  setEvidence(value: Entity, classExpression?) {\r\n    this.evidence = value;\r\n\r\n    if (classExpression) {\r\n      this.classExpression = classExpression;\r\n    }\r\n  }\r\n\r\n  clearValues() {\r\n    const self = this;\r\n\r\n    self.setEvidence(new Entity('', ''));\r\n    self.reference = '';\r\n    self.with = '';\r\n  }\r\n\r\n  isEvidenceEqual(evidence) {\r\n    const self = this;\r\n    let result = true;\r\n\r\n    result = result && isEqual(self.evidence, evidence.evidence);\r\n    result = result && isEqual(self.reference, evidence.reference);\r\n    result = result && isEqual(self.with, evidence.with);\r\n\r\n    return result;\r\n  }\r\n\r\n  reviewEvidenceChanges(stat: CamStats, modifiedStats: CamStats): boolean {\r\n    const self = this;\r\n    let modified = false;\r\n\r\n    if (self.evidence.modified) {\r\n      modifiedStats.evidenceCount++;\r\n      stat.evidenceCount++;\r\n      modified = true;\r\n    }\r\n\r\n    if (self.referenceEntity.modified) {\r\n      modifiedStats.referencesCount++;\r\n      stat.referencesCount++;\r\n      modified = true;\r\n    }\r\n\r\n    if (self.withEntity.modified) {\r\n      modifiedStats.withsCount++;\r\n      stat.withsCount++;\r\n      modified = true;\r\n    }\r\n\r\n    modifiedStats.updateTotal();\r\n    return modified;\r\n  }\r\n\r\n  checkStored(oldEvidence: Evidence) {\r\n    const self = this;\r\n\r\n    if (oldEvidence && self.evidence.id !== oldEvidence.evidence.id) {\r\n      self.evidence.termHistory.unshift(new Entity(oldEvidence.evidence.id, oldEvidence.evidence.label));\r\n      self.evidence.modified = true;\r\n    }\r\n\r\n    if (oldEvidence && self.reference !== oldEvidence.reference) {\r\n      self.referenceEntity.termHistory.unshift(new Entity(oldEvidence.referenceEntity.id, oldEvidence.referenceEntity.label));\r\n      self.referenceEntity.modified = true;\r\n\r\n    }\r\n\r\n    if (oldEvidence && self.with !== oldEvidence.with) {\r\n      self.withEntity.termHistory.unshift(new Entity(oldEvidence.withEntity.id, oldEvidence.withEntity.label));\r\n      self.withEntity.modified = true;\r\n    }\r\n\r\n  }\r\n\r\n  addPendingChanges(oldEvidence: Evidence) {\r\n    const self = this;\r\n\r\n    if (self.evidence.id !== oldEvidence.evidence.id) {\r\n      self.pendingEvidenceChanges = new PendingChange(self.uuid, oldEvidence.evidence, self.evidence);\r\n      self.pendingEvidenceChanges.uuid = self.uuid;\r\n    }\r\n\r\n    if (self.reference !== oldEvidence.reference) {\r\n      const oldReference = new Entity(oldEvidence.reference, oldEvidence.reference);\r\n      const newReference = new Entity(self.reference, self.reference);\r\n\r\n      self.pendingReferenceChanges = new PendingChange(self.uuid, oldReference, newReference);\r\n    }\r\n\r\n    if (self.with !== oldEvidence.with) {\r\n      const oldWith = new Entity(oldEvidence.with, oldEvidence.with);\r\n      const newWith = new Entity(self.with, self.with);\r\n\r\n      self.pendingWithChanges = new PendingChange(self.uuid, oldWith, newWith);\r\n    }\r\n  }\r\n\r\n  enableSubmit(errors, node: ActivityNode, position) {\r\n    const self = this;\r\n    let result = true;\r\n    const meta = {\r\n      aspect: node.label\r\n    };\r\n\r\n    if (self.evidence.id) {\r\n      self.evidenceRequired = false;\r\n    } else {\r\n      self.evidenceRequired = true;\r\n\r\n      const error = new ActivityError(ErrorLevel.error, ErrorType.general, `No evidence for \"${node.label}\": on evidence(${position})`, meta);\r\n\r\n      errors.push(error);\r\n      result = false;\r\n    }\r\n\r\n    if (self.evidence.id && !self.reference) {\r\n      const error = new ActivityError(ErrorLevel.error, ErrorType.general,\r\n        `You provided an evidence for \"${node.label}\" but no reference: on evidence(${position})`,\r\n        meta);\r\n      errors.push(error);\r\n\r\n      self.referenceRequired = true;\r\n      result = false;\r\n    } else {\r\n      self.referenceRequired = false;\r\n    }\r\n\r\n    if (self.reference) {\r\n      result = self._enableReferenceSubmit(errors, self.reference, node, position);\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  private _enableReferenceSubmit(errors, reference: string, node: ActivityNode, position): boolean {\r\n    const meta = {\r\n      aspect: node.label\r\n    };\r\n\r\n    if (!reference.includes(':')) {\r\n      const error = new ActivityError(ErrorLevel.error, ErrorType.general,\r\n        `Use DB:accession format for reference \"${node.label}\" on evidence(${position})`,\r\n        meta);\r\n      errors.push(error);\r\n      return false;\r\n    }\r\n\r\n    const DBAccession = NoctuaFormUtils.splitAndAppend(reference, ':', 1);\r\n    const db = DBAccession[0].trim().toLowerCase();\r\n    const accession = DBAccession[1].trim().toLowerCase();\r\n\r\n    /*\r\n    if (!dbs.includes(db)) {\r\n      const error = new ActivityError(ErrorLevel.error, ErrorType.general, \r\n        `Please enter either PMID, DOI or GO_REF for \"${node.label}\" on evidence(${position})`,\r\n        meta);\r\n      errors.push(error);\r\n      return false;\r\n    } */\r\n\r\n    if (accession === '') {\r\n      const error = new ActivityError(ErrorLevel.error, ErrorType.general,\r\n        `\"${db}\" accession is required \"${node.label}\" on evidence(${position})`,\r\n        meta);\r\n      errors.push(error);\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  public static formatReference(reference: string) {\r\n    const DBAccession = NoctuaFormUtils.splitAndAppend(reference, ':', 1);\r\n    const db = DBAccession[0].trim();\r\n    const accession = DBAccession[1].trim();\r\n\r\n    return db + ':' + accession;\r\n  }\r\n\r\n  public static getReferenceNumber(reference: string) {\r\n    const DBAccession = NoctuaFormUtils.splitAndAppend(reference, ':', 1);\r\n    const accession = DBAccession[1]?.trim();\r\n\r\n    return accession;\r\n  }\r\n\r\n  public static checkReference(reference: string) {\r\n    let result = false;\r\n\r\n    if (reference.includes(':')) {\r\n      const DBAccession = NoctuaFormUtils.splitAndAppend(reference, ':', 1);\r\n      const db = DBAccession[0].trim().toUpperCase();\r\n      const accession = DBAccession[1].trim();\r\n      const dbs = [\r\n        noctuaFormConfig.evidenceDB.options.pmid,\r\n        noctuaFormConfig.evidenceDB.options.doi,\r\n        noctuaFormConfig.evidenceDB.options.goRef,\r\n      ];\r\n\r\n      const found = find(dbs, { name: db });\r\n      const accessionFound = accession.length > 0;\r\n      result = found && accessionFound;\r\n    }\r\n\r\n    return result;\r\n  }\r\n}\r\n\r\nexport function compareEvidence(a: Evidence, b: Evidence) {\r\n  return a.evidence.id === b.evidence.id\r\n    && a.reference === b.reference\r\n    && a.with === b.with;\r\n}\r\n\r\nexport function compareEvidenceEvidence(a: Evidence, b: Evidence) {\r\n  return a.evidence.id === b.evidence.id;\r\n}\r\n\r\nexport function compareEvidenceReference(a: Evidence, b: Evidence) {\r\n  return a.reference === b.reference;\r\n}\r\n\r\nexport function compareEvidenceWith(a: Evidence, b: Evidence) {\r\n  return a.with === b.with;\r\n}\r\n\r\nexport function compareEvidenceDate(a: Evidence, b: Evidence) {\r\n  return a.date === b.date;\r\n}\r\n","export {\r\n    ActivityNode,\r\n    ActivityNodeType,\r\n    ActivityNodeDisplay,\r\n    compareNodeWeight\r\n} from './activity-node';\r\nexport {\r\n    ActivitySortField,\r\n    Activity,\r\n    ActivityType,\r\n    ActivityDisplayType,\r\n    ActivityState,\r\n    ActivitySize,\r\n    ActivityPosition,\r\n    ActivityTreeNode,\r\n    compareActivity\r\n} from './activity';\r\nexport {\r\n    Cam,\r\n    CamRebuildSignal,\r\n    CamOperation,\r\n    CamRebuildRule,\r\n    CamLoadingIndicator,\r\n    CamStats,\r\n    CamQueryMatch,\r\n    ReloadType\r\n} from './cam';\r\nexport { Evidence } from './evidence';\r\nexport {\r\n    ConnectorState,\r\n    ConnectorActivity,\r\n    ConnectorType\r\n} from './connector-activity';\r\nexport { EntityLookup } from './entity-lookup';\r\nexport {\r\n    EntityType,\r\n    EntityBase,\r\n    Entity,\r\n    _compareEntityWeight\r\n} from './entity';\r\nexport { Predicate } from './predicate';\r\nexport { Triple } from './triple';\r\nexport { ConnectorRule } from './connector-rule';\r\nexport { PendingChange } from './pending-change';\r\nexport { CamSummary, TermsSummary } from './summary';\r\n\r\n\r\nexport * from './parser';\r\n","import { find, each, omit, pickBy, mapKeys, mapValues, remove, difference, differenceWith } from 'lodash';\r\nimport { ActivityNode } from './activity-node';\r\n\r\nexport type Edge<EdgeMetadata> = { subjectId: string, objectId: string, metadata: EdgeMetadata };\r\nexport interface Graph<Node, EdgeMetadata> {\r\n    _nodes: { [key: string]: Node };\r\n    _edges: { [key: string]: Edge<EdgeMetadata>[] };\r\n}\r\n\r\nexport const empty = () => ({ _nodes: {}, _edges: {} });\r\n\r\nexport function addNode<Node, EdgeMetadata>(\r\n    graph: Graph<Node, EdgeMetadata>,\r\n    node: Node,\r\n    key: string\r\n): Graph<Node, EdgeMetadata> {\r\n    graph._nodes[key] = node;\r\n    graph._edges[key] = [];\r\n    return graph;\r\n}\r\n\r\nexport function findNode<Node, EdgeMetadata>(\r\n    graph: Graph<Node, EdgeMetadata>,\r\n    key: string\r\n): Node | null {\r\n    return graph._nodes[key];\r\n}\r\n\r\nexport function removeNode<Node, EdgeMetadata>(\r\n    graph: Graph<Node, EdgeMetadata>,\r\n    key: string\r\n) {\r\n    delete graph._nodes[key];\r\n}\r\n\r\nexport function getNodes<Node, EdgeMetadata>(\r\n    graph: Graph<Node, EdgeMetadata>\r\n): Record<string, Node> {\r\n    return graph._nodes;\r\n}\r\n\r\nexport function getEdges<Node, EdgeMetadata>(\r\n    graph: Graph<Node, EdgeMetadata>,\r\n    id?: string\r\n): Edge<EdgeMetadata>[] {\r\n\r\n    if (id) {\r\n        return graph._edges[id];\r\n    }\r\n\r\n    const edges: Edge<EdgeMetadata>[] = [];\r\n\r\n    Object.keys(graph._edges).forEach((key) => {\r\n        edges.push(...graph._edges[key]);\r\n    });\r\n\r\n    return edges;\r\n}\r\n\r\nexport function addEdge<Node, EdgeMetadata>(\r\n    graph: Graph<Node, EdgeMetadata>,\r\n    edge: Edge<EdgeMetadata>,\r\n): Graph<Node, EdgeMetadata> {\r\n    graph._edges[edge.subjectId].push(edge);\r\n    return graph;\r\n}\r\n\r\nexport function findEdge<Node, EdgeMetadata>(\r\n    graph: Graph<Node, EdgeMetadata>,\r\n    edge: Edge<EdgeMetadata>\r\n): Edge<EdgeMetadata> {\r\n    return find(graph._edges[edge.subjectId], (e: Edge<EdgeMetadata>) => {\r\n        return e.objectId === edge.objectId;\r\n    });\r\n}\r\n\r\nexport function removeEdge<Node, EdgeMetadata>(\r\n    graph: Graph<Node, EdgeMetadata>,\r\n    edge: Edge<EdgeMetadata>\r\n): Graph<Node, EdgeMetadata> {\r\n    remove(graph._edges[edge.subjectId], (e: Edge<EdgeMetadata>) => {\r\n        return e.objectId === edge.objectId;\r\n    });\r\n    return graph;\r\n}\r\n\r\nexport function compareNode<Node extends ActivityNode>(a: Node, b: Node) {\r\n    return a.uuid === b.uuid;\r\n}\r\n\r\nexport function compareTriple<EdgeMetadata>(a: Edge<EdgeMetadata>, b: Edge<EdgeMetadata>) {\r\n    return a.subjectId === b.subjectId && a.objectId === b.objectId;\r\n}\r\n\r\n\r\nexport function addGraph<Node, EdgeMetadata>(\r\n    graph1: Graph<Node, EdgeMetadata>,\r\n    graph2: Graph<Node, EdgeMetadata>,\r\n    toNodeId: string,\r\n    fromNodeId: string\r\n) {\r\n    const keys1 = Object.keys(getNodes(graph1));\r\n    const nodes2 = getNodes(graph2);\r\n    const edges1 = getEdges(graph1);\r\n    const edges2 = getEdges(graph2);\r\n\r\n    each(nodes2, (node: Node, key: string) => {\r\n        //   const node = findNode(graph1, key);        \r\n        addNode(graph1, node, key);\r\n    });\r\n\r\n    each(edges2, (edge: Edge<EdgeMetadata>) => {\r\n        if (edge.objectId === toNodeId) {\r\n\r\n        }\r\n        addEdge(graph1, edge);\r\n    });\r\n}\r\n\r\nexport function subtractNodes<Node extends ActivityNode, EdgeMetadata>(\r\n    graph1: Graph<Node, EdgeMetadata>,\r\n    graph2: Graph<Node, EdgeMetadata>\r\n): Node[] {\r\n    const keys1 = Object.values(getNodes(graph1));\r\n    const keys2 = Object.values(getNodes(graph2));\r\n    return differenceWith(keys1, keys2, compareNode);\r\n}\r\n\r\nexport function subtractEdges<Node, EdgeMetadata>(\r\n    graph1: Graph<Node, EdgeMetadata>,\r\n    graph2: Graph<Node, EdgeMetadata>\r\n): EdgeMetadata[] {\r\n    const edges1 = getEdges(graph1);\r\n    const edges2 = getEdges(graph2);\r\n    const edges: Edge<EdgeMetadata>[] = differenceWith(edges1, edges2, compareTriple);\r\n\r\n    return edges.map((edge: Edge<EdgeMetadata>) => {\r\n        return edge.metadata;\r\n    });\r\n}\r\n\r\nexport function subtractGraph<Node, EdgeMetadata>(\r\n    graph1: Graph<Node, EdgeMetadata>,\r\n    graph2: Graph<Node, EdgeMetadata>\r\n): Graph<Node, EdgeMetadata> {\r\n    const result: Graph<Node, EdgeMetadata> = <Graph<Node, EdgeMetadata>>{ _nodes: {}, _edges: {} };\r\n    const keys1 = Object.keys(getNodes(graph1));\r\n    const keys2 = Object.keys(getNodes(graph2));\r\n    const edges1 = getEdges(graph1);\r\n    const edges2 = getEdges(graph2);\r\n    const nodeIds: string[] = difference(keys1, keys2);\r\n    const edgeIds: Edge<EdgeMetadata>[] = differenceWith(edges1, edges2, compareTriple);\r\n\r\n    each(nodeIds, (nodeId: string) => {\r\n        const node = findNode(graph1, nodeId);\r\n        addNode(result, node, nodeId);\r\n    });\r\n\r\n    each(edgeIds, (edge: Edge<EdgeMetadata>) => {\r\n        // addEdge(result, edge);\r\n    });\r\n\r\n    return result;\r\n}\r\n","export enum ErrorType {\r\n  general = 'general',\r\n  cardinality = 'cardinality',\r\n  relation = 'relation'\r\n}\r\n\r\nexport enum ErrorLevel {\r\n  warning = 'warning',\r\n  error = 'error'\r\n}\r\n\r\nexport class ActivityError {\r\n\r\n  constructor(\r\n    public category: ErrorLevel,\r\n    public type: ErrorType,\r\n    public message: string,\r\n    public meta?) {\r\n  }\r\n}","\r\nexport class ActivityRules {\r\n  rules;\r\n  errors;\r\n  allowedEdges;\r\n\r\n  constructor() {\r\n    this.rules = [];\r\n    this.errors = [];\r\n    this.allowedEdges = '';\r\n\r\n  }\r\n\r\n  populateAllowedEdges() {\r\n\r\n  }\r\n}\r\n","export { ActivityError, ErrorLevel, ErrorType } from './activity-error';\r\nexport { ActivityRules } from './activity-rules';\r\n","import { Entity } from \"./entity\";\r\n\r\nexport class PendingChange {\r\n\r\n    constructor(\r\n        public uuid: string,\r\n        public oldValue: Entity,\r\n        public newValue: Entity,\r\n    ) {\r\n\r\n    }\r\n}","import { Entity } from './entity';\r\nimport { Evidence } from './evidence';\r\nimport { each, find, cloneDeep } from 'lodash';\r\nimport { EntityLookup } from './entity-lookup';\r\n\r\nexport class Predicate {\r\n  uuid: string;\r\n  _edge: Entity = new Entity('', '');\r\n  isComplement = false;\r\n  isReverseLink = false;\r\n  reverseLinkTitle: string;\r\n  evidence: Evidence[];\r\n  subjectId: string\r\n  objectId: string\r\n\r\n  // Because there is one predicate and multiple evidence\r\n  evidenceLookup: EntityLookup = new EntityLookup();\r\n  referenceLookup: EntityLookup = new EntityLookup();\r\n  withLookup: EntityLookup = new EntityLookup();\r\n\r\n  _evidenceMeta = {\r\n    lookupBase: '',\r\n    ontologyClass: 'eco'\r\n  };\r\n\r\n  visible = true;\r\n\r\n  constructor(edge: Entity, evidence?: Evidence[]) {\r\n    this.edge = edge;\r\n    this.evidence = evidence ? evidence : [];\r\n  }\r\n\r\n  get edge() {\r\n    return this._edge;\r\n  }\r\n\r\n  set edge(edge: Entity) {\r\n    if (!edge) {\r\n      this._edge = new Entity('', '');\r\n    } else {\r\n      this._edge = edge;\r\n    }\r\n  }\r\n\r\n  setEvidenceMeta(ontologyClass, lookupBase) {\r\n    this._evidenceMeta.lookupBase = lookupBase;\r\n    this._evidenceMeta.ontologyClass = ontologyClass;\r\n    this.evidenceLookup.requestParams = JSON.parse(JSON.stringify(lookupBase));\r\n    this.addEvidence();\r\n  }\r\n\r\n  setEvidence(evidences: Evidence[]) {\r\n    const self = this;\r\n    self.evidence = [];\r\n\r\n    each(evidences, function (srcEvidence, i) {\r\n      self.addEvidence(srcEvidence);\r\n      //destEvidence.copyValues(srcEvidence, except);\r\n    });\r\n  }\r\n\r\n  addEvidence(srcEvidence?: Evidence) {\r\n    const self = this;\r\n    const evidence = srcEvidence ? cloneDeep(srcEvidence) : new Evidence();\r\n\r\n    evidence.setEvidenceOntologyClass(self._evidenceMeta.ontologyClass);\r\n    self.evidence.push(evidence);\r\n    return evidence;\r\n  }\r\n\r\n  hasEvidence(): boolean {\r\n    if (!this.evidence) return false;\r\n    if (this.evidence.length > 1) return true;\r\n\r\n    if (this.evidence.length > 0) {\r\n      return this.evidence[0].hasValue() ? true : false;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  removeEvidence(index) {\r\n    const self = this;\r\n\r\n    if (index === 0 && self.evidence.length === 1) {\r\n      self.evidence[0].clearValues();\r\n    } else {\r\n      self.evidence.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  resetEvidence() {\r\n    const self = this;\r\n\r\n    self.evidence = [self.evidence[0]];\r\n    self.evidence[0].clearValues();\r\n  }\r\n\r\n  getEvidenceById(id) {\r\n    const self = this;\r\n\r\n    return find(self.evidence, (evidence: Evidence) => {\r\n      return evidence.uuid === id;\r\n    });\r\n  }\r\n}","\r\nimport { ActivityNode, ActivityNodeType } from './activity-node';\r\nimport { Triple } from './triple';\r\nimport { Predicate } from './predicate';\r\n\r\nimport {\r\n  Graph,\r\n  Edge,\r\n  addNode,\r\n  removeNode,\r\n  removeEdge,\r\n  addEdge,\r\n  findEdge,\r\n  findNode,\r\n  getNodes,\r\n  getEdges,\r\n  addGraph,\r\n} from './noctua-form-graph';\r\nimport { each, find, flatten } from 'lodash';\r\n\r\nimport { Graph as Graphlib } from 'graphlib';\r\n\r\nexport class SaeGraph<T extends ActivityNode> {\r\n  numberOfEdges: number;\r\n  graph: Graph<T, Triple<T>>;\r\n\r\n  protected graphlib: Graphlib;\r\n\r\n  constructor() {\r\n    this.graph = <Graph<T, Triple<T>>>{ _nodes: {}, _edges: {} };\r\n    this.graphlib = new Graphlib();\r\n  }\r\n\r\n  get nodes(): T[] {\r\n    const keyNodes = getNodes(this.graph);\r\n\r\n    return Object.values(keyNodes);\r\n  }\r\n\r\n  get edges(): Triple<T>[] {\r\n    return this.getEdges(null);\r\n  }\r\n\r\n  exist(id: string): boolean {\r\n    return id in this.graph._nodes;\r\n  }\r\n\r\n  getNode(id: string): T {\r\n    return findNode(this.graph, id);\r\n  }\r\n\r\n  getNodes(ids: string[]): T[] {\r\n    const self = this;\r\n    const result: T[] = ids.map((id: string) => {\r\n      return self.getNode(id);\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  addNode(node: T) {\r\n    this.graphlib.setNode(node.id);\r\n    return addNode(this.graph, node, node.id);\r\n  }\r\n\r\n  addNodes(...nodes: T[]) {\r\n    const self = this;\r\n\r\n    nodes.forEach((node: T) => {\r\n      self.addNode(node);\r\n    });\r\n  }\r\n\r\n  removeNode(node: T) {\r\n    this.graphlib.removeNode(node.id);\r\n    removeNode(this.graph, node.id);\r\n  }\r\n\r\n  addEdge(subjectNode: T, objectNode: T, predicate: Predicate) {\r\n\r\n    const triple = new Triple(subjectNode, objectNode, predicate);\r\n    const edge: Edge<Triple<T>> = { subjectId: subjectNode.id, objectId: objectNode.id, metadata: triple }\r\n\r\n    this.graphlib.setEdge(triple.subject.id, triple.object.id);\r\n    addEdge(this.graph, edge);\r\n  }\r\n\r\n  addEdgeById(sourceId: string, objectId: string, predicate: Predicate) {\r\n    const source = this.getNode(sourceId);\r\n    const object = this.getNode(objectId);\r\n\r\n    this.addEdge(source, object, predicate);\r\n  }\r\n\r\n  editEdge(subjectId, objectId, srcEdge) {\r\n    const destEdge = this.getEdge(subjectId, objectId);\r\n\r\n  }\r\n\r\n  getEdge(subjectId: string, objectId: string): Triple<T> {\r\n    const srcEdge: Edge<Triple<T>> = { subjectId: subjectId, objectId: objectId, metadata: null };\r\n    const destEdge = findEdge(this.graph, srcEdge);\r\n\r\n    return destEdge ? destEdge.metadata : null;\r\n  }\r\n\r\n  getEdges(id: string): Triple<T>[] {\r\n    const edges: Edge<Triple<T>>[] = getEdges(this.graph, id);\r\n\r\n    return edges?.map((edge: Edge<Triple<T>>) => {\r\n      return edge.metadata;\r\n    });\r\n  }\r\n\r\n  removeEdge(subjectNode: T, objectNode: T, predicate: Predicate) {\r\n\r\n    const triple = new Triple(subjectNode, objectNode, predicate);\r\n    const edge: Edge<Triple<T>> = { subjectId: subjectNode.id, objectId: objectNode.id, metadata: triple };\r\n\r\n    this.graphlib.removeEdge(subjectNode.id, objectNode.id)\r\n    removeEdge(this.graph, edge);\r\n  }\r\n\r\n  sourceNodes() {\r\n    const ids = this.graphlib.sources();\r\n    return this.getNodes(ids);\r\n  }\r\n\r\n\r\n  successors(id: string): T[] {\r\n    const ids = this.graphlib.successors(id) as string[];\r\n    return this.getNodes(ids);\r\n  }\r\n\r\n  descendants(id: string) {\r\n    const ids = this._descendantsDFS(id);\r\n    return this.getNodes(ids);\r\n  }\r\n\r\n  private _descendantsDFS(id: string) {\r\n    const self = this;\r\n    const down = this.graphlib.successors(id) as string[];\r\n\r\n    if (!down) return [];\r\n    return flatten(\r\n      down.concat(down.map(function (u) { return self._descendantsDFS(u); })));\r\n  }\r\n\r\n  getTrimmedGraph(startNodeId: string): Graph<T, Triple<T>> {\r\n    const self = this;\r\n    const graph = <Graph<T, Triple<T>>>{ _nodes: {}, _edges: {} };\r\n    const startingEdges = self.getEdges(startNodeId);\r\n    const startingNode = self.getNode(startNodeId);\r\n\r\n    addNode(graph, startingNode, startingNode.id);\r\n\r\n    each(startingEdges, (triple: Triple<T>) => {\r\n      self._trimGraphDFS(graph, triple.subject, triple.object, triple.predicate, triple.predicate);\r\n    });\r\n\r\n    return graph;\r\n  }\r\n\r\n  edgeTypeExist(\r\n    id: string,\r\n    edgeId: string,\r\n    subjectType: ActivityNodeType,\r\n    objectType: ActivityNodeType) {\r\n    const self = this;\r\n    const result = find(self.getEdges(id), (triple: Triple<T>) => {\r\n      return triple.predicate.edge.id === edgeId &&\r\n        triple.subject.type === subjectType &&\r\n        triple.object.type === objectType;\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n\r\n\r\n  private _trimGraphDFS(graph: Graph<T, Triple<T>>,\r\n    subjectNode: T,\r\n    objectNode: T,\r\n    subjectPredicate: Predicate,\r\n    objectPredicate: Predicate) {\r\n    const self = this;\r\n    if (objectNode.hasValue()) {\r\n      const destPredicate = new Predicate(subjectPredicate.edge, objectPredicate.evidence);\r\n      const triple = new Triple(subjectNode, objectNode, destPredicate);\r\n      const edge: Edge<Triple<T>> = { subjectId: subjectNode.id, objectId: objectNode.id, metadata: triple };\r\n\r\n      addNode(graph, objectNode, objectNode.id);\r\n      addEdge(graph, edge);\r\n    }\r\n\r\n    each(self.getEdges(objectNode.id), (triple: Triple<T>) => {\r\n      self._trimGraphDFS(graph,\r\n        objectNode.hasValue() ? objectNode : subjectNode,\r\n        triple.object,\r\n        objectNode.hasValue() ? triple.predicate : subjectPredicate,\r\n        triple.predicate);\r\n    });\r\n  }\r\n\r\n\r\n}","import { orderBy } from \"lodash\";\r\nimport { Article } from \"../article\";\r\nimport { Contributor } from \"../contributor\";\r\nimport { ActivityNode } from \"./activity-node\";\r\nimport { Entity } from \"./entity\";\r\nimport { Evidence } from \"./evidence\";\r\n\r\nexport class CamSummary<T extends Entity | Evidence | ActivityNode | Article | Contributor> {\r\n  label: string\r\n  shorthand: string\r\n  count: number = 0;\r\n  frequency = 0\r\n  tooltip = ''\r\n  nodes: T[] = [];\r\n\r\n  constructor(label?: string, shorthand?: string) {\r\n    this.label = label ? label : null\r\n    this.shorthand = shorthand ? shorthand : null\r\n  }\r\n\r\n  getSortedNodes() {\r\n    return orderBy(this.nodes, ['frequency'], ['desc'])\r\n  }\r\n\r\n  append(node: T) {\r\n    this.nodes.push(node)\r\n    this.count = this.nodes.length\r\n    if (node instanceof ActivityNode) {\r\n      this.tooltip += `${node.term.label} (${node.term.id}) \\n`\r\n    } else if (node instanceof Evidence) {\r\n      this.tooltip += `${node.evidence.label} (${node.evidence.id}) \\n\r\n                        ${node.referenceEntity.label} \\n\r\n                        ${node.withEntity.label} \\n`\r\n    }\r\n  }\r\n}\r\n\r\nexport class TermsSummary {\r\n  bp = new CamSummary<ActivityNode>('Biological Process', 'BP');\r\n  cc = new CamSummary<ActivityNode>('Cellular Component', 'CC');\r\n  mf = new CamSummary<ActivityNode>('Molecular Function', 'MF');\r\n  gp = new CamSummary<ActivityNode>('Gene Product', 'GP');\r\n  other = new CamSummary<ActivityNode>('Other');\r\n  evidences = new CamSummary<Evidence>('Evidence(Full)');\r\n  evidenceEcos = new CamSummary<Entity>('Evidence Codes');\r\n  references = new CamSummary<Entity>('Reference');\r\n  withs = new CamSummary<Entity>('With/From');\r\n  papers = new CamSummary<Article>('PMID Papers');\r\n  contributors = new CamSummary<Contributor>('Contribution');\r\n  relations = new CamSummary<Entity>('Relations');\r\n  dates = new CamSummary<Entity>('Dates');\r\n\r\n  allTerms: ActivityNode[] = [];\r\n  nodes = [];\r\n  coverage: number;\r\n\r\n  constructor() {\r\n    this.nodes = [\r\n      this.mf, this.bp, this.cc,\r\n    ]\r\n  }\r\n\r\n}","\r\nimport { CardTriple } from 'scard-graph-ts';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { Activity } from './activity';\r\n\r\nimport { ActivityNode } from './activity-node';\r\nimport { Predicate } from './predicate';\r\n\r\nexport class Triple<T extends ActivityNode | Activity>  {\r\n\r\n  id\r\n  object: T;\r\n  predicate: Predicate;\r\n  subject: T;\r\n\r\n  constructor(subject: T, object: T, predicate: Predicate) {\r\n    this.id = uuid();\r\n    this.subject = subject;\r\n    this.object = object;\r\n    this.predicate = predicate;\r\n  }\r\n\r\n  isTripleComplete() {\r\n    return this.subject && this.object && this.predicate;\r\n  }\r\n}\r\n\r\nexport class ActivityTriple<T extends Activity> {\r\n  objectId: string;\r\n  predicateId: string;\r\n  subjectId: string;\r\n  id: string;\r\n  title: string;\r\n  triples: ActivityTriple<T>[];\r\n  object: T;\r\n  predicate: T;\r\n  subject: T;\r\n\r\n  constructor(subject: T, object: T, predicate: T) {\r\n\r\n    this.id = uuid();\r\n    this.subject = subject;\r\n    this.object = object;\r\n    this.predicate = predicate;\r\n  }\r\n\r\n\r\n\r\n  getTripleIds() {\r\n    return {\r\n      subjectId: this.subject.id,\r\n      predicateId: this.predicate.id,\r\n      objectId: this.object.id\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport function compareTripleWeight(a: Triple<ActivityNode>, b: Triple<ActivityNode>): number {\r\n  if (a.object.weight < b.object.weight) {\r\n    return -1;\r\n  } else {\r\n    return 1;\r\n  }\r\n}\r\n","import { Activity } from \"./activity/activity\";\r\nimport { ActivityNode } from \"./activity/activity-node\";\r\nimport { Cam } from \"./activity/cam\";\r\n\r\nexport interface Annotation {\r\n    id: number;\r\n    name: string;\r\n    detail: string;\r\n    parent_id: number;\r\n    leaf: boolean;\r\n}\r\n\r\nexport class AnnotationNode {\r\n    id: number;\r\n    node: Activity | ActivityNode\r\n    leaf: boolean;\r\n    level: number;\r\n    visible: boolean;\r\n    expandable: boolean;\r\n    children: AnnotationNode[];\r\n\r\n    constructor(node: Activity | ActivityNode) {\r\n        this.node = node;\r\n    }\r\n}\r\n\r\nexport class AnnotationFlatNode {\r\n    constructor(\r\n        public id: number,\r\n        public node: Activity | ActivityNode,\r\n        public leaf: boolean,\r\n        public visible: boolean,\r\n        public expandable: boolean,\r\n        public level: number) { }\r\n}\r\n","import { EntityType } from \"./activity\";\r\n\r\nexport class Article {\r\n  entityType = EntityType.ARTICLE\r\n  id: string;\r\n  title: string;\r\n  author?: string;\r\n  date?: string;\r\n  link?: string;\r\n  frequency: number;\r\n}","export class Page {\r\n  size = 0;\r\n  total = 0;\r\n  pageNumber = 0;\r\n}\r\n\r\nexport class CamPage extends Page {\r\n}","import { EntityType } from \"./activity/entity\";\r\n\r\nexport class Contributor {\r\n    entityType = EntityType.CONTRIBUTOR\r\n    orcid: string;\r\n    name?: string;\r\n    initials?: string;\r\n    color?: string;\r\n    group?: any = {};\r\n    cams?: number;\r\n    _groups?: any = [];\r\n    token?: string;\r\n    frequency: number;\r\n\r\n\r\n    set groups(groups) {\r\n        this._groups = groups;\r\n\r\n        if (groups && groups.length > 0) {\r\n            this.group = groups[0];\r\n        }\r\n    }\r\n\r\n    get groups() {\r\n        return this._groups;\r\n    }\r\n\r\n    static fromResponse(response) {\r\n        const user = new Contributor()\r\n        user.orcid = response.uri;\r\n        user.name = response.nickname;\r\n        user.groups = response.groups;\r\n\r\n        return user;\r\n    }\r\n}\r\n\r\nexport function compareContributor(a: Contributor, b: Contributor): number {\r\n    if (a.name < b.name) {\r\n        return -1;\r\n    } else {\r\n        return 1;\r\n    }\r\n}\r\n\r\nexport function equalContributor(a: Contributor, b: Contributor) {\r\n    return a.orcid === b.orcid;\r\n}\r\n","import { FormControl, FormBuilder, FormArray } from '@angular/forms';\r\nimport { ActivityFormMetadata } from './../forms/activity-form-metadata';\r\nimport { EvidenceForm } from './evidence-form';\r\nimport { Evidence } from './../../models/activity/evidence';\r\nimport { Predicate } from '..';\r\n\r\nexport class ActivityConnectorForm {\r\n  edge = new FormControl();\r\n  relationship = new FormControl();\r\n  directness = new FormControl();\r\n  effectDirection = new FormControl();\r\n  evidenceForms: EvidenceForm[] = [];\r\n  evidenceFormArray = new FormArray([]);\r\n  _metadata: ActivityFormMetadata;\r\n\r\n  private _fb = new FormBuilder();\r\n\r\n  constructor(metadata) {\r\n    this._metadata = metadata;\r\n  }\r\n\r\n  createEntityForms(predicate: Predicate) {\r\n    const self = this;\r\n\r\n    predicate.evidence.forEach((evidence: Evidence) => {\r\n      const evidenceForm = new EvidenceForm(self._metadata, null, evidence);\r\n      self.evidenceForms.push(evidenceForm);\r\n      evidenceForm.onValueChanges(predicate);\r\n      self.evidenceFormArray.push(self._fb.group(evidenceForm));\r\n    });\r\n  }\r\n\r\n  updateEvidenceForms(predicate: Predicate) {\r\n    const self = this;\r\n\r\n    self.evidenceForms = [];\r\n    self.evidenceFormArray = new FormArray([]);\r\n\r\n    predicate.evidence.forEach((evidence: Evidence) => {\r\n      const evidenceForm = new EvidenceForm(self._metadata, null, evidence);\r\n      self.evidenceForms.push(evidenceForm);\r\n      evidenceForm.onValueChanges(predicate);\r\n      self.evidenceFormArray.push(self._fb.group(evidenceForm));\r\n    });\r\n  }\r\n\r\n  populateConnectorForm() {\r\n    const self = this;\r\n    const evidences: Evidence[] = [];\r\n\r\n    self.evidenceForms.forEach((evidenceForm: EvidenceForm) => {\r\n      const evidence = new Evidence();\r\n      evidenceForm.populateEvidence(evidence);\r\n      evidences.push(evidence);\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","export class ActivityFormMetadata {\r\n  private _lookupFunc;\r\n\r\n  constructor(lookupFunc) {\r\n    this._lookupFunc = lookupFunc;\r\n  }\r\n\r\n  get lookupFunc() {\r\n    return this._lookupFunc();\r\n  }\r\n\r\n}\r\n","import { FormControl, FormBuilder, FormArray } from '@angular/forms';\r\n\r\nimport { Activity } from './../activity/activity';\r\nimport { ActivityFormMetadata } from './../forms/activity-form-metadata';\r\nimport { EntityGroupForm } from './entity-group-form';\r\nimport { Entity } from './../../models/activity/entity';\r\nimport { each } from 'lodash';\r\n\r\nexport class ActivityForm {\r\n  entityGroupForms: EntityGroupForm[] = [];\r\n  bpOnlyEdge = new FormControl();\r\n  ccOnlyEdge = new FormControl();\r\n  gp = new FormArray([]);\r\n  fd = new FormArray([]);\r\n\r\n  private _metadata: ActivityFormMetadata;\r\n  private _fb = new FormBuilder();\r\n\r\n  constructor(metadata) {\r\n    this._metadata = metadata;\r\n  }\r\n\r\n  createMolecularEntityForm(gpData) {\r\n    const self = this;\r\n\r\n    each(gpData, (nodeGroup, nodeKey) => {\r\n      const entityGroupForm = new EntityGroupForm(this._metadata);\r\n\r\n      this.entityGroupForms.push(entityGroupForm);\r\n      entityGroupForm.name = nodeKey;\r\n      entityGroupForm.createEntityForms(nodeGroup.nodes);\r\n      self.gp.push(self._fb.group(entityGroupForm));\r\n    });\r\n  }\r\n\r\n  createFunctionDescriptionForm(fdData) {\r\n    const self = this;\r\n\r\n    each(fdData, (nodeGroup, nodeKey) => {\r\n      const entityGroupForm = new EntityGroupForm(this._metadata);\r\n\r\n      this.entityGroupForms.push(entityGroupForm);\r\n      entityGroupForm.name = nodeKey;\r\n      entityGroupForm.isComplement = nodeGroup.isComplement;\r\n      entityGroupForm.createEntityForms(nodeGroup.nodes);\r\n      self.fd.push(self._fb.group(entityGroupForm));\r\n    });\r\n  }\r\n\r\n  populateActivity(activity: Activity) {\r\n\r\n    this.entityGroupForms.forEach((entityGroupForm: EntityGroupForm) => {\r\n      entityGroupForm.populateActivityNodes(activity);\r\n    });\r\n\r\n    if (this.bpOnlyEdge.value) {\r\n      activity.bpOnlyEdge = new Entity(this.bpOnlyEdge.value.id, this.bpOnlyEdge.value.label);\r\n    }\r\n  }\r\n\r\n  getErrors(error) {\r\n    this.entityGroupForms.forEach((entityGroupForm: EntityGroupForm) => {\r\n      entityGroupForm.getErrors(error);\r\n    });\r\n  }\r\n}\r\n","import { FormArray, FormControl } from '@angular/forms';\r\nimport { Cam } from './../activity/cam';\r\nimport { Contributor } from './../contributor';\r\nimport { ActivityFormMetadata } from './../forms/activity-form-metadata';\r\n\r\nexport class CamForm {\r\n  title = new FormControl();\r\n  state = new FormControl();\r\n  group = new FormControl();\r\n\r\n  commentFormArray = new FormArray([]);\r\n\r\n  _metadata: ActivityFormMetadata;\r\n\r\n  constructor(metadata) {\r\n    this._metadata = metadata;\r\n  }\r\n\r\n  createCamForm(cam: Cam, user: Contributor) {\r\n    const self = this;\r\n\r\n    if (cam) {\r\n      self.title.setValue(cam.title);\r\n      self.state.setValue(cam.state);\r\n      self.group.setValue(user ? user.group : '');\r\n\r\n      cam.comments.forEach((comment: string) => {\r\n        self.commentFormArray.push(new FormControl(comment));\r\n      });\r\n    }\r\n  }\r\n\r\n  getError() {\r\n\r\n  }\r\n\r\n  populateConnectorForm(cam: Cam) {\r\n    const self = this;\r\n\r\n    cam.title = self.title.value;\r\n    cam.state = self.state.value;\r\n  }\r\n}\r\n","import { FormArray, FormBuilder, FormControl } from '@angular/forms';\r\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\r\nimport { Evidence } from './../activity/evidence';\r\nimport { ActivityFormMetadata } from './activity-form-metadata';\r\nimport { EvidenceForm } from './evidence-form';\r\nimport { termValidator } from './validators/term-validator';\r\nimport { EntityLookup } from '../activity/entity-lookup';\r\nimport { Entity } from './../activity/entity';\r\nimport { ActivityNode } from './../activity/activity-node';\r\nimport { Predicate } from '../activity';\r\n\r\nexport class EntityForm {\r\n    id: string;\r\n    node: ActivityNode;\r\n    relationship = new FormControl();\r\n    term = new FormControl();\r\n    evidenceForms: EvidenceForm[] = [];\r\n    evidenceFormArray = new FormArray([]);\r\n    _metadata: ActivityFormMetadata;\r\n    private _fb = new FormBuilder();\r\n\r\n    constructor(metadata, entity: ActivityNode) {\r\n        this._metadata = metadata;\r\n        this.id = entity.id;\r\n        this.node = entity;\r\n\r\n        this.term.setValue(entity.getTerm());\r\n        this.relationship.setValue(entity.predicate.edge);\r\n        this._onValueChanges(entity.termLookup);\r\n    }\r\n\r\n    createEvidenceForms(entity: ActivityNode) {\r\n        const self = this;\r\n\r\n        this.setTermValidator(entity);\r\n\r\n        entity.predicate.evidence.forEach((evidence: Evidence) => {\r\n            const evidenceForm = new EvidenceForm(self._metadata, entity, evidence);\r\n\r\n            self.evidenceForms.push(evidenceForm);\r\n            evidenceForm.onValueChanges(entity.predicate);\r\n            //  evidenceForm.setTermValidator(termValidator(this.term, entity));\r\n            self.evidenceFormArray.push(self._fb.group(evidenceForm));\r\n        });\r\n    }\r\n\r\n    refreshEvidenceForms(evidences: Evidence[]) {\r\n        const self = this;\r\n\r\n        self.evidenceForms = [];\r\n        self.evidenceFormArray = new FormArray([]);\r\n\r\n        evidences.forEach((evidence: Evidence) => {\r\n            const evidenceForm = new EvidenceForm(self._metadata, self.node, evidence);\r\n\r\n            self.evidenceForms.push(evidenceForm);\r\n            evidenceForm.onValueChanges(self.node.predicate);\r\n            self.evidenceFormArray.push(self._fb.group(evidenceForm));\r\n        });\r\n    }\r\n\r\n    populateTerm() {\r\n        const self = this;\r\n\r\n        if (self.relationship.value && self.node.relationEditable) {\r\n            self.node.predicate.edge = self.relationship.value;\r\n        }\r\n\r\n        if (self.term.value && self.term.value.id) {\r\n            self.node.term = new Entity(self.term.value.id, self.term.value.label);\r\n\r\n            self.evidenceForms.forEach((evidenceForm: EvidenceForm, index: number) => {\r\n                const evidence: Evidence = self.node.predicate.evidence[index];\r\n                if (evidence) {\r\n                    evidenceForm.populateEvidence(evidence);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    populateTermEvidenceOnly() {\r\n        const self = this;\r\n\r\n        self.evidenceForms.forEach((evidenceForm: EvidenceForm, index: number) => {\r\n            const evidence: Evidence = self.node.predicate.evidence[index];\r\n            if (evidence) {\r\n                evidenceForm.populateEvidence(evidence);\r\n            }\r\n        });\r\n    }\r\n\r\n    private _onValueChanges(lookup: EntityLookup) {\r\n        const self = this;\r\n\r\n        self.term.valueChanges.pipe(\r\n            distinctUntilChanged(),\r\n            debounceTime(400)\r\n        ).subscribe(data => {\r\n            self._metadata.lookupFunc.termLookup(data, lookup.requestParams).subscribe(response => {\r\n                lookup.results = response;\r\n            });\r\n        });\r\n    }\r\n\r\n    setTermValidator(entity) {\r\n        this.term.setValidators(entity.id === 'mf' ? termValidator(entity) : null);\r\n        //  this.term.setValidators([validatorFn])\r\n    }\r\n\r\n    getErrors(error) {\r\n        const self = this;\r\n\r\n        if (self.term.errors) {\r\n            error.push(self.term.errors);\r\n        }\r\n\r\n        self.evidenceForms.forEach((evidenceForm: EvidenceForm) => {\r\n            evidenceForm.getErrors(error)\r\n        });\r\n    }\r\n}\r\n\r\n","import { FormBuilder, FormGroup, FormArray, FormControl } from '@angular/forms';\r\nimport { Activity } from './../activity/activity';\r\nimport { ActivityFormMetadata } from './../forms/activity-form-metadata';\r\nimport { EntityForm } from './entity-form';\r\nimport { ActivityNode } from '../activity';\r\n\r\n\r\nexport class EntityGroupForm {\r\n    name = '';\r\n    isComplement = false;\r\n    entityForms: EntityForm[] = [];\r\n    entityGroup = new FormArray([]);\r\n\r\n    _metadata: ActivityFormMetadata;\r\n    private _fb = new FormBuilder();\r\n\r\n    constructor(metadata) {\r\n        this._metadata = metadata;\r\n    }\r\n\r\n    createEntityForms(entities: ActivityNode[]) {\r\n        const self = this;\r\n\r\n        this.entityForms = [];\r\n        entities.forEach((entity: ActivityNode) => {\r\n            if (entity.visible) {\r\n                const entityForm = new EntityForm(self._metadata, entity);\r\n                if (!entity.skipEvidenceCheck) {\r\n                    entityForm.createEvidenceForms(entity);\r\n                }\r\n                self.entityForms.push(entityForm);\r\n                self.entityGroup.push(self._fb.group(entityForm));\r\n            }\r\n        });\r\n    }\r\n\r\n    populateActivityNodes(activity: Activity) {\r\n        const self = this;\r\n\r\n        self.entityForms.forEach((entityForm: EntityForm) => {\r\n            entityForm.populateTerm();\r\n        });\r\n    }\r\n\r\n    getErrors(error) {\r\n        const self = this;\r\n\r\n        self.entityForms.forEach((entityForm: EntityForm) => {\r\n            entityForm.getErrors(error);\r\n        });\r\n    }\r\n}\r\n\r\n","import { FormGroup, FormControl, FormBuilder, FormArray, Validators } from '@angular/forms'\r\nimport { distinctUntilChanged, debounceTime } from 'rxjs/operators';\r\n\r\nimport { Evidence } from './../activity/evidence';\r\nimport { ActivityNode } from './../activity/activity-node';\r\nimport { ActivityFormMetadata } from './../forms/activity-form-metadata';\r\nimport { evidenceValidator } from './validators/evidence-validator';\r\nimport { Entity } from '../activity/entity';\r\nimport { Predicate } from '../activity/predicate';\r\n\r\nexport class EvidenceForm {\r\n    uuid;\r\n    evidence = new FormControl();\r\n    reference = new FormControl();\r\n    with = new FormControl();\r\n\r\n    _metadata: ActivityFormMetadata;\r\n    private _term\r\n\r\n    constructor(metadata, term: ActivityNode, evidence: Evidence) {\r\n        this._metadata = metadata;\r\n\r\n        this._term = term;\r\n\r\n        if (evidence) {\r\n            this.uuid = evidence.uuid;\r\n            this.evidence.setValue(evidence.evidence);\r\n            this.reference.setValue(evidence.reference);\r\n            this.with.setValue(evidence.with);\r\n        }\r\n\r\n        this.setEvidenceValidator();\r\n    }\r\n\r\n    populateEvidence(evidence: Evidence) {\r\n        evidence.evidence = new Entity(this.evidence.value.id, this.evidence.value.label);\r\n        evidence.reference = this.reference.value;\r\n        evidence.with = this.with.value;\r\n    }\r\n\r\n    onValueChanges(predicate: Predicate) {\r\n        const self = this;\r\n\r\n        self.evidence.valueChanges.pipe(\r\n            distinctUntilChanged(),\r\n            debounceTime(400)\r\n        ).subscribe(data => {\r\n            self._metadata.lookupFunc.termLookup(data, predicate.evidenceLookup.requestParams).subscribe(response => {\r\n                predicate.evidenceLookup.results = response;\r\n            });\r\n        });\r\n\r\n        self.reference.valueChanges.pipe(\r\n            distinctUntilChanged(),\r\n            debounceTime(400)\r\n        ).subscribe(data => {\r\n            predicate.referenceLookup.results = self._metadata.lookupFunc.evidenceLookup(data, 'reference');\r\n        });\r\n\r\n        self.with.valueChanges.pipe(\r\n            distinctUntilChanged(),\r\n            debounceTime(400)\r\n        ).subscribe(data => {\r\n            predicate.withLookup.results = self._metadata.lookupFunc.evidenceLookup(data, 'with');\r\n        });\r\n    }\r\n\r\n    setEvidenceValidator() {\r\n        this.evidence.setValidators(evidenceValidator(this._term));\r\n    }\r\n\r\n    getErrors(error) {\r\n        if (this.evidence.errors) {\r\n            error.push(this.evidence.errors);\r\n        }\r\n        if (this.reference.errors) {\r\n            error.push(this.reference.errors);\r\n        }\r\n        if (this.with.errors) {\r\n            error.push(this.with.errors);\r\n        }\r\n    }\r\n}\r\n\r\n","export enum FormType {\r\n    ACTIVITY = 'activity',\r\n    ACTIVITY_CONNECTOR = 'activity_connector'\r\n}","export { FormType } from './form-type';\r\nexport { ActivityConnectorForm } from './activity-connector-form';\r\nexport { ActivityForm } from './activity-form';\r\nexport { ActivityFormMetadata } from './activity-form-metadata';\r\nexport { EntityForm } from './entity-form';\r\nexport { EntityGroupForm } from './entity-group-form';\r\nexport { EvidenceForm } from './evidence-form';\r\nexport { TripleForm } from './triple-form';\r\nexport { CamForm } from './cam-form';\r\n\r\n","import { FormControl, FormBuilder, FormArray } from '@angular/forms';\r\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\r\nimport { ActivityFormMetadata } from './../forms/activity-form-metadata';\r\nimport { EvidenceForm } from './evidence-form';\r\n\r\nimport {\r\n  Triple,\r\n  Evidence,\r\n  EntityLookup,\r\n  Entity\r\n} from '../activity';\r\nimport { ActivityNode } from '..';\r\n\r\nexport class TripleForm {\r\n  subject = new FormControl();\r\n  object = new FormControl();\r\n  evidenceForms: EvidenceForm[] = [];\r\n  evidenceFormArray = new FormArray([]);\r\n  _metadata: ActivityFormMetadata;\r\n\r\n  private _fb = new FormBuilder();\r\n\r\n  constructor(metadata) {\r\n    this._metadata = metadata;\r\n  }\r\n\r\n  createTripleForm(triple: Triple<ActivityNode>) {\r\n    const self = this;\r\n\r\n    this.subject.setValue(triple.subject.getTerm());\r\n    this.object.setValue(triple.object.getTerm());\r\n    this.onValueChanges(triple.subject.termLookup);\r\n    triple.predicate.evidence.forEach((evidence: Evidence) => {\r\n      const evidenceForm = new EvidenceForm(self._metadata, triple.subject, evidence);\r\n\r\n      self.evidenceForms.push(evidenceForm);\r\n      evidenceForm.onValueChanges(triple.predicate);\r\n      self.evidenceFormArray.push(self._fb.group(evidenceForm));\r\n    });\r\n  }\r\n\r\n  populateActivityEntityForm(activityNode: ActivityNode) {\r\n    const self = this;\r\n\r\n    activityNode.term = new Entity(this.subject.value.id, this.subject.value.label);\r\n    self.evidenceForms.forEach(() => {\r\n      // const evidenceFound = activityNode.getEvidenceById(evidenceForm.uuid);\r\n      // const evidence = evidenceFound ? evidenceFound : new Evidence();\r\n\r\n      //  evidenceForm.populateEvidence(evidence);\r\n      //  evidences.push(evidence)\r\n    });\r\n\r\n    // activityNode.setEvidence(evidences);\r\n  }\r\n\r\n  onValueChanges(lookup: EntityLookup) {\r\n    const self = this;\r\n\r\n    self.subject.valueChanges.pipe(\r\n      distinctUntilChanged(),\r\n      debounceTime(400)\r\n    ).subscribe(data => {\r\n      self._metadata.lookupFunc.termLookup(data, lookup.requestParams).subscribe(response => {\r\n        lookup.results = response;\r\n      });\r\n    });\r\n  }\r\n\r\n}\r\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\r\nimport { ActivityNode } from './../../..//models/activity';\r\n\r\nexport function evidenceValidator(termNode: ActivityNode): ValidatorFn {\r\n    return (control: AbstractControl): { [key: string]: any } | null => {\r\n        if (termNode && termNode.hasValue()) {\r\n            if (control.value) {\r\n                if (!control.value.id) {\r\n                    return { [`Select correct evidence for \"${termNode.label}\" correct value`]: { value: control.value } };\r\n                }\r\n            } else {\r\n                return { [`Evidence for \"${termNode.label}\" is required`]: { value: control.value } };\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n}\r\n","import { FormGroup, AbstractControl, ValidatorFn } from '@angular/forms';\r\nimport { ActivityNode } from './../../..//models/activity';\r\n\r\nexport function termValidator(termNode: ActivityNode): ValidatorFn {\r\n    return (control: AbstractControl): { [key: string]: any } | null => {\r\n        if (control.value) {\r\n            if (!control.value.id) {\r\n                return { [`Selevt ${termNode.label} correct value`]: { value: control.value } };\r\n            }\r\n        } else {\r\n            return { [`${termNode.label} is required`]: { value: control.value } };\r\n        }\r\n        return null;\r\n    };\r\n}\r\n","export class Group {\r\n    url: string;\r\n    name: string;\r\n    cams: number;\r\n    contributors;\r\n    contributorsCount?: number;\r\n\r\n    constructor(url?: string, name?: string) {\r\n        this.url = url;\r\n        this.name = name;\r\n    }\r\n}\r\n\r\nexport function compareGroup(a: Group, b: Group): number {\r\n    if (a.name < b.name) {\r\n        return -1;\r\n    } else {\r\n        return 1;\r\n    }\r\n}","export { Annotation, AnnotationNode, AnnotationFlatNode } from './annotation';\r\nexport { LeftPanel, MiddlePanel, RightPanel } from './menu-panels';\r\nexport { Article } from './article';\r\nexport { Contributor, compareContributor } from './contributor';\r\nexport { CamPage } from './cam-page';\r\nexport { Group, compareGroup } from './group';\r\nexport { Organism, compareOrganism } from './organism';\r\n\r\nexport * from './activity';\r\nexport * from './forms';\r\n","export enum LeftPanel {\r\n    activityForm = 'activityForm',\r\n    camForm = 'camForm',\r\n    findReplace = 'findReplace',\r\n    copyModel = 'copyModel',\r\n    camTermsSummary = 'camTermsSummary',\r\n    camStats = 'camStats'\r\n};\r\n\r\nexport enum MiddlePanel {\r\n    camPreview = 'camPreview',\r\n    camTable = 'camTable'\r\n};\r\n\r\nexport enum RightPanel {\r\n    activityForm = 'activityForm',\r\n    camForm = 'camForm',\r\n    termDetail = 'termDetail'\r\n}","export class Organism {\r\n    taxonIri: string;\r\n    taxonName?: string;\r\n    cams?: number;\r\n}\r\n\r\nexport function compareOrganism(a: Organism, b: Organism): number {\r\n    if (a.taxonName < b.taxonName) {\r\n        return -1;\r\n    } else {\r\n        return 1;\r\n    }\r\n}","import { environment } from './../environments/environment';\r\nimport { Entity } from './models/activity/entity';\r\nimport vpeJson from './data/vpe-decision.json'\r\n\r\nconst edge = {\r\n  placeholder: {\r\n    id: null,\r\n    label: null\r\n  },\r\n  enabledBy: {\r\n    id: 'RO:0002333',\r\n    label: 'enabled by'\r\n  },\r\n  hasInput: {\r\n    id: 'RO:0002233',\r\n    label: 'has input'\r\n  },\r\n  hasOutput: {\r\n    id: 'RO:0002234',\r\n    label: 'has output'\r\n  },\r\n  happensDuring: {\r\n    id: 'RO:0002092',\r\n    label: 'happens during'\r\n  },\r\n  locatedIn: {\r\n    id: 'RO:0001025',\r\n    label: 'located in'\r\n  },\r\n  occursIn: {\r\n    id: 'BFO:0000066',\r\n    label: 'occurs in'\r\n  },\r\n  partOf: {\r\n    id: 'BFO:0000050',\r\n    label: 'part of'\r\n  },\r\n  isActiveIn: {\r\n    id: 'RO:0002432',\r\n    label: 'is active in'\r\n  },\r\n  hasPart: {\r\n    id: 'BFO:0000051',\r\n    label: 'has part'\r\n  },\r\n  existenceOverlaps: {\r\n    id: 'RO:0002490',\r\n    label: 'existence overlaps'\r\n  },\r\n  existenceStartsEndsDuring: {\r\n    id: 'RO:0002491',\r\n    label: 'existence starts and ends during'\r\n  },\r\n  causallyUpstreamOf: {\r\n    id: 'RO:0002411',\r\n    label: 'causally upstream of',\r\n  },\r\n  causallyUpstreamOfOrWithin: {\r\n    id: 'RO:0002418',\r\n    label: 'causally upstream of or within',\r\n  },\r\n  causallyUpstreamOfPositiveEffect: {\r\n    id: 'RO:0002304',\r\n    label: 'causally upstream of, positive effect',\r\n  },\r\n  causallyUpstreamOfNegativeEffect: {\r\n    id: 'RO:0002305',\r\n    label: 'causally upstream of, negative effect',\r\n  },\r\n  causallyUpstreamOfOrWithinPositiveEffect: {\r\n    id: 'RO:0004047',\r\n    label: 'causally upstream of or within, positive effect',\r\n  },\r\n  causallyUpstreamOfOrWithinNegativeEffect: {\r\n    id: 'RO:0004046',\r\n    label: 'causally upstream of or within, negative effect',\r\n  },\r\n  constitutivelyUpstreamOf: {\r\n    id: 'RO:0012009',\r\n    label: 'constitutively upstream of',\r\n  },\r\n\r\n  directlyProvidesInput: {\r\n    id: 'RO:0002413',\r\n    label: 'directly provides input for'\r\n  },\r\n  regulates: {\r\n    id: 'RO:0002211',\r\n    label: 'regulates'\r\n  },\r\n  positivelyRegulates: {\r\n    id: 'RO:0002213',\r\n    label: 'positively regulates'\r\n  },\r\n  negativelyRegulates: {\r\n    id: 'RO:0002212',\r\n    label: 'negatively regulates'\r\n  },\r\n  directlyRegulates: {\r\n    id: 'RO:0002578',\r\n    label: 'directly regulates'\r\n  },\r\n  directlyPositivelyRegulates: {\r\n    id: 'RO:0002629',\r\n    label: 'directly positively regulates'\r\n  },\r\n  directlyNegativelyRegulates: {\r\n    id: 'RO:0002630',\r\n    label: 'directly negatively regulates'\r\n  },\r\n  indirectlyPositivelyRegulates: {\r\n    id: 'RO:0002407',\r\n    label: 'indirectly positively regulates'\r\n  },\r\n  indirectlyNegativelyRegulates: {\r\n    id: 'RO:0002409',\r\n    label: 'indirectly negatively regulates'\r\n  },\r\n  isSmallMoleculeRegulator: {\r\n    id: 'RO:0012004',\r\n    label: 'is small molecule regulator'\r\n  },\r\n  isSmallMoleculeActivator: {\r\n    id: 'RO:0012005',\r\n    label: 'is small molecule activator'\r\n  },\r\n  isSmallMoleculeInhibitor: {\r\n    id: 'RO:0012006',\r\n    label: 'is small molecule inhibitor'\r\n  },\r\n  removesInputFor: {\r\n    id: 'RO:0012010',\r\n    label: 'removes input for'\r\n  },\r\n}\r\n\r\n\r\n\r\nexport const noctuaFormConfig = {\r\n  'activitySortField': {\r\n    'options': {\r\n      'gp': {\r\n        'id': 'gp',\r\n        'label': 'Gene Product (default)'\r\n      },\r\n      'mf': {\r\n        'id': 'mf',\r\n        'label': 'Molecular Function'\r\n      },\r\n      'bp': {\r\n        'id': 'bp',\r\n        'label': 'Biological Process'\r\n      },\r\n      'cc': {\r\n        'id': 'cc',\r\n        'label': 'Cellular Component'\r\n      },\r\n      'date': {\r\n        'id': 'date',\r\n        'label': 'Activity Date'\r\n      }\r\n    }\r\n  },\r\n  'graphLayoutDetail': {\r\n    'options': {\r\n      'preview': {\r\n        'id': 'preview',\r\n        'label': 'Preview'\r\n      },\r\n      'activity': {\r\n        'id': 'activity',\r\n        'label': 'Default'\r\n      },\r\n      'detailed': {\r\n        'id': 'detailed',\r\n        'label': 'Detailed'\r\n      },\r\n    }\r\n  },\r\n  'activityType': {\r\n    'options': {\r\n      'default': {\r\n        'name': 'default',\r\n        'label': 'Activity Unit'\r\n      },\r\n      'ccOnly': {\r\n        'name': 'ccOnly',\r\n        'label': 'CC Annotation'\r\n      },\r\n      'bpOnly': {\r\n        'name': 'bpOnly',\r\n        'label': 'BP Annotation'\r\n      },\r\n      'molecule': {\r\n        'name': 'molecule',\r\n        'label': 'Chemical'\r\n      },\r\n      'proteinComplex': {\r\n        'name': 'proteinComplex',\r\n        'label': 'Protein Complex'\r\n      }\r\n    }\r\n  },\r\n  'evidenceDB': {\r\n    'options': {\r\n      'pmid': {\r\n        'name': 'PMID',\r\n        'label': 'PMID:'\r\n      },\r\n      'doi': {\r\n        'name': 'DOI',\r\n        'label': 'DOI:'\r\n      },\r\n      'goRef': {\r\n        'name': 'GO_REF',\r\n        'label': 'GO_REF:'\r\n      }\r\n    }\r\n  },\r\n  'modelState': {\r\n    'options': {\r\n      'development': {\r\n        'name': 'development',\r\n        'label': 'Development'\r\n      },\r\n      'production': {\r\n        'name': 'production',\r\n        'label': 'Production'\r\n      },\r\n      'review': {\r\n        'name': 'review',\r\n        'label': 'Review'\r\n      },\r\n      'closed': {\r\n        'name': 'closed',\r\n        'label': 'Closed'\r\n      },\r\n      'delete': {\r\n        'name': 'delete',\r\n        'label': 'Delete'\r\n      },\r\n      'internal_test': {\r\n        'name': 'internal_test',\r\n        'label': 'Internal Test'\r\n      }\r\n    }\r\n  },\r\n  'findReplaceCategory': {\r\n    'options': {\r\n      'term': {\r\n        'name': 'term',\r\n        'label': 'Ontology Term',\r\n      },\r\n      'gp': {\r\n        'name': 'gp',\r\n        'label': 'Gene Product',\r\n      },\r\n      'reference': {\r\n        'name': 'reference',\r\n        'label': 'Reference',\r\n      },\r\n    }\r\n  },\r\n  'decisionTree': vpeJson.decisionTree,\r\n  'directness': vpeJson.definitions.directness,\r\n  'effectDirection': vpeJson.definitions.effectDirection,\r\n  'activityRelationship': vpeJson.definitions.activityRelationship,\r\n  'activityMoleculeRelationship': vpeJson.definitions.activityMoleculeRelationship,\r\n  'moleculeActivityRelationship': vpeJson.definitions.moleculeActivityRelationship,\r\n  'displaySection': {\r\n    'gp': {\r\n      id: 'gp',\r\n      label: 'Gene Product'\r\n    },\r\n    'fd': {\r\n      id: 'fd',\r\n      label: 'Macromolecular Complex'\r\n    },\r\n  },\r\n  'displayGroup': {\r\n    'gp': {\r\n      id: 'gp',\r\n      shorthand: 'GP',\r\n      label: 'Gene Product'\r\n    },\r\n    'mc': {\r\n      id: 'mc',\r\n      shorthand: 'MC',\r\n      label: 'Macromolecular Complex'\r\n    },\r\n    'mf': {\r\n      id: 'mf',\r\n      shorthand: 'MF',\r\n      label: 'Molecular Function'\r\n    },\r\n    'bp': {\r\n      id: 'bp',\r\n      shorthand: 'BP',\r\n      label: 'Biological Process'\r\n    },\r\n    'cc': {\r\n      id: 'cc',\r\n      shorthand: 'CC',\r\n      label: 'Location of Activity'\r\n    }\r\n  },\r\n  edge: edge,\r\n  allEdges: environment.globalKnownRelations,\r\n  evidenceAutoPopulate: {\r\n    nd: {\r\n      evidence: {\r\n        'id': 'ECO:0000307',\r\n        'label': 'no biological data found used in manual assertion'\r\n      },\r\n      reference: 'GO_REF:0000015'\r\n    }\r\n  },\r\n  rootNode: {\r\n    mf: {\r\n      'id': 'GO:0003674',\r\n      'label': 'molecular_function',\r\n      'aspect': 'F'\r\n    },\r\n    bp: {\r\n      'id': 'GO:0008150',\r\n      'label': 'biological_process',\r\n      'aspect': 'P'\r\n    },\r\n    cc: {\r\n      'id': 'GO:0005575',\r\n      'label': 'cellular_component',\r\n      'aspect': 'C'\r\n    }\r\n  },\r\n\r\n\r\n\r\n  // This array is arrange for matrice decison tree for causal edge 0-8 index, don't rearrange\r\n  causalEdges: [\r\n    Entity.createEntity(edge.constitutivelyUpstreamOf),\r\n    Entity.createEntity(edge.directlyNegativelyRegulates),\r\n    Entity.createEntity(edge.directlyRegulates),\r\n    Entity.createEntity(edge.directlyPositivelyRegulates),\r\n    Entity.createEntity(edge.indirectlyNegativelyRegulates),\r\n    Entity.createEntity(edge.indirectlyPositivelyRegulates),\r\n    Entity.createEntity(edge.negativelyRegulates),\r\n    Entity.createEntity(edge.regulates),\r\n    Entity.createEntity(edge.positivelyRegulates),\r\n    Entity.createEntity(edge.causallyUpstreamOfNegativeEffect),\r\n    Entity.createEntity(edge.causallyUpstreamOf),\r\n    Entity.createEntity(edge.causallyUpstreamOfPositiveEffect),\r\n    Entity.createEntity(edge.causallyUpstreamOfOrWithinNegativeEffect),\r\n    Entity.createEntity(edge.causallyUpstreamOfOrWithinPositiveEffect),\r\n    Entity.createEntity(edge.causallyUpstreamOfOrWithin),\r\n    Entity.createEntity(edge.directlyProvidesInput),\r\n    Entity.createEntity(edge.removesInputFor),\r\n  ],\r\n\r\n  moleculeEdges: [\r\n    Entity.createEntity(edge.hasInput),\r\n    Entity.createEntity(edge.hasOutput),\r\n    Entity.createEntity(edge.isSmallMoleculeActivator),\r\n    Entity.createEntity(edge.isSmallMoleculeInhibitor),\r\n    Entity.createEntity(edge.isSmallMoleculeRegulator),\r\n  ],\r\n\r\n  defaultGraphDisplayEdges: [\r\n    Entity.createEntity(edge.hasInput),\r\n    Entity.createEntity(edge.partOf),\r\n    Entity.createEntity(edge.occursIn),\r\n  ],\r\n\r\n};\r\n\r\n","\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { NoctuaFormConfigService } from './config/noctua-form-config.service';\r\nimport { NoctuaLookupService } from './lookup.service';\r\nimport { CamService } from './cam.service';\r\nimport { NoctuaGraphService } from './graph.service';\r\nimport { ActivityConnectorForm } from './../models/forms/activity-connector-form';\r\nimport { ActivityFormMetadata } from './../models/forms/activity-form-metadata';\r\nimport { Activity } from './../models/activity/activity';\r\nimport { ActivityNode } from './../models/activity/activity-node';\r\nimport { Cam, CamOperation } from './../models/activity/cam';\r\nimport { ConnectorActivity, ConnectorState, ConnectorType } from './../models/activity/connector-activity';\r\nimport { Entity } from '../models/activity/entity';\r\nimport { noctuaFormConfig } from '../noctua-form-config';\r\nimport { Triple } from '../models/activity/triple';\r\nimport { cloneDeep } from 'lodash';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NoctuaActivityConnectorService {\r\n\r\n  cam: Cam;\r\n  public subjectActivity: Activity;\r\n  public objectActivity: Activity;\r\n\r\n  public causalConnection: Triple<Activity>;\r\n  public connectors: any = [];\r\n  private connectorForm: ActivityConnectorForm;\r\n  private connectorFormGroup: BehaviorSubject<FormGroup | undefined>;\r\n  public connectorFormGroup$: Observable<FormGroup>;\r\n  public currentConnectorActivity: ConnectorActivity;\r\n  public connectorActivity: ConnectorActivity;\r\n  public onActivityChanged: BehaviorSubject<any>;\r\n  public onLinkChanged: BehaviorSubject<any>;\r\n\r\n  private _allowRequestWatch = false;\r\n\r\n  constructor(private _fb: FormBuilder, public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private camService: CamService,\r\n    private noctuaLookupService: NoctuaLookupService,\r\n    private noctuaGraphService: NoctuaGraphService) {\r\n\r\n    this.onActivityChanged = new BehaviorSubject(null);\r\n    this.onLinkChanged = new BehaviorSubject(null);\r\n    this.connectorFormGroup = new BehaviorSubject(null);\r\n    this.connectorFormGroup$ = this.connectorFormGroup.asObservable();\r\n\r\n    this.camService.onCamChanged.subscribe((cam) => {\r\n      if (!cam) {\r\n        return;\r\n      }\r\n\r\n      this.cam = cam;\r\n\r\n    });\r\n  }\r\n\r\n  initializeForm(subjectId: string, objectId: string) {\r\n    const self = this;\r\n\r\n    self._allowRequestWatch = false;\r\n\r\n    self.subjectActivity = this.cam.findActivityById(subjectId);\r\n    self.objectActivity = this.cam.findActivityById(objectId);\r\n    self.causalConnection = self.cam.getCausalRelation(subjectId, objectId);\r\n\r\n    if (this.causalConnection) {\r\n      const predicate = cloneDeep(this.causalConnection.predicate)\r\n      self.connectorActivity = new ConnectorActivity(self.subjectActivity, self.objectActivity, predicate);\r\n      self.connectorActivity.state = ConnectorState.editing\r\n      self.currentConnectorActivity = cloneDeep(this.connectorActivity)\r\n    } else {\r\n      const predicate = self.noctuaFormConfigService.createPredicate(Entity.createEntity(noctuaFormConfig.edge.positivelyRegulates))\r\n      self.connectorActivity = new ConnectorActivity(self.subjectActivity, self.objectActivity, predicate);\r\n      self.connectorActivity.state = ConnectorState.creation\r\n      self.connectorActivity.addDefaultEvidence();\r\n    }\r\n\r\n    this.connectorForm = this.createConnectorForm();\r\n    this.connectorFormGroup.next(this._fb.group(this.connectorForm));\r\n\r\n    if (this.connectorActivity.connectorType === ConnectorType.ACTIVITY_ACTIVITY) {\r\n      this.connectorForm.relationship.setValue(this.connectorActivity.rule.relationship);\r\n      this.connectorForm.effectDirection.setValue(this.connectorActivity.rule.effectDirection);\r\n      this.connectorForm.directness.setValue(this.connectorActivity.rule.directness);\r\n    } else if (this.connectorActivity.connectorType === ConnectorType.ACTIVITY_MOLECULE) {\r\n      this.connectorForm.relationship.setValue(this.connectorActivity.rule.relationship);\r\n    } else if (this.connectorActivity.connectorType === ConnectorType.MOLECULE_ACTIVITY) {\r\n      this.connectorForm.relationship.setValue(this.connectorActivity.rule.relationship);\r\n      this.connectorForm.effectDirection.setValue(this.connectorActivity.rule.effectDirection);\r\n    }\r\n\r\n    this._onActivityFormChanges();\r\n\r\n    // just to trigger the on Changes event\r\n    this.connectorForm.effectDirection.setValue(this.connectorActivity.rule.effectDirection);\r\n  }\r\n\r\n  updateEvidence(node: ActivityNode) {\r\n    this.connectorForm.updateEvidenceForms(node.predicate);\r\n    this.connectorFormGroup.next(this._fb.group(this.connectorForm));\r\n  }\r\n\r\n  createConnectorForm() {\r\n    const self = this;\r\n    const formMetadata = new ActivityFormMetadata(self.noctuaLookupService.lookupFunc.bind(self.noctuaLookupService));\r\n    const connectorForm = new ActivityConnectorForm(formMetadata);\r\n\r\n    connectorForm.createEntityForms(self.connectorActivity.predicate);\r\n\r\n    return connectorForm;\r\n  }\r\n\r\n  saveActivity() {\r\n    const self = this;\r\n\r\n    if (self.connectorActivity.state === ConnectorState.editing) {\r\n      const saveData = self.connectorActivity.createEdit(self.currentConnectorActivity);\r\n      return self.noctuaGraphService.editConnection(\r\n        self.cam,\r\n        saveData.removeTriples,\r\n        saveData.addTriples).then(() => {\r\n          this.initializeForm(self.subjectActivity.id, self.objectActivity.id)\r\n        });\r\n    } else { // creation\r\n      const saveData = self.connectorActivity.createSave();\r\n      return self.noctuaGraphService.addActivity(self.cam, [], saveData.triples, '', CamOperation.ADD_CAUSAL_RELATION);\r\n    }\r\n  }\r\n\r\n  deleteConnectorEdge(connectorActivity: ConnectorActivity) {\r\n    const self = this;\r\n    const deleteData = connectorActivity.createDelete();\r\n\r\n    return self.noctuaGraphService.deleteActivity(self.cam, [], deleteData.triples);\r\n  }\r\n\r\n\r\n  private _onActivityFormChanges(): void {\r\n    this.connectorFormGroup.getValue().valueChanges.subscribe(value => {\r\n      this.connectorActivity.checkConnection(value);\r\n      if (this.connectorActivity.predicate?.edge?.id && this._allowRequestWatch && (this.connectorActivity.state === ConnectorState.editing)) {\r\n        this.saveActivity()\r\n      }\r\n      this._allowRequestWatch = true\r\n    });\r\n  }\r\n}\r\n\r\n","import { Injectable, NgZone } from '@angular/core';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { NoctuaFormConfigService } from './config/noctua-form-config.service';\r\nimport { NoctuaLookupService } from './lookup.service';\r\nimport { CamService } from './../services/cam.service';\r\nimport { Cam, CamLoadingIndicator } from './../models/activity/cam';\r\nimport { EntityForm } from './../models/forms/entity-form';\r\nimport { ActivityFormMetadata } from './../models/forms/activity-form-metadata';\r\nimport { NoctuaGraphService } from './graph.service';\r\nimport { cloneDeep } from 'lodash';\r\nimport { Activity } from './../models/activity/activity';\r\nimport { ActivityNode } from './../models/activity/activity-node';\r\nimport { Entity } from '../models/activity/entity';\r\nimport { Evidence } from './../models/activity/evidence';\r\nimport { ConnectorActivity } from './../models/activity/connector-activity';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NoctuaActivityEntityService {\r\n  public cam: Cam;\r\n  public currentActivity: Activity;\r\n  public activity: Activity;\r\n  public entity: ActivityNode;\r\n  private entityForm: EntityForm;\r\n  private entityFormGroup: BehaviorSubject<FormGroup | undefined>;\r\n  public entityFormGroup$: Observable<FormGroup>;\r\n\r\n  constructor(private _fb: FormBuilder,\r\n    private zone: NgZone,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private noctuaGraphService: NoctuaGraphService,\r\n    private camService: CamService,\r\n\r\n    private noctuaLookupService: NoctuaLookupService) {\r\n\r\n    this.entityFormGroup = new BehaviorSubject(null);\r\n    this.entityFormGroup$ = this.entityFormGroup.asObservable();\r\n    this.camService.onCamChanged.subscribe((cam) => {\r\n      if (!cam) {\r\n        return;\r\n      }\r\n\r\n      this.cam = cam;\r\n    });\r\n  }\r\n\r\n  initializeForm(activity: Activity, entity: ActivityNode) {\r\n    this.currentActivity = cloneDeep(activity);\r\n    this.activity = activity;\r\n    this.entity = entity;\r\n    this.entityForm = this.createActivityEntityForm(this.entity);\r\n    this.entityFormGroup.next(this._fb.group(this.entityForm));\r\n    this._onActivityFormChanges();\r\n  }\r\n\r\n  reinitializeForm(term: Entity, evidences: Evidence[]) {\r\n    this.entityForm.term.setValue(term);\r\n    this.entityForm.refreshEvidenceForms(evidences);\r\n    this.entityFormGroup.next(this._fb.group(this.entityForm));\r\n  }\r\n\r\n  createActivityEntityForm(entity: ActivityNode) {\r\n    const self = this;\r\n    const formMetadata = new ActivityFormMetadata(self.noctuaLookupService.lookupFunc.bind(self.noctuaLookupService));\r\n    const entityForm = new EntityForm(formMetadata, entity);\r\n\r\n    entityForm.createEvidenceForms(entity);\r\n\r\n    return entityForm;\r\n  }\r\n\r\n  activityEntityFormToActivity() {\r\n    const self = this;\r\n\r\n    self.entityForm.populateTerm();\r\n  }\r\n\r\n  private _onActivityFormChanges(): void {\r\n    this.entityFormGroup.getValue().valueChanges.subscribe(() => {\r\n      // this.errors = this.getActivityFormErrors();\r\n      //  this.activityEntityFormToActivity();\r\n      // this.activity.enableSubmit();\r\n    });\r\n  }\r\n\r\n  saveActivity() {\r\n    const self = this;\r\n\r\n    self.activityEntityFormToActivity();\r\n\r\n    if (self.activity instanceof ConnectorActivity) {\r\n      self.activity.predicate.evidence = self.entity.predicate.evidence;\r\n    }\r\n\r\n    const saveData = self.activity.createEdit(self.currentActivity);\r\n\r\n    return self.noctuaGraphService.editActivity(self.cam,\r\n      saveData.addNodes,\r\n      saveData.addTriples,\r\n      saveData.removeIds);\r\n  }\r\n\r\n  addIndividual() {\r\n    const self = this;\r\n\r\n    self.activityEntityFormToActivity();\r\n\r\n    const saveData = self.activity.createAddIndividual(self.currentActivity, self.entity.predicate);\r\n\r\n    return self.noctuaGraphService.editActivity(self.cam,\r\n      [self.entity],\r\n      [saveData.addTriples],\r\n      [],\r\n      []);\r\n  }\r\n\r\n  saveSearchDatabase() {\r\n    const self = this;\r\n\r\n    const removeTriples = self.currentActivity.getEdge(\r\n      self.entity.predicate.subjectId,\r\n      self.entity.predicate.objectId)\r\n    const addTriples = self.activity.getEdge(\r\n      self.entity.predicate.subjectId,\r\n      self.entity.predicate.objectId)\r\n\r\n    return self.noctuaGraphService.editActivity(self.cam,\r\n      [],\r\n      [addTriples],\r\n      [],\r\n      [removeTriples]);\r\n  }\r\n\r\n  addEvidence() {\r\n    const self = this;\r\n\r\n    self.activityEntityFormToActivity();\r\n\r\n    const saveData = self.activity.createEditEvidence(self.currentActivity, self.entity.predicate);\r\n\r\n    return self.noctuaGraphService.editActivity(self.cam,\r\n      [],\r\n      [saveData.addTriples],\r\n      [],\r\n      [saveData.removeTriples]);\r\n  }\r\n\r\n  createEvidence(evidence: Evidence[]) {\r\n    const self = this;\r\n\r\n    self.entity.predicate.evidence = evidence\r\n\r\n    const saveData = self.activity.createEditEvidence(self.currentActivity, self.entity.predicate);\r\n\r\n    return self.noctuaGraphService.editActivity(self.cam,\r\n      [],\r\n      [saveData.addTriples],\r\n      [],\r\n      [saveData.removeTriples]);\r\n  }\r\n\r\n\r\n  deleteActivityNode(activity: Activity, activityNode: ActivityNode) {\r\n    const self = this;\r\n    const deleteData = activity.createActivityNodeDelete(activityNode);\r\n\r\n    return self.noctuaGraphService.deleteActivity(self.cam, deleteData.uuids, []);\r\n  }\r\n\r\n  deleteEvidence(uuid: string) {\r\n    return this.noctuaGraphService.deleteEvidence(this.cam, uuid);\r\n  }\r\n\r\n\r\n  deleteEvidenceReference(uuid: string, oldReference: string) {\r\n    return this.noctuaGraphService.deleteEvidenceAnnotation(this.cam, uuid, 'source', oldReference);\r\n  }\r\n\r\n  deleteEvidenceWith(uuid: string, oldWith: string) {\r\n    return this.noctuaGraphService.deleteEvidenceAnnotation(this.cam, uuid, 'with', oldWith);\r\n  }\r\n\r\n\r\n  saveActivityReplace(cam: Cam, addLoadingStatus?: boolean): Observable<any> {\r\n    const self = this;\r\n\r\n    if (addLoadingStatus) {\r\n      cam.loading = new CamLoadingIndicator(true, 'Replacing  ...');\r\n    }\r\n\r\n    const oldEntity = cloneDeep(self.entity);\r\n    self.activityEntityFormToActivity();\r\n    self.entity.addPendingChanges(oldEntity);\r\n    return self.camService.bulkEditActivityNode(cam, self.entity);\r\n\r\n  }\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, BehaviorSubject, forkJoin } from 'rxjs';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { NoctuaFormConfigService } from './config/noctua-form-config.service';\r\nimport { NoctuaLookupService } from './lookup.service';\r\nimport { Activity, ActivityState, ActivityType } from './../models/activity/activity';\r\nimport { ActivityNode } from './../models/activity/activity-node';\r\nimport { ActivityForm } from './../models/forms/activity-form';\r\nimport { ActivityFormMetadata } from './../models/forms/activity-form-metadata';\r\nimport { NoctuaGraphService } from './graph.service';\r\nimport { CamService } from './cam.service';\r\nimport { Entity } from '../models/activity/entity';\r\nimport { Evidence } from '../models/activity/evidence';\r\nimport { cloneDeep, each } from 'lodash';\r\nimport { Cam } from '../models/activity/cam';\r\nimport { Triple } from '../models//activity/triple';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NoctuaActivityFormService {\r\n  public state: ActivityState;\r\n  public mfLocation;\r\n  public errors = [];\r\n  public currentActivity: Activity;\r\n  public activity: Activity;\r\n  public onActivityCreated: BehaviorSubject<Activity>\r\n  public onActivityChanged: BehaviorSubject<Activity>\r\n  public activityForm: ActivityForm;\r\n  public activityFormGroup: BehaviorSubject<FormGroup | undefined>;\r\n  public activityFormGroup$: Observable<FormGroup>;\r\n  public cam: Cam;\r\n\r\n  constructor(private _fb: FormBuilder, public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private camService: CamService,\r\n    private noctuaGraphService: NoctuaGraphService,\r\n    private noctuaLookupService: NoctuaLookupService) {\r\n\r\n    this.camService.onCamChanged.subscribe((cam) => {\r\n      if (!cam) {\r\n        return;\r\n      }\r\n\r\n      this.cam = cam;\r\n    });\r\n    this.activity = this.noctuaFormConfigService.createActivityModel(ActivityType.default);\r\n    this.onActivityCreated = new BehaviorSubject(null);\r\n    this.onActivityChanged = new BehaviorSubject(null);\r\n    this.activityFormGroup = new BehaviorSubject(null);\r\n    this.activityFormGroup$ = this.activityFormGroup.asObservable();\r\n\r\n    this.initializeForm();\r\n  }\r\n\r\n  initializeForm(rootTypes?) {\r\n    const self = this;\r\n\r\n    self.errors = [];\r\n\r\n    self.state = ActivityState.creation;\r\n    self.currentActivity = null;\r\n\r\n    self.activity.resetPresentation();\r\n    self.activityForm = this.createActivityForm();\r\n    self.activityFormGroup.next(this._fb.group(this.activityForm));\r\n    self.activity.updateShapeMenuShex(rootTypes);\r\n    self.activity.enableSubmit();\r\n    self._onActivityFormChanges();\r\n  }\r\n\r\n  initializeFormData() {\r\n    this.fakester(this.activity);\r\n    this.initializeForm();\r\n  }\r\n\r\n  createActivityForm() {\r\n    const self = this;\r\n    const formMetadata = new ActivityFormMetadata(self.noctuaLookupService.lookupFunc.bind(self.noctuaLookupService));\r\n\r\n    const activityForm = new ActivityForm(formMetadata);\r\n\r\n    activityForm.createFunctionDescriptionForm(self.activity.presentation.fd);\r\n    activityForm.createMolecularEntityForm(self.activity.presentation.gp);\r\n\r\n    return activityForm;\r\n  }\r\n\r\n  activityFormToActivity() {\r\n    this.activityForm.populateActivity(this.activity);\r\n  }\r\n\r\n  private _onActivityFormChanges(): void {\r\n    this.activityFormGroup.getValue().valueChanges.subscribe(() => {\r\n      this.activityFormToActivity();\r\n      this.activity.enableSubmit();\r\n    });\r\n  }\r\n\r\n  getActivityFormErrors() {\r\n    let errors = [];\r\n\r\n    this.activityForm.getErrors(errors);\r\n\r\n    return errors;\r\n  }\r\n\r\n  setActivityType(activityType: ActivityType) {\r\n    this.activity = this.noctuaFormConfigService.createActivityModel(activityType);\r\n    this.initializeForm();\r\n  }\r\n\r\n  linkFormNode(entity, srcNode) {\r\n    entity.uuid = srcNode.uuid;\r\n    entity.term = srcNode.getTerm();\r\n  }\r\n\r\n  cloneForm(srcActivity, filterNodes) {\r\n    this.activity = this.noctuaFormConfigService.createActivityModel(\r\n      srcActivity.activityType\r\n    );\r\n\r\n    if (filterNodes) {\r\n      each(filterNodes, function (srcNode) {\r\n\r\n        let destNode = this.activity.getNode(srcNode.id);\r\n        if (destNode) {\r\n          destNode.copyValues(srcNode);\r\n        }\r\n      });\r\n    } else {\r\n      // this.activity.copyValues(srcActivity);\r\n    }\r\n\r\n    this.initializeForm();\r\n  }\r\n\r\n  saveActivity() {\r\n    const self = this;\r\n    self.activityFormToActivity();\r\n\r\n    if (this.activity.activityType === ActivityType.ccOnly) {\r\n      const promises = []\r\n      const activities = self.createCCAnnotations(self.activity);\r\n      each(activities, (activity: Activity) => {\r\n        const saveData = activity.createSave();\r\n        promises.push(self.noctuaGraphService.addActivity(self.cam, saveData.nodes, saveData.triples, saveData.title))\r\n      })\r\n\r\n      return forkJoin(promises)\r\n\r\n    } else {\r\n      const saveData = self.activity.createSave();\r\n      return forkJoin(self.noctuaGraphService.addActivity(self.cam, saveData.nodes, saveData.triples, saveData.title));\r\n    }\r\n  }\r\n\r\n  createCCAnnotations(srcActivity: Activity) {\r\n    const self = this;\r\n    const ccEdges: Triple<ActivityNode>[] = srcActivity.getEdges(srcActivity.rootNode.id);\r\n    const activities = []\r\n\r\n    each(ccEdges, (ccEdge: Triple<ActivityNode>) => {\r\n      const activity = new Activity();\r\n      const subject = cloneDeep(ccEdge.subject)\r\n      const object = cloneDeep(ccEdge.object)\r\n      const predicate = cloneDeep(ccEdge.predicate)\r\n      activity.activityType = srcActivity.activityType\r\n\r\n      activity.addNode(subject);\r\n      activity.addNodes(object);\r\n      activity.addEdge(subject, object, predicate);\r\n\r\n      self._createCCAnnotationsDFS(srcActivity, activity, object)\r\n\r\n      activities.push(activity)\r\n    });\r\n\r\n    return activities;\r\n  }\r\n\r\n  private _createCCAnnotationsDFS(srcActivity: Activity, destActivity: Activity, subjectNode: ActivityNode) {\r\n    const self = this;\r\n    const ccEdges: Triple<ActivityNode>[] = srcActivity.getEdges(subjectNode.id);\r\n    each(ccEdges, (ccEdge: Triple<ActivityNode>) => {\r\n      const object = cloneDeep(ccEdge.object)\r\n      const predicate = cloneDeep(ccEdge.predicate)\r\n\r\n      destActivity.addNodes(object);\r\n      destActivity.addEdge(subjectNode, object, predicate);\r\n\r\n      self._createCCAnnotationsDFS(srcActivity, destActivity, object)\r\n    });\r\n  }\r\n\r\n  clearForm() {\r\n    this.activity = this.noctuaFormConfigService.createActivityModel(\r\n      this.activity.activityType\r\n    );\r\n\r\n    this.initializeForm();\r\n  }\r\n\r\n\r\n  fakester(activity: Activity) {\r\n    const self = this;\r\n\r\n    each(activity.nodes, (node: ActivityNode) => {\r\n      self.noctuaLookupService.termLookup('a', Object.assign({}, node.termLookup.requestParams, { rows: 100 })).subscribe(response => {\r\n        if (response && response.length > 0) {\r\n          const termsCount = response.length;\r\n          node.term = Entity.createEntity(response[Math.floor(Math.random() * termsCount)]);\r\n\r\n          each(node.predicate.evidence, (evidence: Evidence) => {\r\n            self.noctuaLookupService.termLookup('a', Object.assign({}, node.predicate.evidenceLookup.requestParams, { rows: 100 })).subscribe(response => {\r\n              if (response && response.length > 0) {\r\n                const evidenceCount = response.length;\r\n                evidence.evidence = Entity.createEntity(response[Math.floor(Math.random() * evidenceCount)]);\r\n                evidence.reference = `PMID:${Math.floor(Math.random() * 1000000) + 1000}`;\r\n              }\r\n            });\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { NoctuaFormConfigService } from './../services/config/noctua-form-config.service';\r\nimport { ActivityNode, Entity, TermsSummary, CamSummary, ActivityNodeType } from './../models/activity';\r\nimport { orderBy } from 'lodash';\r\nimport { Contributor } from './../models/contributor';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CamStatsService {\r\n\r\n  constructor(\r\n    public noctuaFormConfigService: NoctuaFormConfigService) {\r\n  }\r\n\r\n  buildTermsStats(termsSummary: TermsSummary) {\r\n    const allTerms = [\r\n      termsSummary.mf,\r\n      termsSummary.bp,\r\n      termsSummary.cc,\r\n      termsSummary.gp,\r\n      termsSummary.other,\r\n    ]\r\n\r\n    const stats = allTerms.map((camSummary: CamSummary<ActivityNode>) => {\r\n      return {\r\n        name: camSummary.shorthand ? camSummary.shorthand : camSummary.label,\r\n        series: camSummary.getSortedNodes().map((node: ActivityNode) => {\r\n\r\n          return {\r\n            name: node.term.label,\r\n            value: node.frequency\r\n          }\r\n        })\r\n\r\n      }\r\n    })\r\n\r\n    return stats\r\n  }\r\n\r\n  buildTermsDistribution(summaries: CamSummary<ActivityNode>[]) {\r\n    const terms = summaries.reduce((acc, c) => {\r\n      acc.push(...c.nodes)\r\n      return acc\r\n    }, [])\r\n\r\n    const sorted = orderBy(terms, ['frequency'], ['desc']).slice(0, 20)\r\n    const stats = sorted.map((node: ActivityNode) => {\r\n      return {\r\n        name: node.term.label,\r\n        value: node.frequency\r\n      }\r\n    })\r\n\r\n    return stats\r\n  }\r\n\r\n  buildContributionsStats(nodes) {\r\n    const sorted = orderBy(nodes, ['id'])\r\n    let cumulative = 0;\r\n\r\n    const stats = [{\r\n      name: 'All Contributors',\r\n      series: sorted.map((node: Entity) => {\r\n        cumulative += node.frequency\r\n        return {\r\n          name: new Date(node.label),\r\n          value: cumulative\r\n        }\r\n      })\r\n\r\n    }]\r\n\r\n    return stats\r\n  }\r\n\r\n  buildAspectPie(summaryNodes) {\r\n\r\n    const stats = summaryNodes.map((node) => {\r\n      return {\r\n        name: node.label,\r\n        value: node.frequency\r\n      }\r\n    })\r\n\r\n    return stats\r\n  }\r\n\r\n  buildTermsPie(nodes) {\r\n\r\n    const stats = nodes.map((node: ActivityNode) => {\r\n      return {\r\n        name: node.term.label,\r\n        value: node.frequency\r\n      }\r\n    })\r\n\r\n    return stats\r\n  }\r\n\r\n  buildRelationsPie(nodes) {\r\n\r\n    const sorted = orderBy(nodes, ['frequency'], ['desc'])\r\n\r\n    const stats = sorted.map((node: Entity) => {\r\n      return {\r\n        name: node.label,\r\n        value: node.frequency\r\n      }\r\n    })\r\n\r\n    return stats\r\n  }\r\n\r\n  buildContributorBar(nodes: Contributor[]): any[] {\r\n    const sorted = orderBy(nodes, ['frequency'], ['desc'])\r\n    const stats = sorted.map((node: Contributor) => {\r\n      return {\r\n        name: node.name,\r\n        value: node.frequency\r\n      }\r\n    })\r\n\r\n    return stats\r\n  }\r\n\r\n}\r\n","import { Injectable, NgZone } from '@angular/core';\r\nimport { BehaviorSubject, EMPTY, forkJoin, from, Observable } from 'rxjs';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { CurieService } from './../../@noctua.curie/services/curie.service';\r\nimport { NoctuaGraphService } from './../services/graph.service';\r\nimport { NoctuaFormConfigService } from './../services/config/noctua-form-config.service';\r\nimport { NoctuaLookupService } from './lookup.service';\r\nimport { NoctuaUserService } from './user.service';\r\nimport { Activity } from './../models/activity/activity';\r\nimport { CamForm } from './../models/forms/cam-form';\r\nimport { ActivityFormMetadata } from './../models/forms/activity-form-metadata';\r\nimport { Evidence, compareEvidence } from './../models/activity/evidence';\r\nimport { Cam, CamStats } from './../models/activity/cam';\r\nimport { differenceWith, each, find, groupBy, uniqWith } from 'lodash';\r\nimport { ActivityNodeType, ActivityNode, compareActivity, Entity, CamLoadingIndicator, CamQueryMatch, ReloadType, TermsSummary } from './../models/activity';\r\nimport { compareTerm } from './../models/activity/activity-node';\r\nimport { environment } from './../../environments/environment';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { finalize, map, mergeMap } from 'rxjs/operators';\r\nimport { noctuaFormConfig } from './../noctua-form-config';\r\n\r\ndeclare const require: any;\r\n\r\nconst model = require('bbop-graph-noctua');\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CamService {\r\n  searchApi = environment.searchApi;\r\n  curieUtil: any;\r\n  cams: Cam[] = [];\r\n  cam: Cam;\r\n  onCamChanged: BehaviorSubject<any>;\r\n  onCamsChanged: BehaviorSubject<any>;\r\n  onCopyModelChanged: BehaviorSubject<any>;\r\n  onCamsCheckoutChanged: BehaviorSubject<any>;\r\n  onSelectedCamChanged: BehaviorSubject<any>;\r\n  onSelectedNodeChanged: BehaviorSubject<any>;\r\n  onSelectedActivityChanged: BehaviorSubject<any>;\r\n\r\n  activity: Activity | undefined;\r\n  private camForm: CamForm | undefined;\r\n  private camFormGroup: BehaviorSubject<FormGroup | undefined>;\r\n  camFormGroup$: Observable<FormGroup>;\r\n\r\n  currentMatch: Entity = new Entity(null, null);\r\n\r\n  constructor(\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private zone: NgZone,\r\n    private httpClient: HttpClient,\r\n    private noctuaUserService: NoctuaUserService,\r\n    private _fb: FormBuilder,\r\n    private noctuaLookupService: NoctuaLookupService,\r\n    private _noctuaGraphService: NoctuaGraphService,\r\n    private curieService: CurieService) {\r\n\r\n    this.onCamChanged = new BehaviorSubject(null);\r\n    this.camFormGroup = new BehaviorSubject(null);\r\n    this.camFormGroup$ = this.camFormGroup.asObservable();\r\n\r\n    this.onCamsChanged = new BehaviorSubject(null);\r\n    this.onCopyModelChanged = new BehaviorSubject(null);\r\n    this.onCamsCheckoutChanged = new BehaviorSubject(null);\r\n    this.onSelectedCamChanged = new BehaviorSubject(null);\r\n    this.onSelectedNodeChanged = new BehaviorSubject(null);\r\n    this.onSelectedActivityChanged = new BehaviorSubject(null);\r\n    this.curieUtil = this.curieService.getCurieUtil();\r\n\r\n    this.onSelectedCamChanged.subscribe((uuid: string) => {\r\n      if (uuid) {\r\n        this.currentMatch.modelId = uuid;\r\n      }\r\n    });\r\n\r\n    this.onSelectedNodeChanged.subscribe((uuid: string) => {\r\n      if (uuid) {\r\n        this.currentMatch.uuid = uuid;\r\n      }\r\n    });\r\n  }\r\n\r\n  initializeForm(cam?: Cam) {\r\n    const self = this;\r\n\r\n    if (cam) {\r\n      this.cam = cam;\r\n    }\r\n\r\n    self.camForm = this.createCamForm();\r\n    self.camFormGroup.next(this._fb.group(this.camForm));\r\n  }\r\n\r\n  createCamForm() {\r\n    const self = this;\r\n\r\n    const formMetadata = new ActivityFormMetadata(self.noctuaLookupService.lookupFunc.bind(self.noctuaLookupService));\r\n    const camForm = new CamForm(formMetadata);\r\n\r\n    camForm.createCamForm(this.cam, this.noctuaUserService.user);\r\n\r\n    return camForm;\r\n  }\r\n\r\n  //Gets a new cam\r\n  getCam(modelId): Cam {\r\n    const cam: Cam = new Cam();\r\n\r\n    this.cam = cam;\r\n\r\n    cam.graph = null;\r\n    cam.id = modelId;\r\n    cam.model = Object.assign({}, {\r\n      id: modelId,\r\n      title: '',\r\n      modelInfo: this.noctuaFormConfigService.getModelUrls(modelId)\r\n    });\r\n    cam.expanded = true;\r\n    this._noctuaGraphService.getGraphInfo(cam, modelId);\r\n    cam.manager.get_model(cam.id);\r\n    this.onCamChanged.next(cam);\r\n\r\n    return cam;\r\n  }\r\n\r\n  reload(cam: Cam) {\r\n    this._noctuaGraphService.onCamRebuildChange.next(cam);\r\n  }\r\n\r\n  //loads an existing cam\r\n  loadCam(cam: Cam) {\r\n    cam.graph = null;\r\n    cam.modifiedStats = new CamStats();\r\n    cam.rebuildRule.reset();\r\n    cam.model = Object.assign({}, {\r\n      id: cam.id,\r\n      title: '',\r\n      modelInfo: this.noctuaFormConfigService.getModelUrls(cam.id)\r\n    });\r\n\r\n    this._noctuaGraphService.getGraphInfo(cam, cam.id);\r\n    this.cam = cam;\r\n\r\n    cam.manager.get_model(cam.id);\r\n  }\r\n\r\n  loadCamMeta(cam: Cam) {\r\n    cam.graph = null;\r\n    cam.modifiedStats = new CamStats();\r\n    cam.model = Object.assign({}, {\r\n      id: cam.id,\r\n      title: '',\r\n      modelInfo: this.noctuaFormConfigService.getModelUrls(cam.id)\r\n    });\r\n\r\n    this._noctuaGraphService.getGraphInfo(cam, cam.id);\r\n  }\r\n\r\n  buildTermsTree(termsSummary: TermsSummary) {\r\n    const allTerms = [\r\n      termsSummary.mf,\r\n      termsSummary.bp,\r\n      termsSummary.cc,\r\n      termsSummary.gp,\r\n      termsSummary.other,\r\n      termsSummary.relations,\r\n      termsSummary.evidences,\r\n      termsSummary.evidenceEcos,\r\n      termsSummary.references,\r\n      termsSummary.withs,\r\n      termsSummary.papers,\r\n      termsSummary.contributors,\r\n      termsSummary.dates\r\n    ]\r\n\r\n    const treeNodes = allTerms.map((camSummary) => {\r\n      return {\r\n        id: camSummary.label,\r\n        frequency: camSummary.frequency,\r\n        isCategory: true,\r\n        label: camSummary.label,\r\n        children: camSummary.getSortedNodes()\r\n      }\r\n    })\r\n\r\n    return treeNodes\r\n  }\r\n\r\n  getStoredModel(cam: Cam): Observable<any> {\r\n    const url = `${this.searchApi}/stored?id=${cam.id}`;\r\n\r\n    return this.httpClient.get(url)\r\n  }\r\n\r\n  bulkEditCam(cam: Cam): Observable<any> {\r\n    const self = this;\r\n    const promises = [];\r\n\r\n    promises.push(self._noctuaGraphService.bulkEditActivity(cam));\r\n\r\n    return forkJoin(promises);\r\n  }\r\n\r\n  deleteActivity(activity: Activity) {\r\n    const self = this;\r\n    const deleteData = activity.createDelete();\r\n\r\n    return self._noctuaGraphService.deleteActivity(self.cam, deleteData.uuids, deleteData.triples);\r\n  }\r\n\r\n  updateTermList(formActivity: Activity, entity: ActivityNode) {\r\n    this.noctuaLookupService.termList = this.getUniqueTerms(formActivity);\r\n    entity.termLookup.results = this.noctuaLookupService.termPreLookup(entity.type);\r\n  }\r\n\r\n  updateEvidenceList(formActivity: Activity, entity: ActivityNode) {\r\n    this.noctuaLookupService.evidenceList = this.getUniqueEvidence(formActivity);\r\n    entity.predicate.evidenceLookup.results = this.noctuaLookupService.evidencePreLookup();\r\n  }\r\n\r\n  updateReferenceList(formActivity: Activity, entity: ActivityNode) {\r\n    this.noctuaLookupService.evidenceList = this.getUniqueEvidence(formActivity);\r\n    entity.predicate.referenceLookup.results = this.noctuaLookupService.referencePreLookup();\r\n  }\r\n\r\n  updateWithList(formActivity: Activity, entity: ActivityNode) {\r\n    this.noctuaLookupService.evidenceList = this.getUniqueEvidence(formActivity);\r\n    entity.predicate.withLookup.results = this.noctuaLookupService.withPreLookup();\r\n  }\r\n\r\n  getNodesByType(activityType: ActivityNodeType): any[] {\r\n    return this.cam.getNodesByType(activityType);\r\n  }\r\n\r\n  getNodesByTypeFlat(activityType: ActivityNodeType): ActivityNode[] {\r\n    return this.cam.getNodesByTypeFlat(activityType);\r\n  }\r\n\r\n\r\n  getUniqueTerms(formActivity?: Activity): ActivityNode[] {\r\n    const activityNodes = this.cam.getTerms(formActivity);\r\n    const result = uniqWith(activityNodes, compareTerm);\r\n\r\n    return result;\r\n  }\r\n\r\n  getUniqueEvidence(formActivity?: Activity): Evidence[] {\r\n    const evidences = this.cam.getEvidences(formActivity);\r\n    const result = uniqWith(evidences, compareEvidence);\r\n\r\n    return result;\r\n  }\r\n\r\n  copyModel(cam: Cam, title) {\r\n    const self = this;\r\n\r\n    return self._noctuaGraphService.copyModelRaw(cam, title).subscribe((response) => {\r\n      const cam: Cam = self._noctuaGraphService.getMetadata(response['data'])\r\n      self.onCopyModelChanged.next(cam)\r\n    });\r\n  }\r\n\r\n  resetModel(cam: Cam) {\r\n    const self = this;\r\n\r\n    return self._noctuaGraphService.resetModel(cam);\r\n  }\r\n\r\n  reviewChangesCam(cam: Cam, stats: CamStats): boolean {\r\n    return cam.reviewCamChanges(stats);\r\n  }\r\n\r\n  reviewCamChanges(cam: Cam) {\r\n    const self = this;\r\n    const stats = new CamStats();\r\n\r\n    const changes = self.reviewChangesCam(cam, stats);\r\n    if (changes) {\r\n      stats.camsCount++;\r\n    }\r\n\r\n    stats.updateTotal();\r\n\r\n    const result = {\r\n      stats: stats,\r\n    };\r\n\r\n    return result\r\n  }\r\n\r\n  populateStoredModel(cam: Cam, storedCam) {\r\n    const self = this;\r\n    const noctua_graph = model.graph;\r\n\r\n    cam.storedGraph = new noctua_graph();\r\n    cam.storedGraph.load_data_basic(storedCam);\r\n    cam.storedActivities = self._noctuaGraphService.graphToActivities(cam.storedGraph)\r\n    cam.checkStored();\r\n    cam.reviewCamChanges();\r\n  }\r\n\r\n  addCamEdit(cam: Cam) {\r\n    const self = this;\r\n    cam.loading.status = true;\r\n    self.getStoredModel(cam).pipe(\r\n      finalize(() => {\r\n        cam.loading.status = false;\r\n      })).subscribe({\r\n        next: (response) => {\r\n          if (!response || !response.storedModel || !response.activeModel) return;\r\n\r\n          //self._noctuaGraphService.rebuildFromStoredApi(cam, response.activeModel);\r\n          self.populateStoredModel(cam, response.storedModel)\r\n          const summary = self.reviewCamChanges(cam);\r\n          self.onCamsCheckoutChanged.next(summary);\r\n          cam.loading.status = false;\r\n        },\r\n      })\r\n  }\r\n\r\n\r\n  loadCams() {\r\n    const self = this;\r\n\r\n    self.onCamsChanged.next(this.cams);\r\n  }\r\n\r\n  updateModel(cams: Cam[], responses) {\r\n    const self = this;\r\n\r\n    if (responses && responses.length > 0) {\r\n      responses.forEach(response => {\r\n        const cam: Cam = find(cams, { id: response.data().id });\r\n        if (cam) {\r\n          self._noctuaGraphService.rebuild(cam, response);\r\n          cam.checkStored()\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  expandMatch(nodeId: string) {\r\n    const self = this;\r\n\r\n    each(self.cams, (cam: Cam) => {\r\n      cam.expanded = true;\r\n      const activities = cam.findActivityByNodeUuid(nodeId);\r\n\r\n      each(activities, (activity: Activity) => {\r\n        activity.expanded = true;\r\n      });\r\n    });\r\n  }\r\n\r\n  getReplaceObject(entities: Entity[], replaceWithTerm: any, category) {\r\n    const self = this;\r\n    const groupedEntities = groupBy(entities, 'modelId') as { string: Entity[] };\r\n    const cams: Cam[] = []\r\n    let replaceWith\r\n\r\n    if (category && category.name === noctuaFormConfig.findReplaceCategory.options.reference.name) {\r\n      replaceWith = Evidence.formatReference(replaceWithTerm);\r\n    } else {\r\n      replaceWith = replaceWithTerm?.id;\r\n    }\r\n\r\n    each(groupedEntities, (values: Entity[], key) => {\r\n      const cam: Cam = find(this.cams, { id: key });\r\n\r\n      if (cam) {\r\n        cam.addPendingChanges(entities, replaceWith, category);\r\n        cams.push(cam)\r\n      }\r\n    });\r\n\r\n    self.reviewChangesCams();\r\n    return cams;\r\n  }\r\n\r\n  replace(cams: Cam[]) {\r\n    const self = this;\r\n\r\n    self.reviewChangesCams();\r\n    return self.bulkEditCams(cams);\r\n  }\r\n\r\n\r\n  bulkEditActivityNode(cam: Cam, node: ActivityNode): Observable<any> {\r\n    const self = this;\r\n    const promises = [];\r\n\r\n    promises.push(self._noctuaGraphService.bulkEditActivityNode(cam, node));\r\n\r\n    return forkJoin(promises).pipe(\r\n      map(res => self.updateModel([cam], res)),\r\n    );\r\n  }\r\n\r\n  bulkEditCams(cams: Cam[]): Observable<any> {\r\n    const self = this;\r\n    const promises = [];\r\n\r\n    each(cams, (cam: Cam) => {\r\n      promises.push(self._noctuaGraphService.bulkEditActivity(cam));\r\n    });\r\n\r\n    return forkJoin(promises).pipe(\r\n      map(res => self.updateModel(cams, res)),\r\n    );;\r\n  }\r\n\r\n  storeCams(cams: Cam[]): Observable<any> {\r\n    const self = this;\r\n\r\n    return from(cams).pipe(\r\n      mergeMap((cam: Cam) => {\r\n        return self._noctuaGraphService.storeCam(cam);\r\n      }));\r\n\r\n  }\r\n\r\n  bulkStoredModel(cams: Cam[]) {\r\n    const self = this;\r\n    const promises = [];\r\n\r\n    each(cams, (cam: Cam) => {\r\n      cam.loading = new CamLoadingIndicator(true, 'Calculating Pending Changes ...');\r\n      promises.push(self.getStoredModel(cam));\r\n    });\r\n\r\n    return forkJoin(promises);\r\n  }\r\n\r\n  reviewChangesCams() {\r\n    const self = this;\r\n    const stats = new CamStats();\r\n\r\n    each(this.cams, (cam: Cam) => {\r\n      const changes = self.reviewChangesCam(cam, stats);\r\n      if (changes) {\r\n        stats.camsCount++;\r\n      }\r\n    });\r\n\r\n    stats.updateTotal();\r\n\r\n    const result = {\r\n      stats: stats,\r\n    };\r\n\r\n    this.onCamsCheckoutChanged.next(result);\r\n  }\r\n\r\n\r\n\r\n  clearHighlight() {\r\n    each(this.cams, (cam: Cam) => {\r\n      return cam.clearHighlight();\r\n    });\r\n  }\r\n\r\n  clearCams() {\r\n    this.cams = [];\r\n    this.onCamsChanged.next(this.cams);\r\n  }\r\n\r\n  resetCams(cams: Cam[]): Observable<any> {\r\n    const self = this;\r\n\r\n    return from(cams).pipe(\r\n      mergeMap((cam: Cam) => {\r\n        return self._noctuaGraphService.resetModel(cam);\r\n      }))\r\n  }\r\n\r\n  resetMatch() {\r\n    each(this.cams, (cam: Cam) => {\r\n      cam.queryMatch = new CamQueryMatch();\r\n    });\r\n  }\r\n\r\n  resetLoading(cams: Cam[], camLoadingIndicator = new CamLoadingIndicator) {\r\n    each(cams, (cam: Cam) => {\r\n      cam.loading = camLoadingIndicator;\r\n    });\r\n  }\r\n\r\n  reloadCam(cam: Cam, reloadType: ReloadType) {\r\n    const self = this;\r\n\r\n    from([cam]).pipe(\r\n      mergeMap((cam: Cam) => {\r\n        if (reloadType === ReloadType.RESET) {\r\n          cam.loading = new CamLoadingIndicator(true, 'Resetting Model ...');\r\n          return self.resetCams([cam]);\r\n        } else if (reloadType === ReloadType.STORE) {\r\n          cam.loading = new CamLoadingIndicator(true, 'Saving Model ...');\r\n          return self.storeCams([cam]);\r\n        } else {\r\n          return EMPTY;\r\n        }\r\n      }),\r\n      finalize(() => {\r\n        self.resetLoading([cam]);\r\n      })).subscribe({\r\n        next: (response) => {\r\n          if (!response || !response.data()) return;\r\n\r\n          //Now stored == Active\r\n          self.populateStoredModel(cam, response.data())\r\n\r\n          const summary = self.reviewCamChanges(cam);\r\n          self.onCamsCheckoutChanged.next(summary);\r\n          cam.loading.status = false;\r\n        }\r\n      })\r\n  }\r\n\r\n  sortCams() {\r\n    this.cams.sort(this._compareDateReviewAdded);\r\n  }\r\n\r\n  applyMatchWeights(cams: any[]) {\r\n    let weight = 1;\r\n    each(cams, (cam: Cam, key) => {\r\n      cam.applyWeights(weight);\r\n    });\r\n  }\r\n\r\n  updateDisplayNumber(cams: any[]) {\r\n    each(cams, (cam: Cam, key) => {\r\n      cam.displayNumber = (key + 1).toString();\r\n      cam.updateActivityDisplayNumber();\r\n    });\r\n\r\n  }\r\n\r\n  private _compareDateReviewAdded(a: Cam, b: Cam): number {\r\n    if (a.dateReviewAdded < b.dateReviewAdded) {\r\n      return 1;\r\n    } else {\r\n      return -1;\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import { environment } from '../../../environments/environment';\r\nimport { Injectable } from '@angular/core';\r\nimport { noctuaFormConfig } from './../../noctua-form-config';\r\nimport * as ModelDefinition from './../../data/config/model-definition';\r\nimport * as ShapeDescription from './../../data/config/shape-definition';\r\n\r\nimport { Activity, ActivityType } from './../../models/activity/activity';\r\nimport { find, filter, each } from 'lodash';\r\nimport { HttpParams } from '@angular/common/http';\r\nimport * as EntityDefinition from './../../data/config/entity-definition';\r\nimport { NoctuaUserService } from '../user.service';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { ActivityNode } from './../../models/activity/activity-node';\r\nimport { ConnectorActivity } from './../../models/activity/connector-activity';\r\nimport { Entity } from './../../models/activity/entity';\r\nimport { Evidence } from './../../models/activity/evidence';\r\nimport { Predicate } from './../../models/activity/predicate';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NoctuaFormConfigService {\r\n\r\n  globalUrl: any = {};\r\n  loginUrl: string;\r\n  logoutUrl: string;\r\n  noctuaUrl: string;\r\n  homeUrl: string;\r\n  onSetupReady: BehaviorSubject<any>;\r\n\r\n  constructor(private noctuaUserService: NoctuaUserService) {\r\n    this.onSetupReady = new BehaviorSubject(null);\r\n  }\r\n\r\n  get edges() {\r\n    return noctuaFormConfig.edge;\r\n  }\r\n\r\n  get modelState() {\r\n    const options = [\r\n      noctuaFormConfig.modelState.options.development,\r\n      noctuaFormConfig.modelState.options.production,\r\n      noctuaFormConfig.modelState.options.review,\r\n      noctuaFormConfig.modelState.options.closed,\r\n      noctuaFormConfig.modelState.options.delete,\r\n      noctuaFormConfig.modelState.options.internal_test\r\n    ];\r\n\r\n    return {\r\n      options: options,\r\n      selected: options[0]\r\n    };\r\n  }\r\n\r\n  get graphLayoutDetail() {\r\n    const options = [\r\n      noctuaFormConfig.graphLayoutDetail.options.activity,\r\n      noctuaFormConfig.graphLayoutDetail.options.detailed,\r\n      noctuaFormConfig.graphLayoutDetail.options.preview\r\n    ];\r\n\r\n    return {\r\n      options: options,\r\n      selected: options[0]\r\n    };\r\n  }\r\n\r\n  findModelState(name) {\r\n    const self = this;\r\n\r\n    return find(self.modelState.options, (modelState) => {\r\n      return modelState.name === name;\r\n    });\r\n  }\r\n\r\n  get evidenceDBs() {\r\n    const options = [\r\n      noctuaFormConfig.evidenceDB.options.pmid,\r\n      noctuaFormConfig.evidenceDB.options.doi,\r\n      noctuaFormConfig.evidenceDB.options.goRef,\r\n    ];\r\n\r\n    return {\r\n      options: options,\r\n      selected: options[0]\r\n    };\r\n  }\r\n\r\n  get activityType() {\r\n    const options = [\r\n      noctuaFormConfig.activityType.options.default,\r\n      noctuaFormConfig.activityType.options.bpOnly,\r\n      noctuaFormConfig.activityType.options.ccOnly,\r\n    ];\r\n\r\n    return {\r\n      options: options,\r\n      selected: options[0]\r\n    };\r\n  }\r\n\r\n  get activitySortField() {\r\n    const options = [\r\n      noctuaFormConfig.activitySortField.options.gp,\r\n      noctuaFormConfig.activitySortField.options.date,\r\n      noctuaFormConfig.activitySortField.options.mf,\r\n      noctuaFormConfig.activitySortField.options.bp,\r\n      noctuaFormConfig.activitySortField.options.cc,\r\n    ];\r\n\r\n    return {\r\n      options: options,\r\n      selected: options[0]\r\n    };\r\n  }\r\n\r\n  get bpOnlyEdges() {\r\n    const options = [\r\n      noctuaFormConfig.edge.causallyUpstreamOfOrWithin,\r\n      noctuaFormConfig.edge.causallyUpstreamOf,\r\n      noctuaFormConfig.edge.causallyUpstreamOfPositiveEffect,\r\n      noctuaFormConfig.edge.causallyUpstreamOfNegativeEffect,\r\n      noctuaFormConfig.edge.causallyUpstreamOfOrWithinPositiveEffect,\r\n      noctuaFormConfig.edge.causallyUpstreamOfOrWithinNegativeEffect,\r\n    ];\r\n\r\n    return {\r\n      options: options,\r\n      selected: options[0]\r\n    };\r\n  }\r\n\r\n  get ccOnlyEdges() {\r\n    const options = [\r\n      noctuaFormConfig.edge.partOf,\r\n      noctuaFormConfig.edge.locatedIn,\r\n      noctuaFormConfig.edge.isActiveIn,\r\n    ];\r\n\r\n    return {\r\n      options: options,\r\n      selected: options[0]\r\n    };\r\n  }\r\n\r\n  get graphDisplayDefaultEdges() {\r\n    const options = [\r\n      noctuaFormConfig.edge.enabledBy,\r\n      noctuaFormConfig.edge.partOf,\r\n      noctuaFormConfig.edge.occursIn,\r\n      noctuaFormConfig.edge.hasInput\r\n    ];\r\n\r\n    return {\r\n      options: options,\r\n      selected: options[0]\r\n    };\r\n  }\r\n\r\n  get effectDirection() {\r\n    const options = [\r\n      noctuaFormConfig.effectDirection.positive,\r\n      noctuaFormConfig.effectDirection.negative\r\n    ];\r\n\r\n    return {\r\n      options: options,\r\n      selected: options[0]\r\n    };\r\n  }\r\n\r\n  get findReplaceCategories() {\r\n    const options = [\r\n      noctuaFormConfig.findReplaceCategory.options.term,\r\n      noctuaFormConfig.findReplaceCategory.options.gp,\r\n      noctuaFormConfig.findReplaceCategory.options.reference,\r\n    ];\r\n\r\n    return {\r\n      options: options,\r\n      selected: options[0]\r\n    };\r\n  }\r\n\r\n  get directness() {\r\n    const options = [\r\n      noctuaFormConfig.directness.direct,\r\n      noctuaFormConfig.directness.indirect,\r\n    ];\r\n\r\n    return {\r\n      options: options,\r\n      selected: options[0]\r\n    };\r\n  }\r\n\r\n  get activityRelationship() {\r\n    const options = [\r\n      noctuaFormConfig.activityRelationship.regulation,\r\n      noctuaFormConfig.activityRelationship.constitutivelyUpstream,\r\n      noctuaFormConfig.activityRelationship.providesInputFor,\r\n      noctuaFormConfig.activityRelationship.removesInputFor,\r\n      noctuaFormConfig.activityRelationship.undetermined\r\n    ];\r\n\r\n    return {\r\n      options: options,\r\n      selected: options[0]\r\n    };\r\n  }\r\n\r\n  get activityMoleculeRelationship() {\r\n    const options = [\r\n      noctuaFormConfig.activityMoleculeRelationship.product,\r\n    ];\r\n\r\n    return {\r\n      options: options,\r\n      selected: options[0]\r\n    };\r\n  }\r\n\r\n  get moleculeActivityRelationship() {\r\n    const options = [\r\n      noctuaFormConfig.moleculeActivityRelationship.regulates,\r\n      noctuaFormConfig.moleculeActivityRelationship.substrate,\r\n    ];\r\n\r\n    return {\r\n      options: options,\r\n      selected: options[0]\r\n    };\r\n  }\r\n\r\n  setupUrls() {\r\n    const self = this;\r\n    const baristaToken = self.noctuaUserService.baristaToken;\r\n\r\n    const url = new URL(window.location.href);\r\n    url.searchParams.delete('barista_token');\r\n\r\n    const returnUrl = url.href;\r\n    const baristaParams = { 'barista_token': baristaToken };\r\n    const returnUrlParams = { 'return': returnUrl };\r\n\r\n    this.loginUrl = environment.globalBaristaLocation + '/login?' +\r\n      self._parameterize(Object.assign({}, returnUrlParams));\r\n    this.logoutUrl = environment.globalBaristaLocation + '/logout?' +\r\n      self._parameterize(Object.assign({}, baristaParams, returnUrlParams));\r\n    this.noctuaUrl = environment.noctuaUrl + '?' + (baristaToken ? self._parameterize(Object.assign({}, baristaParams)) : '');\r\n    this.homeUrl = window.location.href;\r\n  }\r\n\r\n  setUniversalUrls() {\r\n    const self = this;\r\n    self.globalUrl = {};\r\n    let params = new HttpParams();\r\n\r\n    if (self.noctuaUserService.baristaToken) {\r\n      params = params.append('barista_token', self.noctuaUserService.baristaToken);\r\n    }\r\n\r\n    const paramsString = params.toString();\r\n    self.globalUrl.goUrl = 'http://www.geneontology.org/';\r\n    self.globalUrl.noctuaUrl = environment.noctuaUrl + '?' + paramsString;\r\n    self.globalUrl.universalWorkbenches = environment.globalWorkbenchesUniversal.map(workbench => {\r\n      return {\r\n        label: workbench['menu-name'],\r\n        url: environment.workbenchUrl + workbench['workbench-id'] + '?' + paramsString,\r\n      };\r\n    });\r\n\r\n    self.globalUrl.universalBetaTestWorkbenches = environment.globalWorkbenchesUniversalBetaTest.map(workbench => {\r\n      return {\r\n        label: workbench['menu-name'],\r\n        url: environment.workbenchUrl + workbench['workbench-id'] + '?' + paramsString,\r\n      };\r\n    });\r\n\r\n    return self.globalUrl;\r\n  }\r\n\r\n  getModelUrls(modelId: string) {\r\n    const self = this;\r\n    const modelInfo: any = {};\r\n\r\n    let params = new HttpParams();\r\n\r\n    if (self.noctuaUserService.baristaToken) {\r\n      params = params.append('barista_token', self.noctuaUserService.baristaToken);\r\n    }\r\n\r\n    modelInfo.graphEditorUrl = environment.noctuaUrl + '/editor/graph/' + modelId + '?' + params.toString();\r\n\r\n    if (modelId) {\r\n      params = params.append('model_id', modelId);\r\n    }\r\n\r\n    const paramsString = params.toString();\r\n\r\n    modelInfo.owlUrl = environment.noctuaUrl + '/download/' + modelId + '/owl';\r\n    modelInfo.gpadUrl = environment.noctuaUrl + '/download/' + modelId + '/gpad';\r\n    modelInfo.noctuaFormUrl = environment.workbenchUrl + 'noctua-form?' + paramsString;\r\n    modelInfo.noctuaVPEUrl = environment.workbenchUrl + 'noctua-visual-pathway-editor?' + paramsString;\r\n\r\n    modelInfo.modelWorkbenches = environment.globalWorkbenchesModel.map(workbench => {\r\n      return {\r\n        id: workbench['workbench-id'],\r\n        label: workbench['menu-name'],\r\n        url: environment.workbenchUrl + workbench['workbench-id'] + '?' + paramsString,\r\n      };\r\n    });\r\n\r\n    modelInfo.modelBetaTestWorkbenches = environment.globalWorkbenchesModelBetaTest.map(workbench => {\r\n      return {\r\n        id: workbench['workbench-id'],\r\n        label: workbench['menu-name'],\r\n        url: environment.workbenchUrl + workbench['workbench-id'] + '?' + paramsString,\r\n      };\r\n    });\r\n\r\n    modelInfo.workbenches = {}\r\n\r\n    modelInfo.modelWorkbenches.forEach((workbench) => {\r\n      modelInfo.workbenches[workbench['id']] = workbench\r\n    })\r\n\r\n    return modelInfo;\r\n  }\r\n\r\n\r\n  createPredicate(edge: Entity, evidence?: Evidence[]): Predicate {\r\n    const predicate = new Predicate(edge, evidence);\r\n\r\n    EntityDefinition.setEvidenceLookup(predicate);\r\n\r\n    return predicate;\r\n  }\r\n\r\n  //For reading the table\r\n  createActivityBaseModel(modelType: ActivityType): Activity {\r\n    switch (modelType) {\r\n      case ActivityType.default:\r\n        return ModelDefinition.createActivity(ModelDefinition.activityUnitBaseDescription);\r\n      case ActivityType.bpOnly:\r\n        return ModelDefinition.createActivity(ModelDefinition.bpOnlyAnnotationBaseDescription);\r\n      case ActivityType.ccOnly:\r\n        return ModelDefinition.createActivity(ModelDefinition.ccOnlyAnnotationBaseDescription);\r\n      case ActivityType.molecule:\r\n        return ModelDefinition.createActivity(ModelDefinition.moleculeBaseDescription);\r\n      case ActivityType.proteinComplex:\r\n        return ModelDefinition.createActivity(ModelDefinition.proteinComplexBaseDescription);\r\n    }\r\n  }\r\n\r\n  // For the form\r\n  createActivityModel(activityType: ActivityType): Activity {\r\n    switch (activityType) {\r\n      case ActivityType.default:\r\n        return ModelDefinition.createActivityShex(ModelDefinition.activityUnitDescription);\r\n      case ActivityType.bpOnly:\r\n        return ModelDefinition.createActivityShex(ModelDefinition.bpOnlyAnnotationDescription);\r\n      case ActivityType.ccOnly:\r\n        return ModelDefinition.createActivityShex(ModelDefinition.ccOnlyAnnotationDescription);\r\n      case ActivityType.molecule:\r\n        return ModelDefinition.createActivityShex(ModelDefinition.moleculeDescription);\r\n      case ActivityType.proteinComplex:\r\n        return ModelDefinition.createActivityShex(ModelDefinition.proteinComplexDescription);\r\n    }\r\n  }\r\n\r\n  insertActivityNode(activity: Activity,\r\n    subjectNode: ActivityNode,\r\n    nodeDescription: ShapeDescription.ShapeDescription): ActivityNode {\r\n    return ModelDefinition.insertNode(activity, subjectNode, nodeDescription);\r\n  }\r\n\r\n  insertActivityNodeShex(activity: Activity,\r\n    subjectNode: ActivityNode,\r\n    predExpr: ShapeDescription.PredicateExpression): ActivityNode {\r\n    return ModelDefinition.insertNodeShex(activity, subjectNode, predExpr);\r\n  }\r\n\r\n  insertActivityNodeByPredicate(activity: Activity, subjectNode: ActivityNode, bbopPredicateId: string,\r\n    partialObjectNode?: Partial<ActivityNode>): ActivityNode {\r\n    const nodeDescriptions: ModelDefinition.InsertNodeDescription[] = subjectNode.canInsertNodes;\r\n    let objectNode;\r\n\r\n    each(nodeDescriptions, (nodeDescription: ModelDefinition.InsertNodeDescription) => {\r\n      if (bbopPredicateId === nodeDescription.predicate.id) {\r\n        if (partialObjectNode && partialObjectNode.hasRootTypes(nodeDescription.node.category)) {\r\n          objectNode = ModelDefinition.insertNode(activity, subjectNode, nodeDescription);\r\n          return false;\r\n        } else if (!partialObjectNode) {\r\n          objectNode = ModelDefinition.insertNode(activity, subjectNode, nodeDescription);\r\n          return false;\r\n        }\r\n      }\r\n    });\r\n\r\n    return objectNode;\r\n  }\r\n\r\n  createActivityModelFakeData(nodes) {\r\n    const self = this;\r\n    const activity = self.createActivityModel(ActivityType.default);\r\n\r\n    nodes.forEach((node) => {\r\n      const activityNode = activity.getNode(node.id);\r\n      const destEvidences: Evidence[] = [];\r\n\r\n      activityNode.term = new Entity(node.term.id, node.term.label);\r\n\r\n      each(node.evidence, (evidence) => {\r\n        const destEvidence: Evidence = new Evidence();\r\n\r\n        destEvidence.evidence = new Entity(evidence.evidence.id, evidence.evidence.label);\r\n        destEvidence.reference = evidence.reference;\r\n        destEvidence.with = evidence.with;\r\n\r\n        destEvidences.push(destEvidence);\r\n      });\r\n\r\n      activityNode.predicate.setEvidence(destEvidences);\r\n    });\r\n\r\n    activity.enableSubmit();\r\n    return activity;\r\n  }\r\n\r\n  findEdge(predicateId) {\r\n\r\n    const edge = find(noctuaFormConfig.allEdges, {\r\n      id: predicateId\r\n    });\r\n\r\n    return edge ? Entity.createEntity(edge) : Entity.createEntity({ id: predicateId, label: predicateId });\r\n  }\r\n\r\n  getAspect(id) {\r\n    const rootNode = find(noctuaFormConfig.rootNode, { id: id });\r\n\r\n    return rootNode ? rootNode.aspect : '';\r\n  }\r\n\r\n  getModelId(url: string) {\r\n    return 'gomodel:' + url.substr(url.lastIndexOf('/') + 1);\r\n  }\r\n\r\n  getIndividalId(url: string) {\r\n    return 'gomodel:' + url.substr(url.lastIndexOf('/') + 2);\r\n  }\r\n\r\n  private _parameterize = (params) => {\r\n    return Object.keys(params).map(key => key + '=' + params[key]).join('&');\r\n  }\r\n\r\n}\r\n","import { environment } from './../../environments/environment';\r\nimport { Injectable } from '@angular/core';\r\nimport { BehaviorSubject, forkJoin, Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport * as ModelDefinition from './../data/config/model-definition';\r\nimport * as EntityDefinition from './../data/config/entity-definition';\r\n\r\nimport { noctuaFormConfig } from './../noctua-form-config';\r\nimport { NoctuaFormConfigService } from './config/noctua-form-config.service';\r\nimport { NoctuaLookupService } from './lookup.service';\r\nimport { NoctuaUserService } from './../services/user.service';\r\nimport { Activity, ActivityType, compareActivity } from './../models/activity/activity';\r\nimport { find, each, differenceWith, cloneDeep, uniqWith, chain, filter, uniq } from 'lodash';\r\nimport { CardinalityViolation, RelationViolation } from './../models/activity/error/violation-error';\r\nimport { CurieService } from './../../@noctua.curie/services/curie.service';\r\nimport { ActivityNode, ActivityNodeType, compareTerm } from './../models/activity/activity-node';\r\nimport { Cam, CamLoadingIndicator, CamOperation } from './../models/activity/cam';\r\nimport { Entity } from './../models/activity/entity';\r\nimport { compareEvidence, compareEvidenceDate, compareEvidenceEvidence, compareEvidenceReference, compareEvidenceWith, Evidence } from './../models/activity/evidence';\r\nimport { Predicate } from './../models/activity/predicate';\r\nimport { Triple } from './../models/activity/triple';\r\nimport { TermsSummary } from './../models/activity/summary';\r\nimport { Article } from './../models/article';\r\nimport { Contributor, equalContributor } from '../models/contributor';\r\nimport * as moment from 'moment';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { graph as bbopGraph } from 'bbop-graph-noctua';\r\n\r\ndeclare const require: any;\r\n\r\n//const model = require('bbop-graph-noctua');\r\nconst barista_client = require('bbop-client-barista');\r\nconst amigo = require('amigo2');\r\nconst barista_response = require('bbop-response-barista');\r\nconst minerva_requests = require('minerva-requests');\r\nconst jquery_engine = require('bbop-rest-manager').jquery;\r\nconst class_expression = require('class-expression');\r\nconst minerva_manager = require('bbop-manager-minerva');\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NoctuaGraphService {\r\n  baristaLocation = environment.globalBaristaLocation;\r\n  minervaDefinitionName = environment.globalMinervaDefinitionName;\r\n  linker = new amigo.linker();\r\n  curieUtil: any;\r\n\r\n  onCamRebuildChange: BehaviorSubject<any>;\r\n  onCamGraphChanged: BehaviorSubject<Cam>;\r\n  onActivityAdded: BehaviorSubject<Activity>;\r\n\r\n  constructor(\r\n    private curieService: CurieService,\r\n    private httpClient: HttpClient,\r\n    private noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private noctuaLookupService: NoctuaLookupService) {\r\n\r\n    this.curieUtil = this.curieService.getCurieUtil();\r\n    this.onCamRebuildChange = new BehaviorSubject(null);\r\n    this.onCamGraphChanged = new BehaviorSubject(null);\r\n    this.onActivityAdded = new BehaviorSubject(null);\r\n  }\r\n\r\n  registerManager(useReasoner = false) {\r\n    const engine = new jquery_engine(barista_response);\r\n    engine.method('POST');\r\n\r\n    const manager = new minerva_manager(\r\n      this.baristaLocation,\r\n      this.minervaDefinitionName,\r\n      this.noctuaUserService.baristaToken,\r\n      engine, 'async');\r\n\r\n\r\n    const managerError = (resp) => {\r\n      console.log('There was a manager error (' +\r\n        resp.message_type() + '): ' + resp.message());\r\n    };\r\n\r\n    const warning = (resp) => {\r\n      alert('Warning: ' + resp.message() + '; ' +\r\n        'your operation was likely not performed');\r\n    };\r\n\r\n    const error = (resp) => {\r\n      const perm_flag = 'InsufficientPermissionsException';\r\n      const token_flag = 'token';\r\n      if (resp.message() && resp.message().indexOf(perm_flag) !== -1) {\r\n        alert('Error: it seems like you do not have permission to ' +\r\n          'perform that operation. Did you remember to login?');\r\n      } else if (resp.message() && resp.message().indexOf(token_flag) !== -1) {\r\n        alert('Error: it seems like you have a bad token...');\r\n      } else {\r\n        console.log('error:', resp, resp.message_type(), resp.message());\r\n\r\n        if (resp.message().includes('UnknownIdentifierException')) {\r\n          //  cam.error = true\r\n        }\r\n      }\r\n    };\r\n\r\n    const shieldsUp = () => { };\r\n    const shieldsDown = () => { };\r\n\r\n    manager.register('prerun', shieldsUp);\r\n    manager.register('postrun', shieldsDown, 9);\r\n    manager.register('manager_error', managerError, 10);\r\n    manager.register('warning', warning, 10);\r\n    manager.register('error', error, 10);\r\n\r\n    manager.use_reasoner_p(useReasoner);\r\n\r\n    return manager;\r\n  }\r\n\r\n  registerBaristaClient(cam: Cam) {\r\n    const self = this;\r\n    const barclient = new barista_client(environment.globalBaristaLocation, this.noctuaUserService.baristaToken);\r\n    //barclient.register('connect', resFunc);\r\n    //barclient.register('initialization', resFunc);\r\n    // barclient.register('message', resFunc);\r\n    //barclient.register('broadcast', resFunc);\r\n    //barclient.register('clairvoyance', resFunc);\r\n    //barclient.register('telekinesis', resFunc);\r\n    barclient.register('merge', function (response) {\r\n      console.log('barista/merge response');\r\n      self.onCamMergeSignal(cam, response)\r\n    });\r\n    // _on_model_update);\r\n    barclient.register('rebuild', function (response) {\r\n      console.log('barista/rebuild response');\r\n      self.onCamRebuildSignal(cam, response)\r\n\r\n    });\r\n\r\n    barclient.connect(cam.id);\r\n\r\n    return barclient;\r\n  }\r\n\r\n  getGraphInfo(cam: Cam, modelId) {\r\n    const self = this;\r\n\r\n    cam.loading = new CamLoadingIndicator(true, 'Loading Model Activities ...');\r\n    cam.id = modelId;\r\n    //cam.baristaClient = this.registerBaristaClient(cam);\r\n    cam.manager = this.registerManager();\r\n    cam.copyModelManager = this.registerManager();\r\n    cam.artManager = this.registerManager();\r\n    cam.groupManager = this.registerManager();\r\n    cam.replaceManager = this.registerManager(false);\r\n    cam.manager.register('rebuild', function (resp) {\r\n      self.rebuild(cam, resp);\r\n    }, 10);\r\n  }\r\n\r\n\r\n  getMetadata(responseData) {\r\n    const self = this;\r\n    const cam = new Cam()\r\n\r\n    cam.graph = new bbopGraph();\r\n    cam.graph.load_data_basic(responseData);\r\n\r\n    cam.id = responseData.id;\r\n    cam.model = Object.assign({}, {\r\n      modelInfo: this.noctuaFormConfigService.getModelUrls(cam.id)\r\n    });\r\n    cam.modified = responseData['modified-p'];\r\n\r\n    const titleAnnotations = cam.graph.get_annotations_by_key('title');\r\n    const commentAnnotations = cam.graph.get_annotations_by_key('comment');\r\n    const stateAnnotations = cam.graph.get_annotations_by_key('state');\r\n    const dateAnnotations = cam.graph.get_annotations_by_key('date');\r\n    const groupAnnotations = cam.graph.get_annotations_by_key('providedBy');\r\n    const contributorAnnotations = cam.graph.get_annotations_by_key('contributor');\r\n\r\n    cam.contributors = self.noctuaUserService.getContributorsFromAnnotations(contributorAnnotations);\r\n    cam.groups = self.noctuaUserService.getGroupsFromAnnotations(groupAnnotations);\r\n\r\n    if (dateAnnotations.length > 0) {\r\n      cam.date = dateAnnotations[0].value();\r\n    }\r\n\r\n    if (titleAnnotations.length > 0) {\r\n      cam.title = titleAnnotations[0].value();\r\n    }\r\n\r\n    cam.comments = commentAnnotations.map(c => {\r\n      return c.value();\r\n    })\r\n\r\n    if (stateAnnotations.length > 0) {\r\n      cam.state = self.noctuaFormConfigService.findModelState(stateAnnotations[0].value());\r\n    }\r\n\r\n    return cam;\r\n\r\n  }\r\n\r\n  rebuild(cam: Cam, response) {\r\n    const self = this;\r\n\r\n    // cam.loading.status = true;\r\n    // cam.loading.message = 'Loading Model Entities Metadata...';\r\n\r\n    if (cam.graph) {\r\n      const inGraph = new bbopGraph();\r\n\r\n      inGraph.load_data_basic(response.data());\r\n      cam.graph.merge_special(inGraph);\r\n    } else {\r\n      cam.graph = new bbopGraph();\r\n      cam.graph.load_data_basic(response.data());\r\n    }\r\n\r\n    cam.id = response.data().id;\r\n    cam.modified = response.data()['modified-p'];\r\n    cam.isReasoned = response['is-reasoned'];\r\n\r\n    if (cam.isReasoned) {\r\n\r\n    }\r\n\r\n    const titleAnnotations = cam.graph.get_annotations_by_key('title');\r\n    const commentAnnotations = cam.graph.get_annotations_by_key('comment');\r\n    const stateAnnotations = cam.graph.get_annotations_by_key('state');\r\n    const dateAnnotations = cam.graph.get_annotations_by_key('date');\r\n    const groupAnnotations = cam.graph.get_annotations_by_key('providedBy');\r\n    const contributorAnnotations = cam.graph.get_annotations_by_key('contributor');\r\n\r\n    cam.contributors = self.noctuaUserService.getContributorsFromAnnotations(contributorAnnotations);\r\n    cam.groups = self.noctuaUserService.getGroupsFromAnnotations(groupAnnotations);\r\n\r\n    if (dateAnnotations.length > 0) {\r\n      cam.date = dateAnnotations[0].value();\r\n    }\r\n\r\n    if (titleAnnotations.length > 0) {\r\n      cam.title = titleAnnotations[0].value();\r\n    }\r\n\r\n    cam.comments = commentAnnotations.map(c => {\r\n      return c.value();\r\n    })\r\n\r\n    if (stateAnnotations.length > 0) {\r\n      cam.state = self.noctuaFormConfigService.findModelState(stateAnnotations[0].value());\r\n    }\r\n\r\n    self.loadCam(cam);\r\n    self.loadViolations(cam, response.data()['validation-results'])\r\n    cam.loading.status = false;\r\n  }\r\n\r\n  onCamMergeSignal(cam: Cam, response: any) {\r\n    cam.rebuildRule.addMergeSignal();\r\n\r\n    if (cam.rebuildRule.autoRebuild) {\r\n      this.onCamRebuildChange.next(cam);\r\n    }\r\n  }\r\n\r\n  onCamRebuildSignal(cam: Cam, response: any) {\r\n    cam.rebuildRule.addRebuildSignal();\r\n\r\n    if (cam.rebuildRule.autoRebuild) {\r\n      this.onCamRebuildChange.next(cam);\r\n    }\r\n\r\n  }\r\n\r\n  rebuildFromStoredApi(cam: Cam, activeModel) {\r\n    const self = this;\r\n\r\n    cam.graph = new bbopGraph();\r\n    cam.graph.load_data_basic(activeModel);\r\n\r\n    cam.id = activeModel.id;\r\n\r\n    const titleAnnotations = cam.graph.get_annotations_by_key('title');\r\n    const commentAnnotations = cam.graph.get_annotations_by_key('comment');\r\n    const stateAnnotations = cam.graph.get_annotations_by_key('state');\r\n    const dateAnnotations = cam.graph.get_annotations_by_key('date');\r\n    const groupAnnotations = cam.graph.get_annotations_by_key('providedBy');\r\n    const contributorAnnotations = cam.graph.get_annotations_by_key('contributor');\r\n\r\n    cam.contributors = self.noctuaUserService.getContributorsFromAnnotations(contributorAnnotations);\r\n    cam.groups = self.noctuaUserService.getGroupsFromAnnotations(groupAnnotations);\r\n\r\n    if (dateAnnotations.length > 0) {\r\n      cam.date = dateAnnotations[0].value();\r\n    }\r\n\r\n    if (titleAnnotations.length > 0) {\r\n      cam.title = titleAnnotations[0].value();\r\n    }\r\n\r\n    cam.comments = commentAnnotations.map(c => {\r\n      return c.value();\r\n    })\r\n\r\n    if (stateAnnotations.length > 0) {\r\n      cam.state = self.noctuaFormConfigService.findModelState(stateAnnotations[0].value());\r\n    }\r\n\r\n    self.loadCam(cam, false);\r\n  }\r\n\r\n  loadCam(cam: Cam, publish = true) {\r\n    const self = this;\r\n    const activities = self.graphToActivities(cam.graph);\r\n\r\n    if (environment.isGraph) {\r\n      const molecules = self.graphToMolecules(cam.graph);\r\n\r\n      activities.push(...molecules);\r\n\r\n      if (cam.operation === CamOperation.ADD_ACTIVITY) {\r\n        const activity = self.getAddedActivity(activities, cam.activities);\r\n        self.onActivityAdded.next(activity);\r\n      }\r\n\r\n      cam.activities = activities;\r\n      cam.causalRelations = self.getCausalRelations(cam);\r\n      self.getActivityLocations(cam)\r\n    } else {\r\n      cam.activities = activities;\r\n    }\r\n\r\n    cam.applyFilter();\r\n    cam.updateActivityDisplayNumber();\r\n    cam.updateProperties()\r\n    cam.operation = CamOperation.NONE;\r\n\r\n    if (publish) {\r\n      self.onCamGraphChanged.next(cam);\r\n    }\r\n  }\r\n\r\n  getAddedActivity(a: Activity[], b: Activity[]): Activity {\r\n    const activities = differenceWith(a, b, compareActivity);\r\n\r\n    if (activities && activities.length > 0) {\r\n      return activities[0];\r\n    }\r\n\r\n    return null;\r\n\r\n  }\r\n\r\n  loadViolations(cam: Cam, validationResults) {\r\n    const self = this;\r\n    let violations;\r\n\r\n    if (validationResults &&\r\n      validationResults['shex-validation'] &&\r\n      validationResults['shex-validation']['violations']) {\r\n      violations = validationResults['shex-validation']['violations'];\r\n      cam.hasViolations = violations.length > 0;\r\n      cam.violations = [];\r\n      violations.forEach((violation: any) => {\r\n        violation.explanations.forEach((explanation) => {\r\n          explanation.constraints.forEach((constraint) => {\r\n            const camViolation = self.generateViolation(cam, violation.node, constraint);\r\n\r\n            if (camViolation) {\r\n              cam.violations.push(camViolation);\r\n            }\r\n          });\r\n        });\r\n      });\r\n    }\r\n\r\n    cam.setViolations();\r\n  }\r\n\r\n  generateViolation(cam: Cam, node, constraint) {\r\n    const self = this;\r\n    const activityNode = self.nodeToActivityNode(cam.graph, node)\r\n\r\n    if (!activityNode) {\r\n      return null;\r\n    }\r\n\r\n    let violation;\r\n    if (constraint.cardinality) {\r\n      const edge = self.noctuaFormConfigService.findEdge(constraint.property);\r\n      violation = new CardinalityViolation(\r\n        activityNode,\r\n        edge,\r\n        constraint.nobjects,\r\n        constraint.cardinality\r\n      );\r\n    } else if (constraint.object) {\r\n      violation = new RelationViolation(activityNode);\r\n      violation.predicate = self.noctuaFormConfigService.findEdge(constraint.property);\r\n\r\n      const object = constraint.object.startsWith('http')\r\n        ? self.curieUtil.getCurie(constraint.object)\r\n        : constraint.object\r\n\r\n      violation.object = self.nodeToActivityNode(cam.graph, object);\r\n    }\r\n\r\n    return violation;\r\n  }\r\n\r\n  getNodeInfo(node) {\r\n    const result: any = {};\r\n\r\n    each(node.types(), function (srcType) {\r\n      const type = srcType.type() === 'complement' ? srcType.complement_class_expression() : srcType;\r\n\r\n      result.id = type.class_id();\r\n      result.label = type.class_label();\r\n      result.classExpression = type;\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n\r\n  getNodeRootInfo(node): Entity[] {\r\n    const result = node.root_types().map((srcType) => {\r\n      const type = srcType.type() === 'complement' ? srcType.complement_class_expression() : srcType;\r\n      return new Entity(type.class_id(), type.class_label());\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  getNodeDate(node) {\r\n\r\n    const date = node.get_annotations_by_key('date');\r\n\r\n    if (date.length > 0) {\r\n      return date[0].value();\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  getNodeLocation(node) {\r\n    const result = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n\r\n    const x_annotations = node.get_annotations_by_key('hint-layout-x');\r\n    const y_annotations = node.get_annotations_by_key('hint-layout-y');\r\n\r\n    if (x_annotations.length === 1) {\r\n      result.x = parseInt(x_annotations[0].value());\r\n    }\r\n\r\n    if (y_annotations.length === 1) {\r\n      result.y = parseInt(y_annotations[0].value());\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  getNodeIsComplement(node) {\r\n    let result = true;\r\n\r\n    if (node) {\r\n      each(node.types(), function (in_type) {\r\n        const t = in_type.type();\r\n        result = result && (t === 'complement');\r\n      });\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  nodeToActivityNode(graph, objectId): Partial<ActivityNode> {\r\n    const self = this;\r\n\r\n    const node = graph.get_node(objectId);\r\n    if (!node) {\r\n      return null;\r\n    }\r\n    const nodeInfo = self.getNodeInfo(node);\r\n    const result = {\r\n      uuid: objectId,\r\n      date: self.getNodeDate(node),\r\n      term: new Entity(nodeInfo.id, nodeInfo.label, self.linker.url(nodeInfo.id), objectId),\r\n      rootTypes: self.getNodeRootInfo(node),\r\n      classExpression: nodeInfo.classExpression,\r\n      location: self.getNodeLocation(node),\r\n      isComplement: self.getNodeIsComplement(node),\r\n    };\r\n\r\n    return new ActivityNode(result);\r\n  }\r\n\r\n  edgeToEvidence(graph, edge): Evidence[] {\r\n\r\n    const self = this;\r\n    const evidenceAnnotations = edge.get_annotations_by_key('evidence');\r\n    const result = [];\r\n\r\n    each(evidenceAnnotations, function (evidenceAnnotation) {\r\n      const annotationId = evidenceAnnotation.value();\r\n      const annotationNode = graph.get_node(annotationId);\r\n      const evidence = new Evidence();\r\n\r\n      evidence.edge = new Entity(edge.predicate_id(), '');\r\n      evidence.uuid = annotationNode.id();\r\n      if (annotationNode) {\r\n\r\n        const nodeInfo = self.getNodeInfo(annotationNode);\r\n        evidence.setEvidence(new Entity(nodeInfo.id,\r\n          nodeInfo.label,\r\n          self.noctuaLookupService.getTermURL(nodeInfo.id)), nodeInfo.classExpression);\r\n\r\n        const sources = annotationNode.get_annotations_by_key('source');\r\n        const withs = annotationNode.get_annotations_by_key('with');\r\n        const contributorAnnotations = annotationNode.get_annotations_by_key('contributor');\r\n        const groupAnnotations = annotationNode.get_annotations_by_key('providedBy');\r\n\r\n        const date = self.getNodeDate(annotationNode);\r\n        const formattedDate = (moment as any)(date, 'YYYY-MM-DD')\r\n        evidence.date = date\r\n        evidence.formattedDate = formattedDate.format('ll');\r\n\r\n        if (sources.length > 0) {\r\n          const sorted = sources.sort(self._compareSources)\r\n          evidence.reference = sorted.map((source) => {\r\n            return source.value();\r\n          }).join('| ')\r\n          const referenceUrl = self.noctuaLookupService.getTermURL(evidence.reference);\r\n          evidence.referenceEntity = new Entity(evidence.reference, evidence.reference, referenceUrl, evidence.uuid)\r\n        }\r\n\r\n        if (withs.length > 0) {\r\n          evidence.with = withs[0].value();\r\n          evidence.withEntity = new Entity(evidence.with, evidence.with, null, evidence.uuid)\r\n        }\r\n\r\n        if (groupAnnotations.length > 0) {\r\n          evidence.groups = self.noctuaUserService.getGroupsFromAnnotations(groupAnnotations);\r\n        }\r\n\r\n        if (contributorAnnotations.length > 0) {\r\n          evidence.contributors = self.noctuaUserService.getContributorsFromAnnotations(contributorAnnotations);\r\n        }\r\n\r\n        result.push(evidence);\r\n      }\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n\r\n  isaClosurePostParse(a: string, b: any[], node: ActivityNode) {\r\n    const self = this;\r\n    const closure = self.noctuaLookupService.categoryToClosure(b);\r\n\r\n    return self.noctuaLookupService.isaClosure(a, closure).pipe(\r\n      map(result => {\r\n        node.isCatalyticActivity = result;\r\n        return result;\r\n      }));\r\n  }\r\n\r\n  isStartEdge(subjectNode, predicateId) {\r\n    return predicateId === noctuaFormConfig.edge.enabledBy.id ||\r\n      ((predicateId === noctuaFormConfig.edge.partOf.id ||\r\n        predicateId === noctuaFormConfig.edge.locatedIn.id ||\r\n        predicateId === noctuaFormConfig.edge.isActiveIn.id) &&\r\n\r\n        subjectNode.hasRootType(EntityDefinition.GoMolecularEntity))\r\n  }\r\n\r\n  getTerms(camGraph): TermsSummary {\r\n    const self = this;\r\n    const termsSummary = new TermsSummary()\r\n    const nodes = []\r\n    const frequency = {}\r\n\r\n    each(camGraph.all_nodes(), (bbopNode) => {\r\n      const node = self.nodeToActivityNode(camGraph, bbopNode.id());\r\n      node.id = node.uuid;\r\n      nodes.push(node)\r\n      frequency[node.term.id] = frequency[node.term.id] ? frequency[node.term.id] + 1 : 1;\r\n\r\n\r\n      if (node.hasRootType(EntityDefinition.GoMolecularEntity)) {\r\n        termsSummary.gp.frequency++;\r\n      } else if (node.hasRootType(EntityDefinition.GoMolecularFunction)) {\r\n        termsSummary.mf.frequency++;\r\n      } else if (node.hasRootType(EntityDefinition.GoBiologicalProcess)) {\r\n        termsSummary.bp.frequency++;\r\n      } else if (node.hasRootType(EntityDefinition.GoCellularComponent)) {\r\n        termsSummary.cc.frequency++;\r\n      } else if (node.hasRootType(EntityDefinition.GoEvidenceNode)) {\r\n        // continue\r\n      } else {\r\n        termsSummary.other.frequency++;\r\n      }\r\n    });\r\n\r\n    const uniqueNodes = chain(nodes)\r\n      .uniqWith(compareTerm)\r\n      .value();\r\n\r\n    each(uniqueNodes, (node: ActivityNode) => {\r\n      node.frequency = frequency[node.term.id]\r\n\r\n      if (node.hasRootType(EntityDefinition.GoMolecularEntity)) {\r\n        node.type = ActivityNodeType.GoMolecularEntity\r\n        termsSummary.gp.append(node)\r\n      } else if (node.hasRootType(EntityDefinition.GoMolecularFunction)) {\r\n        node.type = ActivityNodeType.GoMolecularFunction\r\n        termsSummary.mf.append(node)\r\n      } else if (node.hasRootType(EntityDefinition.GoBiologicalProcess)) {\r\n        node.type = ActivityNodeType.GoBiologicalProcess\r\n        termsSummary.bp.append(node)\r\n      } else if (node.hasRootType(EntityDefinition.GoCellularComponent)) {\r\n        node.type = ActivityNodeType.GoCellularComponent\r\n        termsSummary.cc.append(node)\r\n      } else if (node.hasRootType(EntityDefinition.GoEvidenceNode)) {\r\n        // continue\r\n      } else {\r\n        termsSummary.other.append(node)\r\n      }\r\n    })\r\n\r\n    termsSummary.allTerms = uniqueNodes\r\n    this.addSummaryEvidences(camGraph, termsSummary)\r\n\r\n    return termsSummary\r\n  }\r\n\r\n  addSummaryEvidences(camGraph, termsSummary: TermsSummary) {\r\n    const self = this;\r\n    const evidences: Evidence[] = [];\r\n    const frequency = {};\r\n    const contributors = [];\r\n    const relations: string[] = [];\r\n\r\n    each(camGraph.all_edges(), (bbopEdge) => {\r\n      const bbopPredicateId = bbopEdge.predicate_id();\r\n      const evidence = self.edgeToEvidence(camGraph, bbopEdge);\r\n\r\n      relations.push(bbopPredicateId)\r\n      frequency[bbopPredicateId] = frequency[bbopPredicateId] ? frequency[bbopPredicateId] + 1 : 1;\r\n      termsSummary.relations.frequency++;\r\n\r\n      evidence.forEach((evidence: Evidence) => {\r\n        evidences.push(evidence)\r\n        const evidenceHash = evidence.evidence.id + evidence.referenceEntity.id + evidence.withEntity.id\r\n        frequency[evidence.evidence.id] = frequency[evidence.evidence.id] ? frequency[evidence.evidence.id] + 1 : 1;\r\n        frequency[evidenceHash] = frequency[evidenceHash] ? frequency[evidenceHash] + 1 : 1;\r\n        frequency[evidence.referenceEntity.id] = frequency[evidence.referenceEntity.id] ? frequency[evidence.referenceEntity.id] + 1 : 1;\r\n        frequency[evidence.withEntity.id] = frequency[evidence.withEntity.id] ? frequency[evidence.withEntity.id] + 1 : 1;\r\n        frequency[evidence.date] = frequency[evidence.date] ? frequency[evidence.date] + 1 : 1;\r\n        evidence.contributors.map((contributor: Contributor) => {\r\n          frequency[contributor.orcid] = frequency[contributor.orcid] ? frequency[contributor.orcid] + 1 : 1;\r\n          termsSummary.contributors.frequency++;\r\n          contributors.push(contributor)\r\n        });\r\n\r\n        termsSummary.evidences.frequency++;\r\n        termsSummary.evidenceEcos.frequency++;\r\n        termsSummary.dates.frequency++;\r\n\r\n\r\n        if (evidence.referenceEntity.id) {\r\n          termsSummary.references.frequency++;\r\n        }\r\n\r\n        if (evidence.withEntity.id) {\r\n          termsSummary.withs.frequency++;\r\n        }\r\n\r\n        if (evidence.referenceEntity?.label.trim().startsWith('PMID')) {\r\n          termsSummary.papers.frequency++;\r\n        }\r\n      })\r\n    });\r\n\r\n    const uniqueRelations = uniq(relations)\r\n\r\n    const uniqueDates = chain(evidences)\r\n      .uniqWith(compareEvidenceDate)\r\n      .value();\r\n\r\n    const uniqueEvidence = chain(evidences)\r\n      .uniqWith(compareEvidence)\r\n      .value();\r\n\r\n    const uniqueEvidenceEco = chain(evidences)\r\n      .uniqWith(compareEvidenceEvidence)\r\n      .value();\r\n\r\n    const uniqueReference = chain(evidences)\r\n      .uniqWith(compareEvidenceReference)\r\n      .value();\r\n\r\n    const uniqueWith = chain(evidences)\r\n      .uniqWith(compareEvidenceWith)\r\n      .value();\r\n\r\n    const uniqueContributors = chain(contributors)\r\n      .uniqWith(equalContributor)\r\n      .value();\r\n\r\n    each(uniqueDates, (evidence: Evidence) => {\r\n      const dateEntity = new Entity(evidence.date, evidence.formattedDate)\r\n      dateEntity.frequency = frequency[evidence.date]\r\n      termsSummary.dates.append(dateEntity)\r\n    })\r\n\r\n    each(uniqueRelations, (relationId: string) => {\r\n      const edge = self.noctuaFormConfigService.findEdge(relationId);\r\n      edge.frequency = frequency[relationId]\r\n      termsSummary.relations.append(edge)\r\n    })\r\n\r\n    each(uniqueEvidence, (evidence: Evidence) => {\r\n      const evidenceHash = evidence.evidence.id + evidence.referenceEntity.id + evidence.withEntity.id\r\n      evidence.frequency = frequency[evidenceHash]\r\n      termsSummary.evidences.append(evidence)\r\n    })\r\n\r\n    each(uniqueEvidenceEco, (evidence: Evidence) => {\r\n      evidence.evidence.frequency = frequency[evidence.evidence.id]\r\n      termsSummary.evidenceEcos.append(evidence.evidence)\r\n    })\r\n\r\n    each(uniqueReference, (evidence: Evidence) => {\r\n      evidence.referenceEntity.frequency = frequency[evidence.evidence.id]\r\n      termsSummary.references.append(evidence.referenceEntity)\r\n    })\r\n\r\n    each(uniqueWith, (evidence: Evidence) => {\r\n      evidence.withEntity.frequency = frequency[evidence.evidence.id]\r\n      termsSummary.withs.append(evidence.withEntity)\r\n    })\r\n\r\n    each(uniqueReference, (evidence: Evidence) => {\r\n      if (evidence.referenceEntity && evidence.referenceEntity?.id.trim().startsWith('PMID')) {\r\n        const article = new Article()\r\n        article.id = evidence.referenceEntity.id.trim()\r\n        article.frequency = frequency[evidence.referenceEntity.id]\r\n        termsSummary.papers.append(article)\r\n      }\r\n    })\r\n\r\n    each(uniqueContributors, (contributor: Contributor) => {\r\n      contributor.frequency = frequency[contributor.orcid]\r\n      termsSummary.contributors.append(contributor)\r\n    })\r\n  }\r\n\r\n  getActivityPreset(subjectNode: Partial<ActivityNode>, objectNode: Partial<ActivityNode>, predicateId, bbopSubjectEdges): Activity {\r\n    const self = this;\r\n    let activityType = ActivityType.default;\r\n\r\n    if ((predicateId === noctuaFormConfig.edge.partOf.id ||\r\n      predicateId === noctuaFormConfig.edge.locatedIn.id ||\r\n      predicateId === noctuaFormConfig.edge.isActiveIn.id) &&\r\n      subjectNode.hasRootType(EntityDefinition.GoMolecularEntity)) {\r\n\r\n      activityType = ActivityType.ccOnly;\r\n    } else if (subjectNode.term.id === noctuaFormConfig.rootNode.mf.id) {\r\n      each(bbopSubjectEdges, function (subjectEdge) {\r\n        if (find(noctuaFormConfig.causalEdges, { id: subjectEdge.predicate_id() })) {\r\n          activityType = ActivityType.bpOnly;\r\n        }\r\n      });\r\n    } else if (objectNode.hasRootType(EntityDefinition.GoProteinContainingComplex)) {\r\n      activityType = ActivityType.proteinComplex;\r\n    }\r\n\r\n    return self.noctuaFormConfigService.createActivityBaseModel(activityType);\r\n  }\r\n\r\n\r\n  graphToActivities(camGraph): Activity[] {\r\n    const self = this;\r\n    const activities: Activity[] = [];\r\n\r\n    each(camGraph.all_edges(), (bbopEdge) => {\r\n      const bbopSubjectId = bbopEdge.subject_id();\r\n      const bbopObjectId = bbopEdge.object_id();\r\n      const subjectNode = self.nodeToActivityNode(camGraph, bbopSubjectId);\r\n      const objectNode = self.nodeToActivityNode(camGraph, bbopObjectId);\r\n\r\n      if (self.isStartEdge(subjectNode, bbopEdge.predicate_id())) {\r\n\r\n        const subjectEdges = camGraph.get_edges_by_subject(bbopSubjectId);\r\n        const activity: Activity = self.getActivityPreset(subjectNode, objectNode, bbopEdge.predicate_id(), subjectEdges);\r\n        const subjectActivityNode = activity.rootNode;\r\n\r\n        subjectActivityNode.term = subjectNode.term;\r\n        subjectActivityNode.date = subjectNode.date;\r\n        subjectActivityNode.classExpression = subjectNode.classExpression;\r\n        subjectActivityNode.setIsComplement(subjectNode.isComplement);\r\n        subjectActivityNode.uuid = bbopSubjectId;\r\n        self._graphToActivityDFS(camGraph, activity, subjectEdges, subjectActivityNode);\r\n        activity.id = bbopSubjectId;\r\n\r\n        activity.postRunUpdateCompliment();\r\n\r\n        // if (environment.isGraph) {\r\n        activity.postRunUpdate();\r\n        // }\r\n\r\n        activities.push(activity);\r\n      }\r\n    });\r\n\r\n    return activities;\r\n  }\r\n\r\n  graphToMolecules(camGraph): Activity[] {\r\n    const self = this;\r\n    const activities: Activity[] = [];\r\n\r\n    each(camGraph.all_nodes(), (bbopNode) => {\r\n      const subjectNode = self.nodeToActivityNode(camGraph, bbopNode.id());\r\n\r\n      if (subjectNode.hasRootType(EntityDefinition.GoChemicalEntity) && !subjectNode.hasRootType(EntityDefinition.GoMolecularEntity)) {\r\n        const subjectEdges = camGraph.get_edges_by_subject(bbopNode.id())\r\n        const objectEdges = camGraph.get_edges_by_object(bbopNode.id())\r\n\r\n        const hasEnabledBy = find(objectEdges, (edge) => {\r\n          return edge.predicate_id() === noctuaFormConfig.edge.enabledBy.id\r\n        })\r\n\r\n        if (!hasEnabledBy) {\r\n          const activity: Activity = self.noctuaFormConfigService.createActivityBaseModel(ActivityType.molecule);\r\n          const subjectActivityNode = activity.rootNode;\r\n\r\n          subjectActivityNode.term = subjectNode.term;\r\n          subjectActivityNode.date = subjectNode.date;\r\n          subjectActivityNode.classExpression = subjectNode.classExpression;\r\n          subjectActivityNode.uuid = bbopNode.id();\r\n          activity.id = bbopNode.id();\r\n          self._graphToActivityDFS(camGraph, activity, subjectEdges, subjectActivityNode);\r\n          //activity.postRunUpdate();\r\n          activities.push(activity);\r\n        }\r\n      }\r\n\r\n    });\r\n\r\n    return activities\r\n  }\r\n\r\n\r\n  getCausalRelations(cam: Cam) {\r\n    const self = this;\r\n    const triples: Triple<Activity>[] = [];\r\n    each(cam.activities, (subjectActivity: Activity) => {\r\n      each(cam.graph.get_edges_by_subject(subjectActivity.id), (bbopEdge) => {\r\n        const predicateId = bbopEdge.predicate_id();\r\n        const evidence = self.edgeToEvidence(cam.graph, bbopEdge);\r\n        const objectId = bbopEdge.object_id();\r\n        const objectInfo = self.nodeToActivityNode(cam.graph, objectId);\r\n        const edges = noctuaFormConfig.allEdges\r\n        const causalEdge = this.noctuaFormConfigService.findEdge(predicateId)\r\n\r\n        if (objectInfo.hasRootType(EntityDefinition.GoMolecularFunction)\r\n          || objectInfo.hasRootType(EntityDefinition.GoChemicalEntity)) {\r\n          const objectActivity = cam.findActivityById(objectId);\r\n          const predicate = new Predicate(causalEdge, evidence)\r\n\r\n          if (causalEdge.id === noctuaFormConfig.edge.hasInput.id) {\r\n            predicate.isReverseLink = true;\r\n            predicate.reverseLinkTitle = 'input of'\r\n          }\r\n          const triple = new Triple<Activity>(subjectActivity, objectActivity, predicate);\r\n\r\n          if (triple.subject && triple.object) {\r\n            triples.push(triple);\r\n          }\r\n        }\r\n      });\r\n    });\r\n\r\n    return triples;\r\n  }\r\n\r\n  saveModelGroup(cam: Cam, groupId) {\r\n    cam.manager.use_groups([groupId]);\r\n    cam.groupId = groupId;\r\n  }\r\n\r\n  copyModel(cam: Cam, title) {\r\n    const self = this;\r\n    const reqs = new minerva_requests.request_set(self.noctuaUserService.baristaToken, cam.id);\r\n    const req = new minerva_requests.request('model', 'copy');\r\n\r\n    req.model(cam.id);\r\n    reqs.add_annotation_to_model('title', title);\r\n    reqs.add(req, 'query');\r\n\r\n    if (self.noctuaUserService.user && self.noctuaUserService.user.groups.length > 0) {\r\n      reqs.use_groups([self.noctuaUserService.user.group.id]);\r\n    }\r\n\r\n    return cam.copyModelManager.request_with(reqs);\r\n  }\r\n\r\n  copyModelRaw(cam: Cam, title) {\r\n    const self = this;\r\n    const baristaUrl = environment.globalBaristaLocation\r\n    const globalMinervaDefinitionName = environment.globalMinervaDefinitionName\r\n\r\n    let headers = new HttpHeaders();\r\n    headers = headers.append('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\r\n\r\n    const requests = [\r\n      {\r\n        \"entity\": \"model\",\r\n        \"operation\": \"copy\",\r\n        \"arguments\":\r\n        {\r\n          \"model-id\": cam.id,\r\n          \"values\": [\r\n            {\r\n              \"key\": \"title\",\r\n              \"value\": title\r\n            }]\r\n        }\r\n      }]\r\n    let payload = `token=${this.noctuaUserService.baristaToken}&intention=query&requests=${encodeURIComponent(JSON.stringify(requests))}`\r\n\r\n    if (self.noctuaUserService.user && self.noctuaUserService.user.groups.length > 0) {\r\n      payload = payload + '&provided-by=' + self.noctuaUserService.user.group.id;\r\n    }\r\n    return this.httpClient.post(`${baristaUrl}/api/${globalMinervaDefinitionName}/m3BatchPrivileged`, payload, { headers });\r\n  }\r\n\r\n  resetModel(cam: Cam) {\r\n    const self = this;\r\n    const reqs = new minerva_requests.request_set(self.noctuaUserService.baristaToken, cam.id);\r\n    const req = new minerva_requests.request('model', 'reset');\r\n\r\n    req.model(cam.id);\r\n    reqs.add(req, 'query');\r\n    return cam.manager.request_with(reqs);\r\n  }\r\n\r\n  storeCam(cam: Cam) {\r\n    const self = this;\r\n    const reqs = new minerva_requests.request_set(self.noctuaUserService.baristaToken, cam.id);\r\n\r\n    if (self.noctuaUserService.user && self.noctuaUserService.user.groups.length > 0) {\r\n      reqs.use_groups([self.noctuaUserService.user.group.id]);\r\n    }\r\n\r\n    reqs.store_model(cam.id);\r\n    return cam.manager.request_with(reqs);\r\n  }\r\n\r\n  saveCamAnnotations(cam: Cam, annotations) {\r\n    const self = this;\r\n\r\n    const titleAnnotations = cam.graph.get_annotations_by_key('title');\r\n    const stateAnnotations = cam.graph.get_annotations_by_key('state');\r\n    const commentAnnotations = cam.graph.get_annotations_by_key('comment');\r\n    const reqs = new minerva_requests.request_set(self.noctuaUserService.baristaToken, cam.id);\r\n\r\n    each(titleAnnotations, function (annotation) {\r\n      reqs.remove_annotation_from_model('title', annotation.value());\r\n    });\r\n\r\n    each(stateAnnotations, function (annotation) {\r\n      reqs.remove_annotation_from_model('state', annotation.value());\r\n    });\r\n\r\n    each(commentAnnotations, function (annotation) {\r\n      reqs.remove_annotation_from_model('comment', annotation.value());\r\n    });\r\n\r\n    reqs.add_annotation_to_model('title', annotations.title);\r\n    reqs.add_annotation_to_model('state', annotations.state);\r\n\r\n    annotations.comments.forEach(comment => {\r\n      reqs.add_annotation_to_model('comment', comment);\r\n    });\r\n\r\n    reqs.store_model(cam.id);\r\n    cam.manager.request_with(reqs);\r\n  }\r\n\r\n  addActivity(cam: Cam, nodes: ActivityNode[], triples: Triple<ActivityNode>[], title, operation = CamOperation.ADD_ACTIVITY) {\r\n    const self = this;\r\n    const reqs = new minerva_requests.request_set(self.noctuaUserService.baristaToken, cam.model.id);\r\n\r\n    if (!cam.title) {\r\n      reqs.add_annotation_to_model('title', title);\r\n    }\r\n\r\n    each(nodes, function (node: ActivityNode) {\r\n      self.addIndividual(reqs, node);\r\n    });\r\n\r\n    self.addFact(reqs, triples);\r\n\r\n    if (self.noctuaUserService.user && self.noctuaUserService.user.groups.length > 0) {\r\n      reqs.use_groups([self.noctuaUserService.user.group.id]);\r\n    }\r\n\r\n    cam.operation = operation;\r\n\r\n    reqs.store_model(cam.id);\r\n\r\n    return cam.manager.request_with(reqs);\r\n  }\r\n\r\n  editConnection(cam: Cam,\r\n    removeTriples: Triple<ActivityNode>[],\r\n    addTriples: Triple<ActivityNode>[]) {\r\n\r\n    const self = this;\r\n    const reqs = new minerva_requests.request_set(self.noctuaUserService.baristaToken, cam.id);\r\n\r\n    each(removeTriples, (triple: Triple<ActivityNode>) => {\r\n      reqs.remove_fact([\r\n        triple.subject.uuid,\r\n        triple.object.uuid,\r\n        triple.predicate.edge.id\r\n      ]);\r\n    });\r\n\r\n    self.addFact(reqs, addTriples);\r\n\r\n    if (self.noctuaUserService.user && self.noctuaUserService.user.groups.length > 0) {\r\n      reqs.use_groups([self.noctuaUserService.user.group.id]);\r\n    }\r\n\r\n    reqs.store_model(cam.id);\r\n    return cam.manager.request_with(reqs);\r\n  }\r\n\r\n  editActivity(cam: Cam,\r\n    addNodes: ActivityNode[],\r\n    addTriples: Triple<ActivityNode>[],\r\n    removeIds: string[],\r\n    removeTriples: Triple<ActivityNode>[] = []) {\r\n\r\n    const self = this;\r\n    const reqs = new minerva_requests.request_set(self.noctuaUserService.baristaToken, cam.id);\r\n\r\n    each(addNodes, function (destNode: ActivityNode) {\r\n      self.addIndividual(reqs, destNode);\r\n    });\r\n\r\n    //self.editFact(reqs, srcTriples, addTriples);\r\n\r\n\r\n    each(removeTriples, function (triple: Triple<ActivityNode>) {\r\n      reqs.remove_fact([\r\n        triple.subject.uuid,\r\n        triple.object.uuid,\r\n        triple.predicate.edge.id\r\n      ]);\r\n    });\r\n    self.addFact(reqs, addTriples);\r\n\r\n    each(removeIds, function (uuid: string) {\r\n      reqs.remove_individual(uuid);\r\n    });\r\n\r\n    if (self.noctuaUserService.user && self.noctuaUserService.user.groups.length > 0) {\r\n      reqs.use_groups([self.noctuaUserService.user.group.id]);\r\n    }\r\n\r\n    reqs.store_model(cam.id);\r\n    return cam.manager.request_with(reqs);\r\n  }\r\n\r\n  bulkEditActivity(cam: Cam): Observable<any> {\r\n    const self = this;\r\n    const reqs = new minerva_requests.request_set(self.noctuaUserService.baristaToken, cam.id);\r\n\r\n    each(cam.activities, (activity: Activity) => {\r\n      each(activity.nodes, (node: ActivityNode) => {\r\n        self.bulkEditIndividual(reqs, cam.id, node);\r\n        each(node.predicate.evidence, (evidence: Evidence) => {\r\n          self.bulkEditEvidence(reqs, cam.id, evidence);\r\n        });\r\n      });\r\n    });\r\n\r\n    if (self.noctuaUserService.user && self.noctuaUserService.user.groups.length > 0) {\r\n      reqs.use_groups([self.noctuaUserService.user.group.id]);\r\n    }\r\n\r\n    return cam.replaceManager.request_with(reqs);\r\n  }\r\n\r\n  bulkEditActivityNode(cam: Cam, node: ActivityNode) {\r\n    const self = this;\r\n    const reqs = new minerva_requests.request_set(self.noctuaUserService.baristaToken, cam.id);\r\n\r\n    self.bulkEditIndividual(reqs, cam.id, node);\r\n    each(node.predicate.evidence, (evidence: Evidence) => {\r\n      self.bulkEditEvidence(reqs, cam.id, evidence);\r\n    });\r\n\r\n    if (self.noctuaUserService.user && self.noctuaUserService.user.groups.length > 0) {\r\n      reqs.use_groups([self.noctuaUserService.user.group.id]);\r\n    }\r\n\r\n    return cam.replaceManager.request_with(reqs);\r\n  }\r\n\r\n  deleteActivity(cam: Cam, uuids: string[], triples: Triple<ActivityNode>[]) {\r\n    const self = this;\r\n\r\n    const success = () => {\r\n      const reqs = new minerva_requests.request_set(self.noctuaUserService.baristaToken, cam.model.id);\r\n\r\n      each(triples, function (triple: Triple<ActivityNode>) {\r\n        reqs.remove_fact([\r\n          triple.subject.uuid,\r\n          triple.object.uuid,\r\n          triple.predicate.edge.id\r\n        ]);\r\n      });\r\n\r\n      each(uuids, function (uuid: string) {\r\n        reqs.remove_individual(uuid);\r\n      });\r\n\r\n      reqs.store_model(cam.id);\r\n\r\n      if (self.noctuaUserService.user && self.noctuaUserService.user.groups.length > 0) {\r\n        reqs.use_groups([self.noctuaUserService.user.group.id]);\r\n      }\r\n\r\n      return cam.manager.request_with(reqs);\r\n    };\r\n\r\n    return success();\r\n  }\r\n\r\n  deleteEvidence(cam: Cam, uuid: string) {\r\n    const self = this;\r\n\r\n    const success = () => {\r\n      const reqs = new minerva_requests.request_set(self.noctuaUserService.baristaToken, cam.model.id);\r\n\r\n\r\n      reqs.remove_evidence(uuid, cam.model.id);\r\n\r\n      reqs.store_model(cam.id);\r\n\r\n      if (self.noctuaUserService.user && self.noctuaUserService.user.groups.length > 0) {\r\n        reqs.use_groups([self.noctuaUserService.user.group.id]);\r\n      }\r\n\r\n      return cam.manager.request_with(reqs);\r\n    };\r\n\r\n    return success();\r\n  }\r\n\r\n  deleteEvidenceAnnotation(cam: Cam, uuid: string, key: 'source' | 'with', oldValue: string) {\r\n    const self = this;\r\n\r\n    const success = () => {\r\n      const reqs = new minerva_requests.request_set(self.noctuaUserService.baristaToken, cam.model.id);\r\n\r\n      reqs.remove_annotation_from_individual(key, oldValue, null, uuid);\r\n      reqs.store_model(cam.id);\r\n\r\n      if (self.noctuaUserService.user && self.noctuaUserService.user.groups.length > 0) {\r\n        reqs.use_groups([self.noctuaUserService.user.group.id]);\r\n      }\r\n\r\n      return cam.manager.request_with(reqs);\r\n    };\r\n\r\n    return success();\r\n  }\r\n\r\n  addFact(reqs, triples: Triple<ActivityNode>[]) {\r\n    const self = this;\r\n\r\n    each(triples, function (triple: Triple<ActivityNode>) {\r\n      const subject = self.addIndividual(reqs, triple.subject);\r\n      const object = self.addIndividual(reqs, triple.object);\r\n\r\n      if (subject && object) {\r\n        triple.predicate.uuid = reqs.add_fact([\r\n          subject,\r\n          object,\r\n          triple.predicate.edge.id\r\n        ]);\r\n\r\n        each(triple.predicate.evidence, function (evidence: Evidence) {\r\n          const evidenceReference = evidence.reference;\r\n          const evidenceWith = evidence.with;\r\n\r\n          reqs.add_evidence(evidence.evidence.id, evidenceReference, evidenceWith, triple.predicate.uuid);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteFact(reqs, triples: Triple<ActivityNode>[]) {\r\n    const self = this;\r\n\r\n    each(triples, function (triple: Triple<ActivityNode>) {\r\n      each(triple.predicate.evidence, function (evidence: Evidence) {\r\n        reqs.remove_individual(evidence.uuid);\r\n      });\r\n      reqs.remove_individual(triple.subject.uuid);\r\n    });\r\n  }\r\n\r\n  addIndividual(reqs: any, node: ActivityNode): string | null {\r\n    if (node.uuid) {\r\n      return node.uuid;\r\n    }\r\n\r\n    if (node.hasValue()) {\r\n      if (node.isComplement) {\r\n        const ce = new class_expression();\r\n        ce.as_complement(node.term.id);\r\n        node.uuid = reqs.add_individual(ce);\r\n      } else {\r\n        node.uuid = reqs.add_individual(node.term.id);\r\n      }\r\n      return node.uuid;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  editIndividual(reqs, cam: Cam, srcNode, destNode) {\r\n    if (srcNode.hasValue() && destNode.hasValue()) {\r\n      reqs.remove_type_from_individual(\r\n        srcNode.classExpression,\r\n        srcNode.uuid,\r\n        cam.id,\r\n      );\r\n\r\n      reqs.add_type_to_individual(\r\n        class_expression.cls(destNode.getTerm().id),\r\n        srcNode.uuid,\r\n        cam.id,\r\n      );\r\n    }\r\n  }\r\n\r\n  bulkEditIndividual(reqs, camId: string, node: ActivityNode) {\r\n    if (node.hasValue() && node.pendingEntityChanges) {\r\n      reqs.remove_type_from_individual(\r\n        class_expression.cls(node.pendingEntityChanges.oldValue.id),\r\n        node.pendingEntityChanges.uuid,\r\n        camId,\r\n      );\r\n\r\n      reqs.add_type_to_individual(\r\n        class_expression.cls(node.pendingEntityChanges.newValue.id),\r\n        node.pendingEntityChanges.uuid,\r\n        camId,\r\n      );\r\n    }\r\n  }\r\n\r\n\r\n  bulkEditEvidence(reqs, camId: string, evidence: Evidence) {\r\n    if (evidence.hasValue() && evidence.pendingEvidenceChanges) {\r\n      reqs.remove_type_from_individual(\r\n        class_expression.cls(evidence.pendingEvidenceChanges.oldValue.id),\r\n        evidence.uuid,\r\n        camId,\r\n      );\r\n\r\n      reqs.add_type_to_individual(\r\n        class_expression.cls(evidence.pendingEvidenceChanges.newValue.id),\r\n        evidence.pendingEvidenceChanges.uuid,\r\n        camId,\r\n      );\r\n\r\n      this.editUserEvidenceAnnotations(reqs, evidence.pendingEvidenceChanges.uuid)\r\n    }\r\n\r\n    if (evidence.hasValue() && evidence.pendingReferenceChanges) {\r\n      reqs.remove_annotation_from_individual('source', evidence.pendingReferenceChanges.oldValue.id, null, evidence.pendingReferenceChanges.uuid);\r\n      reqs.add_annotation_to_individual('source',\r\n        evidence.pendingReferenceChanges.newValue.id,\r\n        null,\r\n        evidence.pendingReferenceChanges.uuid)\r\n      this.editUserEvidenceAnnotations(reqs, evidence.pendingReferenceChanges.uuid)\r\n    }\r\n\r\n    if (evidence.hasValue() && evidence.pendingWithChanges) {\r\n      reqs.remove_annotation_from_individual('with', evidence.pendingWithChanges.oldValue.id, null, evidence.pendingWithChanges.uuid);\r\n      reqs.add_annotation_to_individual('with',\r\n        evidence.pendingWithChanges.newValue.id,\r\n        null,\r\n        evidence.pendingWithChanges.uuid)\r\n      this.editUserEvidenceAnnotations(reqs, evidence.pendingWithChanges.uuid)\r\n    }\r\n  }\r\n\r\n  editUserEvidenceAnnotations(reqs, uuid) {\r\n    reqs.remove_annotation_from_individual('provided-by', this.noctuaUserService.user.group.url, null, uuid);\r\n    reqs.add_annotation_to_individual('provided-by', this.noctuaUserService.user.group.url, null, uuid);\r\n    reqs.remove_annotation_from_individual('contributor', this.noctuaUserService.user.orcid, null, uuid);\r\n    reqs.add_annotation_to_individual('contributor', this.noctuaUserService.user.orcid, null, uuid);\r\n  }\r\n\r\n  replaceIndividual(reqs, modelId: string, entity: Entity, replaceWithTerm: Entity) {\r\n    reqs.remove_type_from_individual(\r\n      class_expression.cls(entity.id),\r\n      entity.uuid,\r\n      modelId,\r\n    );\r\n\r\n    reqs.add_type_to_individual(\r\n      class_expression.cls(replaceWithTerm.id),\r\n      entity.uuid,\r\n      modelId,\r\n    );\r\n  }\r\n\r\n  deleteIndividual(reqs, node) {\r\n    if (node.uuid) {\r\n      reqs.remove_individual(node.uuid);\r\n    }\r\n  }\r\n\r\n  getActivityLocations(cam: Cam) {\r\n    const locations = localStorage.getItem(`activityLocations-${cam.id}`);\r\n\r\n    if (locations) {\r\n      cam.manualLayout = true;\r\n      const activityLocations = JSON.parse(locations)\r\n      cam.activities.forEach((activity: Activity) => {\r\n        const activityLocation = find(activityLocations, { id: activity.id })\r\n        if (activityLocation) {\r\n          activity.position.x = activityLocation.x;\r\n          activity.position.y = activityLocation.y\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  setActivityLocations(cam: Cam) {\r\n    const locations = cam.activities.map((activity: Activity) => {\r\n      return {\r\n        id: activity.id,\r\n        x: activity.position.x,\r\n        y: activity.position.y\r\n      }\r\n    })\r\n    localStorage.setItem(`activityLocations-${cam.id}`, JSON.stringify(locations));\r\n  }\r\n\r\n  addActivityLocation(cam: Cam, activity: Activity) {\r\n    const locations = [...cam.activities, ...[activity]].map((activity: Activity) => {\r\n      return {\r\n        id: activity.id,\r\n        x: activity.position.x,\r\n        y: activity.position.y\r\n      }\r\n    })\r\n    localStorage.setItem(`activityLocations-${cam.id}`, JSON.stringify(locations));\r\n  }\r\n\r\n  private _graphToActivityDFS(camGraph, activity: Activity, bbopEdges, subjectNode: ActivityNode) {\r\n    const self = this;\r\n\r\n    each(bbopEdges, (bbopEdge) => {\r\n      const bbopPredicateId = bbopEdge.predicate_id();\r\n      const bbopObjectId = bbopEdge.object_id();\r\n      const evidence = self.edgeToEvidence(camGraph, bbopEdge);\r\n      const partialObjectNode = self.nodeToActivityNode(camGraph, bbopObjectId);\r\n      const objectNode = this._insertNode(activity, bbopPredicateId, subjectNode, partialObjectNode);\r\n\r\n      activity.updateEntityInsertMenu();\r\n\r\n      if (objectNode) {\r\n        const triple: Triple<ActivityNode> = activity.getEdge(subjectNode.id, objectNode.id);\r\n        if (triple) {\r\n          triple.object.uuid = partialObjectNode.uuid;\r\n          triple.object.term = partialObjectNode.term;\r\n          triple.object.date = partialObjectNode.date;\r\n          triple.object.classExpression = partialObjectNode.classExpression;\r\n          triple.object.setIsComplement(partialObjectNode.isComplement);\r\n          triple.predicate.isComplement = triple.object.isComplement;\r\n          triple.predicate.evidence = evidence;\r\n          triple.predicate.uuid = bbopEdge.id();\r\n          self._graphToActivityDFS(camGraph, activity, camGraph.get_edges_by_subject(bbopObjectId), triple.object);\r\n        }\r\n      }\r\n    });\r\n\r\n    return activity;\r\n  }\r\n\r\n  private _insertNode(activity: Activity, bbopPredicateId: string, subjectNode: ActivityNode,\r\n    partialObjectNode: Partial<ActivityNode>): ActivityNode {\r\n    const nodeDescriptions: ModelDefinition.InsertNodeDescription[] = subjectNode.canInsertNodes;\r\n    let objectNode;\r\n\r\n    each(nodeDescriptions, (nodeDescription: ModelDefinition.InsertNodeDescription) => {\r\n      if (bbopPredicateId === nodeDescription.predicate.id) {\r\n        if (partialObjectNode.hasRootTypes(nodeDescription.node.category)) {\r\n          objectNode = ModelDefinition.insertNode(activity, subjectNode, nodeDescription);\r\n          return false;\r\n        }\r\n      }\r\n    });\r\n\r\n    return objectNode;\r\n  }\r\n\r\n\r\n\r\n\r\n  private _compareSources(a: any, b: any) {\r\n    return (a.value() > b.value()) ? -1 : 1;\r\n  }\r\n\r\n}","\r\nexport { NoctuaActivityConnectorService } from './activity-connector.service';\r\nexport { NoctuaActivityEntityService } from './activity-entity.service';\r\nexport { NoctuaActivityFormService } from './activity-form.service';\r\nexport { CamService } from './cam.service';\r\nexport { NoctuaGraphService } from './graph.service';\r\nexport { NoctuaLookupService } from './lookup.service';\r\nexport { NoctuaFormConfigService } from './config/noctua-form-config.service';\r\nexport { NoctuaFormMenuService } from './noctua-form-menu.service';\r\nexport { NoctuaUserService } from './user.service';\r\nexport { NoctuaTripleFormService } from './triple-form.service';\r\nexport { CamStatsService } from './cam-stats.service';\r\n\r\n","import { environment } from './../../environments/environment';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { map } from 'rxjs/operators';\r\nimport { NoctuaFormConfigService } from './config/noctua-form-config.service';\r\nimport { find, filter, each, uniqWith, difference } from 'lodash';\r\nimport { noctuaFormConfig } from './../noctua-form-config';\r\nimport { Article } from './../models/article';\r\nimport { compareEvidenceEvidence, compareEvidenceReference, compareEvidenceWith, Evidence, EvidenceExt } from './../models/activity/evidence';\r\nimport { Group } from './../models/group';\r\nimport { ActivityNode, ActivityNodeType } from './../models/activity/activity-node';\r\nimport { Entity } from './../models/activity/entity';\r\nimport { Predicate } from './../models/activity/predicate';\r\nimport { NoctuaUserService } from './user.service';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\ndeclare const require: any;\r\n\r\nconst amigo = require('amigo2');\r\nconst golr_conf = require('golr-conf');\r\nconst gconf = new golr_conf.conf(amigo.data.golr);\r\nconst gserv = environment.globalGolrServer; // \"http://golr.berkeleybop.org/\";\r\nconst impl_engine = require('bbop-rest-manager').jquery;\r\nconst golr_manager = require('bbop-manager-golr');\r\nconst golr_response = require('bbop-response-golr');\r\nconst engine = new impl_engine(golr_response);\r\nengine.use_jsonp(true)\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NoctuaLookupService {\r\n  evidenceList: Evidence[] = [];\r\n  termList: ActivityNode[] = [];\r\n  name;\r\n  linker;\r\n  golrURLBase;\r\n  localClosures;\r\n  onArticleCacheReady: BehaviorSubject<any>;\r\n  articleCache = {}\r\n\r\n  constructor(private httpClient: HttpClient,\r\n    private noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService) {\r\n    this.onArticleCacheReady = new BehaviorSubject(null);\r\n    this.name = 'DefaultLookupName';\r\n    this.linker = new amigo.linker();\r\n    this.golrURLBase = environment.globalGolrNeoServer + `select?`;\r\n    // this.trusted = this.$sce.trustAsResourceUrl(this.golrURLBase);\r\n\r\n    this.localClosures = [];\r\n\r\n    //  this.golrLookupManager();\r\n\r\n  }\r\n\r\n  lookupFunc() {\r\n    return {\r\n      termLookup: this.termLookup.bind(this),\r\n      evidenceLookup: this.evidenceLookup.bind(this)\r\n    };\r\n  }\r\n\r\n  escapeGolrValue(str) {\r\n    const pattern = /([\\!\\*\\+\\-\\=\\<\\>\\&\\|\\(\\)\\[\\]\\{\\}\\^\\~\\?\\:\\\\/\"])/g;\r\n    return str.replace(pattern, \"\\\\$1\");\r\n  }\r\n\r\n  buildQ(str) {\r\n    const manager = new golr_manager(gserv, gconf, engine, 'async');\r\n\r\n    manager.set_comfy_query(str);\r\n    return manager.get_query(str);\r\n  }\r\n\r\n  termLookup(searchText, requestParams) {\r\n    const self = this;\r\n    requestParams.q = self.buildQ(searchText);\r\n    const params = new HttpParams({\r\n      fromObject: requestParams\r\n    });\r\n    const url = this.golrURLBase + params.toString();\r\n\r\n    return this.httpClient.jsonp(url, 'json.wrf').pipe(\r\n      map(response => self._lookupMap(response))\r\n    );\r\n  }\r\n\r\n  termPreLookup(type: ActivityNodeType): Entity[] {\r\n    const self = this;\r\n\r\n    const filtered = filter(self.termList, (activityNode: ActivityNode) => {\r\n      return activityNode.type === type;\r\n    });\r\n\r\n    return filtered.map((activityNode: ActivityNode) => {\r\n      return activityNode.term;\r\n    });\r\n  }\r\n\r\n  evidencePreLookup(): Entity[] {\r\n    const self = this;\r\n\r\n    const filtered = uniqWith(this.evidenceList, compareEvidenceEvidence);\r\n    return filtered.map((evidence: Evidence) => {\r\n      return evidence.evidence;\r\n    });\r\n  }\r\n\r\n  referencePreLookup(): string[] {\r\n    const self = this;\r\n\r\n    const filtered = uniqWith(self.evidenceList, compareEvidenceReference);\r\n    return filtered.map((evidence: Evidence) => {\r\n      return evidence.reference;\r\n    });\r\n  }\r\n\r\n  withPreLookup(): string[] {\r\n    const self = this;\r\n\r\n    const filtered = uniqWith(self.evidenceList, compareEvidenceWith);\r\n    return filtered.map((evidence: Evidence) => {\r\n      return evidence.with;\r\n    });\r\n  }\r\n\r\n  evidenceLookup(searchText: string, category: 'reference' | 'with'): string[] {\r\n    const self = this;\r\n\r\n    const filterValue = searchText.toLowerCase();\r\n    let filteredResults: string[] = [];\r\n\r\n    switch (category) {\r\n      case 'reference':\r\n        filteredResults = self.referencePreLookup().filter(\r\n          option => option ? option.toLowerCase().includes(filterValue) : false\r\n        );\r\n        break;\r\n      case 'with':\r\n        filteredResults = self.withPreLookup().filter(\r\n          option => option ? option.toLowerCase().includes(filterValue) : false\r\n        );\r\n        break;\r\n    }\r\n\r\n    return filteredResults;\r\n  }\r\n\r\n\r\n  companionLookup(gp, aspect, extraParams) {\r\n    const self = this;\r\n    const golrUrl = environment.globalGolrServer + `select?`;\r\n\r\n    const requestParams = {\r\n      defType: 'edismax',\r\n      qt: 'standard',\r\n      indent: 'on',\r\n      wt: 'json',\r\n      sort: 'annotation_class_label asc',\r\n      rows: '2000',\r\n      start: '0',\r\n      fl: '*,score',\r\n      facet: 'true',\r\n      'facet.mincount': '1',\r\n      'facet.sort': 'count',\r\n      'json.nl': 'arrarr',\r\n      'facet.limit': '2000',\r\n      fq: [\r\n        'document_category: \"annotation\"',\r\n        'aspect: \"' + aspect + '\"',\r\n        'bioentity: \"' + gp + '\"'\r\n      ],\r\n      'facet.field': [\r\n        'source',\r\n        'assigned_by',\r\n        'aspect',\r\n        'evidence_type_closure',\r\n        // 'panther_family_label',\r\n        // 'qualifier',\r\n        // 'taxon_label',\r\n        'annotation_class_label',\r\n        // 'regulates_closure_label',\r\n        // 'annotation_extension_class_closure_label'\r\n      ],\r\n      q: '*:*',\r\n      //  packet: '1',\r\n      //  callback_type: 'search',\r\n      // _: Date.now()\r\n    };\r\n\r\n\r\n    if (extraParams.term) {\r\n      requestParams.fq.push('annotation_class:\"' + extraParams.term + '\"')\r\n    }\r\n\r\n    if (extraParams.evidence) {\r\n      requestParams.fq.push('evidence:\"' + extraParams.evidence + '\"')\r\n    }\r\n\r\n    const params = new HttpParams({\r\n      fromObject: requestParams\r\n    })\r\n\r\n    const url = golrUrl + params.toString();\r\n\r\n    return this.httpClient.jsonp(url, 'json.wrf').pipe(\r\n      map(response => {\r\n        const docs = response['response'].docs;\r\n        const result = [];\r\n\r\n        each(docs, function (doc) {\r\n          let activityNode: ActivityNode;\r\n          const evidence = new Evidence();\r\n\r\n          evidence.setEvidence(new Entity(doc.evidence, doc.evidence_label));\r\n\r\n          if (doc.reference && doc.reference.length > 0) {\r\n            evidence.reference = doc.reference.join(' | ');\r\n          }\r\n\r\n          if (doc.evidence_with && doc.evidence_with.length > 0) {\r\n            evidence.with = doc.evidence_with.join(' | ');\r\n          }\r\n\r\n          evidence.groups = self.noctuaUserService.getGroupsFromNames([doc.assigned_by]);\r\n\r\n          activityNode = find(result, (srcActivityNode: ActivityNode) => {\r\n            return srcActivityNode.getTerm().id === doc.annotation_class;\r\n          });\r\n\r\n          if (doc.annotation_extension_json) {\r\n            try {\r\n              const extJsons = [];\r\n              if (Array.isArray(doc.annotation_extension_json)) {\r\n                doc.annotation_extension_json.forEach((ext) => {\r\n                  extJsons.push(JSON.parse(ext));\r\n                });\r\n              } else {\r\n                extJsons.push(JSON.parse(doc.annotation_extension_json));\r\n              }\r\n\r\n              evidence.evidenceExts = [];\r\n              extJsons.forEach((extJson) => {\r\n                if (extJson.relationship && extJson.relationship.relation) {\r\n                  const evidenceExt = new EvidenceExt();\r\n                  evidenceExt.term = new Entity(extJson.relationship.id, extJson.relationship.label)\r\n                  extJson.relationship.relation.forEach(relation => {\r\n                    evidenceExt.relations.push(new Entity(relation.id, relation.label))\r\n                  });\r\n                  evidence.evidenceExts.push(evidenceExt);\r\n                }\r\n              });\r\n\r\n            } catch (e) {\r\n              console.log(e, activityNode, doc.annotation_extension_json); // error in the above string (in this case, yes)!\r\n            }\r\n          }\r\n\r\n          if (activityNode) {\r\n            activityNode.predicate.addEvidence(evidence);\r\n          } else {\r\n            activityNode = new ActivityNode();\r\n            activityNode.predicate = new Predicate(null);\r\n            activityNode.term = new Entity(doc.annotation_class, doc.annotation_class_label);\r\n            activityNode.predicate.addEvidence(evidence);\r\n            result.push(activityNode);\r\n          }\r\n        });\r\n\r\n        return result;\r\n      }));\r\n  }\r\n\r\n  categoryToClosure(categories) {\r\n    return categories.map((category) => {\r\n      return `${category.categoryType}:\"${category.category}\"`;\r\n    }).join(' OR ');\r\n  }\r\n\r\n  isaClosure(a: string, b: string) {\r\n    const self = this;\r\n\r\n    const requestParams = {\r\n      q: self.buildQ(a),\r\n      defType: 'edismax',\r\n      indent: 'on',\r\n      qt: 'standard',\r\n      wt: 'json',\r\n      rows: '2',\r\n      start: '0',\r\n      fl: '*,score',\r\n      'facet': 'true',\r\n      'facet.mincount': '1',\r\n      'facet.sort': 'count',\r\n      'facet.limit': '25',\r\n      'json.nl': 'arrarr',\r\n      packet: '1',\r\n      callback_type: 'search',\r\n      'facet.field': [\r\n        'source',\r\n        'subset',\r\n        'idspace',\r\n        'is_obsolete'\r\n      ],\r\n      fq: [\r\n        'document_category:\"ontology_class\"',\r\n        b\r\n      ],\r\n      qf: [\r\n        'annotation_class^3',\r\n        'isa_closure^1',\r\n      ]\r\n    };\r\n\r\n    const params = new HttpParams({\r\n      fromObject: requestParams\r\n    });\r\n\r\n    const url = this.golrURLBase + params.toString();\r\n\r\n    return this.httpClient.jsonp(url, 'json.wrf').pipe(\r\n      map(response => {\r\n        const docs = response['response'].docs;\r\n        let result = false;\r\n\r\n        if (docs.length > 0) {\r\n          result = docs[0].annotation_class === a;\r\n        }\r\n        return result;\r\n      }));\r\n  }\r\n\r\n  getTermDetail(a: string) {\r\n    const self = this;\r\n\r\n    const requestParams = {\r\n      q: self.buildQ(a),\r\n      defType: 'edismax',\r\n      indent: 'on',\r\n      qt: 'standard',\r\n      wt: 'json',\r\n      rows: '2',\r\n      start: '0',\r\n      fl: '*,score',\r\n      'facet': 'true',\r\n      'facet.mincount': '1',\r\n      'facet.sort': 'count',\r\n      'facet.limit': '25',\r\n      'json.nl': 'arrarr',\r\n      packet: '1',\r\n      callback_type: 'search',\r\n      'facet.field': [\r\n        'source',\r\n        'subset',\r\n        'idspace',\r\n        'is_obsolete'\r\n      ],\r\n      fq: [\r\n        'document_category:\"ontology_class\"',\r\n      ],\r\n      qf: [\r\n        'annotation_class^3',\r\n        'isa_closure^1',\r\n      ]\r\n    };\r\n\r\n    const params = new HttpParams({\r\n      fromObject: requestParams\r\n    });\r\n\r\n    const url = this.golrURLBase + params.toString();\r\n\r\n    return this.httpClient.jsonp(url, 'json.wrf').pipe(\r\n      map(response => self._lookupMap(response)),\r\n      map(response => {\r\n        if (response.length > 0) {\r\n          return response[0]\r\n        } else {\r\n          return response\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n\r\n  getTermURL(id: string) {\r\n    const self = this;\r\n\r\n    if (id.startsWith('ECO')) {\r\n      return 'http://www.evidenceontology.org/term/' + id;\r\n    } else if (id.startsWith('PMID')) {\r\n      const idAccession = id.split(':');\r\n      if (idAccession.length > 1) {\r\n        return 'https://www.ncbi.nlm.nih.gov/pubmed/' + idAccession[1].trim();\r\n      } else {\r\n        return null;\r\n      }\r\n\r\n    } else {\r\n      return self.linker.url(id);\r\n    }\r\n  }\r\n\r\n  addPubmedInfos(pmids: string[]) {\r\n    const self = this;\r\n    const presentPmids = Object.keys(this.articleCache)\r\n    const ids = difference(pmids, presentPmids);\r\n\r\n    if (ids.length > 0) {\r\n      const url = environment.pubMedSummaryApi + ids.join(',');\r\n      this.httpClient\r\n        .get(url)\r\n        .pipe(\r\n          map(res => res['result']),\r\n          map(res => {\r\n            return res['uids'].map(uid => {\r\n              return this._addArticles(res[uid])\r\n            });\r\n          })).subscribe((articles: Article[]) => {\r\n            articles.forEach(article => {\r\n              self.articleCache['PMID:' + article.id] = article;\r\n            })\r\n\r\n            self.onArticleCacheReady.next(true)\r\n          });\r\n    } else {\r\n      self.onArticleCacheReady.next(true)\r\n    }\r\n  }\r\n\r\n  getPubmedInfo(pmid: string) {\r\n    const url = environment.pubMedSummaryApi + pmid;\r\n\r\n    return this.httpClient\r\n      .get(url)\r\n      .pipe(\r\n        map(res => res['result']),\r\n        map(res => res[pmid]),\r\n        map(res => this._addArticles(res)),\r\n      );\r\n  }\r\n\r\n  private _addArticles(res) {\r\n    const self = this;\r\n    if (!res) {\r\n      return;\r\n    }\r\n\r\n    const article = new Article();\r\n    article.id = res.uid\r\n    article.title = res.title;\r\n    article.link = self.linker.url(`${noctuaFormConfig.evidenceDB.options.pmid.name}:${res.uid}`);\r\n    article.date = res.pubdate;\r\n    if (res.authors && Array.isArray(res.authors)) {\r\n      article.author = res.authors.map(author => {\r\n        return author.name;\r\n      }).join(', ');\r\n    }\r\n\r\n    return article;\r\n  }\r\n\r\n  private _lookupMap(response) {\r\n    const self = this;\r\n    const data = response.response.docs;\r\n    const result = data.map((item) => {\r\n      let xref;\r\n      if (item.database_xref && item.database_xref.length > 0) {\r\n        const xrefDB = item.database_xref[0].split(':');\r\n        xref = xrefDB.length > 1 ? xrefDB[1] : xrefDB[0];\r\n      }\r\n\r\n      return {\r\n        id: item.annotation_class,\r\n        label: item.annotation_class_label,\r\n        link: self.getTermURL(item.annotation_class),\r\n        description: item.description,\r\n        isObsolete: item.is_obsolete,\r\n        replacedBy: item.replaced_by,\r\n        rootTypes: self._makeEntitiesArray(item.isa_closure, item.isa_closure_label),\r\n        xref: xref\r\n      };\r\n    });\r\n\r\n    console.log(result?.rootTypes)\r\n    return result;\r\n  }\r\n\r\n  private _makeEntitiesArray(ids: string[], labels: string[]): Entity[] {\r\n    let result = [];\r\n    if (!labels && !ids) {\r\n      return []\r\n    } else if (!labels) {\r\n      result = ids.map((id, key) => {\r\n        return new Entity(id, id);\r\n      });\r\n    } else if (ids.length === labels.length) {\r\n      result = ids.map((id, key) => {\r\n        return new Entity(id, labels[key]);\r\n      });\r\n    }\r\n\r\n    return filter(result, (item: Entity) => {\r\n      return !item.id.startsWith('BFO');\r\n    });\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { LeftPanel, MiddlePanel, RightPanel } from './../models/menu-panels';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NoctuaFormMenuService {\r\n  selectedLeftPanel: LeftPanel;\r\n  selectedMiddlePanel: MiddlePanel;\r\n  selectedRightPanel: RightPanel;\r\n\r\n  private leftDrawer: MatDrawer;\r\n  private rightDrawer: MatDrawer;\r\n\r\n  constructor() {\r\n    this.selectedMiddlePanel = MiddlePanel.camTable;\r\n  }\r\n\r\n  selectLeftPanel(panel: LeftPanel) {\r\n    this.selectedLeftPanel = panel;\r\n  }\r\n\r\n  selectMiddlePanel(panel: MiddlePanel) {\r\n    this.selectedMiddlePanel = panel;\r\n  }\r\n\r\n  selectRightPanel(panel: RightPanel) {\r\n    this.selectedRightPanel = panel;\r\n  }\r\n\r\n\r\n  public setLeftDrawer(leftDrawer: MatDrawer) {\r\n    this.leftDrawer = leftDrawer;\r\n  }\r\n\r\n  public openLeftDrawer(panel: LeftPanel) {\r\n    this.selectLeftPanel(panel)\r\n    return this.leftDrawer.open();\r\n  }\r\n\r\n  public closeLeftDrawer() {\r\n    return this.leftDrawer.close();\r\n  }\r\n\r\n  public toggleLeftDrawer(panel: LeftPanel) {\r\n    if (this.selectedLeftPanel === panel) {\r\n      this.leftDrawer.toggle();\r\n    } else {\r\n      return this.openLeftDrawer(panel);\r\n    }\r\n  }\r\n\r\n  public setRightDrawer(rightDrawer: MatDrawer) {\r\n    this.rightDrawer = rightDrawer;\r\n  }\r\n\r\n  public openRightDrawer(panel: RightPanel) {\r\n    this.selectRightPanel(panel)\r\n    return this.rightDrawer.open();\r\n  }\r\n\r\n  public closeRightDrawer() {\r\n    return this.rightDrawer.close();\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { Observable, BehaviorSubject } from 'rxjs'\r\nimport { FormGroup, FormBuilder } from '@angular/forms'\r\n\r\n//Config\r\nimport { NoctuaFormConfigService } from './config/noctua-form-config.service';\r\nimport { NoctuaLookupService } from './lookup.service';\r\nimport { CamService } from './../services/cam.service';\r\n\r\nimport { ActivityNode } from './../models/activity/activity-node';\r\n\r\nimport { TripleForm } from './../models/forms';\r\nimport { ActivityFormMetadata } from './../models/forms/activity-form-metadata';\r\nimport { Cam } from './../models/activity/cam';\r\nimport { Triple } from './../models/activity/triple';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NoctuaTripleFormService {\r\n  cam: Cam;\r\n  public triple: Triple<ActivityNode>;\r\n  private tripleForm: TripleForm;\r\n  private tripleFormGroup: BehaviorSubject<FormGroup | undefined>;\r\n  public tripleFormGroup$: Observable<FormGroup>;\r\n\r\n  constructor(private _fb: FormBuilder, public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private camService: CamService,\r\n    private noctuaLookupService: NoctuaLookupService) {\r\n\r\n    this.tripleFormGroup = new BehaviorSubject(null);\r\n    this.tripleFormGroup$ = this.tripleFormGroup.asObservable()\r\n\r\n    this.camService.onCamChanged.subscribe((cam) => {\r\n      if (!cam) return;\r\n\r\n      this.cam = cam;\r\n    });\r\n  }\r\n\r\n  initializeForm(triple: Triple<ActivityNode>) {\r\n    this.triple = triple;\r\n    this.tripleForm = this.createTripleForm(triple);\r\n    this.tripleFormGroup.next(this._fb.group(this.tripleForm));\r\n    this._onActivityFormChanges();\r\n  }\r\n\r\n  createTripleForm(triple: Triple<ActivityNode>) {\r\n    const self = this;\r\n    const formMetadata = new ActivityFormMetadata(self.noctuaLookupService.lookupFunc.bind(self.noctuaLookupService));\r\n\r\n    const tripleForm = new TripleForm(formMetadata);\r\n\r\n    tripleForm.createTripleForm(triple);\r\n\r\n    return tripleForm;\r\n  }\r\n\r\n  tripleFormToActivity() {\r\n    const self = this;\r\n\r\n    // self.tripleForm.populateActivityEntityForm(this.termNode);\r\n  }\r\n\r\n  private _onActivityFormChanges(): void {\r\n    this.tripleFormGroup.getValue().valueChanges.subscribe(value => {\r\n      // this.errors = this.getActivityFormErrors();\r\n      this.tripleFormToActivity();\r\n    });\r\n  }\r\n\r\n  clearForm() {\r\n  }\r\n}\r\n\r\n","import { environment } from '../../environments/environment';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { Contributor } from '../models/contributor';\r\nimport { Group } from '../models/group';\r\nimport { find } from 'lodash';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NoctuaUserService {\r\n  private _baristaToken: string;\r\n  baristaUrl = environment.globalBaristaLocation;\r\n  onUserChanged: BehaviorSubject<any>;\r\n  user: Contributor;\r\n  contributors: Contributor[] = [];\r\n  groups: Group[] = [];\r\n\r\n  constructor(\r\n    private httpClient: HttpClient\r\n  ) {\r\n    this.onUserChanged = new BehaviorSubject(undefined);\r\n  }\r\n\r\n  set baristaToken(value) {\r\n    this._baristaToken = value;\r\n  }\r\n\r\n  get baristaToken() {\r\n    return this._baristaToken;\r\n  }\r\n\r\n  /* Pass in the barista token, i.e. from the url params */\r\n  getUser(baristaTokenParam?: string) {\r\n\r\n    //Check if there is any in the local storage\r\n    const baristaToken = baristaTokenParam ? baristaTokenParam : localStorage.getItem('barista_token');\r\n\r\n    if (!baristaToken) {\r\n      //Log them out\r\n      this.baristaToken = null;\r\n      this.user = null;\r\n      this.onUserChanged.next(this.user);\r\n    } else {\r\n      // Check if indeed it is a legit token\r\n      return this.httpClient.get(`${this.baristaUrl}/user_info_by_token/${baristaToken}`)\r\n        .subscribe((response: any) => {\r\n          if (response) {\r\n            if (response.token) {\r\n              //add the token on the local storage           \r\n              this.user = Contributor.fromResponse(response);\r\n              this.user.token = this.baristaToken = response.token;\r\n              localStorage.setItem('barista_token', this.baristaToken);\r\n            } else {\r\n              //log them out\r\n              this.user = null;\r\n              this.baristaToken = null;\r\n              localStorage.removeItem('barista_token');\r\n\r\n            }\r\n            this.onUserChanged.next(this.user);\r\n            // remove the token on the url\r\n            const url = new URL(window.location.href);\r\n            url.searchParams.delete('barista_token');\r\n            window.history.replaceState(null, null, url.href);\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n\r\n  getUsers(): Observable<any> {\r\n    const self = this;\r\n\r\n    return this.httpClient.get(`${self.baristaUrl}/users`);\r\n  }\r\n\r\n  getUserInfo(uri: string): Observable<any> {\r\n    const self = this;\r\n\r\n    const encodedUrl = encodeURIComponent(uri);\r\n    return this.httpClient.get(`${self.baristaUrl}/user_info_by_id/${encodedUrl}`);\r\n  }\r\n\r\n  getContributorDetails(orcid: string): Contributor {\r\n    const self = this;\r\n\r\n    const contributor = find(self.contributors, (inContributor: Contributor) => {\r\n      return inContributor.orcid === orcid;\r\n    });\r\n\r\n    return contributor\r\n  }\r\n\r\n  getContributorName(orcid: string) {\r\n    const self = this;\r\n\r\n    const contributor = find(self.contributors, (inContributor: Contributor) => {\r\n      return inContributor.orcid === orcid;\r\n    });\r\n\r\n    return contributor ? contributor.name : orcid;\r\n  }\r\n\r\n  getContributorsFromAnnotations(annotations): Contributor[] {\r\n    const self = this;\r\n\r\n    const contributors = <Contributor[]>annotations.map((annotation) => {\r\n      const orcid = annotation.value();\r\n      const contributor = self.getContributorDetails(annotation.value())\r\n\r\n      if (contributor) {\r\n        return contributor;\r\n      } else {\r\n        const result = new Contributor()\r\n        result.orcid = result.name = orcid\r\n\r\n        return result;\r\n      }\r\n    });\r\n\r\n    return contributors\r\n  }\r\n\r\n  getGroups(): Observable<any> {\r\n    const self = this;\r\n\r\n    return this.httpClient.get(`${self.baristaUrl}/groups`);\r\n  }\r\n\r\n  getGroupDetails(url: string): Group {\r\n    const self = this;\r\n\r\n    const group = find(self.groups, (inGroup: Group) => {\r\n      return inGroup.url === url;\r\n    });\r\n\r\n    return group\r\n  }\r\n\r\n  getGroupDetailsByName(name: string): Group {\r\n    const self = this;\r\n\r\n    const group = find(self.groups, (inGroup: Group) => {\r\n      return inGroup.name === name;\r\n    });\r\n\r\n    return group\r\n  }\r\n\r\n  getGroupInfo(uri: string): Observable<any> {\r\n    const self = this;\r\n\r\n    const encodedUrl = encodeURIComponent(uri);\r\n    return this.httpClient.get(`${self.baristaUrl}/group_info_by_id/${encodedUrl}`);\r\n  }\r\n\r\n  getGroupsFromAnnotations(annotations): Group[] {\r\n    const self = this;\r\n\r\n    const groups = <Group[]>annotations.map((annotation) => {\r\n      const url = annotation.value();\r\n      const group = self.getGroupDetails(annotation.value())\r\n      return group ? group : new Group(null, url);\r\n    });\r\n\r\n    return groups\r\n  }\r\n\r\n  getGroupsFromUrls(urls: string[]): Group[] {\r\n    const self = this;\r\n\r\n    const groups = <Group[]>urls.map((url) => {\r\n      const group = self.getGroupDetails(url)\r\n      return group ? group : new Group(null, url);\r\n    });\r\n\r\n    return groups\r\n  }\r\n\r\n  getGroupsFromNames(names: string[]): Group[] {\r\n    const self = this;\r\n\r\n    const groups = <Group[]>names.map((name) => {\r\n      const group = self.getGroupDetailsByName(name)\r\n      return group ? group : new Group(null, name);\r\n    });\r\n\r\n    return groups\r\n  }\r\n\r\n\r\n  filterContributors(value: string): any[] {\r\n    const filterValue = value.toLowerCase();\r\n\r\n    return this.contributors.filter((contributor: Contributor) => contributor.name.toLowerCase().indexOf(filterValue) === 0);\r\n  }\r\n\r\n  filterGroups(value: string): any[] {\r\n    const filterValue = value.toLowerCase();\r\n\r\n    return this.groups.filter((group: Group) => group.name.toLowerCase().indexOf(filterValue) === 0);\r\n  }\r\n\r\n  getGroupName(url: string) {\r\n    const self = this;\r\n\r\n    const group = find(self.groups, (inGroup: Group) => {\r\n      return inGroup.url === url;\r\n    });\r\n\r\n    return group ? group.name : url;\r\n  }\r\n\r\n  distinctUser(prev, curr) {\r\n    if (prev && curr) {\r\n      return prev.token === curr.token;\r\n    } else {\r\n      return prev === curr;\r\n    }\r\n  }\r\n}\r\n","export class NoctuaFormUtils {\r\n\r\n    public static cleanID(dirtyId: string) {\r\n        if (dirtyId) {\r\n            return dirtyId.replace(/\\W/g, '_')\r\n        }\r\n        return dirtyId;\r\n    }\r\n\r\n    public static generateGUID() {\r\n        function S4() {\r\n            return Math.floor((1 + Math.random()) * 0x10000)\r\n                .toString(16)\r\n                .substring(1);\r\n        }\r\n\r\n        return S4() + S4();\r\n    }\r\n\r\n    public static pad(pad: string, count: number) {\r\n        let counter = 0;\r\n        let result = ''\r\n        while (counter++ < count) {\r\n            result += pad;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public static handleize(text) {\r\n        return text.toString().toLowerCase()\r\n            .replace(new RegExp(\"/\\s+/g\"), '-')           // Replace spaces with -\r\n            .replace(new RegExp(\"/[^\\w\\-]+/g\"), '')       // Remove all non-word chars\r\n            .replace(new RegExp(\"/\\-\\-+/g\"), '-')         // Replace multiple - with single -\r\n            .replace(new RegExp(\"/^-+/\"), '')             // Trim - from start of text\r\n            .replace(new RegExp(\"/-+$/\"), '');            // Trim - from end of text\r\n    }\r\n\r\n    public static cleanModelId(dirtyId: string) {\r\n        if (!dirtyId) return dirtyId\r\n\r\n        const prefix = 'gomodel:'\r\n\r\n        let cleanId = dirtyId.trim();\r\n        if (!cleanId.includes(prefix)) {\r\n            cleanId = prefix + cleanId;\r\n        }\r\n        return cleanId;\r\n    }\r\n\r\n    public static splitAndAppend(str, delim, count) {\r\n        const arr = str.split(delim);\r\n        return [...arr.splice(0, count), arr.join(delim)];\r\n    }\r\n}\r\n","import { ActivityType, noctuaFormConfig } from '@geneontology/noctua-form-base';\r\nimport { cloneDeep } from \"lodash\";\r\n\r\nexport interface StencilItemNode {\r\n    id: string;\r\n    label: string;\r\n    type: ActivityType;\r\n    iconUrl: string;\r\n    description: string;\r\n}\r\n\r\nexport interface StencilItem {\r\n    id: string;\r\n    label: string;\r\n    nodes: StencilItemNode[],\r\n}\r\n\r\n\r\nconst camStencil: StencilItem[] = [{\r\n    id: 'activity_unit',\r\n    label: 'Activity Type',\r\n    nodes: [{\r\n        type: ActivityType.default,\r\n        id: noctuaFormConfig.activityType.options.default.name,\r\n        label: noctuaFormConfig.activityType.options.default.label.toUpperCase(),\r\n        iconUrl: './assets/images/activity/default.png',\r\n        description: 'Click and drag onto canvas to create new activity for a single object, either a gene product or a protein complex identifier'\r\n    }, {\r\n        type: ActivityType.proteinComplex,\r\n        id: noctuaFormConfig.activityType.options.proteinComplex.name,\r\n        label: noctuaFormConfig.activityType.options.proteinComplex.label.toUpperCase(),\r\n        iconUrl: './assets/images/activity/proteinComplex.png',\r\n        description: 'Click and drag onto canvas to create new activity for a protein complex that you define using a GO complex term and specifying the gene product subunits'\r\n    }, {\r\n        type: ActivityType.molecule,\r\n        id: noctuaFormConfig.activityType.options.molecule.name,\r\n        label: noctuaFormConfig.activityType.options.molecule.label.toUpperCase(),\r\n        iconUrl: './assets/images/activity/molecule.png',\r\n        description: 'Click and drag onto canvas to create a new small molecule that is either a substrate, a product, or a regulator of an activity'\r\n    }]\r\n}]\r\n\r\nexport const noctuaStencil = {\r\n    camStencil: cloneDeep(camStencil)\r\n};\r\n\r\n","import { noctuaFormConfig } from '@geneontology/noctua-form-base';\r\n\r\nexport function getEdgeColor(edgeId) {\r\n    switch (edgeId) {\r\n        case noctuaFormConfig.edge.directlyRegulates.id:\r\n        case noctuaFormConfig.edge.causallyUpstreamOfOrWithin.id:\r\n        case noctuaFormConfig.edge.causallyUpstreamOf.id:\r\n            return 'grey'\r\n        case noctuaFormConfig.edge.positivelyRegulates.id:\r\n        case noctuaFormConfig.edge.directlyPositivelyRegulates.id:\r\n        case noctuaFormConfig.edge.causallyUpstreamOfPositiveEffect.id:\r\n        case noctuaFormConfig.edge.isSmallMoleculeActivator.id:\r\n            return 'green'\r\n        case noctuaFormConfig.edge.negativelyRegulates.id:\r\n        case noctuaFormConfig.edge.directlyNegativelyRegulates.id:\r\n        case noctuaFormConfig.edge.causallyUpstreamOfNegativeEffect.id:\r\n        case noctuaFormConfig.edge.isSmallMoleculeInhibitor.id:\r\n            return 'red'\r\n        default:\r\n            return 'black'\r\n    }\r\n\r\n}\r\n\r\n\r\n","import {\r\n    Activity,\r\n    ActivityNode,\r\n    ActivityNodeType,\r\n    ActivityTreeNode,\r\n    ActivityType,\r\n    Cam,\r\n    Entity,\r\n    noctuaFormConfig,\r\n    NoctuaFormUtils,\r\n    Predicate,\r\n    Triple\r\n} from '@geneontology/noctua-form-base';\r\nimport { NodeCellType } from './shapes';\r\nimport { NodeCellList, NodeCellMolecule, NodeLink, StencilNode } from './../services/shapes.service';\r\nimport * as joint from 'jointjs';\r\nimport { each, cloneDeep, find } from 'lodash';\r\nimport { StencilItemNode } from './../data/cam-stencil';\r\nimport { getEdgeColor } from './../data/edge-display';\r\n\r\nexport class CamCanvas {\r\n\r\n    canvasPaper: joint.dia.Paper;\r\n    canvasGraph: joint.dia.Graph;\r\n    selectedStencilElement;\r\n    elementOnClick: (element: joint.shapes.noctua.NodeCellList) => void;\r\n    editOnClick: (element: joint.shapes.noctua.NodeCellList) => void;\r\n    deleteOnClick: (element: joint.shapes.noctua.NodeCellList) => void;\r\n    linkOnClick: (element: joint.shapes.noctua.NodeLink) => void;\r\n    onUpdateCamLocations: (cam: Cam) => void\r\n    onLinkCreated: (\r\n        sourceId: string,\r\n        targetId: string,\r\n        link: joint.shapes.noctua.NodeLink) => void;\r\n    cam: Cam;\r\n\r\n    constructor() {\r\n        this._initializeCanvas()\r\n    }\r\n\r\n    private _initializeCanvas() {\r\n        const self = this;\r\n        self.canvasGraph = new joint.dia.Graph({}, { cellNamespace: joint.shapes });\r\n        self.canvasPaper = new joint.dia.Paper({\r\n            cellViewNamespace: joint.shapes,\r\n            el: document.getElementById('noc-paper'),\r\n            height: '100%',\r\n            width: '100%',\r\n            model: this.canvasGraph,\r\n            restrictTranslate: true,\r\n            multiLinks: false,\r\n            markAvailable: true,\r\n            // defaultConnectionPoint: { name: 'boundary', args: { extrapolate: true } },\r\n            // defaultConnector: { name: 'rounded' },\r\n            // defaultRouter: { name: 'orthogonal' },\r\n            /*     defaultLink: new joint.dia.Link({\r\n                  attrs: { '.marker-target': { d: 'M 10 0 L 0 5 L 10 10 z' } }\r\n                }), */\r\n            validateConnection: function (cellViewS, magnetS, cellViewT, magnetT, end, linkView) {\r\n                // Prevent linking from input ports.\r\n                // if (magnetS && magnetS.getAttribute('port-group') === 'in') return false;\r\n                // Prevent linking from output ports to input ports within one element.\r\n                if (cellViewS === cellViewT) return false;\r\n                // Prevent linking to input ports.\r\n                /// return magnetT && magnetT.getAttribute('port-group') === 'in';\r\n\r\n                return true; // (magnetS !== magnetT);\r\n            },\r\n            validateMagnet: function (cellView, magnet) {\r\n                // Note that this is the default behaviour. Just showing it here for reference.\r\n                // Disable linking interaction for magnets marked as passive (see below `.inPorts circle`).\r\n                // return magnet.getAttribute('magnet') !== 'passive';\r\n                return true;\r\n            },\r\n\r\n            // connectionStrategy: joint.connectionStrategies.pinAbsolute,\r\n            defaultConnectionPoint: { name: 'boundary', args: { sticky: true } },\r\n\r\n            defaultConnector: { name: 'smooth' },\r\n            async: true,\r\n            interactive: { labelMove: false },\r\n            linkPinning: false,\r\n            // frozen: true,\r\n            gridSize: 10,\r\n            drawGrid: {\r\n                name: 'doubleMesh',\r\n                args: [\r\n                    { color: '#DDDDDD', thickness: 1 }, // settings for the primary mesh\r\n                    { color: '#DDDDDD', scaleFactor: 5, thickness: 4 } //settings for the secondary mesh\r\n                ]\r\n            },\r\n            sorting: joint.dia.Paper.sorting.APPROX,\r\n            // markAvailable: true,\r\n            defaultLink: function () {\r\n                return NodeLink.create();\r\n            },\r\n            perpendicularLinks: false,\r\n\r\n        });\r\n\r\n        self.canvasPaper.on('blank:pointerdblclick', function () {\r\n            // Remove all Highlighters from all cells\r\n            self.unselectAll();\r\n        });\r\n\r\n        this.canvasPaper.on('element:pointerup', function (cellView) {\r\n            if (self.cam.layoutChanged) {\r\n                self.cam.layoutChanged = false;\r\n                self.updateLocation();\r\n            }\r\n        });\r\n\r\n        this.canvasPaper.on('element:pointerdblclick', function (cellView) {\r\n            const element = cellView.model;\r\n            self.elementOnClick(element);\r\n\r\n            if (element.get('type') !== NodeCellType.link) {\r\n                const cell = element as NodeCellList\r\n                self.selectNode(cell)\r\n            }\r\n        });\r\n\r\n        this.canvasPaper.on('element:mouseover', function (cellView) {\r\n            const element = cellView.model;\r\n            if (element.get('type') !== NodeCellType.link) {\r\n                const cell = element as NodeCellList\r\n                cell.hover(true);\r\n                self.highlightSuccessorNodes(cell)\r\n            }\r\n        });\r\n\r\n        this.canvasPaper.on('element:mouseleave', function (cellView) {\r\n            cellView.removeTools();\r\n            const element = cellView.model;\r\n            if (element.get('type') !== NodeCellType.link) {\r\n                (element as NodeCellList).hover(false);\r\n                self.unhighlightAllNodes()\r\n            }\r\n        });\r\n\r\n        this.canvasPaper.on('link:mouseenter', function (cellView) {\r\n            cellView.removeTools();\r\n            const element = cellView.model;\r\n            if (element.get('type') === NodeCellType.link) {\r\n                (element as NodeLink).hover(true);\r\n            }\r\n\r\n        });\r\n\r\n        this.canvasPaper.on('link:mouseleave', function (cellView) {\r\n            cellView.removeTools();\r\n            const element = cellView.model;\r\n            if (element.get('type') === NodeCellType.link) {\r\n                (element as NodeLink).hover(false);\r\n            }\r\n\r\n        });\r\n        /* 'element:pointerup': function (elementView, evt, x, y) {\r\n            const coordinates = new joint.g.Point(x, y);\r\n            const elementAbove = elementView.model;\r\n            const elementBelow = this.model.findModelsFromPoint(coordinates).find(function (el) {\r\n                return (el.id !== elementAbove.id);\r\n            });\r\n\r\n            // If the two elements are connected already, don't\r\n            if (elementBelow && self.canvasGraph.getNeighbors(elementBelow).indexOf(elementAbove) === -1) {\r\n\r\n                // Move the element to the position before dragging.\r\n                elementAbove.position(evt.data.x, evt.data.y);\r\n                self.createLinkFromElements(elementAbove, elementBelow)\r\n\r\n            }\r\n        },\r\n        'element:gate:click': function (elementView) {\r\n            const element = elementView.model;\r\n            const gateType = element.gate();\r\n            const gateTypes = Object.keys(element.gateTypes);\r\n            const index = gateTypes.indexOf(gateType);\r\n            const newIndex = (index + 1) % gateTypes.length;\r\n            element.gate(gateTypes[newIndex]);\r\n        } */\r\n\r\n\r\n        this.canvasPaper.on('link:pointerdblclick', function (linkView) {\r\n            const link = linkView.model;\r\n\r\n            self.linkOnClick(link);\r\n            self.unselectAll();\r\n        });\r\n\r\n        this.canvasPaper.on('element:.edit:pointerdown', function (elementView: joint.dia.ElementView, evt) {\r\n            evt.stopPropagation();\r\n\r\n            const element = elementView.model;\r\n            self.editOnClick(element);\r\n\r\n        });\r\n\r\n        this.canvasPaper.on('element:.delete:pointerdown', function (elementView: joint.dia.ElementView, evt) {\r\n            evt.stopPropagation();\r\n\r\n            const element = elementView.model;\r\n            self.deleteOnClick(element);\r\n\r\n        });\r\n\r\n        this.canvasPaper.on('element:expand:pointerdown', function (elementView: joint.dia.ElementView, evt) {\r\n            evt.stopPropagation();\r\n\r\n            const model = elementView.model;\r\n            const activity = model.prop('activity') as Activity;\r\n            self.toggleActivityVisibility(model, activity);\r\n        });\r\n\r\n\r\n        this.canvasGraph.on('change:position', function (element: joint.dia.Element, evt) {\r\n            self.cam.layoutChanged = true;\r\n        });\r\n\r\n        this.canvasGraph.on('change:source change:target', function (link) {\r\n            const sourcePort = link.get('source').port;\r\n            const sourceId = link.get('source').id;\r\n            const targetPort = link.get('target').port;\r\n            const targetId = link.get('target').id;\r\n\r\n            if (targetId && sourceId) {\r\n\r\n                self.onLinkCreated(sourceId, targetId, link)\r\n            }\r\n        });\r\n    }\r\n\r\n    addLink(link: NodeLink, predicate: Predicate) {\r\n        const self = this;\r\n\r\n        link.set({\r\n            activity: predicate,\r\n            id: predicate.uuid\r\n        });\r\n\r\n        link.setText(predicate.edge.label);\r\n\r\n\r\n        // link.findView(this).addTools(tools);\r\n\r\n    }\r\n\r\n    highlightSuccessorNodes(node: NodeCellList) {\r\n        const self = this;\r\n\r\n        self.unhighlightAllNodes()\r\n\r\n        const predecessors = self.canvasGraph.getPredecessors(node)\r\n        const successors = self.canvasGraph.getSuccessors(node)\r\n\r\n\r\n        each(self.canvasGraph.getCells(), (cell: NodeCellList) => {\r\n            if (cell.get('type') !== NodeCellType.link) {\r\n                cell.setColor('grey', 200, 300);\r\n            }\r\n        })\r\n        each(successors, (cell: NodeCellList) => {\r\n            if (cell.get('type') !== NodeCellType.link) {\r\n                cell.setColor('amber', 200, 300)\r\n            }\r\n        })\r\n\r\n        each(predecessors, (cell: NodeCellList) => {\r\n            if (cell.get('type') !== NodeCellType.link) {\r\n                cell.setColor('yellow', 50, 100)\r\n            }\r\n        })\r\n        node.setColor('yellow', 100, 200)\r\n    }\r\n\r\n    selectNode(node: NodeCellList) {\r\n        const self = this;\r\n\r\n        self.unselectAll()\r\n\r\n        node.setBorder('orange', 500,)\r\n\r\n    }\r\n\r\n    updateLocation() {\r\n        const self = this;\r\n\r\n        each(self.canvasGraph.getElements(), (element: NodeCellList) => {\r\n            if (element.get('type') !== NodeCellType.link) {\r\n                const activity = element.prop('activity') as Activity\r\n                if (activity) {\r\n                    const position = element.position();\r\n\r\n                    activity.position.x = position.x;\r\n                    activity.position.y = position.y;\r\n                }\r\n            }\r\n        })\r\n\r\n        self.onUpdateCamLocations(self.cam)\r\n    }\r\n\r\n    unhighlightAllNodes() {\r\n        const self = this;\r\n        each(self.canvasGraph.getCells(), (cell: NodeCellList) => {\r\n            if (cell.get('type') !== NodeCellType.link) {\r\n                const activity = cell.prop('activity') as Activity\r\n                cell.setColor(activity.backgroundColor);\r\n            }\r\n        })\r\n    }\r\n\r\n    unselectAll() {\r\n        const self = this;\r\n        each(self.canvasGraph.getCells(), (cell: NodeCellList) => {\r\n            if (cell.get('type') !== NodeCellType.link) {\r\n                cell.unsetBorder();\r\n            }\r\n        })\r\n    }\r\n\r\n    createLinkFromElements(source: joint.shapes.noctua.NodeCellList, target: joint.shapes.noctua.NodeCellList) {\r\n        const self = this;\r\n\r\n        const subject = source.get('activity') as Activity;\r\n        const object = target.get('activity') as Activity;\r\n\r\n        self.createLink(subject, new Predicate(Entity.createEntity(noctuaFormConfig.edge.causallyUpstreamOf)), object)\r\n    }\r\n\r\n    createLink(subject: Activity, predicate: Predicate, object: Activity) {\r\n        const self = this;\r\n        const triple = new Triple(subject, object, predicate);\r\n\r\n        ///self.cam.addNode(predicate);\r\n        //self.cam.addTriple(triple);\r\n        self.createLinkFromTriple(triple, true);\r\n    }\r\n\r\n    createLinkFromTriple(triple: Triple<Activity>, autoLayout?: boolean) {\r\n        const self = this;\r\n\r\n        const link = NodeLink.create();\r\n        link.setText(triple.predicate.edge.label);\r\n        link.set({\r\n            activity: triple.predicate,\r\n            id: triple.predicate.edge.id,\r\n            source: {\r\n                id: triple.subject.id,\r\n                port: 'right'\r\n            },\r\n            target: {\r\n                id: triple.object.id,\r\n                port: 'left'\r\n            }\r\n        });\r\n\r\n        link.addTo(self.canvasGraph);\r\n        if (autoLayout) {\r\n            self.autoLayoutGraph(self.canvasGraph);\r\n            // self.addCanvasGraph(self.activity);\r\n        }\r\n    }\r\n\r\n    paperScale(delta: number, e) {\r\n        const el = this.canvasPaper.$el;\r\n        const newScale = this.canvasPaper.scale().sx + delta;\r\n\r\n        if (newScale > 0.1 && delta < 10) {\r\n            const offsetX = (e.offsetX || e.clientX - el.offset().left);\r\n            const offsetY = (e.offsetY || e.clientY - el.offset().top);\r\n            const localPoint = this._offsetToLocalPoint(offsetX, offsetY);\r\n\r\n            this.canvasPaper.translate(0, 0);\r\n            this.canvasPaper.scale(newScale, newScale, localPoint.x, localPoint.y);\r\n        }\r\n    };\r\n\r\n    zoom(delta: number, e?) {\r\n        if (e) {\r\n            this.paperScale(delta, e);\r\n        } else {\r\n            this.canvasPaper.translate(0, 0);\r\n            this.canvasPaper.scale(this.canvasPaper.scale().sx + delta, this.canvasPaper.scale().sx + delta)\r\n        }\r\n    }\r\n\r\n    resetZoom() {\r\n        this.canvasPaper.scale(1, 1)\r\n    };\r\n\r\n    toggleActivityVisibility(cell: joint.dia.Element, activity: Activity) {\r\n        const self = this;\r\n\r\n        //self.activity.subgraphVisibility(activity, !activity.expanded);\r\n        const elements = self.canvasGraph.getSuccessors(cell).concat(cell);\r\n        // find all the links between successors and the element\r\n        const subgraph = self.canvasGraph.getSubgraph(elements);\r\n\r\n        if (activity.expanded) {\r\n            subgraph.forEach((element) => {\r\n                element.attr('./visibility', 'hidden');\r\n            });\r\n        } else {\r\n            subgraph.forEach((element) => {\r\n                element.attr('./visibility', 'visible');\r\n            });\r\n        }\r\n\r\n        cell.attr('./visibility', 'visible');\r\n        activity.expanded = !activity.expanded;\r\n\r\n        self.autoLayoutGraph(self.canvasGraph);\r\n\r\n        self.canvasPaper.translate(0, 0);\r\n\r\n        //  self.canvasPaper.\r\n    }\r\n\r\n    private _addGPEntity(treeNode: ActivityTreeNode, el: NodeCellList) {\r\n        const self = this;\r\n\r\n        if (treeNode.node?.displaySection.id === noctuaFormConfig.displaySection.gp.id) {\r\n            if (treeNode.node?.term && treeNode.node.predicate.edge?.id !== noctuaFormConfig.edge.enabledBy.id) {\r\n                el.addEntity(NoctuaFormUtils.pad('', treeNode.node.treeLevel - 2)\r\n                    + treeNode.node.predicate.edge?.label, treeNode.node.term.label,\r\n                    treeNode.node.predicate.hasEvidence());\r\n            }\r\n\r\n            treeNode.children.forEach(child => {\r\n                self._addGPEntity(child, el)\r\n            })\r\n        }\r\n    }\r\n\r\n    private _addFDEntity(treeNode: ActivityTreeNode, el: NodeCellList) {\r\n        const self = this;\r\n\r\n        if (treeNode.node?.displaySection.id === noctuaFormConfig.displaySection.fd.id) {\r\n            if (treeNode.node?.term) {\r\n                el.addEntity(NoctuaFormUtils.pad('', treeNode.node.treeLevel - 2)\r\n                    + treeNode.node.predicate.edge?.label, treeNode.node.term.label, treeNode.node.predicate.hasEvidence());\r\n            }\r\n\r\n            treeNode.children.forEach(child => {\r\n                self._addFDEntity(child, el)\r\n            })\r\n        }\r\n    }\r\n\r\n    createNode(activity: Activity, graphLayoutDetail: string): NodeCellList {\r\n        const el = new NodeCellList()\r\n\r\n        el.addIcon(`./assets/images/activity/coverage-${activity.summary.coverage}.png`)\r\n        //.setSuccessorCount(activity.successorCount)\r\n\r\n        if (graphLayoutDetail === noctuaFormConfig.graphLayoutDetail.options.detailed.id) {\r\n            if (activity.activityType === ActivityType.proteinComplex) {\r\n                const gpNodes = activity.buildGPTrees();\r\n                gpNodes.forEach(gpNode => this._addGPEntity(gpNode, el));\r\n            }\r\n\r\n            const fdNodes = activity.buildTrees();\r\n            fdNodes.forEach(fdNode => this._addFDEntity(fdNode, el));\r\n        } else if (graphLayoutDetail === noctuaFormConfig.graphLayoutDetail.options.activity.id) {\r\n\r\n            if (activity.mfNode) {\r\n                const activityNodes = activity.getEdges(activity.mfNode.id)\r\n                el.addEntity('', activity.mfNode?.term.label, activity.mfNode.predicate.hasEvidence());\r\n\r\n                activityNodes.forEach((activityNode: Triple<ActivityNode>) => {\r\n                    const canAdd = find(noctuaFormConfig.defaultGraphDisplayEdges, (edge: Entity) => edge.id === activityNode.predicate.edge?.id);\r\n\r\n                    if (activityNode.object?.term.hasValue() && canAdd) {\r\n                        el.addEntity(activityNode.object.predicate.edge.label, activityNode.object?.term.label,\r\n                            activityNode.object.predicate.hasEvidence());\r\n                    }\r\n                })\r\n            }\r\n        }\r\n\r\n        if (activity.gpNode) {\r\n            el.addHeader(activity.gpNode?.term.label);\r\n        } else {\r\n            el.prop('GP info unavailable');\r\n        }\r\n\r\n        el.setColor(activity.backgroundColor);\r\n\r\n        el.attr({\r\n            expand: {\r\n                event: 'element:expand:pointerdown',\r\n                stroke: 'black',\r\n                strokeWidth: 2\r\n            },\r\n        })\r\n        el.set({\r\n            activity: activity,\r\n            id: activity.id,\r\n            position: activity.position,\r\n            //  size: activity.size,\r\n        });\r\n\r\n        return el\r\n    }\r\n\r\n    createMolecule(activity: Activity) {\r\n        const el = new NodeCellMolecule()\r\n        activity.size.width = 120;\r\n        activity.size.height = 120;\r\n        //.addActivityPorts()\r\n        el.setColor(activity.backgroundColor)\r\n        //.setSuccessorCount(activity.successorCount)  \r\n        const activityType = activity.getActivityTypeDetail();\r\n        const moleculeNode = activity.rootNode;\r\n\r\n        el.prop({ 'name': [activityType ? activityType.label : 'Activity Unity'] });\r\n\r\n        if (moleculeNode) {\r\n            let label = moleculeNode.term.label\r\n\r\n            if (activity.ccNode) {\r\n                label += `\\nlocated in: ${activity.ccNode.term.label}`;\r\n            }\r\n            el.setText(label);\r\n        }\r\n\r\n        el.attr({\r\n            expand: {\r\n                event: 'element:expand:pointerdown',\r\n                stroke: 'black',\r\n                strokeWidth: 2\r\n            },\r\n        })\r\n        el.set({\r\n            activity: activity,\r\n            id: activity.id,\r\n            position: activity.position,\r\n            size: activity.size,\r\n        });\r\n\r\n        return el\r\n    }\r\n\r\n    addCanvasGraph(cam: Cam, graphLayoutDetail: string) {\r\n        const self = this;\r\n        const nodes = [];\r\n\r\n        self.cam = cam;\r\n        self.canvasGraph.resetCells(nodes);\r\n\r\n        each(cam.activities, (activity: Activity) => {\r\n            if (activity.visible) {\r\n                let el\r\n                if (activity.activityType === ActivityType.molecule) {\r\n                    el = self.createMolecule(activity);\r\n                } else {\r\n                    el = self.createNode(activity, graphLayoutDetail);\r\n                }\r\n                nodes.push(el);\r\n            }\r\n        });\r\n\r\n        each(cam.causalRelations, (triple: Triple<Activity>) => {\r\n            if (triple.predicate.visible && triple.isTripleComplete()) {\r\n                const color = getEdgeColor(triple.predicate.edge.id);\r\n                const link = NodeLink.create();\r\n                if (triple.predicate.isReverseLink) {\r\n                    this.reverseLink(triple, link)\r\n                } else {\r\n                    // link.set('connector', { name: 'jumpover', args: { type: 'gap' } })\r\n                    link.setText(triple.predicate.edge.label);\r\n                    link.set({\r\n                        activity: triple.predicate,\r\n                        source: {\r\n                            id: triple.subject.id,\r\n                        },\r\n                        target: {\r\n                            id: triple.object.id,\r\n                        }\r\n                    });\r\n                }\r\n\r\n                link.setColor(color)\r\n                nodes.push(link);\r\n            }\r\n        });\r\n        self.canvasPaper.setDimensions('30000px', '30000px')\r\n        self.canvasPaper.scaleContentToFit({ minScaleX: 0.3, minScaleY: 0.3, maxScaleX: 1, maxScaleY: 1 });\r\n        self.canvasGraph.resetCells(nodes);\r\n\r\n        if (!cam.manualLayout) {\r\n            self.autoLayoutGraph(self.canvasGraph);\r\n        }\r\n\r\n        self.canvasPaper.unfreeze();\r\n        self.canvasPaper.render();\r\n\r\n\r\n        /*    each(self.canvasGraph.getCells(), (cell: any) => {\r\n   \r\n               self.mask.add(\r\n                   cell.findView(self.canvasPaper),\r\n                   { selector: 'body' },\r\n                   'example-id',\r\n                   {\r\n                       layer: 'back',\r\n                       attrs: {\r\n                           'stroke': '#4666E5',\r\n                           'stroke-width': 3,\r\n                           'stroke-linejoin': 'round'\r\n                       }\r\n                   });\r\n           }); */\r\n    }\r\n\r\n    reverseLink(triple: Triple<Activity>, link: NodeLink) {\r\n        link.setText(triple.predicate.reverseLinkTitle);\r\n        link.set({\r\n            activity: triple.predicate,\r\n            source: {\r\n                id: triple.object.id,\r\n            },\r\n            target: {\r\n                id: triple.subject.id,\r\n            }\r\n        });\r\n    }\r\n\r\n    addStencilGraph(graph: joint.dia.Graph, activities: Activity[]) {\r\n        const self = this;\r\n        const nodes = [];\r\n\r\n        each(activities, (activity: Activity) => {\r\n            const el = new StencilNode()\r\n            // .size(120, 80)\r\n            // .setColor(activity.backgroundColor)\r\n            //.setIcon(activity.iconUrl);\r\n            el.attr('label/text', activity.title);\r\n            el.set({ activity: cloneDeep(activity) });\r\n\r\n            nodes.push(el);\r\n        });\r\n\r\n        graph.resetCells(nodes);\r\n        self._layout(graph);\r\n    }\r\n\r\n    private _layout(graph: joint.dia.Graph) {\r\n        let currentY = 10;\r\n        graph.getElements().forEach((el) => {\r\n            //Sel.getBBox().bottomRight();\r\n            el.position(10, currentY);\r\n            currentY += el.size().height + 10;\r\n        });\r\n    }\r\n\r\n    autoLayoutGraph(graph) {\r\n        const autoLayoutElements = [];\r\n        const manualLayoutElements = [];\r\n        graph.getElements().forEach((el) => {\r\n            if (el.attr('./visibility') !== 'hidden') {\r\n                autoLayoutElements.push(el);\r\n            }\r\n        });\r\n        // Automatic Layout\r\n        joint.layout.DirectedGraph.layout(graph.getSubgraph(autoLayoutElements), {\r\n            align: 'UL',\r\n            setLabels: true,\r\n            marginX: 50,\r\n            marginY: 50,\r\n            rankSep: 200,\r\n            // nodeSep: 2000,\r\n            //edgeSep: 2000,\r\n            rankDir: \"TB\"\r\n        });\r\n        // Manual Layout\r\n        manualLayoutElements.forEach(function (el) {\r\n            const neighbor = graph.getNeighbors(el, { inbound: true })[0];\r\n            if (!neighbor) return;\r\n            const neighborPosition = neighbor.getBBox().bottomRight();\r\n            el.position(neighborPosition.x + 20, neighborPosition.y - el.size().height / 2 - 20);\r\n        });\r\n    }\r\n\r\n    private _offsetToLocalPoint(x, y) {\r\n        const self = this;\r\n\r\n        const svgPoint = joint.Vectorizer.createSVGPoint(x, y);\r\n        // Transform point into the viewport coordinate system.\r\n        const pointTransformed = svgPoint.matrixTransform(self.canvasPaper.viewport.getCTM().inverse());\r\n        return pointTransformed;\r\n    }\r\n\r\n}","\r\nimport { StencilItem, StencilItemNode } from './../data/cam-stencil';\r\nimport { StencilNode, NodeCellList } from './../services/shapes.service';\r\nimport * as joint from 'jointjs';\r\nimport { cloneDeep, each } from \"lodash\";\r\nimport { CamCanvas } from \"./cam-canvas\";\r\n\r\nexport class CamStencil {\r\n\r\n    stencils: any[] = [];\r\n    camCanvas: CamCanvas;\r\n    stencilEl\r\n    selectedStencilElement;\r\n\r\n    onAddElement: (element: joint.shapes.noctua.NodeCellList, x: number, y: number) => NodeCellList;\r\n\r\n    constructor(camCanvas: CamCanvas, stencils: StencilItem[]) {\r\n        const self = this;\r\n\r\n        self.camCanvas = camCanvas;\r\n        self.stencils = stencils;\r\n        self._initializeStencils(stencils);\r\n    }\r\n\r\n    private _initializeStencils(stencils: StencilItem[]) {\r\n        const self = this;\r\n\r\n        self.stencils = [];\r\n        each(stencils, (stencil: StencilItem) => {\r\n            const stencilGraph = new joint.dia.Graph();\r\n            const stencilPaper = self.generateStencilPaper(stencil, stencilGraph);\r\n\r\n            self.addStencilGraph(stencilGraph, stencil.nodes);\r\n            stencilPaper.on('cell:pointerdown', self.onMouseDown(stencil.id, self.camCanvas.canvasPaper));\r\n\r\n            self.stencils.push({\r\n                id: stencil.id,\r\n                paper: stencilPaper,\r\n                graph: stencilGraph\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n    addStencilGraph(graph: joint.dia.Graph, stencilNodes: StencilItemNode[]) {\r\n        const self = this;\r\n        const nodes = [];\r\n\r\n        each(stencilNodes, (stencilItemNode: StencilItemNode) => {\r\n            const el = new StencilNode();\r\n            // .size(120, 80)\r\n            // .setColor(cam.backgroundColor)\r\n            el.setIcon(stencilItemNode.iconUrl);\r\n            el.attr('label/text', stencilItemNode.label);\r\n            el.set({ node: cloneDeep(stencilItemNode) });\r\n\r\n            nodes.push(el);\r\n        });\r\n\r\n        graph.resetCells(nodes);\r\n        self._layout(graph);\r\n    }\r\n\r\n    private generateStencilPaper(stencil: StencilItem, stencilGraph: joint.dia.Graph): joint.dia.Paper {\r\n        const stencilPaper = new joint.dia.Paper({\r\n            el: document.getElementById(stencil.id),\r\n            height: stencil.nodes.length * 120,\r\n            width: '100%',\r\n            model: stencilGraph,\r\n            interactive: false\r\n        });\r\n\r\n        return stencilPaper;\r\n    }\r\n\r\n    private onMouseDown(name: string, canvasPaper: joint.dia.Paper) {\r\n        const self = this;\r\n\r\n        return function (cellView, e, x, y) {\r\n            $('#noc-canvas').append('<div id=\"noc-flypaper\" style=\"position:fixed;z-index:100000;opacity:.7;pointer-event:none;\"></div>');\r\n            const flyGraph = new joint.dia.Graph();\r\n            const flyPaper = new joint.dia.Paper({\r\n                el: document.getElementById('noc-flypaper'),\r\n                model: flyGraph,\r\n                interactive: false\r\n            });\r\n            const flyShape = cellView.model.clone();\r\n            const pos = cellView.model.position();\r\n            const offset = {\r\n                x: x - pos.x,\r\n                y: y - pos.y\r\n            };\r\n\r\n            self.selectedStencilElement = cellView.model;\r\n            flyShape.position(0, 0);\r\n            flyGraph.addCell(flyShape);\r\n\r\n            $('#noc-flypaper').offset({\r\n                left: e.pageX - offset.x,\r\n                top: e.pageY - offset.y\r\n            });\r\n            $('#noc-canvas').on('mousemove.fly', function (e) {\r\n                $('#noc-flypaper').offset({\r\n                    left: e.pageX - offset.x,\r\n                    top: e.pageY - offset.y\r\n                });\r\n            });\r\n            $('#noc-canvas').on('mouseup.fly', function (e) {\r\n                const x1 = e.pageX;\r\n                const y1 = e.pageY;\r\n                const target = canvasPaper.$el.offset();\r\n\r\n                // Dropped over paper?\r\n                if (x1 > target.left && x1 < target.left + canvasPaper.$el.width() && y1 > target.top && y1 < target.top + canvasPaper.$el.height()) {\r\n                    self.onAddElement(self.selectedStencilElement, x1 - target.left - offset.x, y1 - target.top - offset.y);\r\n                    //  el.position(x1 - target.left - offset.x, y1 - target.top - offset.y);\r\n                }\r\n                $('#noc-canvas').off('mousemove.fly').off('mouseup.fly');\r\n                flyShape.remove();\r\n                $('#noc-flypaper').remove();\r\n            });\r\n        }\r\n    }\r\n\r\n    private _layout(graph: joint.dia.Graph) {\r\n        let currentY = 10;\r\n        graph.getElements().forEach((el) => {\r\n            //Sel.getBBox().bottomRight();\r\n            el.position(10, currentY);\r\n            currentY += el.size().height + 10;\r\n        });\r\n    }\r\n\r\n    private _layoutGraph(graph: joint.dia.Graph) {\r\n        const autoLayoutElements = [];\r\n        const manualLayoutElements = [];\r\n        graph.getElements().forEach((el) => {\r\n            if (el.attr('./visibility') !== 'hidden') {\r\n                autoLayoutElements.push(el);\r\n            }\r\n        });\r\n        // Automatic Layout\r\n        joint.layout.DirectedGraph.layout(graph.getSubgraph(autoLayoutElements), {\r\n            align: 'UR',\r\n            setVertices: true,\r\n            setLabels: true,\r\n            marginX: 0,\r\n            marginY: 0,\r\n            rankSep: 0,\r\n            // nodeSep: 2000,\r\n            //edgeSep: 2000,\r\n            rankDir: \"LR\"\r\n        });\r\n    }\r\n\r\n}","import * as joint from 'jointjs';\r\n\r\ndeclare module 'jointjs' {\r\n  namespace shapes {\r\n    namespace noctua {\r\n      class StencilNode extends joint.dia.Link { }\r\n      class NodeCell extends joint.dia.Element { }\r\n      // class NodeCellList extends joint.dia.Element { }\r\n      class NodeLink extends joint.dia.Link { }\r\n    }\r\n  }\r\n}\r\n\r\nexport const enum NodeCellType {\r\n  link = 'noctua.NodeLink',\r\n  cell = 'noctua.NodeCellList',\r\n}\r\n\r\nexport const StencilNode = joint.dia.Element.define('noctua.StencilNode', {\r\n  size: { width: 80, height: 80 },\r\n  attrs: {\r\n    body: {\r\n      refWidth: '100%',\r\n      refHeight: '100%',\r\n      fill: '#FFFFFF',\r\n      stroke: '#AAAAAA'\r\n    },\r\n    iconBackground: {\r\n      ref: 'icon',\r\n      refWidth: '100%',\r\n      refHeight: '100%',\r\n      fill: 'transparent'\r\n    },\r\n    icon: {\r\n      x: 0,\r\n      y: 10,\r\n      refWidth: '100%',\r\n      height: 50,\r\n    },\r\n    label: {\r\n      y: 70,\r\n      height: '30px',\r\n      refX: '50%',\r\n      // refY: '50%',\r\n      // refY2: 10,\r\n      fill: '#000',\r\n      textAnchor: 'middle',\r\n      textVerticalAnchor: 'middle',\r\n      //fontWeight: 'bold',\r\n      fontFamily: 'sans-serif',\r\n      fontSize: 8,\r\n      textWrap: {\r\n        ellipsis: false,\r\n        width: '95%'\r\n      }\r\n    }\r\n  }\r\n}, {\r\n  markup: [{\r\n    tagName: 'rect',\r\n    selector: 'body'\r\n  }, {\r\n    tagName: 'rect',\r\n    selector: 'statusLine'\r\n  }, {\r\n    tagName: 'rect',\r\n    selector: 'iconBackground'\r\n  }, {\r\n    tagName: 'image',\r\n    selector: 'icon'\r\n  }, {\r\n    tagName: 'text',\r\n    selector: 'label'\r\n  }]\r\n}, {\r\n\r\n});\r\n\r\nexport const NodeCell = joint.dia.Element.define('noctua.NodeCell', {\r\n  attrs: {\r\n    root: {\r\n      magnet: true,\r\n    },\r\n    wrapper: {\r\n      magnet: true,\r\n      refWidth: '100%',\r\n      refHeight: '100%',\r\n      // fill: '#FF0000',\r\n      stroke: 'rgba(0,0,255,0.3)',\r\n    },\r\n    body: {\r\n      refWidth: '100%',\r\n      refHeight: '100%',\r\n      fill: '#FFFFFF',\r\n      stroke: 'rgba(0,0,255,0.3)',\r\n    },\r\n\r\n    noctuaTitle: {\r\n      x: 0,\r\n      refX: '10px',\r\n      refY: '10px',\r\n      fill: '#000000',\r\n      textAnchor: 'left',\r\n      textVerticalAnchor: 'top',\r\n      // fontFamily: 'sans-serif',\r\n      fontSize: 12,\r\n      text: '',\r\n      textWrap: {\r\n        //width: -50,\r\n        //height: -40,\r\n        ellipsis: true\r\n      }\r\n    }\r\n  },\r\n  /*\r\n  inPorts: ['top', 'bottom', 'left',],\r\n  outPorts: ['right'],\r\n\r\n\r\n   ports: {\r\n    groups: {\r\n      left: {\r\n        position: 'left',\r\n        attrs: portAttrs,\r\n        markup: '<circle class=\"port-body\"/><text/>'\r\n      },\r\n      bottom: {\r\n        position: 'bottom',\r\n        attrs: portAttrs,\r\n        markup: '<circle class=\"port-body\"/><text/>'\r\n      },\r\n      top: {\r\n        position: 'top',\r\n        attrs: portAttrs,\r\n        markup: '<circle class=\"port-body\"/><text/>'\r\n      },\r\n      right: {\r\n        position: 'right',\r\n        attrs: {\r\n          '.port-body': {\r\n            fill: '#E74C3C',\r\n            r: 10,\r\n            magnet: 'passive'\r\n          }\r\n        },\r\n        markup: '<circle class=\"port-body\"/>'\r\n      }\r\n    },\r\n    items: [{\r\n      id: 'top',\r\n      group: 'top'\r\n    }, {\r\n      id: 'right',\r\n      group: 'right'\r\n    }, {\r\n      id: 'bottom',\r\n      group: 'bottom'\r\n    }, {\r\n      id: 'left',\r\n      group: 'left'\r\n    }],\r\n  }, */\r\n}, {\r\n  markup: [{\r\n    tagName: 'rect',\r\n    selector: 'wrapper'\r\n  }, {\r\n    tagName: 'rect',\r\n    selector: 'body'\r\n  }, {\r\n    tagName: 'text',\r\n    selector: 'noctuaTitle'\r\n  }],\r\n\r\n}, {\r\n  create: function (text) {\r\n    return new this({\r\n      attrs: {\r\n        label: { text: text }\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\nexport const NodeCellList = joint.dia.Element.define('noctua.NodeCellList', {\r\n  attrs: {\r\n    root: {\r\n      magnet: true,\r\n    },\r\n    '.wrapper': {\r\n      magnet: true,\r\n      refWidth: '100%',\r\n      refHeight: '100%',\r\n      fill: 'transparent',\r\n      stroke: 'rgba(0,0,255,0.3)',\r\n    },\r\n    '.highlighter': {\r\n      refWidth: '100%',\r\n      refHeight: '100%',\r\n      fill: 'none',\r\n      stroke: 'transparent',\r\n      'stroke-width': 10,\r\n    },\r\n    'rect': { width: 300, },\r\n\r\n    '.activity-gp-rect': {\r\n      fill: '#d5d2d5',\r\n      stroke: '#fff',\r\n      height: 50,\r\n      'stroke-width': 0.5\r\n    },\r\n    '.edit': {\r\n      event: 'element:.edit:pointerdown',\r\n      'xlink:href': './assets/icons/edit.svg',\r\n      ref: '.wrapper',\r\n      refX: '100%',\r\n      refX2: 5,\r\n      y: 0,\r\n      height: 20,\r\n      cursor: 'pointer',\r\n      visibility: 'hidden'\r\n    },\r\n    '.delete': {\r\n      event: 'element:.delete:pointerdown',\r\n      'xlink:href': './assets/icons/delete.svg',\r\n      ref: '.wrapper',\r\n      refX: '100%',\r\n      refX2: 5,\r\n      y: 30,\r\n      height: 20,\r\n      cursor: 'pointer',\r\n      visibility: 'hidden',\r\n    },\r\n    '.activity-mf-rect': {\r\n      fill: '#d5fdd5',\r\n      stroke: '#fff',\r\n      'stroke-width': 0.5\r\n    },\r\n    '.activity-cc-rect': {\r\n      fill: '#d5fdd5',\r\n      stroke: '#fff',\r\n      'stroke-width': 0.5\r\n    },\r\n    '.activity-bp-rect': {\r\n      fill: '#d5fdd5',\r\n      stroke: '#fff',\r\n      'stroke-width': 0.5\r\n    },\r\n    '.activity-gp-text': {\r\n      'ref': '.activity-gp-rect',\r\n      'ref-y': .5,\r\n      'ref-x': 5,\r\n      'text-anchor': 'left',\r\n      'y-alignment': 'middle',\r\n      'font-weight': 'bold',\r\n      'fill': 'black',\r\n      'font-size': 12,\r\n      'font-family': 'Times New Roman',\r\n      textWrap: {\r\n        width: '90%',\r\n        ellipsis: false,\r\n      },\r\n    },\r\n    '.activity-mf-text': {\r\n      'ref': '.activity-mf-rect',\r\n      'ref-y': 5, 'ref-x': 5,\r\n      'fill': 'black',\r\n      'font-size': 12,\r\n      'font-family': 'Times New Roman',\r\n      textWrap: {\r\n        width: '90%',\r\n        ellipsis: false,\r\n      },\r\n    },\r\n    '.activity-cc-text': {\r\n      'ref': '.activity-cc-rect',\r\n      'ref-y': 5, 'ref-x': 5,\r\n      'fill': 'black',\r\n      'font-size': 12,\r\n      'font-family': 'Times New Roman',\r\n      textWrap: {\r\n        ellipsis: false,\r\n      },\r\n    },\r\n    '.activity-bp-text': {\r\n      'ref': '.activity-bp-rect',\r\n      'ref-y': 5, 'ref-x': 5,\r\n      'fill': 'black',\r\n      'font-size': 12,\r\n      'font-family': 'Times New Roman',\r\n      textWrap: {\r\n        width: '90%',\r\n        ellipsis: false,\r\n      },\r\n    }\r\n  },\r\n\r\n  name: [],\r\n  attributes: [],\r\n  gp: []\r\n}, {\r\n  markup: [\r\n    '<rect class=\"wrapper\"/>',\r\n    '<rect class=\"highlighter\"/>',\r\n    '<g class=\"rotatable\">',\r\n    '<g class=\"scalable\">',\r\n    '<rect class=\"activity-mf-rect\"/>',\r\n    '<rect class=\"activity-gp-rect\"/>',\r\n    '<rect class=\"activity-cc-rect\"/>',\r\n    '<rect class=\"activity-bp-rect\"/>',\r\n    '</g>',\r\n    '<text class=\"activity-mf-text\"/>',\r\n    '<text class=\"activity-gp-text\"/>',\r\n    '<text class=\"activity-cc-text\"/>',\r\n    '<text class=\"activity-bp-text\"/>',\r\n    '<image class=\"delete\"/>',\r\n    '<image class=\"edit\"/>',\r\n    '</g>'\r\n  ].join(''),\r\n\r\n  initialize: function () {\r\n\r\n    this.on('change:name change:attributes change:gp', function () {\r\n      this.updateRectangles();\r\n\r\n      //this.set('size', { height: 500, width: 120 });\r\n\r\n      this.trigger('activity-update');\r\n    }, this);\r\n\r\n    this.updateRectangles();\r\n\r\n    joint.dia.Element.prototype.initialize.apply(this, arguments);\r\n  },\r\n\r\n  getClassName: function () {\r\n    return this.get('name');\r\n  },\r\n\r\n  updateRectangles: function () {\r\n\r\n    const attrs = this.get('attrs');\r\n\r\n    const rects = [\r\n      { type: 'gp', text: this.get('gp') },\r\n      { type: 'mf', text: this.get('mf') },\r\n    ];\r\n\r\n    const cc = this.get('cc');\r\n    const bp = this.get('bp');\r\n\r\n    if (cc) {\r\n      rects.push({ type: 'cc', text: cc })\r\n    }\r\n\r\n    if (bp) {\r\n      rects.push({ type: 'bp', text: bp })\r\n    }\r\n\r\n    let offsetY = 0;\r\n\r\n    rects.forEach(function (rect) {\r\n\r\n      const lines = Array.isArray(rect.text) ? rect.text : [rect.text];\r\n      const rectHeight = lines.length * 30 + 200;\r\n\r\n      attrs['.activity-' + rect.type + '-text'].text = lines.join('\\n');\r\n      attrs['.activity-' + rect.type + '-rect'].height = rectHeight;\r\n      attrs['.activity-' + rect.type + '-rect'].transform = 'translate(0,' + offsetY + ')';\r\n\r\n      offsetY += rectHeight;\r\n    });\r\n  }\r\n\r\n});\r\n\r\n\r\nexport const NodeCellMolecule = joint.dia.Element.define('noctua.NodeCellMolecule', {\r\n  attrs: {\r\n    '.wrapper': {\r\n      refCx: '50%',\r\n      refCy: '50%',\r\n      refR: '50%',\r\n      magnet: true,\r\n      refWidth: '100%',\r\n      refHeight: '100%',\r\n      fill: 'transparent',\r\n      stroke: 'rgba(0,0,255,0.3)',\r\n    },\r\n    '.circle': {\r\n      // refPoints: '0,10 10,15 30,15 40,10 30,5 10,5',\r\n      refCx: '50%',\r\n      refCy: '50%',\r\n      refR: '50%',\r\n      strokeWidth: 2,\r\n    },\r\n    '.label': {\r\n      textVerticalAnchor: 'middle',\r\n      textAnchor: 'middle',\r\n      refX: '50%',\r\n      refY: '50%',\r\n      fontSize: 12,\r\n      fill: '#333333',\r\n      textWrap: {\r\n        ellipsis: false,\r\n        width: '95%'\r\n      }\r\n    },\r\n    '.edit': {\r\n      event: 'element:.edit:pointerdown',\r\n      'xlink:href': './assets/icons/edit.svg',\r\n      ref: '.wrapper',\r\n      refX: '100%',\r\n      refX2: -10,\r\n      y: 0,\r\n      height: 20,\r\n      cursor: 'pointer',\r\n      visibility: 'hidden'\r\n    },\r\n    '.delete': {\r\n      event: 'element:.delete:pointerdown',\r\n      'xlink:href': './assets/icons/delete.svg',\r\n      ref: '.wrapper',\r\n      refX: '100%',\r\n      refX2: 5,\r\n      y: 30,\r\n      height: 20,\r\n      cursor: 'pointer',\r\n      visibility: 'hidden',\r\n    },\r\n  }\r\n}, {\r\n  markup: [\r\n    '<circle class=\"wrapper\"/>',\r\n    '<g class=\"rotatable\">',\r\n    '<g class=\"scalable\">',\r\n    '<circle class=\"circle\"/>',\r\n    '</g>',\r\n    '<text class=\"label\"/>',\r\n    '<image class=\"delete\"/>',\r\n    '<image class=\"edit\"/>',\r\n    '</g>'\r\n  ].join(''),\r\n}, {\r\n  create: function (text) {\r\n    return new this({\r\n      attrs: {\r\n        label: { text: text }\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\nexport const NodeLink = joint.shapes.devs.Link.define('noctua.NodeLink', {\r\n  attrs: {\r\n    line: {\r\n      connection: true,\r\n      stroke: '#005580',\r\n      strokeWidth: 1,\r\n      strokeLinejoin: 'round',\r\n      /*  sourceMarker: {\r\n         type: 'rect',\r\n         width: 10,\r\n         height: 20,\r\n         y: -10,\r\n         stroke: 'none'\r\n       }, */\r\n      targetMarker: {\r\n        type: 'path',\r\n        stroke: 'black',\r\n        fill: 'black',\r\n        d: 'M 10 -5 0 0 10 5 Z'\r\n      }\r\n    },\r\n    defaultLabel: {\r\n      markup: [\r\n        {\r\n          tagName: 'rect',\r\n          selector: 'body'\r\n        }, {\r\n          tagName: 'text',\r\n          selector: 'label'\r\n        }\r\n      ],\r\n      attrs: {\r\n        label: {\r\n          text: {\r\n            text: '150'\r\n          },\r\n          fill: 'blue',\r\n          fontSize: 10,\r\n          textAnchor: 'middle',\r\n          yAlignment: 'middle',\r\n          pointerEvents: 'none'\r\n        },\r\n        body: {\r\n          ref: 'label',\r\n          fill: 'pink',\r\n          stroke: '#005580',\r\n          strokeWidth: 1,\r\n          refWidth: '120%',\r\n          refHeight: '120%',\r\n          refX: '-10%',\r\n          refY: '-10%'\r\n        }\r\n      },\r\n    }\r\n  }\r\n}, {\r\n  markup: [{\r\n    tagName: 'path',\r\n    selector: 'line',\r\n    attributes: {\r\n      'fill': 'none',\r\n      'pointer-events': 'none'\r\n    }\r\n  }]\r\n}, {\r\n\r\n});\r\n\r\n\r\n\r\n\r\nexport const ClassView = joint.dia.ElementView.extend({\r\n\r\n  initialize: function () {\r\n\r\n    joint.dia.ElementView.prototype.initialize.apply(this, arguments);\r\n\r\n    this.listenTo(this.model, 'activity-update', function () {\r\n      this.update();\r\n      this.resize();\r\n    });\r\n  }\r\n});\r\n","import { dia, g } from 'jointjs';\r\n\r\ndeclare module 'jointjs' {\r\n  namespace shapes {\r\n    namespace noctua {\r\n      class NodeCellList extends dia.Element { }\r\n    }\r\n  }\r\n}\r\n\r\n\r\nconst GRID_SIZE = 8;\r\nconst PADDING_S = GRID_SIZE;\r\nconst PADDING_L = GRID_SIZE * 2;\r\nconst FONT_FAMILY = 'sans-serif';\r\nconst DARK_COLOR = 'transparent';\r\n\r\nconst HEADER_ICON_SIZE = 30;\r\nconst HEADER_HEIGHT = 40;\r\n\r\nexport const LIST_GROUP_NAME = 'list';\r\nconst LIST_ITEM_HEIGHT = 35;\r\nexport const LIST_ITEM_WIDTH = 200;\r\nconst LIST_ITEM_GAP = 0;\r\nconst LIST_ADD_BUTTON_SIZE = 20;\r\n\r\nconst itemPosition = (portsArgs: dia.Element.Port[], elBBox: dia.BBox): g.Point[] => {\r\n  return portsArgs.map((_port: dia.Element.Port, index: number, { length }) => {\r\n    const bottom = elBBox.height - (LIST_ITEM_HEIGHT + LIST_ADD_BUTTON_SIZE) / 2 - PADDING_S;\r\n    const y = (length - 1 - index) * (LIST_ITEM_HEIGHT + LIST_ITEM_GAP);\r\n    return new g.Point(0, bottom - y);\r\n  });\r\n};\r\n\r\nconst itemAttributes = {\r\n  attrs: {\r\n    body: {\r\n      width: 'calc(w)',\r\n      height: 'calc(h)',\r\n      x: '0',\r\n      y: 'calc(-0.5*h)',\r\n      fill: DARK_COLOR,\r\n      stroke: 'white',\r\n      strokeWidth: 1,\r\n    },\r\n    relationship: {\r\n      width: 60,\r\n      pointerEvents: 'none',\r\n      fontFamily: FONT_FAMILY,\r\n      fontWeight: 400,\r\n      fontSize: 9,\r\n      fill: 'black',\r\n      textAnchor: 'start',\r\n      textVerticalAnchor: 'middle',\r\n      textWrap: {\r\n        width: 60,\r\n        maxLineCount: 2,\r\n        ellipsis: true\r\n      },\r\n      x: 8\r\n    },\r\n    portLabel: {\r\n      width: 100,\r\n      pointerEvents: 'none',\r\n      fontFamily: FONT_FAMILY,\r\n      fontSize: 12,\r\n      fill: 'black',\r\n      textAnchor: 'start',\r\n      textVerticalAnchor: 'middle',\r\n      textWrap: {\r\n        width: 140,\r\n        maxLineCount: 2,\r\n        ellipsis: true\r\n      },\r\n      x: 60\r\n    },\r\n\r\n    noEvidence: {\r\n      'xlink:href': './assets/icons/no-evidence.png',\r\n      ref: 'body',\r\n      x: 60,\r\n      y: -8,\r\n      height: 15,\r\n      cursor: 'pointer',\r\n      visibility: 'hidden'\r\n    },\r\n\r\n  },\r\n  size: {\r\n    width: LIST_ITEM_WIDTH,\r\n    height: LIST_ITEM_HEIGHT\r\n  },\r\n  markup: [{\r\n    tagName: 'rect',\r\n    selector: 'body'\r\n  }, {\r\n    tagName: 'text',\r\n    selector: 'relationship'\r\n  }, {\r\n    tagName: 'text',\r\n    selector: 'portLabel',\r\n  }, {\r\n    tagName: 'image',\r\n    selector: 'noEvidence',\r\n  }]\r\n};\r\n\r\nconst headerAttributes = {\r\n  attrs: {\r\n    root: {\r\n      magnet: true,\r\n    },\r\n    '.wrapper': {\r\n      magnet: true,\r\n      refWidth: '100%',\r\n      refHeight: '100%',\r\n      fill: 'transparent',\r\n      stroke: 'rgba(0,0,255,0.3)',\r\n    },\r\n    '.highlighter': {\r\n      refWidth: '100%',\r\n      refHeight: '100%',\r\n      fill: 'none',\r\n      stroke: 'transparent',\r\n      'stroke-width': 10,\r\n    },\r\n    body: {\r\n      width: 'calc(w)',\r\n      height: 'calc(h)',\r\n    },\r\n    icon: {\r\n      width: HEADER_ICON_SIZE,\r\n      height: HEADER_ICON_SIZE,\r\n      x: 5,\r\n      y: (HEADER_HEIGHT - HEADER_ICON_SIZE) / 2,\r\n    },\r\n    label: {\r\n      x: 40,\r\n      y: 15,\r\n      fontFamily: FONT_FAMILY,\r\n      fontWeight: 600,\r\n      fontSize: 12,\r\n      fill: \"black\",\r\n      text: 'Label',\r\n      textWrap: {\r\n        width: '90%',\r\n        maxLineCount: 1,\r\n        ellipsis: true\r\n      },\r\n      textVerticalAnchor: 'top',\r\n    },\r\n    '.edit': {\r\n      event: 'element:.edit:pointerdown',\r\n      'xlink:href': './assets/icons/edit.svg',\r\n      ref: '.wrapper',\r\n      refX: '100%',\r\n      refX2: 5,\r\n      y: 0,\r\n      height: 20,\r\n      cursor: 'pointer',\r\n      visibility: 'hidden'\r\n    },\r\n    '.delete': {\r\n      event: 'element:.delete:pointerdown',\r\n      'xlink:href': './assets/icons/delete.svg',\r\n      ref: '.wrapper',\r\n      refX: '100%',\r\n      refX2: 5,\r\n      y: 30,\r\n      height: 20,\r\n      cursor: 'pointer',\r\n      visibility: 'hidden',\r\n    },\r\n\r\n  },\r\n  markup: [{\r\n    tagName: 'rect',\r\n    selector: '.wrapper',\r\n  }, {\r\n    tagName: 'rect',\r\n    selector: '.highlighter',\r\n  }, {\r\n    tagName: 'rect',\r\n    selector: 'body',\r\n  }, {\r\n    tagName: 'text',\r\n    selector: 'label',\r\n  }, {\r\n    tagName: 'image',\r\n    selector: 'icon',\r\n  }, {\r\n    tagName: 'image',\r\n    selector: '.edit',\r\n  }, {\r\n    tagName: 'image',\r\n    selector: '.delete',\r\n  }]\r\n};\r\n\r\nexport class NodeCellList extends dia.Element {\r\n\r\n  override defaults() {\r\n    return {\r\n      ...super.defaults,\r\n      ...headerAttributes,\r\n      type: 'ListElement',\r\n      size: { width: LIST_ITEM_WIDTH, height: 0 },\r\n      ports: {\r\n        groups: {\r\n          [LIST_GROUP_NAME]: {\r\n            position: itemPosition,\r\n            ...itemAttributes\r\n          }\r\n        },\r\n        items: []\r\n      }\r\n    }\r\n  }\r\n\r\n  override initialize(...args: any[]) {\r\n    this.on('change:ports', () => this.resizeToFitPorts());\r\n    this.resizeToFitPorts();\r\n    super.initialize.call(this, ...args);\r\n  }\r\n\r\n\r\n  resizeToFitPorts() {\r\n    const { length } = this.getPorts();\r\n    this.prop(['size', 'height'], HEADER_HEIGHT + (LIST_ITEM_HEIGHT + LIST_ITEM_GAP) * length + PADDING_L);\r\n  }\r\n\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { NoctuaFormConfigService } from '@geneontology/noctua-form-base';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NoctuaGraphEditorService {\r\n  selectedGraphLayoutDetail\r\n  onGraphLayoutDetailChanged: BehaviorSubject<any>;\r\n  constructor(\r\n    private noctuaFormConfigService: NoctuaFormConfigService) {\r\n    this.selectedGraphLayoutDetail = this.noctuaFormConfigService.graphLayoutDetail.selected;\r\n    this.onGraphLayoutDetailChanged = new BehaviorSubject(null);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport * as jQuery from 'jquery';\r\nimport 'jqueryui';\r\nimport * as _ from 'lodash';\r\nimport * as joint from 'jointjs';\r\nimport * as shapes from './../models/shapes';\r\nimport * as listShape from './../models/shapes/list';\r\nimport * as Backbone from 'backbone';\r\nimport { getColor } from '@noctua.common/data/noc-colors';\r\nimport { LIST_GROUP_NAME, LIST_ITEM_WIDTH } from './../models/shapes/list';\r\n\r\nexport class StencilNode extends shapes.StencilNode {\r\n\r\n  setColor(colorKey: string): this {\r\n    const self = this;\r\n    const deep = getColor(colorKey, 800);\r\n    const light = getColor(colorKey, 100);\r\n\r\n    self.attr('body/stroke', light);\r\n    self.attr('statusLine/fill', deep);\r\n    self.attr('statusType/fill', deep);\r\n    self.attr('iconBackground/fill', light);\r\n\r\n    return this;\r\n  }\r\n\r\n  setIcon(iconUrl: string) {\r\n    const self = this;\r\n\r\n    if (iconUrl) {\r\n      self.attr('icon/xlink:href', `${iconUrl}`);\r\n    }\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class NodeCell extends shapes.NodeCell {\r\n\r\n  addNodePorts(): this {\r\n    const self = this;\r\n\r\n    return this;\r\n  }\r\n\r\n  addColor(colorKey: string): this {\r\n    const self = this;\r\n    const deep = getColor(colorKey, 800);\r\n    const light = getColor(colorKey, 100);\r\n\r\n    self.attr('body/stroke', light);\r\n    self.attr('statusLine/fill', deep);\r\n    self.attr('statusType/fill', deep);\r\n\r\n    return this;\r\n  }\r\n\r\n\r\n  hover(on: boolean): this {\r\n    const self = this;\r\n    self.attr('wrapper/strokeWidth', on ? 20 : 0);\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class NodeCellList extends listShape.NodeCellList {\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  addHeader(label: string) {\r\n    this.attr('label/text', label);\r\n  }\r\n\r\n  addEntity(relationship: string, term: string, hasEvidence) {\r\n    const attrs: any = {}\r\n\r\n    if (relationship) {\r\n      attrs.relationship = { text: relationship }\r\n      attrs.portLabel = { text: term }\r\n\r\n      if (!hasEvidence) {\r\n        attrs.portLabel.x = 75;\r\n      }\r\n    } else {\r\n      attrs.relationship = { visibility: 'hidden' };\r\n      attrs.portLabel = {\r\n        text: term,\r\n        x: hasEvidence ? 8 : 25,\r\n        width: LIST_ITEM_WIDTH,\r\n        textWrap: {\r\n          width: LIST_ITEM_WIDTH - 16,\r\n        },\r\n      }\r\n    }\r\n\r\n    if (!hasEvidence) {\r\n      attrs.noEvidence = { visibility: 'visible' }\r\n      attrs.textWrap = {\r\n        width: LIST_ITEM_WIDTH - 50,\r\n      };\r\n      if (!relationship) {\r\n        attrs.noEvidence.x = 8;\r\n      }\r\n\r\n    }\r\n    this.addPort({\r\n      group: LIST_GROUP_NAME,\r\n      attrs\r\n    })\r\n  }\r\n\r\n  setColor(colorKey: string, low?: number, high?: number): this {\r\n    const self = this;\r\n    const deep = getColor(colorKey, low ? low : 200);\r\n    const light = getColor(colorKey, high ? high : 100);\r\n\r\n    self.attr('body/fill', light);\r\n\r\n    /*   this.getPorts().forEach(el => {\r\n        this.portProp(el.id, 'attrs/body/fill', light)\r\n      }) */\r\n\r\n    return this;\r\n  }\r\n\r\n\r\n  setBorder(colorKey: string, hue?: number): this {\r\n    const self = this;\r\n    const deep = getColor(colorKey, hue ? hue : 500);\r\n\r\n    self.attr('.highlighter/stroke', deep);\r\n\r\n    return this;\r\n  }\r\n\r\n  unsetBorder(): this {\r\n    const self = this;\r\n\r\n    self.attr('.highlighter/stroke', 'transparent');\r\n\r\n    return this;\r\n  }\r\n\r\n  addIcon(icon: string) {\r\n    this.attr('icon/xlinkHref', icon);\r\n  }\r\n\r\n\r\n  hover(on: boolean): this {\r\n    const self = this;\r\n    self.attr('.wrapper/strokeWidth', on ? 40 : 0);\r\n    self.attr('.edit/visibility', on ? 'visible' : 'hidden');\r\n    self.attr('.delete/visibility', on ? 'visible' : 'hidden');\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class NodeCellMolecule extends shapes.NodeCellMolecule {\r\n  constructor() {\r\n    super();\r\n\r\n  }\r\n\r\n  addNodePorts(): this {\r\n    const self = this;\r\n\r\n    return this;\r\n  }\r\n\r\n  setColor(colorKey: string, low?: number, high?: number): this {\r\n    const self = this;\r\n    const deep = getColor(colorKey, low ? low : 200);\r\n    const light = getColor(colorKey, high ? high : 100);\r\n\r\n    self.attr('.circle/stroke', deep);\r\n    self.attr('.circle/fill', light);\r\n\r\n    //this.attr('.icon/height', 200);\r\n\r\n    return this;\r\n  }\r\n\r\n\r\n  setText(text: string): this {\r\n    const self = this;\r\n\r\n    self.attr('.label/text', text);\r\n\r\n    return this;\r\n  }\r\n\r\n\r\n  setBorder(colorKey: string, hue?: number): this {\r\n    const self = this;\r\n    const deep = getColor(colorKey, hue ? hue : 500);\r\n\r\n    self.attr('.highlighter/stroke', deep);\r\n\r\n    return this;\r\n  }\r\n\r\n  unsetBorder(): this {\r\n    const self = this;\r\n\r\n    self.attr('.highlighter/stroke', 'transparent');\r\n\r\n    return this;\r\n  }\r\n\r\n\r\n  hover(on: boolean): this {\r\n    const self = this;\r\n    self.attr('.wrapper/strokeWidth', on ? 40 : 0);\r\n    self.attr('.edit/visibility', on ? 'visible' : 'hidden');\r\n    self.attr('.delete/visibility', on ? 'visible' : 'hidden');\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class NodeLink extends shapes.NodeLink {\r\n  colorKey = 'grey'\r\n\r\n  static create() {\r\n    const link = new NodeLink();\r\n    link.prop({\r\n      z: -1,\r\n      labels: [{\r\n        markup: [{\r\n          tagName: 'rect',\r\n          selector: 'labelBody'\r\n        }, {\r\n          tagName: 'text',\r\n          selector: 'labelText'\r\n        }],\r\n        attrs: {\r\n          labelText: {\r\n            fill: '#7c68fc',\r\n            fontSize: 8,\r\n            fontFamily: 'sans-serif',\r\n            textAnchor: 'middle',\r\n            textVerticalAnchor: 'middle'\r\n          },\r\n          labelBody: {\r\n            ref: 'labelText',\r\n            refX: -5,\r\n            refY: -5,\r\n            refWidth: '100%',\r\n            refHeight: '100%',\r\n            refWidth2: 10,\r\n            refHeight2: 10,\r\n            stroke: '#7c68fc',\r\n            fill: 'white',\r\n            strokeWidth: 1,\r\n            rx: 5,\r\n            ry: 5\r\n          }\r\n        },\r\n        position: {\r\n          distance: 0.5,\r\n          args: {\r\n            //keepGradient: true,\r\n            ensureLegibility: true,\r\n            absoluteOffset: true\r\n          }\r\n        }\r\n      }],\r\n    });\r\n    link.router('normal', {\r\n      // step: 10,\r\n      // padding: 0,\r\n      //  startDirections: ['bottom'],\r\n      //   endDirections: ['top'],\r\n    }).connector('smooth');\r\n\r\n    return link;\r\n  }\r\n\r\n  setText(text: string): this {\r\n    const self = this;\r\n\r\n    self.label(0, {\r\n      attrs: {\r\n        labelText: {\r\n          text: text\r\n        }\r\n      }\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  setColor(colorKey: string, defaultColor = false): this {\r\n    const self = this;\r\n\r\n    if (defaultColor) {\r\n      this.colorKey = colorKey;\r\n    }\r\n    const deep = getColor(colorKey, 800);\r\n    const light = getColor(colorKey, 600);\r\n\r\n    const lineColor = light ? light : colorKey;\r\n    const textColor = deep ? deep : colorKey;\r\n\r\n    self.attr('line/stroke', lineColor);\r\n    self.attr('line/targetMarker/stroke', lineColor);\r\n    self.attr('line/targetMarker/fill', lineColor);\r\n    self.label(0, {\r\n      attrs: {\r\n        labelText: {\r\n          fill: textColor\r\n        },\r\n        labelBody: {\r\n          stroke: lineColor\r\n        }\r\n      }\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  hover(on: boolean): this {\r\n    const self = this;\r\n\r\n    self.attr('line/strokeWidth', on ? 4 : 1);\r\n    self.label(0, {\r\n      attrs: {\r\n        labelBody: {\r\n          strokeWidth: on ? 2 : 1\r\n        }\r\n      }\r\n    });\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class NodeCellList2 extends shapes.NodeCellList {\r\n\r\n  constructor() {\r\n    super();\r\n\r\n  }\r\n\r\n  addNodePorts(): this {\r\n    const self = this;\r\n\r\n    return this;\r\n  }\r\n\r\n  setColor(colorKey: string, low?: number, high?: number): this {\r\n    const self = this;\r\n    const deep = getColor(colorKey, low ? low : 200);\r\n    const light = getColor(colorKey, high ? high : 100);\r\n\r\n    self.attr('.activity-gp-rect/fill', deep);\r\n    self.attr('.activity-mf-rect/fill', light);\r\n    self.attr('.activity-cc-rect/fill', light);\r\n    self.attr('.activity-bp-rect/fill', light);\r\n\r\n    //this.attr('.icon/height', 200);\r\n\r\n    return this;\r\n  }\r\n\r\n\r\n  setBorder(colorKey: string, hue?: number): this {\r\n    const self = this;\r\n    const deep = getColor(colorKey, hue ? hue : 500);\r\n\r\n    self.attr('.highlighter/stroke', deep);\r\n\r\n    return this;\r\n  }\r\n\r\n  unsetBorder(): this {\r\n    const self = this;\r\n\r\n    self.attr('.highlighter/stroke', 'transparent');\r\n\r\n    return this;\r\n  }\r\n\r\n\r\n  hover(on: boolean): this {\r\n    const self = this;\r\n    self.attr('.wrapper/strokeWidth', on ? 40 : 0);\r\n    self.attr('.edit/visibility', on ? 'visible' : 'hidden');\r\n    self.attr('.delete/visibility', on ? 'visible' : 'hidden');\r\n\r\n    return this;\r\n  }\r\n}\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NoctuaShapesService {\r\n  constructor() {\r\n    this._initialize();\r\n  }\r\n\r\n  private _initialize() {\r\n\r\n    const self = this;\r\n\r\n    (Object as any).assign(joint.shapes, {\r\n      noctua: {\r\n        StencilNode: StencilNode,\r\n        NodeCell: NodeCell,\r\n        NodeCellMolecule: NodeCellMolecule,\r\n        NodeCellList: NodeCellList,\r\n        NodeLink: NodeLink\r\n      }\r\n    });\r\n\r\n    const NodeCellBase = joint.dia.Element.define('noctua.NodeCellBase', {\r\n      z: 3,\r\n      attrs: {\r\n        root: {\r\n          pointerEvents: 'bounding-box',\r\n          magnet: false\r\n        },\r\n        body: {\r\n          strokeWidth: 2,\r\n          fillOpacity: 0.2\r\n        },\r\n        label: {\r\n          textWrap: {\r\n            height: -20,\r\n            width: -20,\r\n            ellipsis: true\r\n          },\r\n          refX: '50%',\r\n          refY: '50%',\r\n          fontSize: 16,\r\n          fontFamily: 'sans-serif',\r\n          fill: '#333333',\r\n          textAnchor: 'middle',\r\n          textVerticalAnchor: 'middle'\r\n        }\r\n      }\r\n    }, {\r\n      // Prototype\r\n    }, {\r\n\r\n    });\r\n\r\n  }\r\n}\r\n","import { Component, OnInit, OnDestroy, NgZone } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { Cam, CamLoadingIndicator, CamService, NoctuaFormConfigService, NoctuaUserService, ReloadType } from '@geneontology/noctua-form-base';\r\nimport { NoctuaSearchService } from './../..//services/noctua-search.service';\r\nimport { NoctuaSearchMenuService } from '../../services/search-menu.service';\r\nimport { finalize, takeUntil } from 'rxjs/operators';\r\nimport { ArtBasket, ArtBasketItem } from './../..//models/art-basket';\r\nimport { NoctuaReviewSearchService } from './../../services/noctua-review-search.service';\r\nimport { NoctuaConfirmDialogService } from '@noctua/components/confirm-dialog/confirm-dialog.service';\r\nimport { LeftPanel, MiddlePanel } from './../../models/menu-panels';\r\nimport { NoctuaSearchDialogService } from './../../services/dialog.service';\r\n\r\n@Component({\r\n  selector: 'noc-art-basket',\r\n  templateUrl: './art-basket.component.html',\r\n  styleUrls: ['./art-basket.component.scss']\r\n})\r\nexport class ArtBasketComponent implements OnInit, OnDestroy {\r\n  MiddlePanel = MiddlePanel;\r\n  artBasket: ArtBasket = new ArtBasket();\r\n  cams: Cam[] = [];\r\n  summary;\r\n\r\n  loadingSpinner: any = {\r\n    color: 'primary',\r\n    mode: 'indeterminate'\r\n  };\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private zone: NgZone,\r\n\r\n    public camService: CamService,\r\n    private confirmDialogService: NoctuaConfirmDialogService,\r\n    public noctuaSearchDialogService: NoctuaSearchDialogService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaReviewSearchService: NoctuaReviewSearchService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    public noctuaSearchService: NoctuaSearchService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.noctuaReviewSearchService.onArtBasketChanged.pipe(\r\n      takeUntil(this._unsubscribeAll))\r\n      .subscribe((artBasket: ArtBasket) => {\r\n        if (artBasket) {\r\n          this.artBasket = artBasket;\r\n        }\r\n      });\r\n\r\n    this.camService.onCamsChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(cams => {\r\n        if (!cams) {\r\n          return;\r\n        }\r\n        this.cams = cams;\r\n      });\r\n\r\n    this.camService.onCamsCheckoutChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(summary => {\r\n        if (!summary) {\r\n          return;\r\n        }\r\n\r\n        this.summary = summary;\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  backToReview() {\r\n    this.noctuaSearchMenuService.selectMiddlePanel(MiddlePanel.camsReview);\r\n  }\r\n\r\n  clear() {\r\n    const self = this;\r\n    const success = (clear) => {\r\n      if (clear) {\r\n\r\n        this.noctuaReviewSearchService.onClearForm.next(true);\r\n        this.noctuaReviewSearchService.clear();\r\n        this.camService.clearCams();\r\n        this.noctuaReviewSearchService.clearBasket();\r\n      }\r\n    };\r\n\r\n    if (self.summary?.stats.totalChanges > 0) {\r\n      const options = {\r\n        title: 'Confirm Clear Basket?',\r\n        message: 'You are about to remove all items from the basket. Please save changes or undo changes.',\r\n        cancelLabel: 'Go Back',\r\n        confirmLabel: 'Clear Anyway'\r\n      };\r\n\r\n      self.noctuaSearchDialogService.openCamReviewChangesDialog(success, self.summary, options)\r\n    } else {\r\n      const options = {\r\n        cancelLabel: 'No',\r\n        confirmLabel: 'Yes'\r\n      };\r\n\r\n      this.confirmDialogService.openConfirmDialog('Confirm Clear Basket?',\r\n        'You are about to remove all items from the basket.',\r\n        success, options);\r\n    }\r\n  }\r\n\r\n  close() {\r\n    this.noctuaSearchMenuService.closeLeftDrawer();\r\n  }\r\n\r\n\r\n  remove(cam: Cam) {\r\n    const self = this;\r\n    const summary = self.camService.reviewCamChanges(cam)\r\n    const success = (ok) => {\r\n      if (ok) {\r\n        this.noctuaReviewSearchService.removeCamFromReview(cam);\r\n      }\r\n    }\r\n\r\n    if (summary?.stats.totalChanges > 0) {\r\n      const options = {\r\n        title: 'Removing Unsaved Model',\r\n        message: `Please save changes or undo changes before removing model. Model Name:\"${cam.title}\"`,\r\n        cancelLabel: 'Cancel',\r\n        confirmLabel: 'Remove Anyway'\r\n      }\r\n\r\n      self.noctuaSearchDialogService.openCamReviewChangesDialog(success, summary, options)\r\n    } else {\r\n      const options = {\r\n        cancelLabel: 'No',\r\n        confirmLabel: 'Yes'\r\n      };\r\n\r\n      this.confirmDialogService.openConfirmDialog('Removing Unsaved Model?',\r\n        `You are about to remove model from the basket. No changes were made. Model Name:\"${cam.title}\"`,\r\n        success, options);\r\n    }\r\n  }\r\n\r\n  resetCam(cam: Cam) {\r\n    const self = this;\r\n\r\n    const summary = self.camService.reviewCamChanges(cam);\r\n    const success = (ok) => {\r\n      if (ok) {\r\n        self._resetCamsQuery([cam]);\r\n      }\r\n    }\r\n\r\n    if (summary?.stats.totalChanges > 0) {\r\n\r\n      const options = {\r\n        title: 'Discard Unsaved Changes',\r\n        message: `All your changes will be discarded for model. Model Name:\"${cam.title}\"`,\r\n        cancelLabel: 'Cancel',\r\n        confirmLabel: 'OK'\r\n      }\r\n\r\n      self.noctuaSearchDialogService.openCamReviewChangesDialog(success, summary, options)\r\n    } else {\r\n      success(true);\r\n    }\r\n  }\r\n\r\n  resetCams() {\r\n    const self = this;\r\n\r\n    const success = (ok) => {\r\n      if (ok) {\r\n        self._resetCamsQuery(self.camService.cams);\r\n      }\r\n    }\r\n    if (self.summary?.stats.totalChanges > 0) {\r\n\r\n      const options = {\r\n        title: 'Discard Unsaved Changes',\r\n        message: `All your changes will be discarded.`,\r\n        cancelLabel: 'Cancel',\r\n        confirmLabel: 'OK'\r\n      }\r\n\r\n      self.noctuaSearchDialogService.openCamReviewChangesDialog(success, self.summary, options)\r\n    } else {\r\n      success(true);\r\n    }\r\n  }\r\n\r\n  reviewChanges() {\r\n    const self = this;\r\n\r\n    self.camService.reviewChangesCams();\r\n    self.noctuaSearchMenuService.selectMiddlePanel(MiddlePanel.reviewChanges);\r\n  }\r\n\r\n  reviewCamChanges(cam: Cam) {\r\n    const self = this;\r\n\r\n    const success = (done) => {\r\n    }\r\n\r\n    const summary = self.camService.reviewCamChanges(cam)\r\n    self.noctuaSearchDialogService.openCamReviewChangesDialog(success, summary)\r\n\r\n  }\r\n\r\n  selectItem(artBasketItem: ArtBasketItem) {\r\n    this.camService.onSelectedCamChanged.next(artBasketItem.id);\r\n    const q = '#noc-review-cams-' + artBasketItem.displayId;\r\n    this.noctuaSearchMenuService.scrollTo(q);\r\n  }\r\n\r\n  submitChanges() {\r\n    const self = this;\r\n\r\n    const success = (replace) => {\r\n      if (replace) {\r\n        self.noctuaSearchMenuService.scrollToTop();\r\n\r\n        self._storeCamsQuery(self.camService.cams, true);\r\n        this.noctuaSearchMenuService.selectMiddlePanel(MiddlePanel.camsReview);\r\n      };\r\n    }\r\n\r\n    if (self.summary?.stats.totalChanges > 0) {\r\n      const options = {\r\n        title: 'Save Changes?',\r\n        message: `Bulk edit all changes`,\r\n        cancelLabel: 'Go Back',\r\n        confirmLabel: 'Submit'\r\n      }\r\n\r\n      self.noctuaSearchDialogService.openCamReviewChangesDialog(success, self.summary, options)\r\n    }\r\n  }\r\n\r\n  submitChange(cam: Cam) {\r\n\r\n    const self = this;\r\n    const summary = self.camService.reviewCamChanges(cam);\r\n\r\n    if (summary?.stats.totalChanges > 0) {\r\n      const success = (replace) => {\r\n        if (replace) {\r\n          self._storeCamsQuery([cam]);\r\n        }\r\n      };\r\n\r\n      const options = {\r\n        title: 'Save Changes?',\r\n        message: `All your changes will be saved for model. Model Name:\"${cam.title}\"`,\r\n        cancelLabel: 'Go Back',\r\n        confirmLabel: 'Submit'\r\n      }\r\n\r\n      self.noctuaSearchDialogService.openCamReviewChangesDialog(success, summary, options)\r\n    }\r\n  }\r\n\r\n\r\n  private _storeCamsQuery(cams: Cam[], reset = false) {\r\n    const self = this;\r\n\r\n    self.noctuaReviewSearchService.reloadCams(cams, self.camService.cams, ReloadType.STORE, reset)\r\n  }\r\n\r\n  private _resetCamsQuery(cams: Cam[], reset = false) {\r\n    const self = this;\r\n\r\n    self.noctuaReviewSearchService.reloadCams(cams, self.camService.cams, ReloadType.RESET, reset)\r\n  }\r\n}\r\n","<div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"noc-drawer h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <div class=\"noc-header w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <span class=\"noc-drawer-header-title\">\r\n        Annotation Review</span>\r\n      <span fxFlex></span>\r\n      <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n        aria-label=\"Close dialog\">\r\n        <mat-icon>close</mat-icon> CLOSE\r\n      </button>\r\n    </div>\r\n    <noc-review-form class=\"pt-4 px-12\"></noc-review-form>\r\n  </div>\r\n  <div class=\"noc-drawer-body\" noctuaPerfectScrollbar>\r\n    <div *ngIf=\"!noctuaUserService.user\" class=\"noc-draw-body-disabled\" fxLayoutAlign=\"center center\">\r\n      Log in to Continue\r\n    </div>\r\n    <div *ngFor=\"let cam of cams\" id=\"{{'noc-basket-'+cam.displayId}}\" (click)=\"selectItem(cam)\" class=\"noc-group-row\"\r\n      [ngClass]=\"{'noc-selected': cam.id===camService.currentMatch?.modelId}\" fxLayout=\"column\"\r\n      fxLayoutAlign=\"start stretch\">\r\n      <mat-progress-bar *ngIf=\"cam.loading.status\" class=\"noc-cam-progress\" [color]=\"loadingSpinner.color\"\r\n        [mode]=\"loadingSpinner.mode\">\r\n      </mat-progress-bar>\r\n      <div *ngIf=\"cam.modified\" class=\"noc-modified-header w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-title\">Modified Model:\r\n        </div>\r\n        <span fxFlex></span>\r\n        <button class=\"noc-rounded-button noc-half-button noc-r noc-xs noc-action-button mr-4\" mat-stroked-button\r\n          (click)=\"reviewCamChanges(cam); $event.stopPropagation()\" color=\"primary\" matTooltip=\"View Model Changes\"\r\n          [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n          {{cam.modifiedStats?.totalChanges}} change(s)\r\n        </button>\r\n        <button class=\"noc-rounded-button noc-half-button noc-m noc-xs noc-action-button mr-4\" mat-stroked-button\r\n          (click)=\"resetCam(cam); $event.stopPropagation()\" color=\"primary\" matTooltip=\"Undo Model Changes\"\r\n          [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n          Undo\r\n        </button>\r\n        <button class=\"noc-rounded-button noc-half-button noc-l noc-xs noc-action-button mr-4\" mat-stroked-button\r\n          (click)=\"submitChange(cam); $event.stopPropagation()\" color=\"primary\" matTooltip=\"Save Model Changes\"\r\n          [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n          Save\r\n        </button>\r\n      </div>\r\n      <div class=\"noc-item-body w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"w-100-p h-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n          <div class=\"noc-item\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\r\n            <div class=\"noc-title\">Title:</div> {{cam.title}}\r\n          </div>\r\n          <div class=\"noc-item\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n            <div class=\"noc-title\">State:</div> {{cam.state?.label}}\r\n          </div>\r\n          <div *ngIf=\"cam.moreDetail\" class=\"w-100-p\">\r\n            <div class=\"noc-item\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-title\">Contributors:</div>\r\n              <div class=\"mr-8\" *ngFor=\"let contributor of cam.contributors\" matTooltip=\"{{contributor.name}}\"\r\n                [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n                {{contributor.name ? contributor.name :contributor.orcid}};\r\n              </div>\r\n            </div>\r\n            <div class=\"noc-item\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-title\">Groups:</div>\r\n              <span class=\"\" *ngFor=\"let group of cam.groups\" matTooltip=\"{{group.name}}\" [matTooltipPosition]=\"'below'\"\r\n                [matTooltipShowDelay]=\"1000\">\r\n                <div class=\"noc-chip-label\">\r\n                  {{group.name ? group.name :group.url}}\r\n                </div>\r\n              </span>\r\n            </div>\r\n            <div class=\"noc-item\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-title\">Open In:</div>\r\n              <a class=\"mr-4\" [href]='cam.model?.modelInfo?.noctuaVPEUrl' target=\"_blank\">\r\n                Pathway Editor\r\n              </a>\r\n              <span>&#8226;</span>\r\n              <a class=\"ml-4 mr-4\" [href]='cam.model?.modelInfo?.noctuaFormUrl' target=\"_blank\">\r\n                Form Editor\r\n              </a>\r\n              <span>&#8226;</span>\r\n              <a class=\"ml-4\" [href]='cam.model?.modelInfo?.graphEditorUrl' target=\"_blank\">\r\n                Graph Editor\r\n              </a>\r\n            </div>\r\n          </div>\r\n          <div class=\"noc-item\">\r\n            <a (click)=\"$event.stopPropagation();cam.moreDetail =!cam.moreDetail\" class=\"noc-more-details-button\">\r\n              <span *ngIf=\"!cam.moreDetail\">More Details\r\n                <fa-icon [icon]=\"['fas', 'angle-double-down']\"></fa-icon>\r\n              </span>\r\n              <span *ngIf=\"cam.moreDetail\">Less Details\r\n                <fa-icon [icon]=\"['fas', 'angle-double-up']\"></fa-icon>\r\n              </span>\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <span fxFlex></span>\r\n        <button class=\"noc-remove-button\" mat-icon-button (click)=\"remove(cam)\" color=\"warn\">X</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"noc-drawer-footer noc-submit-row\">\r\n    <ng-container *ngIf=\"noctuaSearchMenuService.selectedMiddlePanel === MiddlePanel.cams\">\r\n      <button (click)=\"clear()\" type=\"button\" mat-raised-button>Clear List</button>\r\n    </ng-container>\r\n    <ng-container *ngIf=\"noctuaSearchMenuService.selectedMiddlePanel === MiddlePanel.camsReview\">\r\n      <button (click)=\"clear()\" type=\"button\" mat-raised-button>Clear List</button>\r\n      <span fxFlex=\"\"></span>\r\n      <button (click)='resetCams()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">Undo Changes</button>\r\n      <button (click)=\"reviewChanges()\" type=\"submit\" class=\"\" mat-raised-button color=\"primary\">\r\n        Review Changes\r\n      </button>\r\n    </ng-container>\r\n    <ng-container *ngIf=\"noctuaSearchMenuService.selectedMiddlePanel === MiddlePanel.reviewChanges\">\r\n      <span fxFlex=\"\"></span>\r\n      <button (click)='backToReview()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">Back</button>\r\n      <button (click)=\"submitChanges()\" type=\"submit\" class=\"\" mat-raised-button color=\"primary\">\r\n        Submit\r\n      </button>\r\n    </ng-container>\r\n  </div>\r\n</div>","import { Component, OnInit, OnDestroy, Input, ViewChild } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { ActivityNode, Article, Cam, CamService, EntityType, Evidence, LeftPanel, NoctuaFormConfigService, NoctuaGraphService, NoctuaLookupService, NoctuaUserService, RightPanel, TermsSummary } from '@geneontology/noctua-form-base';\r\nimport { NoctuaSearchService } from './../..//services/noctua-search.service';\r\nimport { NoctuaSearchMenuService } from '../../services/search-menu.service';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { NoctuaReviewSearchService } from './../../services/noctua-review-search.service';\r\nimport { MiddlePanel } from './../../models/menu-panels';\r\nimport { NoctuaSearchDialogService } from './../../services/dialog.service';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { SearchCriteria } from '@noctua.search/models/search-criteria';\r\nimport { environment } from 'environments/environment';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\n\r\n@Component({\r\n  selector: 'noc-cam-terms',\r\n  templateUrl: './cam-terms.component.html',\r\n  styleUrls: ['./cam-terms.component.scss']\r\n})\r\nexport class CamTermsComponent implements OnInit, OnDestroy {\r\n  MiddlePanel = MiddlePanel;\r\n  EntityType = EntityType;\r\n\r\n  @ViewChild('tree') tree;\r\n  @Input('panelDrawer')\r\n  panelDrawer: MatDrawer;\r\n  cam: Cam;\r\n  termsSummary: TermsSummary;\r\n\r\n  loadingSpinner: any = {\r\n    color: 'primary',\r\n    mode: 'indeterminate'\r\n  };\r\n\r\n  treeOptions = {\r\n    allowDrag: false,\r\n    allowDrop: false,\r\n    // levelPadding: 15,\r\n  };\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n  treeNodes\r\n\r\n  constructor(\r\n    private noctuaLookupService: NoctuaLookupService,\r\n    private _noctuaGraphService: NoctuaGraphService,\r\n    public noctuaCommonMenuService: NoctuaCommonMenuService,\r\n    public camService: CamService,\r\n    public noctuaSearchDialogService: NoctuaSearchDialogService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaReviewSearchService: NoctuaReviewSearchService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    public noctuaSearchService: NoctuaSearchService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this._noctuaGraphService.onCamGraphChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((cam: Cam) => {\r\n        if (!cam) {\r\n          return;\r\n        }\r\n        this.cam = cam;\r\n        this.termsSummary = this._noctuaGraphService.getTerms(this.cam.graph)\r\n        this.treeNodes = this.camService.buildTermsTree(this.termsSummary)\r\n        const pmids = this.termsSummary.papers.nodes.map((article: Article) => {\r\n          return Evidence.getReferenceNumber(article.id)\r\n        })\r\n\r\n        this.noctuaLookupService.addPubmedInfos(pmids)\r\n      });\r\n\r\n    this.noctuaLookupService.onArticleCacheReady\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((ready: boolean) => {\r\n        if (!ready) {\r\n          return;\r\n        }\r\n\r\n        this.termsSummary.papers.nodes.forEach((article: Article) => {\r\n          const cachedArticle = this.noctuaLookupService.articleCache[article.id]\r\n          if (cachedArticle) {\r\n            article.title = cachedArticle.title\r\n            article.link = cachedArticle.link\r\n            article.author = cachedArticle.author\r\n            article.date = cachedArticle.date\r\n          }\r\n        })\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  openSearch(node) {\r\n    this.noctuaLookupService.getTermDetail(node.term.id)\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((term) => {\r\n        if (!term) return;\r\n        this.noctuaReviewSearchService.onCamTermSearch.next(term)\r\n        this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.findReplace);\r\n        this.noctuaCommonMenuService.openLeftDrawer();\r\n      })\r\n  }\r\n\r\n  search(node: ActivityNode) {\r\n    this.noctuaReviewSearchService.searchCriteria['terms'] = [node.term];\r\n    this.noctuaReviewSearchService.updateSearch();\r\n  }\r\n\r\n  searchModels(node: ActivityNode) {\r\n    const searchCriteria = new SearchCriteria()\r\n    searchCriteria.terms = [node.term]\r\n    const url = `${environment.noctuaLandingPageUrl}?${searchCriteria.build()}`\r\n    window.open(url, '_blank');\r\n  }\r\n\r\n  searchModelsByContributor(node: ActivityNode) {\r\n    const searchCriteria = new SearchCriteria()\r\n    searchCriteria.terms = [node.term]\r\n    searchCriteria.contributors = [this.noctuaUserService.user]\r\n    const url = `${environment.noctuaLandingPageUrl}?${searchCriteria.build()}`\r\n    window.open(url, '_blank')\r\n  }\r\n\r\n  openTermDetail(term) {\r\n    this.noctuaSearchService.onDetailTermChanged.next(term)\r\n    this.noctuaCommonMenuService.selectRightPanel(RightPanel.termDetail);\r\n    this.noctuaCommonMenuService.openRightDrawer();\r\n  }\r\n\r\n\r\n  onTreeLoad() {\r\n    // this.tree.treeModel.expandAll();\r\n  }\r\n\r\n  close() {\r\n    this.panelDrawer.close();\r\n  }\r\n\r\n}\r\n","<div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"noc-drawer h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-drawer-header-title\">\r\n      Terms</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> CLOSE\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-drawer-body\" noctuaPerfectScrollbar>\r\n    <div class=\"noc-tree-container\">\r\n\r\n      <div class=\"noc-tree\">\r\n        <tree-root #tree (initialized)=\"onTreeLoad()\" [nodes]=\"treeNodes\" [options]=\"treeOptions\">\r\n          <ng-template #treeNodeWrapperTemplate let-node let-index=\"index\">\r\n            <div class=\"node-wrapper noc-tree-node\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n              [style.padding-left]=\"node.getNodePadding()\">\r\n              <button mat-icon-button class=\"noc-node-expander-button\" color=\"primary\" (click)=\"node.toggleExpanded()\"\r\n                *ngIf=\"node.hasChildren\">\r\n                <fa-icon *ngIf=\"node?.isCollapsed\" [icon]=\"['fas', 'caret-right']\"></fa-icon>\r\n                <fa-icon *ngIf=\"node?.isExpanded\" [icon]=\"['fas', 'caret-down']\"></fa-icon>\r\n              </button>\r\n              <div class=\"noc-expander-placeholder\" *ngIf=\"!node.hasChildren\">\r\n              </div>\r\n              <div class=\"node-content-wrapper\" fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n                [class.node-content-wrapper-active]=\"node.isActive\"\r\n                [class.node-content-wrapper-focused]=\"node.isFocused\" (click)=\"node.mouseAction('click', $event)\"\r\n                (dblclick)=\"node.mouseAction('dblClick', $event)\"\r\n                (contextmenu)=\"node.mouseAction('contextMenu', $event)\" (treeDrop)=\"node.onDrop($event)\"\r\n                [treeAllowDrop]=\"node.allowDrop\" [treeDrag]=\"node\" [treeDragEnabled]=\"node.allowDrag()\">\r\n\r\n                <div *ngIf=\"node.data.isCategory\" class=\"noc-term-row noc-category-row\" fxFlex=\"\" fxLayout=\"row\"\r\n                  fxLayoutAlign=\"start center\">\r\n                  <div>\r\n                    {{node.data.label}}\r\n                  </div>\r\n                  <span fxFlex=\"\"></span>\r\n                  <div class=\"noc-aspect-badge\" (click)=\"openSearch(node.data)\" fxLayout=\"row\"\r\n                    fxLayoutAlign=\"center center\">\r\n                    {{node.data.frequency}}\r\n                  </div>\r\n                </div>\r\n                <div *ngIf=\"!node.data.isCategory\" class=\"noc-term-row\" fxFlex=\"\" fxLayout=\"row\"\r\n                  fxLayoutAlign=\"start center\">\r\n                  <ng-container [ngSwitch]=\"node.data.entityType\">\r\n                    <ng-container *ngSwitchCase=\"EntityType.ACTIVITY_NODE\">\r\n                      <div (click)=\"search(node.data)\" class=\"noc-title\">\r\n                        {{node.data.term?.label}}\r\n                      </div>\r\n                      <span fxFlex=\"\"></span>\r\n                      <div class=\"noc-badge\" (click)=\"openSearch(node.data)\" fxLayout=\"row\"\r\n                        fxLayoutAlign=\"center center\">\r\n                        {{node.data.frequency}}\r\n                      </div>\r\n                      <div class=\"noc-icon\" (click)=\"openTermDetail(node.data)\" fxLayout=\"row\"\r\n                        fxLayoutAlign=\"center center\">\r\n                        <fa-icon [icon]=\"['fas', 'info-circle']\"></fa-icon>\r\n                      </div>\r\n                      <button mat-icon-button class=\"noc-icon-button\" [matMenuTriggerFor]=\"optionMenu\">\r\n                        <fa-icon [icon]=\"['fas', 'bars']\"></fa-icon>\r\n                      </button>\r\n                      <mat-menu #optionMenu=\"matMenu\" class=\"noc-dropdown-menu\">\r\n                        <button mat-menu-item class=\"\" (click)=\"openSearch(node.data)\">\r\n                          Find in Model\r\n                        </button>\r\n                        <button mat-menu-item class=\"\" (click)=\"searchModels(node.data)\">\r\n                          Search Models\r\n                        </button>\r\n                        <button mat-menu-item class=\"\" (click)=\"searchModelsByContributor(node.data)\">\r\n                          Search My Models\r\n                        </button>\r\n                      </mat-menu>\r\n                    </ng-container>\r\n\r\n                    <ng-container *ngSwitchCase=\"EntityType.EVIDENCE\">\r\n                      <div fxFlex=\"\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n                        <div class=\"noc-title\">\r\n                          {{node.data.evidence?.label}}\r\n                        </div>\r\n                        <div class=\"noc-subtitle\">\r\n                          <a (click)=\"$event.stopPropagation()\" href=\"{{node.data.referenceEntity?.url}}\"\r\n                            target=\"_blank\">\r\n                            {{node.data.referenceEntity?.label}}\r\n                          </a>\r\n                        </div>\r\n                        <div class=\"noc-subtitle\">\r\n                          {{node.data.withEntity?.label}}\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"noc-badge\" (click)=\"openSearch(node.data)\" fxLayout=\"row\"\r\n                        fxLayoutAlign=\"center center\">\r\n                        {{node.data.frequency}}\r\n                      </div>\r\n                      <div class=\"noc-icon\" (click)=\"openTermDetail(node.data)\" fxLayout=\"row\"\r\n                        fxLayoutAlign=\"center center\">\r\n                        <fa-icon [icon]=\"['fas', 'info-circle']\"></fa-icon>\r\n                      </div>\r\n                    </ng-container>\r\n\r\n                    <ng-container *ngSwitchCase=\"EntityType.ENTITY\">\r\n                      <div (click)=\"search(node.data)\" class=\"noc-title\">\r\n                        {{node.data.label}}\r\n                      </div>\r\n                      <span fxFlex=\"\"></span>\r\n                      <div class=\"noc-badge\" (click)=\"openSearch(node.data)\" fxLayout=\"row\"\r\n                        fxLayoutAlign=\"center center\">\r\n                        {{node.data.frequency}}\r\n                      </div>\r\n                      <div class=\"noc-icon\" (click)=\"openTermDetail(node.data)\" fxLayout=\"row\"\r\n                        fxLayoutAlign=\"center center\">\r\n                        <fa-icon [icon]=\"['fas', 'info-circle']\"></fa-icon>\r\n                      </div>\r\n                    </ng-container>\r\n\r\n                    <ng-container *ngSwitchCase=\"EntityType.CONTRIBUTOR\">\r\n                      <div (click)=\"search(node.data)\" class=\"noc-title\">\r\n                        {{node.data.name}}\r\n                      </div>\r\n                      <span fxFlex=\"\"></span>\r\n                      <div class=\"noc-badge\" (click)=\"openSearch(node.data)\" fxLayout=\"row\"\r\n                        fxLayoutAlign=\"center center\">\r\n                        {{node.data.frequency}}\r\n                      </div>\r\n                      <div class=\"noc-icon\" (click)=\"openTermDetail(node.data)\" fxLayout=\"row\"\r\n                        fxLayoutAlign=\"center center\">\r\n                        <fa-icon [icon]=\"['fas', 'info-circle']\"></fa-icon>\r\n                      </div>\r\n                    </ng-container>\r\n\r\n                    <ng-container *ngSwitchCase=\"EntityType.ARTICLE\">\r\n                      <div fxFlex=\"\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n                        <div class=\"noc-article-title\">\r\n                          {{node.data.title}}\r\n                        </div>\r\n                        <div class=\"noc-subtitle\">\r\n                          <a (click)=\"$event.stopPropagation()\" href=\"{{node.data.link}}\" target=\"_blank\">\r\n                            {{node.data.id}}\r\n                          </a>\r\n                        </div>\r\n                        <div class=\"noc-article-author\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                          <mat-icon class=\"s-16 mr-4\">person</mat-icon> <span fxFlex=\"\">{{node.data.author}}</span>\r\n                        </div>\r\n                        <div class=\"noc-article-date\">\r\n                          <mat-icon class=\"s-16 mr-4\">date_range</mat-icon> <span>{{node.data.date}}</span>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"noc-badge\" (click)=\"openSearch(node.data)\" fxLayout=\"row\"\r\n                        fxLayoutAlign=\"center center\">\r\n                        {{node.data.frequency}}\r\n                      </div>\r\n                    </ng-container>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </ng-template>\r\n        </tree-root>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, Inject, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport {\r\n  NoctuaUserService,\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n\r\n  CamStats\r\n} from '@geneontology/noctua-form-base';\r\nimport { noctuaAnimations } from '@noctua/animations';\r\nimport { NoctuaReviewSearchService } from './../../../services/noctua-review-search.service';\r\nimport { ReviewMode } from './../../../models/review-mode';\r\nimport { NoctuaSearchMenuService } from './../../../services/search-menu.service';\r\nimport { MiddlePanel, LeftPanel, RightPanel } from './../../../models/menu-panels';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'noc-cams-review-changes-dialog',\r\n  templateUrl: './cams-review-changes.component.html',\r\n  styleUrls: ['./cams-review-changes.component.scss'],\r\n  animations: noctuaAnimations,\r\n})\r\nexport class CamsReviewChangesDialogComponent implements OnInit, OnDestroy {\r\n\r\n  ReviewMode = ReviewMode;\r\n  LeftPanel = LeftPanel;\r\n  MiddlePanel = MiddlePanel;\r\n  RightPanel = RightPanel;\r\n  stats: any[] = [];\r\n\r\n  summary;\r\n\r\n  public title = 'Review Changes';\r\n  public message: string;\r\n  public readonlyDialog = false;\r\n  public cancelLabel = 'Cancel'\r\n  public confirmLabel = 'Confirm'\r\n\r\n  displayedColumns = [\r\n    'category',\r\n    'count'\r\n  ];\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private _matDialogRef: MatDialogRef<CamsReviewChangesDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) private _data: any,\r\n\r\n    public noctuaReviewSearchService: NoctuaReviewSearchService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService) {\r\n\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    if (_data.options) {\r\n      this.cancelLabel = _data.options.cancelLabel ? _data.options.cancelLabel : 'Cancel';\r\n      this.confirmLabel = _data.options.confirmLabel ? _data.options.confirmLabel : 'Confirm';\r\n    }\r\n\r\n    this.summary = this._data.summary\r\n    this.stats = this.generateStats(this.summary.stats);\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  generateStats(stats: CamStats): any[] {\r\n    stats.updateTotal();\r\n    const result = [{\r\n      category: 'Genes',\r\n      count: stats.gpsCount\r\n    }, {\r\n      category: 'Terms',\r\n      count: stats.termsCount\r\n    }, {\r\n      category: 'Evidence',\r\n      count: stats.evidenceCount\r\n    }, {\r\n      category: 'Reference',\r\n      count: stats.referencesCount\r\n    }, {\r\n      category: 'With',\r\n      count: stats.withsCount\r\n    }, {\r\n      category: 'Relations',\r\n      count: stats.relationsCount\r\n    }];\r\n\r\n    return result;\r\n  }\r\n\r\n  selectMiddlePanel(panel) {\r\n    this.noctuaSearchMenuService.selectMiddlePanel(panel);\r\n\r\n    switch (panel) {\r\n      case MiddlePanel.cams:\r\n        this.noctuaSearchMenuService.selectLeftPanel(LeftPanel.filter);\r\n        break;\r\n      case MiddlePanel.camsReview:\r\n        this.noctuaSearchMenuService.selectLeftPanel(LeftPanel.artBasket);\r\n        break;\r\n      case MiddlePanel.reviewChanges:\r\n        this.noctuaSearchMenuService.selectLeftPanel(LeftPanel.artBasket);\r\n        break;\r\n    }\r\n  }\r\n\r\n  confirm() {\r\n    this._matDialogRef.close(true);\r\n  }\r\n\r\n  cancel() {\r\n    this._matDialogRef.close();\r\n  }\r\n}","<div class=\"dialog-content-wrapper noc-dialog\">\r\n  <mat-toolbar class=\"mat-primary m-0\">\r\n    <mat-toolbar-row fxFlex fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <span class=\"title dialog-title\">\r\n        {{title}} </span>\r\n      <span fxFlex></span>\r\n      <button mat-stroked-button (click)=\"cancel()\" class=\"noc-rounded-button noc-sm\" aria-label=\"Close dialog\">\r\n        <mat-icon>close</mat-icon> Close\r\n      </button>\r\n    </mat-toolbar-row>\r\n  </mat-toolbar>\r\n  <div class=\"noc-dialog-body noc-form-section\" noctuaPerfectScrollbar>\r\n    <div class=\"noc-stats-results\" fxLayout=\"column\" fxLayoutAlign=\"start center\">\r\n      <div class=\"alert alert-warning w-100-p\">\r\n        {{message}}\r\n        <div class=\"noc-stat-summary w-100-p\">\r\n          <span class=\"noc-number\">\r\n            {{summary?.stats.totalChanges }}\r\n          </span>\r\n          unsaved changes across\r\n          <span class=\"noc-number\">\r\n            {{summary?.stats.camsCount }} model(s)\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <table fxFlex=\"1 1 auto\" mat-table class=\"noc-summary-table\" [dataSource]=\"stats\"\r\n        [@animateStagger]=\"{value:'50'}\">\r\n        <ng-container matColumnDef=\"category\">\r\n          <th mat-header-cell *matHeaderCellDef fxFlex=\"250px\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n            Category\r\n          </th>\r\n          <td mat-cell *matCellDef=\"let stat\" fxFlex=\"250px\" class=\"noc-title\" fxLayout=\"row\"\r\n            fxLayoutAlign=\"start center\">\r\n            {{stat.category }}\r\n          </td>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"count\">\r\n          <th mat-header-cell *matHeaderCellDef fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\">Changes</th>\r\n          <td mat-cell *matCellDef=\"let stat\" fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n            {{stat.count}}\r\n          </td>\r\n        </ng-container>\r\n        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n        <tr mat-row (click)=\"$event.stopPropagation()\" *matRowDef=\"let stat; columns: displayedColumns;\">\r\n        </tr>\r\n      </table>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"!readonlyDialog\" class=\"m-0 p-16 noc-dialog-footer\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n    <button (click)='cancel()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">\r\n      {{cancelLabel}}</button>\r\n    <button (click)=\"confirm()\" type=\"button\" mat-raised-button color=\"primary\">\r\n      {{confirmLabel}}\r\n    </button>\r\n  </div>\r\n  <div *ngIf=\"readonlyDialog\" class=\"m-0 p-16 noc-dialog-footer\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n    <button (click)='cancel()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">Close</button>\r\n  </div>\r\n</div>","\r\nimport { Component, OnDestroy, OnInit, Inject, NgZone, AfterViewInit } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport {\r\n  Cam,\r\n  NoctuaUserService,\r\n  NoctuaFormConfigService,\r\n\r\n  CamService\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { NoctuaSearchService } from '../../../services/noctua-search.service';\r\nimport { noctuaAnimations } from '@noctua/animations';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { NoctuaReviewSearchService } from '../../../services/noctua-review-search.service';\r\nimport { NoctuaSearchDialogService } from '../../../services/dialog.service';\r\nimport { NoctuaSearchMenuService } from '../../../services/search-menu.service';\r\nimport { NoctuaConfirmDialogService } from '@noctua/components/confirm-dialog/confirm-dialog.service';\r\nimport { LeftPanel, MiddlePanel } from '../../../models/menu-panels';\r\nimport { ReviewMode } from '../../../models/review-mode';\r\n\r\n@Component({\r\n  selector: 'noc-cams-unsaved-dialog',\r\n  templateUrl: './cams-unsaved.component.html',\r\n  styleUrls: ['./cams-unsaved.component.scss'],\r\n  animations: noctuaAnimations,\r\n})\r\nexport class CamsUnsavedDialogComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  cams: Cam[] = []\r\n  summary;\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor\r\n    (\r\n      private _matDialogRef: MatDialogRef<CamsUnsavedDialogComponent>,\r\n\r\n      private zone: NgZone,\r\n      public camService: CamService,\r\n      public noctuaConfigService: NoctuaFormConfigService,\r\n      private confirmDialogService: NoctuaConfirmDialogService,\r\n      public noctuaSearchDialogService: NoctuaSearchDialogService,\r\n      public noctuaUserService: NoctuaUserService,\r\n      public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n      public noctuaSearchService: NoctuaSearchService,\r\n      public noctuaFormConfigService: NoctuaFormConfigService,\r\n      private noctuaReviewSearchService: NoctuaReviewSearchService,) {\r\n    this._unsubscribeAll = new Subject();\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.camService.onCamsChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(cams => {\r\n        if (!cams) {\r\n          return;\r\n        }\r\n        this.cams = cams;\r\n      });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    setTimeout(() => {\r\n      this.camService.onCamsCheckoutChanged\r\n        .pipe(takeUntil(this._unsubscribeAll))\r\n        .subscribe(summary => {\r\n          if (!summary) {\r\n            return;\r\n          }\r\n\r\n          this.summary = summary;\r\n        });\r\n    }, 1);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  reviewChanges() {\r\n    const self = this;\r\n\r\n    self.camService.reviewChangesCams();\r\n    self.noctuaSearchMenuService.selectLeftPanel(LeftPanel.artBasket);\r\n    self.noctuaSearchMenuService.selectMiddlePanel(MiddlePanel.camsReview);\r\n    self.noctuaSearchMenuService.reviewMode = ReviewMode.on;\r\n    self.noctuaSearchMenuService.isReviewMode = true;\r\n    this.close();\r\n  }\r\n\r\n  logout() {\r\n    this.noctuaReviewSearchService.clear();\r\n    this.camService.clearCams();\r\n    this.noctuaReviewSearchService.clearBasket();\r\n\r\n    this._matDialogRef.close(true);\r\n  }\r\n\r\n  close() {\r\n    this._matDialogRef.close();\r\n  }\r\n}\r\n\r\n\r\n","<div class=\"dialog-content-wrapper noc-dialog\">\r\n  <mat-toolbar class=\"mat-primary m-0\">\r\n    <mat-toolbar-row fxFlex fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <span class=\"title dialog-title\">\r\n        Unsaved Changes (Annotation Review Tool) </span>\r\n      <span fxFlex></span>\r\n      <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" aria-label=\"Close dialog\">\r\n        <mat-icon>close</mat-icon> Close\r\n      </button>\r\n    </mat-toolbar-row>\r\n  </mat-toolbar>\r\n  <div class=\"noc-dialog-body\" noctuaPerfectScrollbar>\r\n    <div *ngIf=\"summary?.stats.totalChanges>0\" class=\"alert alert-danger w-100-p\">\r\n      It looks like you have pending changes for Annotation Review Tool.\r\n      .If you leave before saving, your basket changes will be lost.\r\n      <div class=\"noc-stat-summary w-100-p\">\r\n        <span class=\"noc-number\">\r\n          {{summary?.stats.totalChanges }}\r\n        </span>\r\n        unsaved changes across\r\n        <span class=\"noc-number\">\r\n          {{summary?.stats.camsCount }} models\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"summary?.stats.totalChanges===0\" class=\"alert alert-warning w-100-p\">\r\n      It looks like Annotation Review Tool Basket is not empty.\r\n      .If you leave, your basket will be cleared.\r\n    </div>\r\n    <div *ngFor=\"let cam of cams\" class=\"noc-group-row\"\r\n      [ngClass]=\"{'noc-selected': cam.id===camService.currentMatch?.modelId}\" fxLayout=\"column\"\r\n      fxLayoutAlign=\"start stretch\">\r\n      <div *ngIf=\"cam.modified\" class=\"noc-modified-header w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-title\">Modified Model:\r\n        </div>\r\n        (<strong class=\"mr-4\">{{cam.modifiedStats?.totalChanges}}</strong> change(s) )\r\n        <span fxFlex></span>\r\n      </div>\r\n      <div class=\"noc-item-body w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"w-100-p h-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n          <div class=\"noc-item\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\r\n            <div class=\"noc-title\">Title:</div> {{cam.title}}\r\n          </div>\r\n          <div class=\"noc-item\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n            <div class=\"noc-title\">State:</div> {{cam.state?.label}}\r\n          </div>\r\n          <div *ngIf=\"cam.moreDetail\" class=\"w-100-p\">\r\n            <div class=\"noc-item\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-title\">Contributors:</div>\r\n              <div class=\"mr-8\" *ngFor=\"let contributor of cam.contributors\" matTooltip=\"{{contributor.name}}\"\r\n                [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n                {{contributor.name ? contributor.name :contributor.orcid}};\r\n              </div>\r\n            </div>\r\n            <div class=\"noc-item\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-title\">Groups:</div>\r\n              <span class=\"\" *ngFor=\"let group of cam.groups\" matTooltip=\"{{group.name}}\" [matTooltipPosition]=\"'below'\"\r\n                [matTooltipShowDelay]=\"1000\">\r\n                <div class=\"noc-chip-label\">\r\n                  {{group.name ? group.name :group.url}}\r\n                </div>\r\n              </span>\r\n            </div>\r\n            <div class=\"noc-item\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-title\">Open In:</div>\r\n              <a class=\"mr-4\" [href]='cam.model?.modelInfo?.noctuaVPEUrl' target=\"_blank\">\r\n                Pathway Editor\r\n              </a>\r\n              <span>&#8226;</span>\r\n              <a class=\"ml-4 mr-4\" [href]='cam.model?.modelInfo?.noctuaFormUrl' target=\"_blank\">\r\n                Form Editor\r\n              </a>\r\n              <span>&#8226;</span>\r\n              <a class=\"ml-4\" [href]='cam.model?.modelInfo?.graphEditorUrl' target=\"_blank\">\r\n                Graph Editor\r\n              </a>\r\n            </div>\r\n          </div>\r\n          <div class=\"noc-item\">\r\n            <a (click)=\"$event.stopPropagation();cam.moreDetail =!cam.moreDetail\" class=\"noc-more-details-button\">\r\n              <span *ngIf=\"!cam.moreDetail\">More Details\r\n                <fa-icon [icon]=\"['fas', 'angle-double-down']\"></fa-icon>\r\n              </span>\r\n              <span *ngIf=\"cam.moreDetail\">Less Details\r\n                <fa-icon [icon]=\"['fas', 'angle-double-up']\"></fa-icon>\r\n              </span>\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <span fxFlex></span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"m-0 p-16 noc-dialog-footer\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n    <button (click)='close()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">Cancel</button>\r\n    <span fxFlex></span>\r\n    <button (click)=\"reviewChanges()\" type=\"button\" mat-raised-button color=\"primary\">Review Changes</button>\r\n    <button (click)=\"logout()\" type=\"button\" mat-raised-button color=\"warn\">Logout Anyway</button>\r\n  </div>\r\n</div>","import { Component, OnInit, OnDestroy, NgZone, Input } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { Cam, CamLoadingIndicator, CamService, CamStats, NoctuaFormConfigService, NoctuaUserService } from '@geneontology/noctua-form-base';\r\nimport { NoctuaSearchService } from './../..//services/noctua-search.service';\r\nimport { NoctuaSearchMenuService } from '../../services/search-menu.service';\r\nimport { finalize, takeUntil } from 'rxjs/operators';\r\nimport { NoctuaReviewSearchService } from './../../services/noctua-review-search.service';\r\nimport { NoctuaConfirmDialogService } from '@noctua/components/confirm-dialog/confirm-dialog.service';\r\nimport { LeftPanel, MiddlePanel } from './../../models/menu-panels';\r\nimport { NoctuaSearchDialogService } from './../../services/dialog.service';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\n\r\n@Component({\r\n  selector: 'noc-find-replace',\r\n  templateUrl: './find-replace.component.html',\r\n  styleUrls: ['./find-replace.component.scss']\r\n})\r\nexport class FindReplaceComponent implements OnInit, OnDestroy {\r\n  MiddlePanel = MiddlePanel;\r\n\r\n  @Input('panelDrawer')\r\n  panelDrawer: MatDrawer;\r\n  cam: Cam;\r\n  summary;\r\n  stats\r\n\r\n  loadingSpinner: any = {\r\n    color: 'primary',\r\n    mode: 'indeterminate'\r\n  };\r\n\r\n  displayedColumns = [\r\n    'category',\r\n    'count'\r\n  ];\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private zone: NgZone,\r\n\r\n    public camService: CamService,\r\n    private confirmDialogService: NoctuaConfirmDialogService,\r\n    public noctuaSearchDialogService: NoctuaSearchDialogService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaReviewSearchService: NoctuaReviewSearchService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    public noctuaSearchService: NoctuaSearchService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.camService.onCamChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((cam: Cam) => {\r\n        if (!cam) {\r\n          return;\r\n        }\r\n        this.cam = cam;\r\n      });\r\n\r\n    this.camService.onCamsCheckoutChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(summary => {\r\n        if (!summary) {\r\n          return;\r\n        }\r\n\r\n        this.summary = summary\r\n        this.stats = this.generateStats(this.summary.stats);\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  backToReview() {\r\n    this.noctuaSearchMenuService.selectMiddlePanel(MiddlePanel.camsReview);\r\n  }\r\n\r\n  close() {\r\n    this.panelDrawer.close();\r\n  }\r\n\r\n  reviewCamChanges(cam: Cam) {\r\n    const self = this;\r\n\r\n    const success = (done) => {\r\n    }\r\n\r\n    const summary = self.camService.reviewCamChanges(cam)\r\n    self.noctuaSearchDialogService.openCamReviewChangesDialog(success, summary)\r\n\r\n  }\r\n\r\n  generateStats(stats: CamStats): any[] {\r\n    stats.updateTotal();\r\n    const result = [{\r\n      category: 'Genes',\r\n      count: stats.gpsCount\r\n    }, {\r\n      category: 'Terms',\r\n      count: stats.termsCount\r\n    }, {\r\n      category: 'Evidence',\r\n      count: stats.evidenceCount\r\n    }, {\r\n      category: 'Reference',\r\n      count: stats.referencesCount\r\n    }, {\r\n      category: 'With',\r\n      count: stats.withsCount\r\n    }, {\r\n      category: 'Relations',\r\n      count: stats.relationsCount\r\n    }];\r\n\r\n    return result;\r\n  }\r\n\r\n}\r\n","<div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"noc-drawer h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <div class=\"noc-header w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <span class=\"noc-drawer-header-title\">\r\n        Find and Replace</span>\r\n      <span fxFlex></span>\r\n      <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n        aria-label=\"Close dialog\">\r\n        <mat-icon>close</mat-icon> CLOSE\r\n      </button>\r\n    </div>\r\n    <noc-review-form class=\"pt-4 px-12\"></noc-review-form>\r\n  </div>\r\n  <div class=\"noc-drawer-body\" noctuaPerfectScrollbar>\r\n    <div *ngIf=\"!noctuaUserService.user\" class=\"noc-draw-body-disabled\" fxLayoutAlign=\"center center\">\r\n      Log in to Continue\r\n    </div>\r\n    <div *ngIf=\"summary?.stats.totalChanges>0\" class=\"noc-stats-results\" fxLayout=\"column\" fxLayoutAlign=\"start center\">\r\n      <div class=\"noc-stat-summary\">\r\n        <span class=\"noc-number\">\r\n          {{summary?.stats.totalChanges }}\r\n        </span>\r\n        changes on this model\r\n      </div>\r\n      <table fxFlex=\"1 1 auto\" mat-table class=\"noc-summary-table\" [dataSource]=\"stats\">\r\n        <ng-container matColumnDef=\"category\">\r\n          <th mat-header-cell *matHeaderCellDef fxFlex=\"200px\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n            Category\r\n          </th>\r\n          <td mat-cell *matCellDef=\"let stat\" fxFlex=\"200px\" class=\"noc-title\" fxLayout=\"row\"\r\n            fxLayoutAlign=\"start center\">\r\n            {{stat.category }}\r\n          </td>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"count\">\r\n          <th mat-header-cell *matHeaderCellDef fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\">Changes</th>\r\n          <td mat-cell *matCellDef=\"let stat\" fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n            {{stat.count}}\r\n          </td>\r\n        </ng-container>\r\n        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n        <tr mat-row (click)=\"$event.stopPropagation()\" *matRowDef=\"let stat; columns: displayedColumns;\">\r\n        </tr>\r\n      </table>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"noc-drawer-footer noc-submit-row\">\r\n\r\n  </div>\r\n</div>","\r\n\r\nimport { Component, OnDestroy, OnInit, NgZone } from '@angular/core';\r\nimport { EMPTY, Subject } from 'rxjs';\r\n\r\n\r\nimport {\r\n  Cam,\r\n  ActivityType,\r\n  NoctuaUserService,\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  noctuaFormConfig,\r\n\r\n  ActivityNode,\r\n  EntityLookup,\r\n  NoctuaLookupService,\r\n  EntityDefinition,\r\n  Entity,\r\n  Evidence,\r\n  NoctuaGraphService,\r\n  CamLoadingIndicator,\r\n  CamService\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { takeUntil, distinctUntilChanged, debounceTime, take, concatMap, finalize } from 'rxjs/operators';\r\nimport { noctuaAnimations } from '@noctua/animations';\r\nimport { FormGroup, FormControl } from '@angular/forms';\r\nimport { NoctuaReviewSearchService } from '@noctua.search/services/noctua-review-search.service';\r\nimport { cloneDeep, groupBy } from 'lodash';\r\nimport { ArtReplaceCategory } from '@noctua.search/models/review-mode';\r\nimport { NoctuaConfirmDialogService } from '@noctua/components/confirm-dialog/confirm-dialog.service';\r\nimport { InlineReferenceService } from '@noctua.editor/inline-reference/inline-reference.service';\r\n\r\n@Component({\r\n  selector: 'noc-review-form',\r\n  templateUrl: './review-form.component.html',\r\n  styleUrls: ['./review-form.component.scss'],\r\n  animations: noctuaAnimations,\r\n})\r\nexport class ReviewFormComponent implements OnInit, OnDestroy {\r\n  ActivityType = ActivityType;\r\n  ArtReplaceCategory = ArtReplaceCategory;\r\n  searchForm: FormGroup;\r\n  cams: Cam[] = [];\r\n  displayReplaceForm = {\r\n    replaceSection: false,\r\n    replaceActions: false\r\n  };\r\n  noctuaFormConfig = noctuaFormConfig;\r\n  categories: any;\r\n  findNode: ActivityNode;\r\n  replaceNode: ActivityNode;\r\n  gpNode: ActivityNode;\r\n  termNode: ActivityNode;\r\n  selectedCategory;\r\n\r\n  textboxDetail = {\r\n    placeholder: ''\r\n  }\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private zone: NgZone,\r\n    private noctuaGraphService: NoctuaGraphService,\r\n    private camService: CamService,\r\n    private confirmDialogService: NoctuaConfirmDialogService,\r\n    public noctuaReviewSearchService: NoctuaReviewSearchService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    private noctuaLookupService: NoctuaLookupService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n    private inlineReferenceService: InlineReferenceService,) {\r\n\r\n    this._unsubscribeAll = new Subject();\r\n    this.categories = cloneDeep(this.noctuaFormConfigService.findReplaceCategories);\r\n    this.camService.onCamsChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(cams => {\r\n        if (!cams) {\r\n          return;\r\n        }\r\n        this.cams = cams;\r\n      });\r\n\r\n    this.gpNode = EntityDefinition.generateBaseTerm([\r\n      EntityDefinition.GoMolecularEntity,\r\n      // EntityDefinition.GoChemicalEntity\r\n    ]);\r\n    this.termNode = EntityDefinition.generateBaseTerm([\r\n      EntityDefinition.GoMolecularFunction,\r\n      EntityDefinition.GoBiologicalProcess,\r\n      EntityDefinition.GoCellularComponent,\r\n      EntityDefinition.GoBiologicalPhase,\r\n      EntityDefinition.GoAnatomicalEntity,\r\n      EntityDefinition.GoCellTypeEntity\r\n    ]);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.selectedCategory = this.categories.selected;\r\n    this.resetForm(this.selectedCategory);\r\n\r\n    this.noctuaReviewSearchService.onCamTermSearch\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((term) => {\r\n        if (!term) {\r\n          return;\r\n        }\r\n        this.clearFind();\r\n        this.searchForm.controls['findWhat'].setValue(term)\r\n        this.findSelected(term)\r\n      });\r\n\r\n    this.noctuaReviewSearchService.onCamReplaceTermSearch\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((term) => {\r\n        if (!term) {\r\n          return;\r\n        }\r\n        this.searchForm.controls['replaceWith'].setValue(term)\r\n      });\r\n\r\n    this.noctuaReviewSearchService.onClearForm\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(clear => {\r\n        if (!clear) {\r\n          return;\r\n        }\r\n        this.clearFind();\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  resetForm(selectedCategory): void {\r\n    this.searchForm = this.createSearchForm(selectedCategory);\r\n    this.noctuaReviewSearchService.clear();\r\n    this.camService.clearHighlight();\r\n\r\n    this.calculateEnableReplace(this.selectedCategory);\r\n    this.onValueChanges();\r\n    this.onNodeValueChange(selectedCategory)\r\n  }\r\n\r\n  resetTermNode() {\r\n    this.termNode = EntityDefinition.generateBaseTerm([\r\n      EntityDefinition.GoMolecularFunction,\r\n      EntityDefinition.GoBiologicalProcess,\r\n      EntityDefinition.GoCellularComponent,\r\n      EntityDefinition.GoBiologicalPhase,\r\n      EntityDefinition.GoAnatomicalEntity,\r\n      EntityDefinition.GoCellTypeEntity\r\n    ]);\r\n  }\r\n\r\n  createSearchForm(selectedCategory) {\r\n    this.selectedCategory = selectedCategory;\r\n    return new FormGroup({\r\n      findWhat: new FormControl(),\r\n      replaceWith: new FormControl(),\r\n      category: new FormControl(selectedCategory),\r\n    });\r\n  }\r\n\r\n  getClosure(rootTypes: Entity[]) {\r\n    const range = [\r\n      EntityDefinition.GoMolecularEntity,\r\n      EntityDefinition.GoMolecularFunction,\r\n      EntityDefinition.GoBiologicalProcess,\r\n      EntityDefinition.GoCellularComponent,\r\n      EntityDefinition.GoBiologicalPhase,\r\n      EntityDefinition.GoAnatomicalEntity,\r\n      EntityDefinition.GoCellTypeEntity,\r\n      EntityDefinition.GoProteinContainingComplex,\r\n      //EntityDefinition.GoChemicalEntity,\r\n      EntityDefinition.GoOrganism,\r\n      EntityDefinition.GoEvidence\r\n    ];\r\n\r\n    const closures = range.filter(closure => {\r\n      return rootTypes.find(rootType => rootType.id === closure.category);\r\n    });\r\n\r\n    return closures;\r\n  }\r\n\r\n  search(findWhat) {\r\n    let filterType: string;\r\n    this.noctuaReviewSearchService.clear();\r\n\r\n    if (this.selectedCategory.name === noctuaFormConfig.findReplaceCategory.options.term.name) {\r\n      filterType = this.noctuaReviewSearchService.filterType.terms;\r\n    } else if (this.selectedCategory.name === noctuaFormConfig.findReplaceCategory.options.gp.name) {\r\n      filterType = this.noctuaReviewSearchService.filterType.gps;\r\n    } else if (this.selectedCategory.name === noctuaFormConfig.findReplaceCategory.options.reference.name) {\r\n      filterType = this.noctuaReviewSearchService.filterType.pmids;\r\n    }\r\n\r\n    this.noctuaReviewSearchService.searchCriteria[filterType] = [findWhat];\r\n    this.noctuaReviewSearchService.updateSearch();\r\n  }\r\n\r\n  openAddReference(event, name: string) {\r\n\r\n    const data = {\r\n      formControl: this.searchForm.controls[name] as FormControl,\r\n    };\r\n    this.inlineReferenceService.open(event.target, { data });\r\n\r\n  }\r\n\r\n  replace() {\r\n    const self = this;\r\n    const value = this.searchForm.value;\r\n    let replaceWith = value.replaceWith;\r\n\r\n    const cams = self.camService.getReplaceObject([this.noctuaReviewSearchService.currentMatchedEnity],\r\n      replaceWith, self.selectedCategory);\r\n\r\n    self.replaceCams(cams);\r\n  }\r\n\r\n  replaceAll() {\r\n    const self = this;\r\n    const value = this.searchForm.value;\r\n    const groupedEntities = groupBy(\r\n      this.noctuaReviewSearchService.matchedEntities,\r\n      'modelId') as { string: Entity[] };\r\n    const models = Object.keys(groupedEntities).length;\r\n    const occurrences = this.noctuaReviewSearchService.matchedCount;\r\n    let replaceWith = value.replaceWith;\r\n\r\n    const success = (replace) => {\r\n      if (replace) {\r\n        const cams = self.camService.getReplaceObject(this.noctuaReviewSearchService.matchedEntities,\r\n          replaceWith, self.selectedCategory);\r\n\r\n        self.camService.resetLoading(cams, new CamLoadingIndicator(true, 'Loading...'))\r\n        self.replaceCams(cams);\r\n      }\r\n    };\r\n\r\n    this.confirmDialogService.openConfirmDialog('Confirm ReplaceAll?',\r\n      `Replace ${occurrences} occurrences across ${models} model(s)`,\r\n      success);\r\n  }\r\n\r\n  findNext() {\r\n    this.noctuaReviewSearchService.findNext();\r\n  }\r\n\r\n  findPrevious() {\r\n    this.noctuaReviewSearchService.findPrevious();\r\n  }\r\n\r\n  goto(step: 'first' | 'last') {\r\n    this.noctuaReviewSearchService.goto(step);\r\n  }\r\n\r\n  findSelected(value: any) {\r\n    const closures = this.getClosure(value.rootTypes);\r\n    this.findNode!.termLookup.results = []\r\n\r\n    if (closures) {\r\n      this.replaceNode = EntityDefinition.generateBaseTerm(closures);\r\n    }\r\n\r\n    const findWhat = this.searchForm.value.findWhat;\r\n    this.search(findWhat);\r\n\r\n    this.searchForm.patchValue({\r\n      replaceWith: null\r\n    });\r\n  }\r\n\r\n  termDisplayFn(term): string | undefined {\r\n    return term && term.id ? `${term.label} (${term.id})` : undefined;\r\n  }\r\n\r\n  clearFind() {\r\n    const self = this;\r\n    self.searchForm.patchValue({\r\n      findWhat: null,\r\n      replaceWith: null\r\n    });\r\n    self.noctuaReviewSearchService.clear();\r\n    self.camService.clearHighlight();\r\n\r\n    self.calculateEnableReplace(self.selectedCategory);\r\n  }\r\n\r\n  clearReplace() {\r\n    const self = this;\r\n    self.searchForm.patchValue({\r\n      replaceWith: null\r\n    });\r\n\r\n    self.calculateEnableReplace(self.selectedCategory);\r\n  }\r\n\r\n  onValueChanges() {\r\n    const self = this;\r\n\r\n    this.searchForm.get('category').valueChanges.pipe(\r\n      takeUntil(this._unsubscribeAll),\r\n      distinctUntilChanged(),\r\n    ).subscribe(data => {\r\n      if (data) {\r\n        self.selectedCategory = data;\r\n        self.searchForm.patchValue({\r\n          findWhat: null,\r\n          replaceWith: null\r\n        });\r\n\r\n        self.calculateEnableReplace(self.selectedCategory);\r\n        self.resetForm(data)\r\n      }\r\n    });\r\n  }\r\n\r\n  onNodeValueChange(selectedCategory) {\r\n    const self = this;\r\n    const lookupFunc = self.noctuaLookupService.lookupFunc();\r\n\r\n    if (selectedCategory.name === noctuaFormConfig.findReplaceCategory.options.term.name) {\r\n      self.findNode = self.termNode;\r\n      self.textboxDetail.placeholder = 'Ontology Term'\r\n    } else if (selectedCategory.name === noctuaFormConfig.findReplaceCategory.options.gp.name) {\r\n      self.findNode = self.gpNode;\r\n      self.textboxDetail.placeholder = 'Gene Product'\r\n    } else if (selectedCategory.name === noctuaFormConfig.findReplaceCategory.options.reference.name) {\r\n      self.findNode = null;\r\n      self.textboxDetail.placeholder = 'Reference'\r\n    }\r\n\r\n    if (self.findNode) {\r\n      this.findNode.termLookup.results = []\r\n      this.searchForm.get('findWhat').valueChanges.pipe(\r\n        takeUntil(this._unsubscribeAll),\r\n        distinctUntilChanged(),\r\n        debounceTime(400)\r\n      ).subscribe(data => {\r\n        if (data) {\r\n          const lookup: EntityLookup = self.findNode.termLookup;\r\n          lookupFunc.termLookup(data, lookup.requestParams).subscribe(response => {\r\n            lookup.results = response;\r\n          });\r\n\r\n          self.searchForm.patchValue({\r\n            replaceWith: null\r\n          });\r\n\r\n          self.calculateEnableReplace(selectedCategory);\r\n        }\r\n      });\r\n\r\n      this.searchForm.get('replaceWith').valueChanges.pipe(\r\n        takeUntil(this._unsubscribeAll),\r\n        distinctUntilChanged(),\r\n        debounceTime(400)\r\n      ).subscribe(data => {\r\n        if (data && self.replaceNode) {\r\n          const lookup: EntityLookup = self.replaceNode.termLookup;\r\n          lookupFunc.termLookup(data, lookup.requestParams).subscribe(response => {\r\n            lookup.results = response;\r\n          });\r\n\r\n          self.calculateEnableReplace(selectedCategory);\r\n        }\r\n      });\r\n    } else {\r\n      this.searchForm.get('findWhat').valueChanges.pipe(\r\n        takeUntil(this._unsubscribeAll),\r\n        distinctUntilChanged(),\r\n        debounceTime(1000)\r\n      ).subscribe(data => {\r\n        if (data && data.includes(':')) {\r\n          if (Evidence.checkReference) {\r\n            const findWhat = Evidence.formatReference(data);\r\n            self.search(findWhat);\r\n            self.calculateEnableReplace(selectedCategory);\r\n          }\r\n        }\r\n      });\r\n\r\n      this.searchForm.get('replaceWith').valueChanges.pipe(\r\n        takeUntil(this._unsubscribeAll),\r\n        distinctUntilChanged(),\r\n        debounceTime(400)\r\n      ).subscribe(data => {\r\n        if (data && data.includes(':')) {\r\n          self.calculateEnableReplace(selectedCategory);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  calculateEnableReplace(selectedCategory) {\r\n    const self = this;\r\n\r\n    const value = self.searchForm.value;\r\n    const findWhat = value.findWhat;\r\n    const replaceWith = value.replaceWith;\r\n\r\n    if (selectedCategory.name === noctuaFormConfig.findReplaceCategory.options.reference.name) {\r\n      self.displayReplaceForm.replaceSection = findWhat && Evidence.checkReference(findWhat);\r\n      self.displayReplaceForm.replaceActions = replaceWith && Evidence.checkReference(replaceWith);\r\n    } else {\r\n      self.displayReplaceForm.replaceSection = findWhat && findWhat.id;\r\n      self.displayReplaceForm.replaceActions = replaceWith && replaceWith.id;\r\n    }\r\n  }\r\n\r\n  compareCategory(a: any, b: any) {\r\n    if (a && b) {\r\n      return (a.name === b.name);\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private replaceCams(cams: Cam[]) {\r\n    const self = this;\r\n\r\n    this.camService.replace(cams).pipe(\r\n      take(1),\r\n      concatMap((result) => {\r\n        return EMPTY;\r\n        //return self.camService.bulkStoredModel(cams)\r\n      }),\r\n      finalize(() => {\r\n        self.zone.run(() => {\r\n          self.camService.resetLoading(cams)\r\n          self.noctuaReviewSearchService.onReplaceChanged.next(true);\r\n          self.camService.reviewChangesCams();\r\n        })\r\n      }))\r\n      .subscribe(() => {\r\n\r\n      })\r\n  }\r\n\r\n}\r\n","<div class=\"noc-search-form  w-100-p\">\r\n  <form *ngIf=\"searchForm\" class=\"noc-section-body pt-8 w-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\"\r\n    name=\"searchForm\" [formGroup]=\"searchForm\">\r\n    <mat-form-field appearance=\"outline\" class=\"noc-sm mb-4 noc-review-input\">\r\n      <mat-label>Category</mat-label>\r\n      <mat-select placeholder=\"\" formControlName=\"category\" [compareWith]=\"compareCategory\">\r\n        <mat-option *ngFor=\"let category of categories.options\" [value]=\"category\">\r\n          {{category.label}}\r\n        </mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n    <div class=\"noc-activity-group-row mb-4 w-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <button class=\"noc-text-clear\" mat-icon-button aria-label=\"Clear\" (click)=\"$event.stopPropagation(); clearFind()\">\r\n        <fa-icon [icon]=\"['far', 'times-circle']\"></fa-icon>\r\n      </button>\r\n      <mat-form-field *ngIf=\"selectedCategory?.name === ArtReplaceCategory.term\" appearance=\"outline\"\r\n        class=\"noc-sm noc-review-input\">\r\n        <mat-label>Find What <strong>(Ontology Term)</strong>\r\n        </mat-label>\r\n        <textarea type=\"text\" matInput formControlName=\"findWhat\" [matAutocomplete]=\"findAuto\"></textarea>\r\n      </mat-form-field>\r\n      <mat-form-field *ngIf=\"selectedCategory?.name === ArtReplaceCategory.gp\" appearance=\"outline\"\r\n        class=\"noc-sm  noc-review-input\">\r\n        <mat-label>Find What <strong>(Gene Product)</strong></mat-label>\r\n        <textarea type=\"text\" matInput formControlName=\"findWhat\" [matAutocomplete]=\"findAuto\"></textarea>\r\n      </mat-form-field>\r\n      <mat-form-field *ngIf=\"selectedCategory?.name === ArtReplaceCategory.reference\" appearance=\"outline\"\r\n        class=\"noc-sm  noc-review-input\">\r\n        <mat-label>Find What <strong>(Reference)</strong></mat-label>\r\n        <textarea type=\"text\" matInput formControlName=\"findWhat\"></textarea>\r\n        <button mat-icon-button matSuffix (click)=\"openAddReference($event, 'findWhat')\"\r\n          class=\"noc-evidence-db-trigger\">\r\n          <mat-icon>playlist_add</mat-icon>\r\n        </button>\r\n      </mat-form-field>\r\n    </div>\r\n    <div [ngClass]=\"{'noc-disabled':noctuaReviewSearchService.matchedCount===0 || !displayReplaceForm.replaceSection}\"\r\n      class=\"noc-activity-group-row w-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <button class=\"noc-text-clear\" mat-icon-button aria-label=\"Clear\"\r\n        (click)=\"$event.stopPropagation(); clearReplace()\">\r\n        <fa-icon [icon]=\"['far', 'times-circle']\"></fa-icon>\r\n      </button>\r\n      <mat-form-field *ngIf=\"selectedCategory?.name === ArtReplaceCategory.term\" appearance=\"outline\"\r\n        class=\"noc-sm noc-review-input\">\r\n        <mat-label>Replace With <strong>(Ontology Term)</strong></mat-label>\r\n        <textarea type=\"text\" matInput formControlName=\"replaceWith\" [matAutocomplete]=\"replaceAuto\"></textarea>\r\n      </mat-form-field>\r\n      <mat-form-field *ngIf=\"selectedCategory?.name === ArtReplaceCategory.gp\" appearance=\"outline\"\r\n        class=\"noc-sm  noc-review-input\">\r\n        <mat-label>Replace With <strong>(Gene Product)</strong></mat-label>\r\n        <textarea type=\"text\" matInput formControlName=\"replaceWith\" [matAutocomplete]=\"replaceAuto\"></textarea>\r\n      </mat-form-field>\r\n      <mat-form-field *ngIf=\"selectedCategory?.name === ArtReplaceCategory.reference\" appearance=\"outline\"\r\n        class=\"noc-sm  noc-review-input\">\r\n        <mat-label>Replace With <strong>(Reference)</strong></mat-label>\r\n        <textarea type=\"text\" matInput formControlName=\"replaceWith\"></textarea>\r\n        <button mat-icon-button matSuffix (click)=\"openAddReference($event, 'replaceWith')\"\r\n          class=\"noc-evidence-db-trigger\">\r\n          <mat-icon>playlist_add</mat-icon>\r\n        </button>\r\n      </mat-form-field>\r\n    </div>\r\n    <div class=\"noc-activity-group-row mt-8 w-100-p\"\r\n      [ngClass]=\"{'noc-disabled':noctuaReviewSearchService.matchedCount===0}\" fxLayout=\"row\"\r\n      fxLayoutAlign=\"start center\">\r\n      <div class=\"noc-review-actions\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"\">\r\n        <span fxFlex></span>\r\n        <div *ngIf=\"noctuaReviewSearchService.matchedCount===0\" class=\"noc-matched-count\">\r\n          No Results\r\n        </div>\r\n        <div *ngIf=\"noctuaReviewSearchService.matchedCount>0\" class=\"noc-matched-count mr-8\">\r\n          {{noctuaReviewSearchService.matchedCountCursor +1}} of {{noctuaReviewSearchService.matchedCount}}\r\n        </div>\r\n        <div class=\"mr-8\">\r\n          <button mat-icon-button (click)=\"goto('first')\" class=\"noc-icon-button\"\r\n            [ngClass]=\"{'noc-disabled': noctuaReviewSearchService.matchedCountCursor===0}\" color=\"primary\">\r\n            <fa-icon [icon]=\"['fas', 'angle-double-left']\"></fa-icon>\r\n          </button>\r\n          <button mat-icon-button (click)=\"findPrevious()\" class=\"noc-icon-button\" color=\"primary\">\r\n            <fa-icon [icon]=\"['fas', 'angle-left']\"></fa-icon>\r\n          </button>\r\n          <button mat-icon-button (click)=\"findNext()\" class=\"noc-icon-button  noc-rotate-90\" color=\"primary\">\r\n            <fa-icon [icon]=\"['fas', 'angle-right']\"></fa-icon>\r\n          </button>\r\n          <button mat-icon-button (click)=\"goto('last')\" class=\"noc-icon-button\"\r\n            [ngClass]=\"{'noc-disabled': noctuaReviewSearchService.matchedCountCursor===noctuaReviewSearchService.matchedCount-1}\"\r\n            color=\"primary\">\r\n            <fa-icon [icon]=\"['fas', 'angle-double-right']\"></fa-icon>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div [ngClass]=\"{'noc-disabled':!displayReplaceForm.replaceActions}\" class=\"noc-review-actions\" fxLayout=\"row\"\r\n        fxLayoutAlign=\"start center\">\r\n        <button (click)=\"replace()\" mat-raised-button color=\"warn\" class=\"noc-sm mr-4 noc-review-btn\">\r\n          Replace\r\n        </button>\r\n        <button (click)=\"replaceAll()\" mat-raised-button color=\"warn\" class=\"noc-sm noc-review-btn\">\r\n          Replace All\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n<mat-autocomplete #findAuto=\"matAutocomplete\" (optionSelected)=\"findSelected($event.option.value)\"\r\n  [displayWith]=\"termDisplayFn\" class=\"noc-term-autocomplete\">\r\n  <mat-option class=\"noc-term-autocomplete\" *ngFor=\"let item of findNode?.termLookup.results\" [value]=\"item\">\r\n    <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div class=\"noc-term-label\">\r\n        {{ item.label }}\r\n      </div>\r\n      <span fxFlex></span>\r\n      <div class=\"noc-term-id\">\r\n        {{ item.id }}\r\n      </div>\r\n    </div>\r\n  </mat-option>\r\n</mat-autocomplete>\r\n\r\n<mat-autocomplete #replaceAuto=\"matAutocomplete\" [displayWith]=\"termDisplayFn\" class=\"noc-term-autocomplete\">\r\n  <mat-option class=\"noc-term-autocomplete\" *ngFor=\"let item of replaceNode?.termLookup.results\" [value]=\"item\">\r\n    <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div class=\"noc-term-label\">\r\n        {{ item.label }}\r\n      </div>\r\n      <span fxFlex></span>\r\n      <div class=\"noc-term-id\">\r\n        {{ item.id }}\r\n      </div>\r\n    </div>\r\n  </mat-option>\r\n</mat-autocomplete>","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup } from '@angular/forms';\r\nimport { Subject } from 'rxjs';\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaUserService\r\n} from '@geneontology/noctua-form-base';\r\nimport { NoctuaSearchService } from './../../services/noctua-search.service';\r\nimport { NoctuaSearchMenuService } from '../../services/search-menu.service';\r\n\r\n@Component({\r\n  selector: 'noc-search-contributors',\r\n  templateUrl: './search-contributors.component.html',\r\n  styleUrls: ['./search-contributors.component.scss'],\r\n})\r\n\r\nexport class SearchContributorsComponent implements OnInit, OnDestroy {\r\n  searchCriteria: any = {};\r\n  searchForm: FormGroup;\r\n  groupsForm: FormGroup;\r\n\r\n  private unsubscribeAll: Subject<any>;\r\n\r\n  constructor(public noctuaUserService: NoctuaUserService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    private noctuaSearchService: NoctuaSearchService,\r\n    private formBuilder: FormBuilder,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,) {\r\n    // this.contributors = this.noctuaSearchService.contributors;\r\n\r\n    this.unsubscribeAll = new Subject();\r\n\r\n    this.groupsForm = this.formBuilder.group({\r\n      groups: []\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  selectContributor(contributor) {\r\n    this.searchCriteria.contributor = contributor;\r\n    this.noctuaSearchService.search(this.searchCriteria);\r\n  }\r\n\r\n\r\n  search() {\r\n    let searchCriteria = this.searchForm.value;\r\n\r\n    this.noctuaSearchService.search(searchCriteria);\r\n  }\r\n\r\n  close() {\r\n    this.noctuaSearchMenuService.closeLeftDrawer();\r\n  }\r\n\r\n  createSearchForm() {\r\n    return new FormGroup({\r\n      term: new FormControl(),\r\n      groups: this.groupsForm,\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribeAll.next(null);\r\n    this.unsubscribeAll.complete();\r\n  }\r\n}\r\n","<div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"noc-drawer h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-drawer-header-title\">\r\n      Browse By Contributors</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> CLOSE\r\n    </button>\r\n  </div>\r\n  <form fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"mt-8 noc-search-form\" noctuaPerfectScrollbar>\r\n    <div *ngFor=\"let contributor of noctuaUserService.contributors\" (click)=\"selectContributor(contributor)\"\r\n      class=\"noc-contributor-row\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div class=\"noc-name\" fxFlex>\r\n        {{ contributor.name }}\r\n      </div>\r\n      <!--  <div class=\"w-100-p h-100-p\" fxLayout=\"column\" fxLayoutAlign=\"center start\">\r\n\r\n        <div class=\"\">\r\n          <strong>{{ contributor.cams }}</strong> Models\r\n        </div> \r\n      </div>-->\r\n      <span fxFlex></span>\r\n      <mat-icon class=\"s-24\">\r\n        chevron_right\r\n      </mat-icon>\r\n    </div>\r\n  </form>\r\n</div>\r\n","import { COMMA, ENTER } from '@angular/cdk/keycodes';\r\nimport { Component, OnInit, OnDestroy, ViewChildren, QueryList, ElementRef } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { MatAutocompleteSelectedEvent } from '@angular/material/autocomplete';\r\nimport { MatChipInputEvent } from '@angular/material/chips';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { startWith, map, distinctUntilChanged, debounceTime, takeUntil } from 'rxjs/operators';\r\nimport { NoctuaFormConfigService, NoctuaUserService, Group, Contributor, Organism, EntityDefinition, ActivityNode, EntityLookup } from '@geneontology/noctua-form-base';\r\nimport { NoctuaLookupService, NoctuaFormUtils } from '@geneontology/noctua-form-base';\r\nimport { NoctuaSearchService } from './../../services/noctua-search.service';\r\nimport { NoctuaSearchMenuService } from '../../services/search-menu.service';\r\nimport { MomentDateAdapter, MAT_MOMENT_DATE_ADAPTER_OPTIONS } from '@angular/material-moment-adapter';\r\nimport { DateAdapter, MAT_DATE_FORMATS, MAT_DATE_LOCALE } from '@angular/material/core';\r\n\r\n\r\nimport * as _moment from 'moment';\r\n// tslint:disable-next-line:no-duplicate-imports\r\nimport { default as _rollupMoment } from 'moment';\r\nimport { InlineReferenceService } from '@noctua.editor/inline-reference/inline-reference.service';\r\nimport { NoctuaConfirmDialogService } from '@noctua/components/confirm-dialog/confirm-dialog.service';\r\nimport { SearchFilterType } from './../../models/search-criteria';\r\nimport { NoctuaDataService } from '@noctua.common/services/noctua-data.service';\r\n\r\n\r\nconst moment = _rollupMoment || _moment;\r\n\r\nexport const MY_FORMATS = {\r\n  parse: {\r\n    dateInput: 'YYYY-MM-DD',\r\n  },\r\n  display: {\r\n    dateInput: 'YYYY-MM-DD',\r\n    monthYearLabel: 'MMMM YYYY',\r\n    dateA11yLabel: 'LL',\r\n    monthYearA11yLabel: 'MMMM YYYY',\r\n  },\r\n};\r\n@Component({\r\n  selector: 'noc-search-filter',\r\n  templateUrl: './search-filter.component.html',\r\n  styleUrls: ['./search-filter.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: DateAdapter,\r\n      useClass: MomentDateAdapter,\r\n      deps: [MAT_DATE_LOCALE, MAT_MOMENT_DATE_ADAPTER_OPTIONS]\r\n    },\r\n\r\n    { provide: MAT_DATE_FORMATS, useValue: MY_FORMATS },\r\n  ],\r\n})\r\nexport class SearchFilterComponent implements OnInit, OnDestroy {\r\n  SearchFilterType = SearchFilterType\r\n\r\n  @ViewChildren('searchInput')\r\n  searchInput: QueryList<ElementRef>;\r\n  searchCriteria: any = {};\r\n  isDateRange = false;\r\n  filterForm: FormGroup;\r\n  selectedOrganism = {};\r\n  searchFormData: any = [];\r\n  cams: any[] = [];\r\n  separatorKeysCodes: number[] = [ENTER, COMMA];\r\n  selectedContributors: Contributor[] = [];\r\n  filteredOrganisms: Observable<any[]>;\r\n  filteredGroups: Observable<any[]>;\r\n  filteredContributors: Observable<any[]>;\r\n  filteredStates: Observable<any[]>;\r\n\r\n  gpNode: ActivityNode;\r\n  termNode: ActivityNode;\r\n  obsoleteTermNode: ActivityNode;\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private noctuaDataService: NoctuaDataService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    private confirmDialogService: NoctuaConfirmDialogService,\r\n    private inlineReferenceService: InlineReferenceService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private noctuaLookupService: NoctuaLookupService,\r\n    public noctuaSearchService: NoctuaSearchService) {\r\n\r\n    this.gpNode = EntityDefinition.generateBaseTerm([EntityDefinition.GoMolecularEntity]);\r\n    this.termNode = EntityDefinition.generateBaseTerm([\r\n      EntityDefinition.GoMolecularFunction,\r\n      EntityDefinition.GoBiologicalProcess,\r\n      EntityDefinition.GoAllCellularComponent,\r\n      EntityDefinition.GoBiologicalPhase,\r\n      EntityDefinition.GoAnatomicalEntity,\r\n      EntityDefinition.GoCellTypeEntity,\r\n      EntityDefinition.UberonStage,\r\n    ]);\r\n    this.obsoleteTermNode = EntityDefinition.generateBaseTerm([EntityDefinition.ObsoleteTerm]);\r\n\r\n    this._unsubscribeAll = new Subject();\r\n    this.filterForm = this.createAnswerForm();\r\n    this._onValueChanges();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.noctuaDataService.onOrganismsChanged\r\n      .pipe(\r\n        takeUntil(this._unsubscribeAll))\r\n      .subscribe(organism => {\r\n        if (organism) {\r\n          this.noctuaSearchService.organisms = organism\r\n          this._onValueOrganismChanges();\r\n\r\n        }\r\n      });\r\n  }\r\n\r\n  createAnswerForm() {\r\n    return new FormGroup({\r\n      ids: new FormControl(),\r\n      gps: new FormControl(),\r\n      obsoleteTerms: new FormControl(),\r\n      terms: new FormControl(),\r\n      pmids: new FormControl(),\r\n      contributors: new FormControl(),\r\n      groups: new FormControl(),\r\n      organisms: new FormControl(),\r\n      titles: new FormControl(),\r\n      states: new FormControl(),\r\n      exactdates: new FormControl(),\r\n      startdates: new FormControl(),\r\n      enddates: new FormControl(),\r\n      isDateRange: new FormControl(),\r\n      exactTerm: new FormControl(),\r\n    });\r\n  }\r\n\r\n  termDisplayFn(term): string | undefined {\r\n    return term && term.id ? `${term.label} (${term.id})` : undefined;\r\n  }\r\n\r\n  evidenceDisplayFn(evidence): string | undefined {\r\n    return evidence && evidence.id ? `${evidence.label} (${evidence.id})` : undefined;\r\n  }\r\n\r\n  contributorDisplayFn(contributor: Contributor): string | undefined {\r\n    return contributor ? contributor.name : undefined;\r\n  }\r\n\r\n  groupDisplayFn(group: Group): string | undefined {\r\n    return group ? group.name : undefined;\r\n  }\r\n\r\n  organismDisplayFn(organism: Organism): string | undefined {\r\n    return organism ? organism.taxonName : undefined;\r\n  }\r\n\r\n  stateDisplayFn(state): string | undefined {\r\n    return state ? state.name : undefined;\r\n  }\r\n\r\n  close() {\r\n    this.noctuaSearchMenuService.closeLeftDrawer();\r\n  }\r\n\r\n  clear() {\r\n    this.noctuaSearchService.clearSearchCriteria();\r\n    this.searchInput.forEach((item) => {\r\n      item.nativeElement.value = null;\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  add(event: MatChipInputEvent, filterType, limit = 10): void {\r\n    const input = event.input;\r\n    const value = event.value;\r\n\r\n    if (this.noctuaSearchService.searchCriteria[filterType].length >= limit) {\r\n      this.confirmDialogService.openInfoToast(`Reached maximum number of ${filterType} filters allowed`, 'OK');\r\n    } else if ((value || '').trim()) {\r\n\r\n      if (filterType === this.SearchFilterType.ids) {\r\n        this.noctuaSearchService.searchCriteria[filterType].push(\r\n          NoctuaFormUtils.cleanModelId(value.trim()));\r\n      } else {\r\n        this.noctuaSearchService.searchCriteria[filterType].push(value.trim());\r\n      }\r\n      this.noctuaSearchService.updateSearch(true);\r\n      this.searchInput.forEach((item) => {\r\n        item.nativeElement.value = null;\r\n      });\r\n      this.filterForm.controls[filterType].setValue('');\r\n    }\r\n\r\n    if (input) {\r\n      input.value = '';\r\n    }\r\n  }\r\n\r\n  remove(item: Contributor | Group, filterType): void {\r\n    const index = this.noctuaSearchService.searchCriteria[filterType].indexOf(item);\r\n\r\n    if (index >= 0) {\r\n      this.noctuaSearchService.searchCriteria[filterType].splice(index, 1);\r\n      this.noctuaSearchService.updateSearch();\r\n    }\r\n  }\r\n\r\n  selected(event: MatAutocompleteSelectedEvent, filterType): void {\r\n    this.noctuaSearchService.searchCriteria[filterType].push(event.option.value);\r\n    this.noctuaSearchService.updateSearch();\r\n\r\n    this.searchInput.forEach((item) => {\r\n      item.nativeElement.value = null;\r\n    });\r\n\r\n    this.filterForm.controls[filterType].setValue('');\r\n  }\r\n\r\n  openAddReference(event, name: string) {\r\n\r\n    const data = {\r\n      formControl: this.filterForm.controls[name] as FormControl,\r\n    };\r\n    this.inlineReferenceService.open(event.target, { data });\r\n\r\n  }\r\n\r\n\r\n  downloadFilter() {\r\n    this.noctuaSearchService.downloadSearchConfig();\r\n  }\r\n\r\n  private _onValueChanges() {\r\n    const self = this;\r\n\r\n    const lookupFunc = self.noctuaLookupService.lookupFunc()\r\n\r\n    this.filterForm.get('terms').valueChanges.pipe(\r\n      distinctUntilChanged(),\r\n      debounceTime(400)\r\n    ).subscribe(data => {\r\n      const lookup: EntityLookup = self.termNode.termLookup;\r\n\r\n      lookupFunc.termLookup(data, lookup.requestParams).subscribe(response => {\r\n        lookup.results = response;\r\n      });\r\n    });\r\n\r\n    this.filterForm.get('obsoleteTerms').valueChanges.pipe(\r\n      distinctUntilChanged(),\r\n      debounceTime(400)\r\n    ).subscribe(data => {\r\n      const lookup: EntityLookup = self.obsoleteTermNode.termLookup;\r\n\r\n      lookupFunc.termLookup(data, lookup.requestParams).subscribe(response => {\r\n        lookup.results = response;\r\n      });\r\n    });\r\n\r\n    this.filterForm.get('gps').valueChanges.pipe(\r\n      distinctUntilChanged(),\r\n      debounceTime(400)\r\n    ).subscribe(data => {\r\n      const lookup: EntityLookup = self.gpNode.termLookup;\r\n\r\n      lookupFunc.termLookup(data, lookup.requestParams).subscribe(response => {\r\n        lookup.results = response;\r\n      });\r\n    });\r\n\r\n    this.filterForm.get('isDateRange').valueChanges.pipe(\r\n      distinctUntilChanged(),\r\n      debounceTime(400)\r\n    ).subscribe(value => {\r\n      this.isDateRange = value;\r\n    });\r\n\r\n    this.filterForm.get('exactTerm').valueChanges.pipe(\r\n      distinctUntilChanged(),\r\n      debounceTime(400)\r\n    ).subscribe(value => {\r\n      this.noctuaSearchService.searchCriteria.expand = !value\r\n      this.noctuaSearchService.updateSearch();\r\n    });\r\n\r\n    this.filteredContributors = this.filterForm.controls['contributors'].valueChanges\r\n      .pipe(\r\n        startWith(''),\r\n        map(\r\n          value => typeof value === 'string' ? value : value['name']),\r\n        map(contributor => contributor ? this.noctuaUserService.filterContributors(contributor) : this.noctuaUserService.contributors.slice())\r\n      );\r\n\r\n    this.filteredGroups = this.filterForm.controls['groups'].valueChanges\r\n      .pipe(\r\n        startWith(''),\r\n        map(\r\n          value => typeof value === 'string' ? value : value['name']),\r\n        map(group => group ? this.noctuaUserService.filterGroups(group) : this.noctuaUserService.groups.slice())\r\n      );\r\n\r\n\r\n\r\n    this.filteredStates = this.filterForm.controls['states'].valueChanges\r\n      .pipe(\r\n        startWith(''),\r\n        map(\r\n          value => typeof value === 'string' ? value : value['name']),\r\n        map(state => state ? this.noctuaSearchService.filterStates(state) : this.noctuaSearchService.states.slice())\r\n      );\r\n  }\r\n\r\n  private _onValueOrganismChanges() {\r\n    const self = this;\r\n\r\n    this.filteredOrganisms = this.filterForm.controls['organisms'].valueChanges\r\n      .pipe(\r\n        startWith(''),\r\n        map(value => typeof value === 'string' ? value : value['short_name']),\r\n        map(organism => organism ? this.noctuaSearchService.filterOrganisms(organism) : this.noctuaSearchService.organisms.slice())\r\n      );\r\n\r\n  }\r\n\r\n\r\n  onFileChange(event) {\r\n    const self = this;\r\n    let reader = new FileReader();\r\n\r\n    if (event.target.files && event.target.files.length) {\r\n      const [file] = event.target.files;\r\n      reader.readAsText(file);\r\n\r\n      reader.onload = () => {\r\n        try {\r\n          let searchCriteria = JSON.parse(reader.result as string);\r\n          self.noctuaSearchService.uploadSearchConfig(searchCriteria);\r\n          //document.getElementById('elementid').value = \"\";\r\n\r\n        } catch (exception) {\r\n          alert(\"invalid file\")\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n}\r\n","<form fxLayout=\"column\" fxLayoutAlign=\"start stretch\" name=\"filterForm\" [formGroup]=\"filterForm\"\r\n  class=\"noc-drawer h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-drawer-header-title\">\r\n      Filter By</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> CLOSE\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-drawer-body noc-filter-form\" noctuaPerfectScrollbar>\r\n    <div class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Annotations\r\n        </div>\r\n        <span fxFlex></span>\r\n        <mat-checkbox formControlName=\"exactTerm\" class=\"noc-checkbox\" color=\"primary\">Exact Term\r\n        </mat-checkbox>\r\n      </div>\r\n      <div class=\"noc-section-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n        <div class=\"noc-activity-group-row\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-label>Filter by Term</mat-label>\r\n            <mat-chip-list #termChipList>\r\n              <mat-chip class=\"noc-form-chip\" *ngFor=\"let term of noctuaSearchService.searchCriteria.terms\"\r\n                [selectable]=\"true\" [removable]=\"true\" (removed)=\"remove(term, SearchFilterType.terms)\" fxLayout=\"row\"\r\n                fxLayoutAlign=\"start center\" matTooltip=\"Term: {{term.label}} ({{term.id}})\"\r\n                [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n                <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                  {{term.label}}\r\n                </div>\r\n                <mat-icon matChipRemove>cancel</mat-icon>\r\n              </mat-chip>\r\n              <input #searchInput formControlName=\"terms\" placeholder=\"Add Term Filter\" [matAutocomplete]=\"termAuto\"\r\n                [matChipInputFor]=\"termChipList\" [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\r\n                [matChipInputAddOnBlur]=\"false\">\r\n            </mat-chip-list>\r\n            <mat-autocomplete #termAuto=\"matAutocomplete\" (optionSelected)=\"selected($event, SearchFilterType.terms)\"\r\n              [displayWith]=\"termDisplayFn\" class=\"noc-term-autocomplete\">\r\n              <mat-option class=\"noc-term-autocomplete\" *ngFor=\"let item of termNode.termLookup.results\" [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item.label }}\r\n                  </div>\r\n                  <span fxFlex></span>\r\n                  <div class=\"noc-term-id\">\r\n                    {{ item.id }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"noc-activity-group-row\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-label>Filter by Obsolete Term</mat-label>\r\n            <mat-chip-list #obsoleteTermChipList>\r\n              <mat-chip class=\"noc-form-chip\"\r\n                *ngFor=\"let obsoleteTerm of noctuaSearchService.searchCriteria.obsoleteTerms\" [selectable]=\"true\"\r\n                [removable]=\"true\" (removed)=\"remove(obsoleteTerm, SearchFilterType.obsoleteTerms)\" fxLayout=\"row\"\r\n                fxLayoutAlign=\"start center\" matTooltip=\"Term: {{obsoleteTerm.label}} ({{obsoleteTerm.id}})\"\r\n                [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n                <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                  {{obsoleteTerm.label}}\r\n                </div>\r\n                <mat-icon matChipRemove>cancel</mat-icon>\r\n              </mat-chip>\r\n              <input #searchInput formControlName=\"obsoleteTerms\" placeholder=\"Add Obsolete Term Filter\"\r\n                [matAutocomplete]=\"obsoleteTermAuto\" [matChipInputFor]=\"obsoleteTermChipList\"\r\n                [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\" [matChipInputAddOnBlur]=\"false\">\r\n            </mat-chip-list>\r\n            <mat-autocomplete #obsoleteTermAuto=\"matAutocomplete\"\r\n              (optionSelected)=\"selected($event, SearchFilterType.obsoleteTerms)\" [displayWith]=\"termDisplayFn\"\r\n              class=\"noc-term-autocomplete\">\r\n              <mat-option class=\"noc-term-autocomplete\" *ngFor=\"let item of obsoleteTermNode.termLookup.results\"\r\n                [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item.label }}\r\n                  </div>\r\n                  <span fxFlex></span>\r\n                  <div class=\"noc-term-id\">\r\n                    {{ item.id }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"noc-activity-group-row\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-label>Filter by Gene Product</mat-label>\r\n            <mat-chip-list #gpChipList>\r\n              <mat-chip class=\"noc-form-chip\" *ngFor=\"let gp of noctuaSearchService.searchCriteria.gps\"\r\n                [selectable]=\"true\" [removable]=\"true\" (removed)=\"remove(gp, SearchFilterType.gps)\" fxLayout=\"row\"\r\n                fxLayoutAlign=\"start center\" matTooltip=\"Term: {{gp.label}} ({{gp.id}})\" [matTooltipPosition]=\"'below'\"\r\n                [matTooltipShowDelay]=\"1000\">\r\n                <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                  {{gp.label}}\r\n                </div>\r\n                <mat-icon matChipRemove>cancel</mat-icon>\r\n              </mat-chip>\r\n              <input #searchInput formControlName=\"gps\" placeholder=\"Add GP Filter\" [matAutocomplete]=\"gpAuto\" #gpInput\r\n                [matChipInputFor]=\"gpChipList\" [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\r\n                [matChipInputAddOnBlur]=\"false\">\r\n            </mat-chip-list>\r\n            <mat-autocomplete #gpAuto=\"matAutocomplete\" (optionSelected)=\"selected($event, SearchFilterType.gps)\"\r\n              [displayWith]=\"termDisplayFn\" class=\"noc-term-autocomplete\">\r\n              <mat-option class=\"noc-term-autocomplete\" *ngFor=\"let item of gpNode.termLookup.results\" [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item.label }}\r\n                  </div>\r\n                  <span fxFlex></span>\r\n                  <div class=\"noc-term-id\">\r\n                    {{ item.id }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"noc-activity-group-row\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-label>Filter by Reference</mat-label>\r\n            <mat-chip-list #pmidChipList>\r\n              <mat-chip class=\"noc-form-chip\" *ngFor=\"let pmid of noctuaSearchService.searchCriteria.pmids\"\r\n                [selectable]=\"true\" [removable]=\"true\" (removed)=\"remove(pmid, SearchFilterType.pmids)\" fxLayout=\"row\"\r\n                fxLayoutAlign=\"start center\" matTooltip=\"Reference: {{pmid}}\" [matTooltipPosition]=\"'below'\"\r\n                [matTooltipShowDelay]=\"1000\">\r\n                <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                  {{pmid}}\r\n                </div>\r\n                <mat-icon matChipRemove>cancel</mat-icon>\r\n              </mat-chip>\r\n              <input #searchInput formControlName=\"pmids\" placeholder=\"Add PMID Filter\" #pmidInput\r\n                [matChipInputFor]=\"pmidChipList\" [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\r\n                [matChipInputAddOnBlur]=\"false\" (matChipInputTokenEnd)=\"add($event, SearchFilterType.pmids)\">\r\n              <button mat-icon-button matSuffix (click)=\"openAddReference($event, 'pmids')\"\r\n                class=\"noc-evidence-db-trigger\">\r\n                <mat-icon>playlist_add</mat-icon>\r\n              </button>\r\n            </mat-chip-list>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"noc-activity-group-row\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-chip-list #organismChipList>\r\n              <mat-chip class=\"noc-form-chip\" *ngFor=\"let organism of noctuaSearchService.searchCriteria.organisms\"\r\n                [selectable]=\"true\" [removable]=\"true\" (removed)=\"remove(organism, SearchFilterType.organisms)\"\r\n                fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n                matTooltip=\"Species: {{organism.taxonName}} ({{organism.taxonIri}})\" [matTooltipPosition]=\"'below'\"\r\n                [matTooltipShowDelay]=\"1000\">\r\n                <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                  {{organism.taxonName}}\r\n                </div>\r\n                <mat-icon matChipRemove>cancel</mat-icon>\r\n              </mat-chip>\r\n              <input #searchInput formControlName=\"organisms\" placeholder=\"Add Organism Filter\"\r\n                [matAutocomplete]=\"organismAuto\" #organismInput [matChipInputFor]=\"organismChipList\"\r\n                [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\" [matChipInputAddOnBlur]=\"false\">\r\n            </mat-chip-list>\r\n            <mat-autocomplete #organismAuto=\"matAutocomplete\"\r\n              (optionSelected)=\"selected($event, SearchFilterType.organisms)\" [displayWith]=\"organismDisplayFn\"\r\n              class=\"noc-term-autocomplete\">\r\n              <mat-option class=\"noc-term-autocomplete\" *ngFor=\"let item of filteredOrganisms | async\" [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item.taxonName }}\r\n                  </div>\r\n                  <span fxFlex></span>\r\n                  <div class=\"noc-term-id\">\r\n                    {{ item.taxonId }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Contributor\r\n        </div>\r\n        <span fxFlex></span>\r\n      </div>\r\n      <div class=\"noc-section-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n        <div class=\"noc-activity-group-row\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-label>Filter by Contributor</mat-label>\r\n            <mat-chip-list #contributorChipList>\r\n              <mat-chip class=\"noc-form-chip\"\r\n                *ngFor=\"let contributor of noctuaSearchService.searchCriteria.contributors\" [selectable]=\"true\"\r\n                [removable]=\"true\" (removed)=\"remove(contributor, SearchFilterType.contributors)\" fxLayout=\"row\"\r\n                fxLayoutAlign=\"start center\" matTooltip=\"Contributor: {{contributor.name}} ({{contributor.orcid}})\"\r\n                [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n                <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                  {{contributor.name}}\r\n                </div>\r\n                <mat-icon matChipRemove>cancel</mat-icon>\r\n              </mat-chip>\r\n              <input #searchInput formControlName=\"contributors\" placeholder=\"Add Contributor Filter\"\r\n                [matAutocomplete]=\"contributorAuto\" #contributorInput [matChipInputFor]=\"contributorChipList\"\r\n                [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\" [matChipInputAddOnBlur]=\"false\">\r\n            </mat-chip-list>\r\n            <mat-autocomplete #contributorAuto=\"matAutocomplete\"\r\n              (optionSelected)=\"selected($event, SearchFilterType.contributors)\" [displayWith]=\"contributorDisplayFn\"\r\n              class=\"noc-term-autocomplete\">\r\n              <mat-option class=\"noc-term-autocomplete\" *ngFor=\"let item of filteredContributors | async\"\r\n                [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item.name }}\r\n                  </div>\r\n                  <span fxFlex></span>\r\n                  <div class=\"noc-term-id\">\r\n                    {{ item.orcid }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"noc-activity-group-row\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-label>Filter by Group</mat-label>\r\n            <mat-chip-list #groupChipList>\r\n              <mat-chip class=\"noc-form-chip\" *ngFor=\"let group of noctuaSearchService.searchCriteria.groups\"\r\n                [selectable]=\"true\" [removable]=\"true\" (removed)=\"remove(group, SearchFilterType.groups)\" fxLayout=\"row\"\r\n                fxLayoutAlign=\"start center\" matTooltip=\"Term: {{group.name}} ({{group.url}})\"\r\n                [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n                <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                  {{group.name}}\r\n                </div>\r\n                <mat-icon matChipRemove>cancel</mat-icon>\r\n              </mat-chip>\r\n              <input #searchInput formControlName=\"groups\" placeholder=\"Add Group Filter\" [matAutocomplete]=\"groupAuto\"\r\n                #groupInput [matChipInputFor]=\"groupChipList\" [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\r\n                [matChipInputAddOnBlur]=\"false\">\r\n            </mat-chip-list>\r\n            <mat-autocomplete #groupAuto=\"matAutocomplete\" (optionSelected)=\"selected($event, SearchFilterType.groups)\"\r\n              [displayWith]=\"groupDisplayFn\" class=\"noc-term-autocomplete\">\r\n              <mat-option class=\"noc-term-autocomplete\" *ngFor=\"let item of filteredGroups | async\" [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item.name }}\r\n                  </div>\r\n                  <span fxFlex></span>\r\n                  <div class=\"noc-term-id\">\r\n                    {{ item.url }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Model Date\r\n        </div>\r\n        <span fxFlex></span>\r\n        <mat-checkbox formControlName=\"isDateRange\" class=\"noc-checkbox\" color=\"primary\">Date Range\r\n        </mat-checkbox>\r\n      </div>\r\n      <div class=\"noc-section-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n        <div class=\"noc-activity-group-row\" fxLayout=\"column\">\r\n          <mat-form-field *ngIf=\"!isDateRange\" appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-label>Filter by Exact Date</mat-label>\r\n            <mat-chip-list #dateChipList>\r\n              <mat-chip class=\"noc-form-chip\" *ngFor=\"let date of noctuaSearchService.searchCriteria.exactdates\"\r\n                [selectable]=\"true\" [removable]=\"true\" (removed)=\"remove(date, SearchFilterType.exactdates)\"\r\n                fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                  {{date}}\r\n                </div>\r\n                <mat-icon matChipRemove>cancel</mat-icon>\r\n              </mat-chip>\r\n              <input #searchInput formControlName=\"exactdates\" [matDatepicker]=\"exactDatePicker\"\r\n                placeholder=\"Add Exact Date Filter\" #dateInput [matChipInputFor]=\"dateChipList\"\r\n                [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\" [matChipInputAddOnBlur]=\"false\"\r\n                (matChipInputTokenEnd)=\"add($event, SearchFilterType.exactdates)\">\r\n            </mat-chip-list>\r\n            <mat-datepicker-toggle matSuffix [for]=\"exactDatePicker\"></mat-datepicker-toggle>\r\n            <mat-datepicker #exactDatePicker></mat-datepicker>\r\n          </mat-form-field>\r\n          <div *ngIf=\"isDateRange\" class=\"noc-sm w-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n            <mat-form-field appearance=\"outline\" class=\"noc-sm\">\r\n              <mat-label>Start Date</mat-label>\r\n              <mat-chip-list #startDateChipList>\r\n                <mat-chip class=\"noc-form-chip\" *ngFor=\"let date of noctuaSearchService.searchCriteria.startdates\"\r\n                  [selectable]=\"true\" [removable]=\"true\" (removed)=\"remove(date, SearchFilterType.startdates)\"\r\n                  fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                    {{date}}\r\n                  </div>\r\n                  <mat-icon matChipRemove>cancel</mat-icon>\r\n                </mat-chip>\r\n                <input #searchInput formControlName=\"startdates\" [matDatepicker]=\"startDatePicker\"\r\n                  placeholder=\"Start Date\" #dateInput [matChipInputFor]=\"startDateChipList\"\r\n                  [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\" [matChipInputAddOnBlur]=\"false\"\r\n                  (matChipInputTokenEnd)=\"add($event, SearchFilterType.startdates)\">\r\n              </mat-chip-list>\r\n              <mat-datepicker-toggle matSuffix [for]=\"startDatePicker\"></mat-datepicker-toggle>\r\n              <mat-datepicker #startDatePicker></mat-datepicker>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"outline\" class=\"noc-sm\">\r\n              <mat-label>End Date</mat-label>\r\n              <mat-chip-list #dateChipList>\r\n                <mat-chip class=\"noc-form-chip\" *ngFor=\"let date of noctuaSearchService.searchCriteria.enddates\"\r\n                  [selectable]=\"true\" [removable]=\"true\" (removed)=\"remove(date, SearchFilterType.enddates)\"\r\n                  fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                    {{date}}\r\n                  </div>\r\n                  <mat-icon matChipRemove>cancel</mat-icon>\r\n                </mat-chip>\r\n                <input #searchInput formControlName=\"enddates\" [matDatepicker]=\"endDatePicker\" placeholder=\"End Date\"\r\n                  #dateInput [matChipInputFor]=\"dateChipList\" [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\r\n                  [matChipInputAddOnBlur]=\"false\" (matChipInputTokenEnd)=\"add($event, SearchFilterType.enddates)\">\r\n              </mat-chip-list>\r\n              <mat-datepicker-toggle matSuffix [for]=\"endDatePicker\"></mat-datepicker-toggle>\r\n              <mat-datepicker #endDatePicker></mat-datepicker>\r\n            </mat-form-field>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Model\r\n        </div>\r\n        <span fxFlex></span>\r\n      </div>\r\n      <div class=\"noc-section-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n        <div class=\"noc-activity-group-row\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-label>Filter by Model Ids</mat-label>\r\n            <mat-chip-list #idChipList>\r\n              <mat-chip class=\"noc-form-chip\" *ngFor=\"let id of noctuaSearchService.searchCriteria.ids\"\r\n                [selectable]=\"true\" [removable]=\"true\" (removed)=\"remove(id, SearchFilterType.ids)\" fxLayout=\"row\"\r\n                fxLayoutAlign=\"start center\" matTooltip=\"Keyword: {{id}}\" [matTooltipPosition]=\"'below'\"\r\n                [matTooltipShowDelay]=\"1000\">\r\n                <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                  {{id}}\r\n                </div>\r\n                <mat-icon matChipRemove>cancel</mat-icon>\r\n              </mat-chip>\r\n              <input #searchInput formControlName=\"ids\" placeholder=\"Add Model Id Filter\" #idInput\r\n                [matChipInputFor]=\"idChipList\" [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\r\n                [matChipInputAddOnBlur]=\"false\" (matChipInputTokenEnd)=\"add($event, SearchFilterType.ids)\">\r\n            </mat-chip-list>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"noc-activity-group-row\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-label>Filter by Title</mat-label>\r\n            <mat-chip-list #titleChipList>\r\n              <mat-chip class=\"noc-form-chip\" *ngFor=\"let title of noctuaSearchService.searchCriteria.titles\"\r\n                [selectable]=\"true\" [removable]=\"true\" (removed)=\"remove(title, SearchFilterType.titles)\" fxLayout=\"row\"\r\n                fxLayoutAlign=\"start center\" matTooltip=\"Keyword: {{title}}\" [matTooltipPosition]=\"'below'\"\r\n                [matTooltipShowDelay]=\"1000\">\r\n                <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                  {{title}}\r\n                </div>\r\n                <mat-icon matChipRemove>cancel</mat-icon>\r\n              </mat-chip>\r\n              <input #searchInput formControlName=\"titles\" placeholder=\"Add Title Filter (only one allowed)\" #titleInput\r\n                [matChipInputFor]=\"titleChipList\" [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\r\n                [matChipInputAddOnBlur]=\"false\" (matChipInputTokenEnd)=\"add($event, SearchFilterType.titles, 1)\">\r\n            </mat-chip-list>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"noc-activity-state-row\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-label>Filter by State</mat-label>\r\n            <mat-chip-list #stateChipList>\r\n              <mat-chip class=\"noc-form-chip\" *ngFor=\"let state of noctuaSearchService.searchCriteria.states\"\r\n                [selectable]=\"true\" [removable]=\"true\" (removed)=\"remove(state, SearchFilterType.states)\" fxLayout=\"row\"\r\n                fxLayoutAlign=\"start center\">\r\n                <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                  {{state.name}}\r\n                </div>\r\n                <mat-icon matChipRemove>cancel</mat-icon>\r\n              </mat-chip>\r\n              <input #searchInput formControlName=\"states\" placeholder=\"Add State Filter\" [matAutocomplete]=\"stateAuto\"\r\n                #stateInput [matChipInputFor]=\"stateChipList\" [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\r\n                [matChipInputAddOnBlur]=\"false\">\r\n            </mat-chip-list>\r\n            <mat-autocomplete #stateAuto=\"matAutocomplete\" (optionSelected)=\"selected($event, SearchFilterType.states)\"\r\n              [displayWith]=\"stateDisplayFn\" class=\"noc-term-autocomplete\">\r\n              <mat-option class=\"noc-term-autocomplete\" *ngFor=\"let item of filteredStates | async\" [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item.label }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"noc-drawer-footer noc-submit-row\">\r\n    <label for=\"noc-upload-filter\" fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"noc-file-upload\">\r\n      <button mat-icon-button class=\"noc-file-button\">\r\n        <mat-icon class=\"s-16 mr-4\">cloud_upload</mat-icon>\r\n      </button>\r\n    </label>\r\n    <input type=\"file\" id=\"noc-upload-filter\" (change)=\"onFileChange($event)\" class=\"noc-file-upload\" />\r\n    <span fxFlex></span>\r\n    <button (click)=\"downloadFilter()\" type=\"button\" mat-icon-button>\r\n      <mat-icon class=\"s-16 mr-4\">cloud_download</mat-icon>\r\n    </button>\r\n    <button (click)=\"clear()\" type=\"button\" mat-raised-button>Clear</button>\r\n  </div>\r\n</form>","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { startWith, map, distinctUntilChanged, debounceTime } from 'rxjs/operators';\r\nimport { NoctuaFormConfigService, NoctuaUserService } from '@geneontology/noctua-form-base';\r\nimport { NoctuaLookupService } from '@geneontology/noctua-form-base';\r\nimport { NoctuaSearchService } from './../..//services/noctua-search.service';\r\nimport { NoctuaSearchMenuService } from '../../services/search-menu.service';\r\n\r\n@Component({\r\n  selector: 'noc-search-form',\r\n  templateUrl: './search-form.component.html',\r\n  styleUrls: ['./search-form.component.scss'],\r\n})\r\n\r\nexport class SearchFormComponent implements OnInit, OnDestroy {\r\n  searchCriteria: any = {};\r\n  searchForm: FormGroup;\r\n  selectedOrganism = {};\r\n  searchFormData: any = [];\r\n  cams: any[] = [];\r\n\r\n  filteredOrganisms: Observable<any[]>;\r\n  filteredGroups: Observable<any[]>;\r\n  filteredContributors: Observable<any[]>;\r\n\r\n  private unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private noctuaLookupService: NoctuaLookupService,\r\n    private noctuaSearchService: NoctuaSearchService) {\r\n    this.searchForm = this.createAnswerForm();\r\n\r\n    this.unsubscribeAll = new Subject();\r\n\r\n\r\n    this.onValueChanges();\r\n  }\r\n\r\n  ngOnInit(): void { }\r\n\r\n  createAnswerForm() {\r\n    return new FormGroup({\r\n      title: new FormControl(),\r\n      gp: new FormControl(),\r\n      term: new FormControl(),\r\n      pmid: new FormControl(),\r\n      contributor: new FormControl(),\r\n      group: new FormControl(),\r\n      organism: new FormControl(),\r\n    });\r\n  }\r\n\r\n  onValueChanges() {\r\n    const self = this;\r\n\r\n    this.searchForm.get('term').valueChanges.pipe(\r\n      distinctUntilChanged(),\r\n      debounceTime(400)\r\n    ).subscribe(data => {\r\n\r\n    });\r\n\r\n    this.searchForm.get('gp').valueChanges.pipe(\r\n      distinctUntilChanged(),\r\n      debounceTime(400)\r\n    ).subscribe(data => {\r\n\r\n    })\r\n\r\n\r\n    this.filteredOrganisms = this.searchForm.controls['organism'].valueChanges\r\n      .pipe(\r\n        startWith(''),\r\n        map(value => typeof value === 'string' ? value : value['short_name']),\r\n        map(organism => organism ? this.noctuaSearchService.filterOrganisms(organism) : this.noctuaSearchService.organisms.slice())\r\n      )\r\n\r\n    this.filteredContributors = this.searchForm.controls['contributor'].valueChanges\r\n      .pipe(\r\n        startWith(''),\r\n        map(value => typeof value === 'string' ? value : value['name']),\r\n        map(contributor => contributor ? this.noctuaUserService.filterContributors(contributor) : this.noctuaUserService.contributors.slice())\r\n      )\r\n\r\n    this.filteredGroups = this.searchForm.controls['group'].valueChanges\r\n      .pipe(\r\n        startWith(''),\r\n        map(value => typeof value === 'string' ? value : value['name']),\r\n        map(group => group ? this.noctuaUserService.filterGroups(group) : this.noctuaUserService.groups.slice())\r\n      )\r\n  }\r\n\r\n  termDisplayFn(term): string | undefined {\r\n    return term && term.id ? `${term.label} (${term.id})` : undefined;\r\n  }\r\n\r\n  evidenceDisplayFn(evidence): string | undefined {\r\n    return evidence && evidence.id ? `${evidence.label} (${evidence.id})` : undefined;\r\n  }\r\n\r\n  contributorDisplayFn(contributor): string | undefined {\r\n    return contributor ? contributor.name : undefined;\r\n  }\r\n\r\n  groupDisplayFn(group): string | undefined {\r\n    return group ? group.name : undefined;\r\n  }\r\n\r\n  organismDisplayFn(organism): string | undefined {\r\n    return organism ? organism.taxonName : undefined;\r\n  }\r\n\r\n  search() {\r\n    const searchCriteria = this.searchForm.value;\r\n\r\n    this.noctuaSearchService.search(searchCriteria);\r\n  }\r\n\r\n  clear() {\r\n    this.searchForm.controls['title'].setValue('');\r\n    this.searchForm.controls['gp'].setValue('');\r\n    this.searchForm.controls['term'].setValue('');\r\n    this.searchForm.controls['pmid'].setValue('');\r\n    this.searchForm.controls['contributor'].setValue('');\r\n    this.searchForm.controls['group'].setValue('');\r\n    this.searchForm.controls['organism'].setValue('');\r\n  }\r\n\r\n  close() {\r\n    this.noctuaSearchMenuService.closeLeftDrawer();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribeAll.next(null);\r\n    this.unsubscribeAll.complete();\r\n  }\r\n}\r\n","<form fxLayout=\"column\" fxLayoutAlign=\"start stretch\" name=\"searchForm\" [formGroup]=\"searchForm\"\r\n  class=\"noc-drawer h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-drawer-header-title\">\r\n      Search</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> CLOSE\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-drawer-body noc-filter-form\" noctuaPerfectScrollbar>\r\n    <div class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-body pt-8\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n        <div class=\"noc-activity-group-row\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm\">\r\n            <mat-label>Term</mat-label>\r\n            <textarea type=\"text\" matInput formControlName=\"term\" [matAutocomplete]=\"termAuto\" rows=\"2\"></textarea>\r\n            <mat-autocomplete #termAuto=\"matAutocomplete\" [displayWith]=\"termDisplayFn\" class=\"noc-term-autocomplete\">\r\n              <mat-option class=\"noc-term-autocomplete\" *ngFor=\"let item of searchFormData['term']?.searchResults\"\r\n                [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item.label }}\r\n                  </div>\r\n                  <span fxFlex></span>\r\n                  <div class=\"noc-term-id\">\r\n                    {{ item.id }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm\">\r\n            <mat-label>Gene Product</mat-label>\r\n            <textarea type=\"text\" matInput formControlName=\"gp\" [matAutocomplete]=\"gpAuto\" rows=\"2\"></textarea>\r\n            <mat-autocomplete #gpAuto=\"matAutocomplete\" [displayWith]=\"termDisplayFn\" class=\"noc-term-autocomplete\">\r\n              <mat-option class=\"noc-term-autocomplete\" *ngFor=\"let item of searchFormData['gp']?.searchResults\"\r\n                [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item.label }}\r\n                  </div>\r\n                  <span fxFlex></span>\r\n                  <div class=\"noc-term-id\">\r\n                    {{ item.id }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm\">\r\n            <mat-label>PMID</mat-label>\r\n            <input matInput formControlName=\"pmid\" placeholder=\"PMID\" />\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Title\r\n        </div>\r\n        <span fxFlex></span>\r\n      </div>\r\n      <div class=\"noc-section-body pt-8\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n        <div class=\"ph-15 noc-activity-group-row\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm\">\r\n            <input type=\"text\" matInput formControlName=\"title\" placeholder=\"Title\" />\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Contributor (optional)\r\n        </div>\r\n        <span fxFlex></span>\r\n      </div>\r\n      <div class=\"noc-section-body pt-8\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n        <div class=\"ph-15 noc-activity-group-row\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm\">\r\n            <input type=\"text\" matInput formControlName=\"contributor\" placeholder=\"Contributor\"\r\n              [matAutocomplete]=\"contributorAuto\" />\r\n            <mat-autocomplete #contributorAuto=\"matAutocomplete\" [displayWith]=\"contributorDisplayFn\"\r\n              class=\"noc-term-autocomplete\">\r\n              <mat-option class=\"noc-term-autocomplete\" *ngFor=\"let item of filteredContributors | async\"\r\n                [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item.name }}\r\n                  </div>\r\n                  <span fxFlex></span>\r\n                  <div class=\"noc-term-id\">\r\n                    {{ item.orcid }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm\">\r\n            <input type=\"text\" matInput formControlName=\"group\" placeholder=\"Group\" [matAutocomplete]=\"groupAuto\" />\r\n            <mat-autocomplete #groupAuto=\"matAutocomplete\" class=\"noc-term-autocomplete\" [displayWith]=\"groupDisplayFn\">\r\n              <mat-option *ngFor=\"let item of filteredGroups | async\" [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item.name }}\r\n                  </div>\r\n                  <span fxFlex></span>\r\n                  <div class=\"noc-term-id\">\r\n                    {{ item.url }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--   <div class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Species\r\n        </div>\r\n        <span fxFlex></span>\r\n      </div>\r\n      <div class=\"noc-section-body pt-8\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n        <div class=\"ph-15 noc-activity-group-row\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm\">\r\n            <mat-label>Organisms</mat-label>\r\n            <input matInput formControlName=\"organism\" placeholder=\"Species\" [matAutocomplete]=\"organismAuto\" />\r\n            <mat-autocomplete #organismAuto=\"matAutocomplete\" [displayWith]=\"organismDisplayFn\"\r\n              class=\"noc-term-autocomplete\">\r\n              <mat-option *ngFor=\"let organism of filteredOrganisms | async\" [value]=\"organism\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{organism.taxonName}}\r\n                  </div>\r\n                  <span fxFlex></span>\r\n                  <div class=\"noc-term-id\">\r\n                    {{organism.taxonIri}}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n    </div> -->\r\n  </div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"noc-drawer-footer noc-submit-row\">\r\n    <button *ngIf=\"false\" (click)='cancel()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">\r\n      Why is the \"Search\" button disabled?\r\n    </button>\r\n    <span fxFlex></span>\r\n    <button (click)='clear()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">Clear</button>\r\n    <button (click)=\"search()\" type=\"button\" mat-raised-button color=\"primary\">Search</button>\r\n  </div>\r\n</form>","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup } from '@angular/forms';\r\nimport { Subject } from 'rxjs';\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaUserService\r\n} from '@geneontology/noctua-form-base';\r\nimport { NoctuaSearchService } from './../../services/noctua-search.service';\r\nimport { NoctuaSearchMenuService } from '../../services/search-menu.service';\r\n\r\n@Component({\r\n  selector: 'noc-search-groups',\r\n  templateUrl: './search-groups.component.html',\r\n  styleUrls: ['./search-groups.component.scss'],\r\n})\r\n\r\nexport class SearchGroupsComponent implements OnInit, OnDestroy {\r\n  searchCriteria: any = {};\r\n  searchForm: FormGroup;\r\n  groupsForm: FormGroup;\r\n  searchFormData: any = []\r\n  // groups: any[] = [];\r\n  // groups: any[] = [];\r\n\r\n  private unsubscribeAll: Subject<any>;\r\n\r\n  constructor(public noctuaUserService: NoctuaUserService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    private noctuaSearchService: NoctuaSearchService,\r\n    private formBuilder: FormBuilder,\r\n    public noctuaFormConfigService: NoctuaFormConfigService) {\r\n    // this.groups = this.noctuaSearchService.groups;\r\n\r\n    this.unsubscribeAll = new Subject();\r\n    this.groupsForm = this.formBuilder.group({\r\n      groups: []\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    //this.searchForm = this.createSearchForm();\r\n  }\r\n\r\n  selectGroup(group) {\r\n    this.searchCriteria.group = group;\r\n    this.noctuaSearchService.search(this.searchCriteria);\r\n  }\r\n\r\n\r\n  search() {\r\n    let searchCriteria = this.searchForm.value;\r\n\r\n    this.noctuaSearchService.search(searchCriteria);\r\n  }\r\n\r\n  close() {\r\n    this.noctuaSearchMenuService.closeLeftDrawer();\r\n  }\r\n\r\n  createSearchForm() {\r\n    return new FormGroup({\r\n      term: new FormControl(),\r\n      groups: this.groupsForm,\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribeAll.next(null);\r\n    this.unsubscribeAll.complete();\r\n  }\r\n}\r\n","<div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"noc-drawer h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-drawer-header-title\">\r\n      Browse By Groups</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> CLOSE\r\n    </button>\r\n  </div>\r\n  <form fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"mt-8 noc-search-form\" noctuaPerfectScrollbar>\r\n    <div *ngFor=\"let group of noctuaUserService.groups\" (click)=\"selectGroup(group)\" class=\"noc-group-row\"\r\n      fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div class=\"noc-name\" fxFlex>\r\n        {{ group.name }}\r\n      </div>\r\n      <!--   <div class=\"w-100-p h-100-p\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n\r\n      <div class=\"\">\r\n          <strong>{{ group.cams }}</strong> Models\r\n        </div> \r\n      </div>-->\r\n      <mat-icon class=\"s-24\">\r\n        chevron_right\r\n      </mat-icon>\r\n    </div>\r\n  </form>\r\n</div>\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { NoctuaFormConfigService, NoctuaUserService } from '@geneontology/noctua-form-base';\r\nimport { NoctuaSearchService } from './../..//services/noctua-search.service';\r\nimport { NoctuaSearchMenuService } from '../../services/search-menu.service';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { SearchHistory } from './../../models/search-history';\r\n\r\n@Component({\r\n  selector: 'noc-search-history',\r\n  templateUrl: './search-history.component.html',\r\n  styleUrls: ['./search-history.component.scss']\r\n})\r\nexport class SearchHistoryComponent implements OnInit, OnDestroy {\r\n  searchCriteria: any = {};\r\n  searchHistory: SearchHistory[] = [];\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(public noctuaUserService: NoctuaUserService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    public noctuaSearchService: NoctuaSearchService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.noctuaSearchService.onSearchHistoryChanged.pipe(\r\n      takeUntil(this._unsubscribeAll))\r\n      .subscribe((searchHistory: SearchHistory[]) => {\r\n        this.searchHistory = searchHistory;\r\n      });\r\n  }\r\n\r\n  selectSearch(searchHistoryItem: SearchHistory) {\r\n    this.noctuaSearchService.searchCriteria = searchHistoryItem.getSearchCriteria();\r\n    this.noctuaSearchService.updateSearch(true, false);\r\n  }\r\n\r\n  clear() {\r\n    this.noctuaSearchService.clearHistory();\r\n  }\r\n\r\n  close() {\r\n    this.noctuaSearchMenuService.closeLeftDrawer();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"noc-drawer h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-drawer-header-title\">\r\n      Search History</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> CLOSE\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-drawer-body\" noctuaPerfectScrollbar>\r\n    <div *ngFor=\"let item of searchHistory\" (click)=\"selectSearch(item)\" class=\"noc-group-row\" fxLayout=\"row\"\r\n      fxLayoutAlign=\"start center\">\r\n      <div class=\"w-100-p h-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n        <div *ngFor=\"let section of item.displaySections\" class=\"noc-history-item\">\r\n          <fa-icon *ngIf=\"section.icon\" [icon]=\"['fas', section.icon]\"></fa-icon> {{section.value}}\r\n        </div>\r\n      </div>\r\n      <span fxFlex></span>\r\n      <mat-icon class=\"s-24\">\r\n        chevron_right\r\n      </mat-icon>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"noc-drawer-footer noc-submit-row\">\r\n    <span fxFlex=\"\"></span>\r\n    <button (click)=\"clear()\" type=\"button\" mat-raised-button>Clear Search</button>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup } from '@angular/forms';\r\nimport { Subject } from 'rxjs';\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaUserService\r\n} from '@geneontology/noctua-form-base';\r\nimport { NoctuaSearchService } from './../..//services/noctua-search.service';\r\nimport { NoctuaSearchMenuService } from '../../services/search-menu.service';\r\n\r\n@Component({\r\n  selector: 'noc-search-organisms',\r\n  templateUrl: './search-organisms.component.html',\r\n  styleUrls: ['./search-organisms.component.scss'],\r\n})\r\n\r\nexport class SearchOrganismsComponent implements OnInit, OnDestroy {\r\n  searchCriteria: any = {};\r\n  searchForm: FormGroup;\r\n  groupsForm: FormGroup;\r\n  searchFormData: any = []\r\n\r\n  private unsubscribeAll: Subject<any>;\r\n\r\n  constructor(public noctuaUserService: NoctuaUserService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    private formBuilder: FormBuilder,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaSearchService: NoctuaSearchService) {\r\n    // this.organisms = this.noctuaSearchService.organisms;\r\n\r\n    this.unsubscribeAll = new Subject();\r\n    this.groupsForm = this.formBuilder.group({\r\n      groups: []\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  selectOrganism(organism) {\r\n    this.searchCriteria.organism = organism;\r\n    this.noctuaSearchService.search(this.searchCriteria)\r\n  }\r\n\r\n  search() {\r\n    let searchCriteria = this.searchForm.value;\r\n\r\n    this.noctuaSearchService.search(searchCriteria);\r\n  }\r\n\r\n  close() {\r\n    this.noctuaSearchMenuService.closeLeftDrawer();\r\n  }\r\n\r\n  createSearchForm() {\r\n    return new FormGroup({\r\n      term: new FormControl(),\r\n      groups: this.groupsForm,\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribeAll.next(null);\r\n    this.unsubscribeAll.complete();\r\n  }\r\n}\r\n","<div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"noc-drawer h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-drawer-header-title\">\r\n      Browse By Species</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> CLOSE\r\n    </button>\r\n  </div>\r\n  <form fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"mt-8 noc-search-form\" noctuaPerfectScrollbar>\r\n    <div fxFlex *ngFor=\"let organism of noctuaSearchService.organisms\" (click)=\"selectOrganism(organism)\"\r\n      class=\"noc-organism-row\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div class=\"noc-name\">\r\n        {{ organism.taxonName }}\r\n      </div>\r\n      <div class=\"w-100-p\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n\r\n        <!--  <div class=\"\">\r\n          <strong>{{ organism.cams }}</strong> Models\r\n        </div> -->\r\n      </div>\r\n      <span fxFlex></span>\r\n      <mat-icon class=\"s-24\">\r\n        chevron_right\r\n      </mat-icon>\r\n    </div>\r\n  </form>\r\n</div>\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormGroup, FormControl } from '@angular/forms';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { NoctuaFormConfigService, NoctuaUserService, NoctuaLookupService } from '@geneontology/noctua-form-base';\r\nimport { NoctuaSearchService } from './../..//services/noctua-search.service';\r\nimport { startWith, map, distinctUntilChanged, debounceTime } from 'rxjs/operators';\r\nimport { NoctuaSearchMenuService } from '../../services/search-menu.service';\r\n\r\n@Component({\r\n  selector: 'noc-search-relation',\r\n  templateUrl: './search-relation.component.html',\r\n  styleUrls: ['./search-relation.component.scss']\r\n})\r\nexport class SearchRelationComponent implements OnInit, OnDestroy {\r\n  searchCriteria: any = {};\r\n  searchForm: FormGroup;\r\n  selectedOrganism = {};\r\n  searchFormData: any = [];\r\n  cams: any[] = [];\r\n\r\n  filteredOrganisms: Observable<any[]>;\r\n  filteredGroups: Observable<any[]>;\r\n  filteredContributors: Observable<any[]>;\r\n\r\n  private unsubscribeAll: Subject<any>;\r\n\r\n  constructor(public noctuaUserService: NoctuaUserService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private noctuaSearchService: NoctuaSearchService) {\r\n    this.searchForm = this.createAnswerForm();\r\n\r\n    this.unsubscribeAll = new Subject();\r\n\r\n\r\n    this.onValueChanges();\r\n  }\r\n\r\n  ngOnInit(): void { }\r\n\r\n  createAnswerForm() {\r\n    return new FormGroup({\r\n      subject: new FormControl(),\r\n      predicate: new FormControl(),\r\n      object: new FormControl(),\r\n    });\r\n  }\r\n\r\n  onValueChanges() {\r\n    const self = this;\r\n\r\n    this.searchForm.get('subject').valueChanges.pipe(\r\n      distinctUntilChanged(),\r\n      debounceTime(400)\r\n    ).subscribe(data => {\r\n\r\n    });\r\n\r\n    this.searchForm.get('object').valueChanges.pipe(\r\n      distinctUntilChanged(),\r\n      debounceTime(400)\r\n    ).subscribe(data => {\r\n\r\n    });\r\n\r\n    this.searchForm.get('predicate').valueChanges.pipe(\r\n      distinctUntilChanged(),\r\n      debounceTime(400)\r\n    ).subscribe(data => {\r\n\r\n    });\r\n  }\r\n\r\n  termDisplayFn(term): string | undefined {\r\n    return term ? term.label : undefined;\r\n  }\r\n\r\n\r\n  contributorDisplayFn(contributor): string | undefined {\r\n    return contributor ? contributor.name : undefined;\r\n  }\r\n\r\n  search() {\r\n    const searchCriteria = this.searchForm.value;\r\n\r\n    this.noctuaSearchService.search(searchCriteria);\r\n  }\r\n\r\n  clear() {\r\n    this.searchForm.controls['subject'].setValue('');\r\n    this.searchForm.controls['predicate'].setValue('');\r\n    this.searchForm.controls['object'].setValue('');\r\n  }\r\n\r\n  close() {\r\n    this.noctuaSearchMenuService.closeLeftDrawer();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribeAll.next(null);\r\n    this.unsubscribeAll.complete();\r\n  }\r\n}\r\n","<form fxLayout=\"column\" fxLayoutAlign=\"start stretch\" name=\"searchForm\" [formGroup]=\"searchForm\"\r\n  class=\"noc-drawer h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-drawer-header-title\">\r\n      Search Relations</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> CLOSE\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-drawer-body noc-filter-form\" noctuaPerfectScrollbar>\r\n    <div class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-body pt-8\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n        <div class=\"noc-activity-group-row\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm\">\r\n            <mat-label>Subject</mat-label>\r\n            <textarea type=\"text\" matInput formControlName=\"subject\" [matAutocomplete]=\"subjectAuto\" rows=\"2\"\r\n              placeholder=\"e.g. an upstream activity\"></textarea>\r\n            <mat-autocomplete #subjectAuto=\"matAutocomplete\" [displayWith]=\"termDisplayFn\"\r\n              class=\"noc-term-autocomplete\">\r\n              <mat-option class=\"noc-term-autocomplete\" *ngFor=\"let item of searchFormData['subject']?.searchResults\"\r\n                [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item.label }}\r\n                  </div>\r\n                  <span fxFlex></span>\r\n                  <div class=\"noc-term-id\">\r\n                    {{ item.id }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"noc-activity-group-row\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm\">\r\n            <mat-label>Relation</mat-label>\r\n            <textarea type=\"text\" matInput formControlName=\"predicate\" [matAutocomplete]=\"predicateAuto\"\r\n              placeholder=\"e.g. a causal relation\" rows=\"2\"></textarea>\r\n            <mat-autocomplete #predicateAuto=\"matAutocomplete\" [displayWith]=\"termDisplayFn\"\r\n              class=\"noc-term-autocomplete\">\r\n              <mat-option class=\"noc-term-autocomplete\" *ngFor=\"let item of searchFormData['predicate']?.searchResults\"\r\n                [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item.label }}\r\n                  </div>\r\n                  <span fxFlex></span>\r\n                  <div class=\"noc-term-id\">\r\n                    {{ item.id }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"noc-activity-group-row\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm\">\r\n            <mat-label>Object</mat-label>\r\n            <textarea type=\"text\" matInput formControlName=\"object\" [matAutocomplete]=\"objectAuto\"\r\n              placeholder=\"e.g. a downstream activity\" rows=\"2\"></textarea>\r\n            <mat-autocomplete #objectAuto=\"matAutocomplete\" [displayWith]=\"termDisplayFn\" class=\"noc-term-autocomplete\">\r\n              <mat-option class=\"noc-term-autocomplete\" *ngFor=\"let item of searchFormData['object']?.searchResults\"\r\n                [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item.label }}\r\n                  </div>\r\n                  <span fxFlex></span>\r\n                  <div class=\"noc-term-id\">\r\n                    {{ item.id }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"noc-drawer-footer noc-submit-row\">\r\n    <button *ngIf=\"false\" (click)='cancel()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">\r\n      Why is the \"Search\" button disabled?\r\n    </button>\r\n    <span fxFlex></span>\r\n    <button (click)='clear()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">Clear</button>\r\n    <button (click)=\"search()\" type=\"button\" mat-raised-button color=\"primary\">Search</button>\r\n  </div>\r\n</form>","import { Component, OnInit, OnDestroy, Input } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { ActivityNode, CamService, LeftPanel, NoctuaFormConfigService, NoctuaLookupService, NoctuaUserService } from '@geneontology/noctua-form-base';\r\nimport { NoctuaSearchService } from './../..//services/noctua-search.service';\r\nimport { NoctuaSearchMenuService } from '../../services/search-menu.service';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { NoctuaReviewSearchService } from './../../services/noctua-review-search.service';\r\nimport { NoctuaSearchDialogService } from './../../services/dialog.service';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { SearchCriteria } from '@noctua.search/models/search-criteria';\r\nimport { environment } from 'environments/environment';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\n\r\n@Component({\r\n  selector: 'noc-term-detail',\r\n  templateUrl: './term-detail.component.html',\r\n  styleUrls: ['./term-detail.component.scss']\r\n})\r\nexport class TermDetailComponent implements OnInit, OnDestroy {\r\n\r\n  @Input('panelDrawer')\r\n  panelDrawer: MatDrawer;\r\n\r\n  loadingSpinner: any = {\r\n    color: 'primary',\r\n    mode: 'indeterminate'\r\n  };\r\n\r\n  termDetail: any = {}\r\n\r\n\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private noctuaLookupService: NoctuaLookupService,\r\n    public noctuaCommonMenuService: NoctuaCommonMenuService,\r\n    public camService: CamService,\r\n    public noctuaSearchDialogService: NoctuaSearchDialogService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaReviewSearchService: NoctuaReviewSearchService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    public noctuaSearchService: NoctuaSearchService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.noctuaSearchService.onDetailTermChanged.pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((term: ActivityNode) => {\r\n        if (!term) {\r\n          return;\r\n        }\r\n        this.loadTerm(term.term.id)\r\n      })\r\n  }\r\n\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  loadTerm(termId) {\r\n    this.noctuaLookupService.getTermDetail(termId)\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((res) => {\r\n        this.termDetail = res\r\n      })\r\n  }\r\n\r\n\r\n  search(id) {\r\n    this.noctuaReviewSearchService.searchCriteria['terms'] = [{ id }];\r\n    this.noctuaReviewSearchService.updateSearch();\r\n  }\r\n\r\n  openSearchReplace(replaceBy) {\r\n    this.noctuaLookupService.getTermDetail(this.termDetail.id)\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((term) => {\r\n        if (!term) return;\r\n        this.noctuaReviewSearchService.onCamTermSearch.next(term)\r\n        this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.findReplace);\r\n        this.noctuaCommonMenuService.openLeftDrawer();\r\n      })\r\n\r\n    this.noctuaLookupService.getTermDetail(replaceBy)\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((term) => {\r\n        if (!term) return;\r\n\r\n        this.noctuaReviewSearchService.onCamReplaceTermSearch.next(term)\r\n      })\r\n\r\n\r\n  }\r\n\r\n  searchModels(node: ActivityNode) {\r\n    const searchCriteria = new SearchCriteria()\r\n    searchCriteria.terms = [node.term]\r\n    const url = `${environment.noctuaLandingPageUrl}?${searchCriteria.build()}`\r\n    window.open(url, '_blank');\r\n  }\r\n\r\n  searchModelsByContributor(node: ActivityNode) {\r\n    const searchCriteria = new SearchCriteria()\r\n    searchCriteria.terms = [node.term]\r\n    searchCriteria.contributors = [this.noctuaUserService.user]\r\n    const url = `${environment.noctuaLandingPageUrl}?${searchCriteria.build()}`\r\n    window.open(url, '_blank')\r\n\r\n  }\r\n\r\n\r\n  close() {\r\n    this.panelDrawer.close();\r\n  }\r\n\r\n}\r\n","<div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"noc-drawer h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <div class=\"noc-header w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <span class=\"noc-drawer-header-title\">\r\n        Term Details</span>\r\n      <span fxFlex></span>\r\n      <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n        aria-label=\"Close dialog\">\r\n        <mat-icon>close</mat-icon> CLOSE\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <div class=\"noc-drawer-body noc-item-details\" noctuaPerfectScrollbar>\r\n    <div *ngIf=\"termDetail.isObsolete\" class=\"noc-section-row alert alert-danger\">\r\n      <div class=\"noc-title\">\r\n        Term Is Obsolete\r\n      </div>\r\n      <div *ngIf=\"termDetail.replacedBy\" class=\"noc-description\">\r\n        <div *ngFor=\"let replacedBy of termDetail.replacedBy\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n          <div class=\"noc-term-row\" fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n            <div class=\"\">\r\n              Replaced By {{replacedBy}}\r\n            </div>\r\n            <span fxFlex=\"\"></span>\r\n            <div class=\"noc-icon\" (click)=\"loadTerm(replacedBy)\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n              <fa-icon [icon]=\"['fas', 'info-circle']\"></fa-icon>\r\n            </div>\r\n            <button mat-icon-button class=\"noc-icon-button\" [matMenuTriggerFor]=\"optionMenu\">\r\n              <fa-icon [icon]=\"['fas', 'bars']\"></fa-icon>\r\n            </button>\r\n            <mat-menu #optionMenu=\"matMenu\" class=\"noc-dropdown-menu\">\r\n              <button mat-menu-item class=\"\" (click)=\"openSearchReplace(replacedBy)\">\r\n                Find/Replace in Model\r\n              </button>\r\n              <button mat-menu-item class=\"\" (click)=\"searchModels(replacedBy)\">\r\n                Search Models\r\n              </button>\r\n              <button mat-menu-item class=\"\" (click)=\"searchModelsByContributor(replacedBy)\">\r\n                Search My Models\r\n              </button>\r\n            </mat-menu>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-section-row\">\r\n      <div class=\"noc-title\">\r\n        Term\r\n      </div>\r\n      <div class=\"noc-description\">\r\n        {{termDetail.label}} <small>({{termDetail.id}})</small>\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-section-row\">\r\n      <div class=\"noc-title\">\r\n        Definition\r\n      </div>\r\n      <div class=\"noc-description\">\r\n        {{termDetail.description}}\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-section-row\">\r\n      <div class=\"noc-title\">\r\n        Is A Type Of\r\n      </div>\r\n      <div class=\"noc-description\">\r\n        <div *ngFor=\"let rootType of termDetail.rootTypes\">\r\n          {{rootType.label}}<small>({{rootType.id}})</small>\r\n          <a (click)=\"loadTerm(rootType.id)\">\r\n            View\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"noc-drawer-footer noc-submit-row\">\r\n\r\n  </div>\r\n</div>","export * from './noctua-search.module';\r\n","import { NoctuaUtils } from '@noctua/utils/noctua-utils';\r\nimport { each, find, remove } from 'lodash';\r\n\r\n\r\nexport class ArtBasketItem {\r\n\r\n    displayId: string;\r\n\r\n    constructor(\r\n        public id: string,\r\n        public title: string,\r\n        public dateAdded: Date,\r\n    ) {\r\n        this.displayId = NoctuaUtils.cleanID(id);\r\n    }\r\n}\r\n\r\nexport class ArtBasket {\r\n\r\n\r\n    cams: ArtBasketItem[] = [];\r\n\r\n    constructor(artBasket?) {\r\n        if (artBasket) {\r\n            this.addCamsToBasket(artBasket.cams);\r\n        }\r\n    }\r\n\r\n    addCamsToBasket(cams: any[]) {\r\n        const self = this;\r\n\r\n        each(cams, (inCam) => {\r\n            const found = find(this.cams, { id: inCam.id });\r\n            if (!found) {\r\n                const cam = new ArtBasketItem(inCam.id, inCam.title, inCam.dateAdded);\r\n                self.cams.push(cam);\r\n            }\r\n        });\r\n\r\n        self.sortCams();\r\n    }\r\n\r\n    addCamToBasket(id: string, title: string): ArtBasketItem {\r\n        const self = this;\r\n\r\n        const found = find(this.cams, { id: id });\r\n\r\n        if (found) {\r\n            return null;\r\n        }\r\n\r\n        const cam = new ArtBasketItem(id, title, new Date());\r\n\r\n        self.cams.push(cam);\r\n        self.sortCams();\r\n\r\n        return cam;\r\n    }\r\n\r\n    removeCamFromBasket(id: string) {\r\n        remove(this.cams, { id: id });\r\n    }\r\n\r\n    clearBasket() {\r\n        this.cams = [];\r\n    }\r\n\r\n    sortCams() {\r\n        this.cams.sort(this._compareDateReviewAdded);\r\n    }\r\n\r\n    private _compareDateReviewAdded(a: ArtBasketItem, b: ArtBasketItem): number {\r\n        if (a.dateAdded > b.dateAdded) {\r\n            return -1;\r\n        } else {\r\n            return 1;\r\n        }\r\n    }\r\n}\r\n","export class Page {\r\n  size = 50;\r\n  total = 0;\r\n  pageNumber = 0;\r\n  pageSizeOptions: number[] = [10, 25, 50, 100];\r\n}\r\n\r\nexport class CamPage extends Page {\r\n}","export enum LeftPanel {\r\n    filter = 'filter',\r\n    relation = 'relation',\r\n    group = 'group',\r\n    contributor = 'contributor',\r\n    organism = 'organism',\r\n    history = 'history',\r\n    replace = 'replace',\r\n    artBasket = 'artBasket'\r\n};\r\n\r\nexport enum MiddlePanel {\r\n    home = 'home',\r\n    cams = 'cams',\r\n    camsReview = 'camReview',\r\n    reviewChanges = 'reviewChanges'\r\n};\r\n\r\nexport enum RightPanel {\r\n    camForm = 'camForm',\r\n    copyModel = 'copyModel',\r\n    announcement = 'announcement',\r\n}","export enum ReviewMode {\r\n    off = 'off',\r\n    on = 'on',\r\n    locked = 'locked'\r\n}\r\n\r\nexport enum ArtReplaceCategory {\r\n    term = 'term',\r\n    gp = 'gp',\r\n    reference = 'reference'\r\n}\r\n\r\n","import { Cam, Contributor, Group, Organism } from '@geneontology/noctua-form-base';\r\nimport { each } from 'lodash';\r\nimport { CamPage } from './cam-page';\r\n\r\nexport enum SearchFilterType {\r\n    ids = 'ids',\r\n    titles = 'titles',\r\n    gps = 'gps',\r\n    terms = 'terms',\r\n    obsoleteTerms = 'obsoleteTerms',\r\n    pmids = 'pmids',\r\n    contributors = 'contributors',\r\n    groups = 'groups',\r\n    organisms = 'organisms',\r\n    states = 'states',\r\n    exactdates = 'exactdates',\r\n    startdates = 'startdates',\r\n    enddates = 'enddates',\r\n};\r\n\r\nexport class SearchCriteria {\r\n    camPage: CamPage = new CamPage();\r\n    titles: any[] = [];\r\n    ids: any[] = [];\r\n    gps: any[] = [];\r\n    terms: any[] = [];\r\n    obsoleteTerms: any[] = []\r\n    pmids: any[] = [];\r\n    contributors: Contributor[] = [];\r\n    groups: Group[] = [];\r\n    organisms: Organism[] = [];\r\n    states: any[] = [];\r\n    exactdates: any[] = [];\r\n    startdates: any[] = [];\r\n    enddates: any[] = [];\r\n    expand = true;\r\n    filtersCount = 0;\r\n\r\n    constructor(searchCriteria?: SearchCriteria) {\r\n        if (searchCriteria) {\r\n            this.camPage = searchCriteria.camPage || new CamPage();\r\n            this.titles = searchCriteria.titles || [];\r\n            this.contributors = searchCriteria.contributors || [];\r\n            this.groups = searchCriteria.groups || [];\r\n            this.pmids = searchCriteria.pmids || [];\r\n            this.terms = searchCriteria.terms || [];\r\n            this.obsoleteTerms = searchCriteria.obsoleteTerms || [];\r\n            this.ids = searchCriteria.ids || [];\r\n            this.gps = searchCriteria.gps || [];\r\n            this.organisms = searchCriteria.organisms || [];\r\n            this.states = searchCriteria.states || [];\r\n            this.exactdates = searchCriteria.exactdates || [];\r\n            this.startdates = searchCriteria.startdates || [];\r\n            this.enddates = searchCriteria.enddates || [];\r\n            this.expand = searchCriteria.expand;\r\n        }\r\n    }\r\n\r\n    updateFiltersCount() {\r\n        const self = this;\r\n\r\n        self.filtersCount = self.titles.length +\r\n            self.ids.length +\r\n            self.gps.length +\r\n            self.terms.length +\r\n            self.obsoleteTerms.length +\r\n            self.pmids.length +\r\n            self.contributors.length +\r\n            self.groups.length +\r\n            self.organisms.length +\r\n            self.states.length +\r\n            self.exactdates.length +\r\n            self.startdates.length +\r\n            self.enddates.length;\r\n    }\r\n\r\n    private query(pagination: boolean = true) {\r\n        const self = this;\r\n        const query = [];\r\n\r\n        if (pagination) {\r\n            query.push(`offset=${(self.camPage.pageNumber * self.camPage.size).toString()}`);\r\n            query.push(`limit=${self.camPage.size.toString()}`);\r\n        }\r\n\r\n        each(self.titles, (title) => {\r\n            query.push(`title=${title}`);\r\n        });\r\n\r\n        each(self.terms, (term) => {\r\n            query.push(`term=${term.id}`);\r\n        });\r\n\r\n        each(self.obsoleteTerms, (obsoleteTerm) => {\r\n            query.push(`term=${obsoleteTerm.id}`);\r\n        });\r\n\r\n        each(self.groups, (group: Group) => {\r\n            query.push(`group=${group.url}`);\r\n        });\r\n\r\n        each(self.contributors, (contributor: Contributor) => {\r\n            query.push(`contributor=${contributor.orcid}`);\r\n        });\r\n\r\n        each(self.ids, (id) => {\r\n            query.push(`id=${id}`);\r\n        });\r\n\r\n        each(self.gps, (gp) => {\r\n            query.push(`gp=${gp.id}`);\r\n        });\r\n\r\n        each(self.pmids, (pmid) => {\r\n            query.push(`pmid=${pmid}`);\r\n        });\r\n\r\n        each(self.exactdates, (date) => {\r\n            query.push(`exactdate=${date}`);\r\n        });\r\n\r\n        each(self.startdates, (date) => {\r\n            query.push(`date=${date}`);\r\n        });\r\n\r\n        each(self.enddates, (date) => {\r\n            query.push(`dateend=${date}`);\r\n        });\r\n\r\n        each(self.organisms, (organism: Organism) => {\r\n            query.push(`taxon=${organism.taxonIri}`);\r\n        });\r\n\r\n        each(self.states, (state: any) => {\r\n            query.push(`state=${state.name}`);\r\n        });\r\n\r\n        if (self.expand) {\r\n            query.push('expand');\r\n        }\r\n\r\n        query.push('debug')\r\n\r\n        return query;\r\n    }\r\n\r\n    build(pagination: boolean = true) {\r\n        return this.query(pagination).join('&');\r\n    }\r\n\r\n    clearSearch() {\r\n        this.titles = [];\r\n        this.contributors = [];\r\n        this.groups = [];\r\n        this.pmids = [];\r\n        this.terms = [];\r\n        this.gps = [];\r\n        this.organisms = [];\r\n        this.states = [];\r\n        this.exactdates = [];\r\n        this.startdates = [];\r\n        this.enddates = [];\r\n    }\r\n\r\n\r\n}\r\n","import { Cam, Contributor, Group, Organism, Entity } from '@geneontology/noctua-form-base';\r\nimport { each, cloneDeep } from 'lodash';\r\nimport { CamPage } from './cam-page';\r\nimport { SearchCriteria } from './search-criteria';\r\n\r\nexport class SearchHistory {\r\n\r\n    displaySections: any = [];\r\n    searchCriteriaString: string;\r\n    //searchCriteriaRe: SearchCriteria,\r\n\r\n    constructor(searchCriteria: SearchCriteria) {\r\n        //   this.searchCriteria = cloneDeep(searchCriteria)\r\n        this.save(searchCriteria);\r\n    }\r\n\r\n    generateHistorySummary(searchCriteria: SearchCriteria) {\r\n        const self = this;\r\n        const threshold = 5;\r\n        let count = 0;\r\n\r\n        if (searchCriteria.ids && searchCriteria.ids.length > 0) {\r\n            const ids = searchCriteria.ids.map((id: Entity) => {\r\n                return id.label;\r\n            }).join(', ');\r\n            self._addParam('Model Id(s)', ids);\r\n            count++;\r\n        }\r\n\r\n        if (searchCriteria.contributors && searchCriteria.contributors.length > 0) {\r\n            const contributors = searchCriteria.contributors.map((contributor: Contributor) => {\r\n                return contributor.name;\r\n            }).join(', ');\r\n\r\n            self._addParam('Contributor(s)', contributors, 'user');\r\n            count++;\r\n        }\r\n\r\n        if (searchCriteria.groups && searchCriteria.groups.length > 0) {\r\n            const groups = searchCriteria.groups.map((group: Group) => {\r\n                return group.name;\r\n            }).join(', ');\r\n\r\n            self._addParam('Group(s)', groups, 'users');\r\n            count++;\r\n        }\r\n        if (searchCriteria.pmids && searchCriteria.pmids.length > 0) {\r\n            const pmids = searchCriteria.pmids.join(', ');\r\n            self._addParam('Ref', pmids);\r\n            count++;\r\n        }\r\n        if (searchCriteria.terms && searchCriteria.terms.length > 0) {\r\n            const terms = searchCriteria.terms.map((term: Entity) => {\r\n                return term.label;\r\n            }).join(', ');\r\n            self._addParam('Term(s)', terms);\r\n            count++;\r\n        }\r\n        if (searchCriteria.gps && searchCriteria.gps.length > 0) {\r\n            const gps = searchCriteria.gps.map((gp: Entity) => {\r\n                return gp.label;\r\n            }).join(', ');\r\n            self._addParam('GP(s)', gps);\r\n            count++;\r\n        }\r\n        if (searchCriteria.organisms && searchCriteria.organisms.length > 0) {\r\n            const organisms = searchCriteria.organisms.map((organism: Organism) => {\r\n                return organism.taxonName;\r\n            }).join(', ');\r\n            self._addParam('Organism(s)', organisms, 'paw');\r\n            count++;\r\n        }\r\n        if (searchCriteria.states && searchCriteria.states.length > 0) {\r\n            const states = searchCriteria.states.map((state: any) => {\r\n                return state.label;\r\n            }).join(', ');\r\n            self._addParam('State(s)', states, 'tasks');\r\n            count++;\r\n        }\r\n\r\n        if (searchCriteria.exactdates && searchCriteria.exactdates.length > 0) {\r\n            const exactdates = searchCriteria.exactdates.join(', ');\r\n            self._addParam('Date', exactdates, 'calendar-day');\r\n            count++;\r\n        }\r\n\r\n        if (searchCriteria.startdates && searchCriteria.startdates.length > 0 &&\r\n            searchCriteria.enddates && searchCriteria.enddates.length > 0) {\r\n            const startdate = searchCriteria.startdates[0];\r\n            const enddate = searchCriteria.enddates[0]\r\n            const daterange = `${startdate} - ${enddate}`\r\n            self._addParam('Date Range', daterange, 'calendar-week');\r\n            count++;\r\n        }\r\n\r\n        if (count === 0) {\r\n            self._addParam('Default Search', 'Recent Models', 'clock');\r\n        }\r\n    }\r\n\r\n    save(searchCriteria: SearchCriteria) {\r\n        this.searchCriteriaString = JSON.stringify(searchCriteria, undefined, 2);\r\n        this.generateHistorySummary(searchCriteria)\r\n    }\r\n\r\n    getSearchCriteria(): SearchCriteria {\r\n        const searchCriteria = new SearchCriteria(JSON.parse(this.searchCriteriaString));\r\n\r\n        return searchCriteria;\r\n    }\r\n\r\n    private _addParam(name: string, value: string, icon?: string) {\r\n        this.displaySections.push({\r\n            name,\r\n            value,\r\n            icon,\r\n        });\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NoctuaSharedModule } from '@noctua/shared.module';\r\nimport { SearchOrganismsComponent } from './components/search-organisms/search-organisms.component';\r\nimport { SearchGroupsComponent } from './components/search-groups/search-groups.component';\r\nimport { SearchContributorsComponent } from './components/search-contributors/search-contributors.component';\r\nimport { SearchFormComponent } from './components/search-form/search-form.component';\r\nimport { SearchFilterComponent } from './components/search-filter/search-filter.component';\r\nimport { SearchRelationComponent } from './components/search-relation/search-relation.component';\r\nimport { SearchHistoryComponent } from './components/search-history/search-history.component';\r\nimport { NoctuaEditorModule } from '@noctua.editor';\r\nimport { ArtBasketComponent } from './components/art-basket/art-basket.component';\r\nimport { ReviewFormComponent } from './components/review-form/review-form.component';\r\nimport { CamsReviewChangesDialogComponent } from './components/dialogs/cams-review-changes/cams-review-changes.component';\r\nimport { CamsUnsavedDialogComponent } from './components/dialogs/cams-unsaved/cams-unsaved.component';\r\nimport { FindReplaceComponent } from './components/find-replace/find-replace.component';\r\nimport { CamTermsComponent } from './components/cam-terms/cam-terms.component';\r\nimport { TreeModule } from '@circlon/angular-tree-component';\r\nimport { TermDetailComponent } from './components/term-detail/term-detail.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        SearchFilterComponent,\r\n        SearchFormComponent,\r\n        SearchContributorsComponent,\r\n        SearchGroupsComponent,\r\n        SearchOrganismsComponent,\r\n        SearchRelationComponent,\r\n        SearchHistoryComponent,\r\n        ArtBasketComponent,\r\n        FindReplaceComponent,\r\n        ReviewFormComponent,\r\n        CamsReviewChangesDialogComponent,\r\n        CamsUnsavedDialogComponent,\r\n        CamTermsComponent,\r\n        TermDetailComponent,\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        RouterModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        NoctuaSharedModule,\r\n        TreeModule,\r\n        NoctuaEditorModule\r\n    ],\r\n    exports: [\r\n        SearchFilterComponent,\r\n        SearchFormComponent,\r\n        SearchContributorsComponent,\r\n        SearchGroupsComponent,\r\n        SearchOrganismsComponent,\r\n        SearchRelationComponent,\r\n        SearchHistoryComponent,\r\n        ArtBasketComponent,\r\n        FindReplaceComponent,\r\n        ReviewFormComponent,\r\n        CamsReviewChangesDialogComponent,\r\n        CamsUnsavedDialogComponent,\r\n        CamTermsComponent,\r\n        TermDetailComponent\r\n    ]\r\n})\r\nexport class NoctuaSearchBaseModule {\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { NoctuaConfirmDialogComponent } from '@noctua/components/confirm-dialog/confirm-dialog.component';\r\nimport { CamsReviewChangesDialogComponent } from './../components/dialogs/cams-review-changes/cams-review-changes.component';\r\nimport { CamsUnsavedDialogComponent } from '@noctua.search/components/dialogs/cams-unsaved/cams-unsaved.component';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class NoctuaSearchDialogService {\r\n\r\n    dialogRef: any;\r\n\r\n    constructor(\r\n        private snackBar: MatSnackBar,\r\n        private _matDialog: MatDialog) {\r\n    }\r\n\r\n    openInfoToast(message: string, action: string) {\r\n        this.snackBar.open(message, action, {\r\n            duration: 10000,\r\n            verticalPosition: 'top'\r\n        });\r\n    }\r\n\r\n    openConfirmDialog(searchCriteria, success): void {\r\n        this.dialogRef = this._matDialog.open(NoctuaConfirmDialogComponent, {\r\n            panelClass: 'noc-search-database-dialog',\r\n            data: {\r\n                searchCriteria: searchCriteria\r\n            },\r\n            width: '600px',\r\n        });\r\n        this.dialogRef.afterClosed()\r\n            .subscribe(response => {\r\n                if (response) {\r\n                    success(response);\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n\r\n    openCamReviewChangesDialog(success, summary, options?): void {\r\n        let dialogRef: MatDialogRef<CamsReviewChangesDialogComponent> = this._matDialog.open(CamsReviewChangesDialogComponent, {\r\n            panelClass: 'noc-cams-review-changes-dialog',\r\n            data: {\r\n                summary: summary,\r\n                options: options\r\n            },\r\n        });\r\n\r\n        if (options && options.title) {\r\n            dialogRef.componentInstance.title = options.title;\r\n        }\r\n        if (options && options.message) {\r\n            dialogRef.componentInstance.message = options.message;\r\n        }\r\n        if (!success) {\r\n            dialogRef.componentInstance.readonlyDialog = true;\r\n        }\r\n\r\n        dialogRef.afterClosed()\r\n            .subscribe(response => {\r\n                if (response) {\r\n                    success(response);\r\n                }\r\n\r\n                dialogRef = null;\r\n            });\r\n    }\r\n\r\n    openCamsUnsavedDialog(success): void {\r\n        this.dialogRef = this._matDialog.open(CamsUnsavedDialogComponent, {\r\n            panelClass: 'noc-cams-unsaved-dialog',\r\n            data: {\r\n                // searchCriteria: searchCriteria\r\n            },\r\n        });\r\n        this.dialogRef.afterClosed()\r\n            .subscribe(response => {\r\n                if (response) {\r\n                    success(response);\r\n                }\r\n            });\r\n    }\r\n}\r\n","import { environment } from './../../environments/environment';\r\nimport { Injectable, NgZone } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { BehaviorSubject, EMPTY, forkJoin, from, Observable } from 'rxjs';\r\nimport { map, finalize, switchMap, mergeMap } from 'rxjs/operators';\r\n\r\nimport {\r\n    Cam,\r\n    Entity,\r\n\r\n    CamQueryMatch,\r\n    NoctuaUserService,\r\n    NoctuaGraphService,\r\n    CamStats,\r\n    CamService,\r\n    CamLoadingIndicator,\r\n    _compareEntityWeight,\r\n    ReloadType,\r\n} from '@geneontology/noctua-form-base';\r\nimport { SearchCriteria } from './../models/search-criteria';\r\nimport { saveAs } from 'file-saver';\r\nimport { each, find, remove } from 'lodash';\r\nimport { CurieService } from '@noctua.curie/services/curie.service';\r\nimport { CamPage } from './../models/cam-page';\r\nimport { SearchHistory } from './../models/search-history';\r\nimport { ArtBasket } from '@noctua.search/models/art-basket';\r\nimport { NoctuaSearchMenuService } from './search-menu.service';\r\nimport { NoctuaSearchService } from './noctua-search.service';\r\nimport { LeftPanel, MiddlePanel } from './../models/menu-panels';\r\nimport { NoctuaConfirmDialogService } from '@noctua/components/confirm-dialog/confirm-dialog.service';\r\n\r\n\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class NoctuaReviewSearchService {\r\n    artBasket = new ArtBasket();\r\n    searchHistory: SearchHistory[] = [];\r\n    onSearchCriteriaChanged: BehaviorSubject<any>;\r\n    onSearchHistoryChanged: BehaviorSubject<any>;\r\n    onCamTermSearch: BehaviorSubject<any>;\r\n    onCamReplaceTermSearch: BehaviorSubject<any>;\r\n    curieUtil: any;\r\n    camPage: CamPage;\r\n    searchCriteria: SearchCriteria;\r\n    searchApi = environment.searchApi;\r\n    loading = false;\r\n    // onCamsChanged: BehaviorSubject<any>;\r\n    onArtBasketChanged: BehaviorSubject<any>;\r\n    onResetReview: BehaviorSubject<boolean>;\r\n    onClearForm: BehaviorSubject<boolean>;\r\n    onReplaceChanged: BehaviorSubject<boolean>;\r\n    onCamsPageChanged: BehaviorSubject<any>;\r\n    onCamChanged: BehaviorSubject<any>;\r\n    matchedEntities: Entity[] = [];\r\n    matchedCountCursor = 0;\r\n    matchedCount = 0;\r\n    currentMatchedEnity: Entity;\r\n\r\n    filterType = {\r\n        gps: 'gps',\r\n        terms: 'terms',\r\n        pmids: 'pmids',\r\n    };\r\n\r\n    constructor(\r\n        private zone: NgZone,\r\n        private noctuaUserService: NoctuaUserService,\r\n        private _noctuaGraphService: NoctuaGraphService,\r\n        private _noctuaSearchService: NoctuaSearchService,\r\n        private noctuaSearchMenuService: NoctuaSearchMenuService,\r\n        private confirmDialogService: NoctuaConfirmDialogService,\r\n        private httpClient: HttpClient,\r\n        private camService: CamService,\r\n\r\n        private curieService: CurieService) {\r\n        const self = this;\r\n\r\n        this.onArtBasketChanged = new BehaviorSubject(null);\r\n        this.onResetReview = new BehaviorSubject(false);\r\n        this.onClearForm = new BehaviorSubject(false);\r\n        this.onReplaceChanged = new BehaviorSubject(false);\r\n        this.onCamsPageChanged = new BehaviorSubject(null);\r\n        this.onCamChanged = new BehaviorSubject([]);\r\n        this.onCamTermSearch = new BehaviorSubject(null);\r\n        this.onCamReplaceTermSearch = new BehaviorSubject(null);\r\n        this.onSearchHistoryChanged = new BehaviorSubject(null);\r\n        this.searchCriteria = new SearchCriteria();\r\n        this.onSearchCriteriaChanged = new BehaviorSubject(null);\r\n        this.curieUtil = this.curieService.getCurieUtil();\r\n\r\n        this.onSearchCriteriaChanged.subscribe((searchCriteria: SearchCriteria) => {\r\n            if (!searchCriteria) {\r\n                return;\r\n            }\r\n\r\n            self.camService.resetMatch();\r\n\r\n            if (searchCriteria.ids.length > 0) {\r\n                self.getCams(searchCriteria).subscribe(() => {\r\n                    // self.cams = response;\r\n                    self.matchedCountCursor = 0;\r\n                    self.calculateMatched();\r\n                    self.camService.applyMatchWeights(self.camService.cams);\r\n                    self.sortMatched();\r\n                    self.goto(0);\r\n                });\r\n\r\n                //self.noctuaSearchMenuService.scrollToTop();\r\n            }\r\n        });\r\n\r\n        this.camService.onCamsChanged\r\n            .subscribe((cams: Cam[]) => {\r\n                if (!cams) {\r\n                    return;\r\n                }\r\n                const ids = cams.map((cam: Cam) => {\r\n                    return cam.id;\r\n                });\r\n\r\n                this.searchCriteria.ids = ids;\r\n            });\r\n\r\n        self.loadCamRebuild()\r\n    }\r\n\r\n    setup() {\r\n        if (!this.noctuaUserService.user) {\r\n            this.clearBasket();\r\n            return;\r\n        }\r\n\r\n        const artBasket = localStorage.getItem('artBasket');\r\n\r\n        if (artBasket) {\r\n            this.artBasket = new ArtBasket(JSON.parse(artBasket));\r\n            this.camService.cams = [];\r\n            this.addCamsToReview(this.artBasket.cams, this.camService.cams);\r\n            this.onArtBasketChanged.next(this.artBasket);\r\n        }\r\n    }\r\n\r\n    loadCamRebuild() {\r\n        const self = this;\r\n        self._noctuaGraphService.onCamRebuildChange.subscribe((cam: Cam) => {\r\n            if (!cam) {\r\n                return;\r\n            }\r\n\r\n            self.updateStoredCams([cam], self.camService.cams);\r\n        })\r\n    }\r\n\r\n    addCamsToReview(metaCams: any[], cams: Cam[]) {\r\n        const self = this;\r\n\r\n        if (!metaCams || metaCams.length === 0) return;\r\n\r\n        const ids = metaCams.reduce((camIds, metaCam) => {\r\n            if (!find(cams, { id: metaCam.id })) {\r\n                camIds.push(metaCam.id);\r\n                return camIds;\r\n            } else return camIds;\r\n        }, []);\r\n\r\n        self.updateSearch(true, [...ids, ...cams.map(cam => cam.id)]);\r\n\r\n        if (ids.length === 0) return;\r\n\r\n        self.searchCamsByIds(ids).pipe(\r\n            switchMap((inCams: any[]) => {\r\n                const promises = [];\r\n\r\n                each(inCams, (inCam: Cam) => {\r\n                    const metaCam = find(metaCams, { id: inCam.id });\r\n\r\n                    inCam.expanded = true;\r\n                    inCam.dateReviewAdded = metaCam ? metaCam.dateAdded : Date.now();\r\n                    inCam.title = metaCam?.title;\r\n                    cams.push(inCam);\r\n                    self.camService.loadCamMeta(inCam);\r\n                    inCam.loading = new CamLoadingIndicator(true, 'Loading Model Activities ...');\r\n                    promises.push(inCam);\r\n                })\r\n                return from(promises);\r\n            }),\r\n            mergeMap((cam: Cam) => {\r\n                return self.camService.getStoredModel(cam);\r\n            }),\r\n            finalize(() => {\r\n                self.camService.sortCams();\r\n                self.camService.updateDisplayNumber(cams);\r\n                self.camService.onCamsChanged.next(cams);\r\n                //self.camService.resetLoading(cams);\r\n            })).subscribe({\r\n                next: (response) => {\r\n                    if (!response || !response.storedModel || !response.activeModel) return;\r\n\r\n                    const cam = find(cams, { id: response.activeModel.id });\r\n\r\n                    if (!cam) return;\r\n\r\n                    self._noctuaGraphService.rebuildFromStoredApi(cam, response.activeModel);\r\n                    self.camService.populateStoredModel(cam, response.storedModel)\r\n                    cam.loading.status = false;\r\n                    self.camService.sortCams();\r\n                    self.camService.updateDisplayNumber(cams);\r\n                    self.camService.onCamsChanged.next(cams);\r\n                    self.updateSearch();\r\n                },\r\n            })\r\n    }\r\n\r\n    removeCamFromReview(cam: Cam) {\r\n        remove(this.camService.cams, { id: cam.id });\r\n        this.updateSearch();\r\n        this.artBasket.removeCamFromBasket(cam.id);\r\n        localStorage.setItem('artBasket', JSON.stringify(this.artBasket));\r\n        this.camService.updateDisplayNumber(this.camService.cams);\r\n        this.camService.onCamsChanged.next(this.camService.cams);\r\n        this.onArtBasketChanged.next(this.artBasket);\r\n    }\r\n\r\n    reloadCams(cams: Cam[], reviewCams: Cam[], reloadType: ReloadType, reset = false) {\r\n        const self = this;\r\n\r\n        if (!cams || cams.length === 0) return;\r\n\r\n        const ids = cams.map(cam => cam.id);\r\n\r\n        if (ids.length === 0) return;\r\n\r\n        from(cams).pipe(\r\n            mergeMap((cam: Cam) => {\r\n\r\n                if (reloadType === ReloadType.RESET) {\r\n                    cam.loading = new CamLoadingIndicator(true, 'Resetting Model ...');\r\n                    return self.camService.resetCams([cam]);\r\n                } else if (reloadType === ReloadType.STORE) {\r\n                    cam.loading = new CamLoadingIndicator(true, 'Saving Model ...');\r\n                    return self.camService.storeCams([cam]);\r\n                } else {\r\n                    return EMPTY;\r\n                }\r\n            }),\r\n            finalize(() => {\r\n                self.camService.updateDisplayNumber(reviewCams);\r\n                self.camService.onCamsChanged.next(reviewCams);\r\n                self.camService.resetLoading(cams);\r\n                self._noctuaSearchService.updateSearch(false, false);\r\n                self.onReplaceChanged.next(true);\r\n\r\n                self.updateSearch();\r\n\r\n                self.zone.run(() => {\r\n                    self.camService.resetLoading(reviewCams);\r\n                    self.confirmDialogService.openInfoToast('Changes successfully saved.', 'OK');\r\n                    self.camService.reviewChangesCams();\r\n\r\n                    if (reset) {\r\n                        self.confirmAfterSave();\r\n                    }\r\n                });\r\n\r\n            })).subscribe({\r\n                next: (response) => {\r\n                    if (!response || !response.data()) return;\r\n\r\n                    const cam = find(reviewCams, { id: response.data().id });\r\n\r\n                    if (!cam) return;\r\n\r\n                    //self._noctuaGraphService.rebuild(cam, response);\r\n                    self.camService.populateStoredModel(cam, response.data())\r\n                    cam.loading.status = false;\r\n                    self.camService.updateDisplayNumber(reviewCams);\r\n                    self.camService.onCamsChanged.next(reviewCams);\r\n                    self.updateSearch();\r\n                }\r\n            })\r\n    }\r\n\r\n    updateStoredCams(cams: Cam[], reviewCams: Cam[]) {\r\n        const self = this;\r\n\r\n        if (!cams || cams.length === 0) return;\r\n\r\n        const ids = cams.map(cam => {\r\n            return cam.id\r\n        });\r\n\r\n        if (ids.length === 0) return;\r\n\r\n        self.searchCamsByIds(ids).pipe(\r\n            switchMap((inCams: any[]) => {\r\n                const promises = [];\r\n\r\n                each(inCams, (inCam: Cam) => {\r\n                    inCam.expanded = true;\r\n                    self.camService.loadCamMeta(inCam);\r\n                    inCam.loading.status = true;\r\n                    promises.push(inCam);\r\n                })\r\n                return from(promises);\r\n            }),\r\n            mergeMap((cam: Cam) => {\r\n                const reviewCam = find(reviewCams, { id: cam.id });\r\n                reviewCam.loading = new CamLoadingIndicator(true, 'Reloading Model ...');\r\n                return self.camService.getStoredModel(cam);\r\n            }),\r\n            finalize(() => {\r\n\r\n            })).subscribe({\r\n                next: (response) => {\r\n                    if (!response || !response.storedModel || !response.activeModel) return;\r\n\r\n                    const cam = find(reviewCams, { id: response.activeModel.id });\r\n\r\n                    if (!cam) return;\r\n                    cam.rebuildRule.reset();\r\n                    self._noctuaGraphService.rebuildFromStoredApi(cam, response.activeModel);\r\n                    self.camService.populateStoredModel(cam, response.storedModel)\r\n                    cam.loading.status = false;\r\n                    self.camService.sortCams();\r\n                    self.camService.updateDisplayNumber(reviewCams);\r\n                    self.camService.onCamsChanged.next(reviewCams);\r\n                    self.updateSearch();\r\n\r\n                }\r\n            })\r\n    }\r\n\r\n    confirmAfterSave() {\r\n        const self = this;\r\n\r\n        const success = (reset) => {\r\n            if (reset) {\r\n                self.noctuaSearchMenuService.selectMiddlePanel(MiddlePanel.cams);\r\n                self.noctuaSearchMenuService.selectLeftPanel(LeftPanel.filter);\r\n                self.clear();\r\n                self.camService.clearCams();\r\n                self.clearBasket();\r\n                self.onResetReview.next(true);\r\n                self.noctuaSearchMenuService.scrollToTop();\r\n            }\r\n        }\r\n\r\n        const options = {\r\n            cancelLabel: 'No',\r\n            confirmLabel: 'Yes'\r\n        };\r\n\r\n        this.confirmDialogService.openConfirmDialog('Changes successfully saved.',\r\n            'Do you want to clear all your selected models from ART',\r\n            success, options);\r\n    }\r\n\r\n\r\n\r\n    searchCamsByIds(ids: string[]) {\r\n        const self = this;\r\n\r\n        const searchCriteria = new SearchCriteria();\r\n        searchCriteria.ids = ids;\r\n        self.camService.resetMatch();\r\n\r\n        return self._noctuaSearchService.getCams(searchCriteria);\r\n    }\r\n\r\n    search(searchCriteria) {\r\n        this.searchCriteria = new SearchCriteria();\r\n\r\n        searchCriteria.pmid ? this.searchCriteria.pmids.push(searchCriteria.pmid) : null;\r\n        searchCriteria.term ? this.searchCriteria.terms.push(searchCriteria.term) : null;\r\n        searchCriteria.id ? this.searchCriteria.ids.push(searchCriteria.id) : null;\r\n        searchCriteria.gp ? this.searchCriteria.gps.push(searchCriteria.gp) : null;\r\n\r\n        this.updateSearch();\r\n\r\n    }\r\n\r\n    findNext() {\r\n        if (this.matchedCount === 0) {\r\n            return;\r\n        }\r\n\r\n        // so it circulates\r\n        this.matchedCountCursor = (this.matchedCountCursor + 1) % this.matchedCount;\r\n        this.currentMatchedEnity = this.matchedEntities[this.matchedCountCursor];\r\n        this.camService.expandMatch(this.currentMatchedEnity.uuid);\r\n        this.camService.currentMatch = this.currentMatchedEnity;\r\n\r\n        if (!this.currentMatchedEnity.activityDisplayId && this.matchedCountCursor < this.matchedCount) {\r\n            this.findNext();\r\n        } else {\r\n            this.noctuaSearchMenuService.scrollTo('#' + this.currentMatchedEnity.activityDisplayId);\r\n        }\r\n\r\n        return this.currentMatchedEnity;\r\n    }\r\n\r\n    findPrevious() {\r\n        if (this.matchedCount === 0) {\r\n            return;\r\n        }\r\n        this.matchedCountCursor = this.matchedCountCursor - 1;\r\n\r\n        if (this.matchedCountCursor < 0) {\r\n            this.matchedCountCursor = this.matchedCount - 1;\r\n        }\r\n\r\n        this.currentMatchedEnity = this.matchedEntities[this.matchedCountCursor];\r\n        this.camService.expandMatch(this.currentMatchedEnity.uuid);\r\n        this.camService.currentMatch = this.currentMatchedEnity;\r\n        this.noctuaSearchMenuService.scrollTo('#' + this.currentMatchedEnity.activityDisplayId);\r\n\r\n        return this.currentMatchedEnity;\r\n    }\r\n\r\n    goto(step: number | 'first' | 'last') {\r\n        if (this.matchedCount === 0) {\r\n            return;\r\n        }\r\n\r\n        if (step === 'first') {\r\n            step = 0;\r\n        }\r\n\r\n        if (step === 'last') {\r\n            step = this.matchedEntities.length - 1;\r\n        }\r\n\r\n        this.matchedCountCursor = step;\r\n        this.currentMatchedEnity = this.matchedEntities[this.matchedCountCursor];\r\n        this.camService.expandMatch(this.currentMatchedEnity.uuid);\r\n        this.camService.currentMatch = this.currentMatchedEnity;\r\n        this.noctuaSearchMenuService.scrollTo('#' + this.currentMatchedEnity.activityDisplayId);\r\n\r\n        return this.currentMatchedEnity;\r\n    }\r\n\r\n    clear() {\r\n        this.matchedEntities = [];\r\n        this.matchedCountCursor = 0;\r\n        this.matchedCount = 0;\r\n        this.currentMatchedEnity = undefined;\r\n        this.camService.currentMatch = new Entity(null, null);\r\n        this.searchCriteria = new SearchCriteria();\r\n    }\r\n\r\n    getPage(pageNumber: number, pageSize: number) {\r\n        this.searchCriteria.camPage.pageNumber = pageNumber;\r\n        this.searchCriteria.camPage.size = pageSize;\r\n        this.updateSearch();\r\n    }\r\n\r\n    updateSearch(save: boolean = true, inIds?: string[]) {\r\n\r\n        if (inIds && inIds.length > 0) {\r\n            this.searchCriteria.ids = inIds\r\n        } else {\r\n            const ids = this.camService.cams.map((cam: Cam) => {\r\n                return cam.id;\r\n            });\r\n            this.searchCriteria.ids = ids;\r\n        }\r\n\r\n        this.searchCriteria.updateFiltersCount();\r\n        this.onSearchCriteriaChanged.next(this.searchCriteria);\r\n\r\n        if (save) {\r\n            this.saveHistory();\r\n        }\r\n    }\r\n\r\n    filter(filterType, filter) {\r\n        this.searchCriteria[filterType].push(filter);\r\n        this.updateSearch();\r\n    }\r\n\r\n    removeFilterType(filterType: string) {\r\n        this.searchCriteria[filterType] = [];\r\n        this.updateSearch();\r\n    }\r\n\r\n    removeFilter(filterType) {\r\n        this.searchCriteria[filterType] = null;\r\n    }\r\n\r\n    clearSearchCriteria() {\r\n        this.searchCriteria = new SearchCriteria();\r\n        this.updateSearch();\r\n    }\r\n\r\n    saveHistory() {\r\n        const searchHistoryItem = new SearchHistory(this.searchCriteria);\r\n        this.searchHistory.unshift(searchHistoryItem);\r\n        this.onSearchHistoryChanged.next(this.searchHistory);\r\n    }\r\n\r\n    clearHistory() {\r\n        this.searchHistory = [];\r\n        this.onSearchHistoryChanged.next(this.searchHistory);\r\n    }\r\n\r\n    addToArtBasket(id: string, title: string) {\r\n        this.artBasket.addCamToBasket(id, title);\r\n\r\n        localStorage.setItem('artBasket', JSON.stringify(this.artBasket));\r\n        this.onArtBasketChanged.next(this.artBasket);\r\n    }\r\n\r\n    clearBasket() {\r\n        this.artBasket.clearBasket();\r\n        localStorage.setItem('artBasket', JSON.stringify(this.artBasket));\r\n        this.onArtBasketChanged.next(this.artBasket);\r\n        this.noctuaSearchMenuService.scrollToTop();\r\n    }\r\n\r\n    downloadSearchConfig() {\r\n        const blob = new Blob([JSON.stringify(this.searchCriteria, undefined, 2)], { type: 'application/json' });\r\n        saveAs(blob, 'search-filter.json');\r\n    }\r\n\r\n    uploadSearchConfig(searchCriteria) {\r\n        this.searchCriteria = new SearchCriteria();\r\n\r\n        if (searchCriteria.ids) {\r\n            this.searchCriteria.ids = searchCriteria.ids;\r\n        }\r\n        if (searchCriteria.pmids) {\r\n            this.searchCriteria.pmids = searchCriteria.pmids;\r\n        }\r\n        if (searchCriteria.terms) {\r\n            this.searchCriteria.terms = searchCriteria.terms;\r\n        }\r\n        if (searchCriteria.gps) {\r\n            this.searchCriteria.gps = searchCriteria.gps;\r\n        }\r\n\r\n        this.updateSearch();\r\n    }\r\n\r\n    getCams(searchCriteria: SearchCriteria): Observable<any> {\r\n        const self = this;\r\n\r\n        searchCriteria.expand = false;\r\n        const query = searchCriteria.build(false);\r\n        const url = `${this.searchApi}/models?${query}`;\r\n\r\n        self.loading = true;\r\n\r\n        return this.httpClient\r\n            .get(url)\r\n            .pipe(\r\n                map(res => this.addCam(res)),\r\n                finalize(() => {\r\n                    self.loading = false;\r\n                })\r\n            );\r\n    }\r\n\r\n    addCam(res) {\r\n        const self = this;\r\n        const result: Array<Cam> = [];\r\n\r\n        each(self.camService.cams, (cam: Cam) => {\r\n            return cam.clearHighlight();\r\n        });\r\n\r\n        res.models.forEach((response) => {\r\n\r\n            const modelId = response.id;\r\n            const cam: Cam = find(self.camService.cams, (inCam: Cam) => {\r\n                return inCam.id === modelId;\r\n            });\r\n\r\n            if (cam) {\r\n                cam.queryMatch = new CamQueryMatch();\r\n                each(response.query_match, (queryMatch, key) => {\r\n                    cam.queryMatch.terms.push(\r\n                        ...queryMatch.map(v1 => {\r\n                            return new Entity(\r\n                                self.curieUtil.getCurie(key),\r\n                                '',\r\n                                null,\r\n                                self.curieUtil.getCurie(v1),\r\n                                cam.id\r\n                            );\r\n                        }));\r\n                });\r\n\r\n                cam.applyFilter();\r\n            }\r\n\r\n            result.push(cam);\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    addCamTerms(res) {\r\n        const self = this;\r\n        const result: Array<Entity> = [];\r\n\r\n        res.forEach((response) => {\r\n            const term = new Entity(\r\n                self.curieUtil.getCurie(response.id.value),\r\n                response.label.value\r\n            );\r\n\r\n            result.push(term);\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    calculateMatchedCountNumber(): number {\r\n        const matchCount = this.camService.cams.reduce((total, currentValue) => {\r\n            total += currentValue.matchedCount;\r\n            return total;\r\n        }, 0);\r\n\r\n        return matchCount;\r\n    }\r\n\r\n\r\n    calculateMatched() {\r\n        this.matchedEntities = this.camService.cams.reduce((total: Entity[], currentValue: Cam) => {\r\n            if (currentValue.queryMatch && currentValue.queryMatch.terms) {\r\n                total.push(...currentValue.queryMatch.terms);\r\n            }\r\n\r\n            return total;\r\n        }, []);\r\n\r\n        this.matchedCount = this.matchedEntities.length;\r\n        this.matchedCountCursor = 0;\r\n    }\r\n\r\n\r\n    sortMatched() {\r\n        this.matchedEntities = this.matchedEntities.sort(_compareEntityWeight)\r\n    }\r\n\r\n}\r\n","import { environment } from './../../environments/environment';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, forkJoin, Observable } from 'rxjs';\r\nimport { map, finalize } from 'rxjs/operators';\r\nimport {\r\n    Cam,\r\n    Contributor,\r\n    Group,\r\n    Organism,\r\n    NoctuaFormConfigService,\r\n    NoctuaUserService,\r\n    Entity,\r\n    NoctuaGraphService,\r\n    CamService,\r\n    NoctuaLookupService\r\n} from '@geneontology/noctua-form-base';\r\nimport { SearchCriteria, SearchFilterType } from './../models/search-criteria';\r\nimport { saveAs } from 'file-saver';\r\nimport { find, groupBy } from 'lodash';\r\nimport { CurieService } from '@noctua.curie/services/curie.service';\r\nimport { CamPage } from './../models/cam-page';\r\nimport { SearchHistory } from './../models/search-history';\r\nimport { NoctuaDataService } from '@noctua.common/services/noctua-data.service';\r\nimport { NoctuaSearchMenuService } from './search-menu.service';\r\nimport { MiddlePanel } from '../models/menu-panels';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class NoctuaSearchService {\r\n    searchHistory: SearchHistory[] = [];\r\n    contributors: Contributor[] = [];\r\n    groups: Group[] = [];\r\n    organisms: Organism[] = [];\r\n    states: any[] = [];\r\n\r\n    onSearchCriteriaChanged: BehaviorSubject<any>;\r\n    onSearchHistoryChanged: BehaviorSubject<any>;\r\n    onDetailTermChanged: BehaviorSubject<any>;\r\n    curieUtil: any;\r\n    cams: any[] = [];\r\n    camPage: CamPage;\r\n    searchCriteria: SearchCriteria;\r\n    searchApi = environment.searchApi;\r\n    separator = '@@';\r\n    loading = false;\r\n    onCamsChanged: BehaviorSubject<any>;\r\n    onCamsPageChanged: BehaviorSubject<any>;\r\n    onContributorFilterChanged: BehaviorSubject<any>;\r\n    searchSummary: any = {};\r\n\r\n\r\n\r\n    constructor(\r\n        private httpClient: HttpClient,\r\n        private noctuaDataService: NoctuaDataService,\r\n        private _noctuaGraphService: NoctuaGraphService,\r\n        private noctuaLookupService: NoctuaLookupService,\r\n        private camService: CamService,\r\n        public noctuaFormConfigService: NoctuaFormConfigService,\r\n        public noctuaUserService: NoctuaUserService,\r\n        private noctuaSearchMenuService: NoctuaSearchMenuService,\r\n        private curieService: CurieService) {\r\n        this.onDetailTermChanged = new BehaviorSubject(null);\r\n        this.onCamsChanged = new BehaviorSubject([]);\r\n        this.onCamsPageChanged = new BehaviorSubject(null);\r\n        this.onSearchHistoryChanged = new BehaviorSubject(null);\r\n        this.states = this.noctuaFormConfigService.modelState.options;\r\n        this.searchCriteria = new SearchCriteria();\r\n        this.onSearchCriteriaChanged = new BehaviorSubject(null);\r\n        this.curieUtil = this.curieService.getCurieUtil();\r\n\r\n        this.onSearchCriteriaChanged.subscribe((searchCriteria: SearchCriteria) => {\r\n            if (!searchCriteria) {\r\n                return;\r\n            }\r\n\r\n            this.getCams(searchCriteria).subscribe((response: any) => {\r\n                this.cams = response;\r\n                this.camService.updateDisplayNumber(this.cams);\r\n                this.onCamsChanged.next(this.cams);\r\n            });\r\n\r\n            this.getCamsCount(searchCriteria).subscribe((response: any) => {\r\n                this.camPage = new CamPage();\r\n                this.camPage.total = response.n;\r\n                this.onCamsPageChanged.next(this.camPage);\r\n            });\r\n\r\n            if (this.noctuaSearchMenuService.selectedMiddlePanel === MiddlePanel.cams) {\r\n                this.noctuaSearchMenuService.scrollToTop();\r\n            }\r\n        });\r\n\r\n        this.loadCamRebuild();\r\n    }\r\n\r\n    // Get Users and Groups\r\n    setup() {\r\n        const self = this;\r\n\r\n        self.noctuaDataService.loadOrganisms();\r\n\r\n        self.noctuaDataService.onOrganismsChanged\r\n            .subscribe(organisms => {\r\n                if (organisms) {\r\n                    this.organisms = organisms;\r\n                }\r\n            });\r\n\r\n        //For testing\r\n        const contributor =\r\n            {\r\n                'name': 'Tremayne Mushayahama',\r\n                'orcid': 'http://orcid.org/0000-0002-2874-6934',\r\n                'initials': 'TM',\r\n                'color': '#e1bee7'\r\n            } as Contributor;\r\n        //  this.searchCriteria.contributors = [contributor];\r\n\r\n        if (this.searchCriteria.terms.length > 0) {\r\n            this.searchFormUrl()\r\n        } else {\r\n            this.updateSearch();\r\n        }\r\n    }\r\n\r\n    searchFormUrl() {\r\n        const self = this;\r\n        const promises = []\r\n        const terms = [...this.searchCriteria.gps, ...this.searchCriteria.terms]\r\n\r\n        terms.forEach((term) => {\r\n            promises.push(self.noctuaLookupService.getTermDetail(term.id))\r\n        })\r\n\r\n        forkJoin(promises).subscribe((response: any[]) => {\r\n            if (response) {\r\n                terms.forEach((term) => {\r\n                    const found = find(response, { id: term.id })\r\n                    Object.assign(term, found)\r\n                })\r\n                this.updateSearch();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    loadCamRebuild() {\r\n        const self = this;\r\n        self._noctuaGraphService.onCamRebuildChange.subscribe((inCam: Cam) => {\r\n            if (!inCam) {\r\n                return;\r\n            }\r\n\r\n            const cam = find(self.cams, { id: inCam.id }) as Cam;\r\n\r\n            if (!cam || !cam.expanded) return;\r\n\r\n            this.camService.loadCam(cam);\r\n            this.camService.onCamChanged.next(cam);\r\n        })\r\n    }\r\n\r\n    search(searchCriteria) {\r\n        this.searchCriteria = new SearchCriteria();\r\n\r\n        searchCriteria.title ? this.searchCriteria.titles.push(searchCriteria.title) : null;\r\n        searchCriteria.contributor ? this.searchCriteria.contributors.push(searchCriteria.contributor) : null;\r\n        searchCriteria.group ? this.searchCriteria.groups.push(searchCriteria.group) : null;\r\n        searchCriteria.pmid ? this.searchCriteria.pmids.push(searchCriteria.pmid) : null;\r\n        searchCriteria.term ? this.searchCriteria.terms.push(searchCriteria.term) : null;\r\n        searchCriteria.obsoleteTerm ? this.searchCriteria.obsoleteTerms.push(searchCriteria.obsoleteTerm) : null;\r\n        searchCriteria.id ? this.searchCriteria.ids.push(searchCriteria.id) : null;\r\n        searchCriteria.gp ? this.searchCriteria.gps.push(searchCriteria.gp) : null;\r\n        searchCriteria.organism ? this.searchCriteria.organisms.push(searchCriteria.organism) : null;\r\n        searchCriteria.state ? this.searchCriteria.states.push(searchCriteria.state) : null;\r\n        searchCriteria.exactdate ? this.searchCriteria.exactdates.push(searchCriteria.exactdate) : null;\r\n        searchCriteria.startdate ? this.searchCriteria.exactdates.push(searchCriteria.startdate) : null;\r\n        searchCriteria.enddate ? this.searchCriteria.exactdates.push(searchCriteria.enddate) : null;\r\n\r\n        this.updateSearch();\r\n\r\n    }\r\n\r\n    getPage(pageNumber: number, pageSize: number) {\r\n        this.searchCriteria.camPage.pageNumber = pageNumber;\r\n        this.searchCriteria.camPage.size = pageSize;\r\n        this.updateSearch();\r\n    }\r\n\r\n    paramsToSearch(param) {\r\n        this.searchCriteria.titles = this.makeArray(param.title)\r\n        this.searchCriteria.contributors = this.makeArray(param.contributor, SearchFilterType.contributors)\r\n        this.searchCriteria.groups = this.makeArray(param.group, SearchFilterType.groups)\r\n        this.searchCriteria.pmids = this.makeArray(param.pmid)\r\n        this.searchCriteria.terms = this.makeArray(param.term, SearchFilterType.terms)\r\n        this.searchCriteria.obsoleteTerms = this.makeArray(param.term, SearchFilterType.obsoleteTerms)\r\n        this.searchCriteria.gps = this.makeArray(param.gp, SearchFilterType.gps)\r\n        this.searchCriteria.organisms = this.makeArray(param.organism, SearchFilterType.organisms)\r\n        this.searchCriteria.states = this.makeArray(param.state)\r\n        this.searchCriteria.exactdates = this.makeArray(param.exactdate)\r\n        this.searchCriteria.startdates = this.makeArray(param.startdate)\r\n        this.searchCriteria.enddates = this.makeArray(param.enddate)\r\n    }\r\n\r\n    makeArray(val, filterType?: SearchFilterType) {\r\n        let filter;\r\n        if (Array.isArray(val)) {\r\n            filter = val\r\n        }\r\n        if (typeof val === 'string') {\r\n            filter = [val]\r\n        } else {\r\n            filter = []\r\n        }\r\n\r\n        switch (filterType) {\r\n            case SearchFilterType.terms:\r\n            case SearchFilterType.gps:\r\n                return filter.map(item => ({ id: item, label: item }));\r\n            case SearchFilterType.contributors:\r\n                return filter.map(item => ({ orcid: item, name: item } as Contributor));\r\n            case SearchFilterType.groups:\r\n                return filter.map(item => ({ url: item, name: item } as Group));\r\n            case SearchFilterType.organisms:\r\n                return filter.map(item => ({ taxonIri: item, taxonName: item } as Organism));\r\n            default:\r\n                return filter;\r\n        }\r\n    }\r\n\r\n    updateSearch(pushState = true, save = true) {\r\n        this.searchCriteria.updateFiltersCount();\r\n        this.onSearchCriteriaChanged.next(this.searchCriteria);\r\n\r\n        if (save) {\r\n            this.saveHistory();\r\n        }\r\n\r\n        if (pushState) {\r\n            if (this.searchCriteria.filtersCount > 0) {\r\n                const query = this.searchCriteria.build();\r\n                const url = `${window.location.origin}${window.location.pathname}?${query}`\r\n                history.pushState({}, '', url)\r\n            } else {\r\n                const url = `${window.location.origin}${window.location.pathname}`\r\n                history.replaceState({}, '', url)\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    filter(filterType, filter) {\r\n        this.searchCriteria[filterType].push(filter);\r\n        this.updateSearch();\r\n    }\r\n\r\n    removeFilterType(filterType: string) {\r\n        this.searchCriteria[filterType] = [];\r\n        this.updateSearch();\r\n    }\r\n\r\n    removeFilter(filterType) {\r\n        this.searchCriteria[filterType] = null;\r\n    }\r\n\r\n    clearSearchCriteria() {\r\n        this.searchCriteria = new SearchCriteria();\r\n        this.updateSearch();\r\n    }\r\n\r\n    saveHistory() {\r\n        const searchHistoryItem = new SearchHistory(this.searchCriteria);\r\n        this.searchHistory.unshift(searchHistoryItem);\r\n\r\n        this.onSearchHistoryChanged.next(this.searchHistory);\r\n    }\r\n\r\n    clearHistory() {\r\n        this.searchHistory = [];\r\n        this.onSearchHistoryChanged.next(this.searchHistory);\r\n    }\r\n\r\n    downloadSearchConfig() {\r\n        const blob = new Blob([JSON.stringify(this.searchCriteria, undefined, 2)], { type: 'application/json' });\r\n        saveAs(blob, 'search-filter.json');\r\n    }\r\n\r\n    uploadSearchConfig(searchCriteria) {\r\n        this.searchCriteria = new SearchCriteria();\r\n\r\n        if (searchCriteria.titles) {\r\n            this.searchCriteria.titles = searchCriteria.titles;\r\n        }\r\n        if (searchCriteria.ids) {\r\n            this.searchCriteria.ids = searchCriteria.ids;\r\n        }\r\n        if (searchCriteria.contributors) {\r\n            this.searchCriteria.contributors = searchCriteria.contributors;\r\n        }\r\n        if (searchCriteria.groups) {\r\n            this.searchCriteria.groups = searchCriteria.groups;\r\n        }\r\n        if (searchCriteria.pmids) {\r\n            this.searchCriteria.pmids = searchCriteria.pmids;\r\n        }\r\n        if (searchCriteria.terms) {\r\n            this.searchCriteria.terms = searchCriteria.terms;\r\n        }\r\n        if (searchCriteria.obsoleteTerms) {\r\n            this.searchCriteria.obsoleteTerms = searchCriteria.obsoleteTerms;\r\n        }\r\n        if (searchCriteria.gps) {\r\n            this.searchCriteria.gps = searchCriteria.gps;\r\n        }\r\n        if (searchCriteria.organisms) {\r\n            this.searchCriteria.organisms = searchCriteria.organisms;\r\n        }\r\n        if (searchCriteria.states) {\r\n            this.searchCriteria.states = searchCriteria.states;\r\n        }\r\n        if (searchCriteria.exactdates) {\r\n            this.searchCriteria.exactdates = searchCriteria.exactdates;\r\n        }\r\n        if (searchCriteria.startdates) {\r\n            this.searchCriteria.startdates = searchCriteria.startdates;\r\n        }\r\n        if (searchCriteria.enddates) {\r\n            this.searchCriteria.enddates = searchCriteria.enddates;\r\n        }\r\n\r\n        this.updateSearch();\r\n    }\r\n\r\n    getCams(searchCriteria: SearchCriteria): Observable<any> {\r\n        const self = this;\r\n        const query = searchCriteria.build();\r\n        const url = `${this.searchApi}/models?${query}`;\r\n\r\n        self.loading = true;\r\n\r\n        return this.httpClient\r\n            .get(url)\r\n            .pipe(\r\n                map(res => this.addCam(res)),\r\n                finalize(() => {\r\n                    self.loading = false;\r\n                })\r\n            );\r\n    }\r\n\r\n    getCamsCount(searchCriteria: SearchCriteria): Observable<any> {\r\n        const self = this;\r\n        const query = searchCriteria.build();\r\n        const url = `${this.searchApi}/models?${query}&count`;\r\n\r\n        return this.httpClient\r\n            .get(url)\r\n            .pipe();\r\n    }\r\n\r\n    addCam(res) {\r\n        const self = this;\r\n        const result: Array<Cam> = [];\r\n\r\n        res.models.forEach((response) => {\r\n            const modelId = response.id;\r\n            const cam = new Cam();\r\n\r\n            cam.graph = null;\r\n            cam.id = modelId;\r\n            cam.state = self.noctuaFormConfigService.findModelState(response.state);\r\n            cam.title = response.title;\r\n            cam.date = response.date;\r\n            cam.modified = response['modified-p'];\r\n            cam.model = Object.assign({}, {\r\n                modelInfo: this.noctuaFormConfigService.getModelUrls(modelId)\r\n            });\r\n\r\n            cam.groups = <Group[]>response.groups.map((url) => {\r\n                const group = find(self.noctuaUserService.groups, (inGroup: Group) => {\r\n                    return inGroup.url === url;\r\n                });\r\n\r\n                return group ? group : { url: url };\r\n            });\r\n\r\n            cam.contributors = <Contributor[]>response.contributors.map((orcid) => {\r\n                const contributor = find(self.noctuaUserService.contributors, (inContributor: Contributor) => {\r\n                    return inContributor.orcid === orcid;\r\n                });\r\n\r\n                return contributor ? contributor : { orcid: orcid };\r\n            });\r\n\r\n            result.push(cam);\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    addCamTerms(res) {\r\n        const self = this;\r\n        const result: Array<Entity> = [];\r\n\r\n        res.forEach((response) => {\r\n            const term = new Entity(\r\n                self.curieUtil.getCurie(response.id.value),\r\n                response.label.value\r\n            );\r\n\r\n            result.push(term);\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public groupContributors() {\r\n        return groupBy(this.contributors, function (contributor) {\r\n            return contributor.group;\r\n        });\r\n    }\r\n\r\n    public filterOrganisms(value: string): any[] {\r\n        const filterValue = value.toLowerCase();\r\n\r\n        return this.organisms.filter(organism => organism.taxonName.toLowerCase().indexOf(filterValue) === 0);\r\n    }\r\n\r\n    public filterStates(value: string): any[] {\r\n        const filterValue = value.toLowerCase();\r\n\r\n        return this.states.filter(state => state.name.toLowerCase().indexOf(filterValue) === 0);\r\n    }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { PerfectScrollbarDirective } from 'ngx-perfect-scrollbar';\r\nimport { LeftPanel, MiddlePanel, RightPanel } from './../models/menu-panels';\r\nimport { ReviewMode } from './../models/review-mode';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class NoctuaSearchMenuService {\r\n    reviewMode: ReviewMode = ReviewMode.off;\r\n    isReviewMode = false;\r\n    reviewLevel = 0;\r\n    selectedLeftPanel: LeftPanel;\r\n    selectedMiddlePanel: MiddlePanel;\r\n    selectedRightPanel: RightPanel;\r\n    resultsViewScrollbar: PerfectScrollbarDirective;\r\n\r\n    private leftDrawer: MatDrawer;\r\n    private rightDrawer: MatDrawer;\r\n\r\n    constructor() {\r\n        this.selectedLeftPanel = LeftPanel.filter;\r\n        this.selectedMiddlePanel = MiddlePanel.cams;\r\n    }\r\n\r\n    selectLeftPanel(panel: LeftPanel) {\r\n        this.selectedLeftPanel = panel;\r\n    }\r\n\r\n    selectMiddlePanel(panel: MiddlePanel) {\r\n        this.selectedMiddlePanel = panel;\r\n\r\n        if (panel === MiddlePanel.cams) {\r\n            this.reviewLevel = 0;\r\n        } else if (panel === MiddlePanel.camsReview) {\r\n            this.reviewLevel = 1;\r\n        } else if (panel === MiddlePanel.reviewChanges) {\r\n            this.reviewLevel = 2;\r\n        }\r\n        this.scrollToTop();\r\n    }\r\n\r\n    selectRightPanel(panel: RightPanel) {\r\n        this.selectedRightPanel = panel;\r\n    }\r\n\r\n    public setLeftDrawer(leftDrawer: MatDrawer) {\r\n        this.leftDrawer = leftDrawer;\r\n    }\r\n\r\n    public openLeftDrawer() {\r\n        return this.leftDrawer.open();\r\n    }\r\n\r\n    public closeLeftDrawer() {\r\n        return this.leftDrawer.close();\r\n    }\r\n\r\n    public toggleLeftDrawer(panel: LeftPanel) {\r\n        if (this.selectedLeftPanel === panel) {\r\n            this.leftDrawer.toggle();\r\n        } else {\r\n            this.selectLeftPanel(panel);\r\n            return this.openLeftDrawer();\r\n        }\r\n    }\r\n\r\n    public setRightDrawer(rightDrawer: MatDrawer) {\r\n        this.rightDrawer = rightDrawer;\r\n    }\r\n\r\n    public openRightDrawer() {\r\n        return this.rightDrawer.open();\r\n    }\r\n\r\n    public closeRightDrawer() {\r\n        return this.rightDrawer.close();\r\n    }\r\n\r\n    scrollToTop() {\r\n        setTimeout(() => {\r\n            if (this.resultsViewScrollbar) {\r\n                this.resultsViewScrollbar.update();\r\n\r\n                setTimeout(() => {\r\n                    this.resultsViewScrollbar.scrollToTop(0);\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    scrollTo(q: string) {\r\n\r\n        setTimeout(() => {\r\n            if (this.resultsViewScrollbar) {\r\n                this.resultsViewScrollbar.update();\r\n\r\n                setTimeout(() => {\r\n                    this.resultsViewScrollbar.scrollToElement(q, -140, 1000);\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n","import { environment } from './../../../environments/environment';\r\nimport { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n\r\nimport { CurieService } from './../../../@noctua.curie/services/curie.service';\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaUserService\r\n} from '@geneontology/noctua-form-base'\r\n\r\n\r\ndeclare const require: any;\r\n\r\nconst barista_response = require('bbop-response-barista');\r\nconst minerva_requests = require('minerva-requests');\r\nconst jquery_engine = require('bbop-rest-manager').jquery;\r\nconst minerva_manager = require('bbop-manager-minerva');\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SparqlMinervaService {\r\n  minervaDefinitionName = environment.globalMinervaDefinitionName;\r\n  separator = '@@';\r\n  curieUtil: any;\r\n  cams: any[] = [];\r\n  loading: boolean = false;\r\n  onCamsChanged: BehaviorSubject<any>;\r\n  onCamChanged: BehaviorSubject<any>;\r\n  onContributorFilterChanged: BehaviorSubject<any>;\r\n\r\n  searchSummary: any = {}\r\n\r\n  constructor(public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    private curieService: CurieService) {\r\n    this.onCamsChanged = new BehaviorSubject({});\r\n    this.onCamChanged = new BehaviorSubject({});\r\n    this.curieUtil = this.curieService.getCurieUtil();\r\n\r\n\r\n  }\r\n\r\n  registerManager() {\r\n    let engine = new jquery_engine(barista_response);\r\n    engine.method('POST');\r\n\r\n    let manager = new minerva_manager(\r\n      environment.globalBaristaLocation,\r\n      this.minervaDefinitionName,\r\n      null,\r\n      engine, 'async');\r\n\r\n\r\n    let managerError = (resp) => {\r\n      console.log('There was a manager error (' +\r\n        resp.message_type() + '): ' + resp.message());\r\n    }\r\n\r\n    let warning = (resp) => {\r\n      alert('Warning: ' + resp.message() + '; ' +\r\n        'your operation was likely not performed');\r\n    }\r\n\r\n    let error = (resp) => {\r\n      let perm_flag = 'InsufficientPermissionsException';\r\n      let token_flag = 'token';\r\n      if (resp.message() && resp.message().indexOf(perm_flag) !== -1) {\r\n        alert('Error: it seems like you do not have permission to ' +\r\n          'perform that operation. Did you remember to login?');\r\n      } else if (resp.message() && resp.message().indexOf(token_flag) !== -1) {\r\n        alert('Error: it seems like you have a bad token...');\r\n      } else {\r\n        console.log('error:', resp, resp.message_type(), resp.message());\r\n\r\n        if (resp.message().includes('UnknownIdentifierException')) {\r\n          //  cam.error = true\r\n        }\r\n      }\r\n    }\r\n\r\n    let shieldsUp = () => { }\r\n\r\n    manager.register('prerun', shieldsUp);\r\n    manager.register('postrun', () => {\r\n    }, 9);\r\n    manager.register('manager_error', managerError, 10);\r\n    manager.register('warning', warning, 10);\r\n    manager.register('error', error, 10);\r\n    manager.register('meta', function (resp) {\r\n      console.log(\"---------\", resp)\r\n    }, 10);\r\n\r\n    return manager;\r\n  }\r\n\r\n  foo(query) {\r\n\r\n    let manager = this.registerManager();\r\n\r\n    var req = new minerva_requests.request('meta', 'sparql')\r\n    req.special('query', query)\r\n    var request_set = new minerva_requests.request_set('MYTOKEN', null);\r\n    request_set.add(req);\r\n\r\n    manager.request_with(request_set);\r\n  }\r\n\r\n}\r\n","import { environment } from './../../../environments/environment';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { map, finalize, tap } from 'rxjs/operators';\r\n\r\nimport {\r\n  optional,\r\n  prefix,\r\n  Query,\r\n  triple,\r\n} from 'sparql-query-builder/dist';\r\n\r\nimport {\r\n  NoctuaQuery\r\n} from 'noctua-sparql-query-builder/dist';\r\n\r\nimport { CurieService } from './../../../@noctua.curie/services/curie.service';\r\nimport {\r\n  NoctuaFormConfigService,\r\n  Cam,\r\n  Contributor,\r\n  Group,\r\n  NoctuaUserService,\r\n  Organism,\r\n  Entity,\r\n  Article,\r\n  noctuaFormConfig\r\n} from '@geneontology/noctua-form-base';\r\nimport { SparqlMinervaService } from './sparql-minerva.service';\r\nimport { each, find } from 'lodash';\r\ndeclare const require: any;\r\n\r\nconst amigo = require('amigo2');\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SparqlService {\r\n  minervaDefinitionName = environment.globalMinervaDefinitionName;\r\n  separator = '@@';\r\n  baseUrl = environment.spaqrlApiUrl;\r\n  wikidataSparqlUrl = environment.wikidataSparqlUrl;\r\n  curieUtil: any;\r\n  cams: any[] = [];\r\n  loading: boolean = false;\r\n  //onCamsChanged: BehaviorSubject<any>;\r\n  //onCamChanged: BehaviorSubject<any>;\r\n  onContributorFilterChanged: BehaviorSubject<any>;\r\n  linker = new amigo.linker();\r\n\r\n  searchSummary: any = {};\r\n\r\n  constructor(public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    private httpClient: HttpClient,\r\n    private sparqlMinervaService: SparqlMinervaService,\r\n    private curieService: CurieService) {\r\n    // this.onCamsChanged = new BehaviorSubject({});\r\n    //  this.onCamChanged = new BehaviorSubject({});\r\n    this.curieUtil = this.curieService.getCurieUtil();\r\n  }\r\n\r\n  getPubmedInfo(pmid: string) {\r\n    const self = this;\r\n\r\n    const query = this.buildPubmedInfoQuery(pmid);\r\n    const url = `${this.wikidataSparqlUrl}?query=${encodeURIComponent(query)}&formart=json`\r\n\r\n\r\n    // self.loading = true;\r\n\r\n    return this.httpClient\r\n      .get(url)\r\n      .pipe(\r\n        map(res => res['results']),\r\n        map(res => res['bindings']),\r\n        tap(val => console.dir(val)),\r\n        map(res => this.addArticles(res, pmid)),\r\n        tap(val => console.dir(val)),\r\n        finalize(() => {\r\n          self.loading = false;\r\n        })\r\n      );\r\n  }\r\n\r\n  addArticles(res, pmid: string) {\r\n    const self = this;\r\n    const result: Array<Article> = [];\r\n\r\n    res.forEach((response) => {\r\n      const article = new Article();\r\n      article.title = response.title.value;\r\n      article.author = response.author.value;\r\n      article.link = self.linker.url(`${noctuaFormConfig.evidenceDB.options.pmid.name}:${pmid}`);\r\n      if (response.date) {\r\n        article.date = response.date.value\r\n      }\r\n\r\n      result.push(article);\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  getAllContributors(): Observable<any> {\r\n    const query = this.buildAllContributorsQuery();\r\n    const url = `${this.baseUrl}?query=${encodeURIComponent(query)}`\r\n\r\n    this.sparqlMinervaService.foo(query);\r\n\r\n    return this.httpClient\r\n      .get(url)\r\n      .pipe(\r\n        map(res => res['results']),\r\n        map(res => res['bindings']),\r\n        tap(val => console.dir(val)),\r\n        map(res => this.addContributor(res)),\r\n        tap(val => console.dir(val))\r\n      );\r\n  }\r\n\r\n  getAllOrganisms(): Observable<any> {\r\n    const query = this.buildOrganismsQuery();\r\n    const url = `${this.baseUrl}?query=${encodeURIComponent(query)}`\r\n\r\n    this.sparqlMinervaService.foo(query);\r\n    return this.httpClient\r\n      .get(url)\r\n      .pipe(\r\n        map(res => res['results']),\r\n        map(res => res['bindings']),\r\n        tap(val => console.dir(val)),\r\n        map(res => this.addOrganism(res)),\r\n        tap(val => console.dir(val))\r\n      );\r\n  }\r\n\r\n  getAllGroups(): Observable<any> {\r\n    const query = this.buildAllGroupsQuery();\r\n    const url = `${this.baseUrl}?query=${encodeURIComponent(query)}`\r\n\r\n    this.sparqlMinervaService.foo(query);\r\n    return this.httpClient\r\n      .get(url)\r\n      .pipe(\r\n        map(res => res['results']),\r\n        map(res => res['bindings']),\r\n        tap(val => console.dir(val)),\r\n        map(res => this.addGroup(res)),\r\n        tap(val => console.dir(val))\r\n      );\r\n  }\r\n\r\n  getModelMeta(modelId): Observable<any> {\r\n    const query = this.buildModelMetaQuery(modelId);\r\n    const url = `${this.baseUrl}?query=${encodeURIComponent(query)}`\r\n\r\n    // this.sparqlMinervaService.foo(query);\r\n    return this.httpClient\r\n      .get(url)\r\n      .pipe(\r\n        map(res => res['results']),\r\n        map(res => res['bindings']),\r\n        tap(val => console.dir(val)),\r\n        map(res => this.addCam(res)),\r\n        tap(val => console.dir(val))\r\n      );\r\n  }\r\n\r\n  getModelTerms(modelId: string): Observable<any> {\r\n    const query = this.buildModelTermsQuery(modelId);\r\n    const url = `${this.baseUrl}?query=${encodeURIComponent(query)}`\r\n\r\n    // this.sparqlMinervaService.foo(query);\r\n    return this.httpClient\r\n      .get(url)\r\n      .pipe(\r\n        map(res => res['results']),\r\n        map(res => res['bindings']),\r\n        tap(val => console.dir(val)),\r\n        map(res => this.addCamTerms(res)),\r\n        tap(val => console.dir(val))\r\n      );\r\n  }\r\n\r\n  addCam(res) {\r\n    const self = this;\r\n    const result: Array<Cam> = [];\r\n\r\n    res.forEach((response) => {\r\n      const modelId = self.curieUtil.getCurie(response.model.value)//this.noctuaFormConfigService.getModelId(response.model.value);\r\n      const cam = new Cam();\r\n\r\n      cam.graph = null;\r\n      cam.id = modelId;\r\n      cam.state = self.noctuaFormConfigService.findModelState(response.modelState.value);\r\n      cam.title = response.modelTitle.value;\r\n      cam.model = Object.assign({}, {\r\n        modelInfo: this.noctuaFormConfigService.getModelUrls(modelId)\r\n      });\r\n\r\n      if (response.date) {\r\n        cam.date = response.date.value;\r\n      }\r\n\r\n      if (response.groups && response.groups.value !== null) {\r\n        cam.groups = <Group[]>response.groups.value.split(self.separator).map(function (url) {\r\n          const group = find(self.noctuaUserService.groups, (inGroup: Group) => {\r\n            return inGroup.url === url;\r\n          });\r\n\r\n          return group ? group : { url: url };\r\n        });\r\n      }\r\n\r\n      if (response.contributors && response.contributors.value !== \"\") {\r\n        cam.contributors = <Contributor[]>response.contributors.value.split(self.separator).map((orcid) => {\r\n          const contributor = find(self.noctuaUserService.contributors, (contributor: Contributor) => {\r\n            return contributor.orcid === orcid\r\n          })\r\n\r\n          return contributor ? contributor : { orcid: orcid };\r\n        });\r\n      }\r\n\r\n      result.push(cam);\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  addCamTerms(res) {\r\n    const self = this;\r\n    const result: Array<Entity> = [];\r\n\r\n    res.forEach((response) => {\r\n      const term = new Entity(\r\n        self.curieUtil.getCurie(response.id.value),\r\n        response.label.value\r\n      );\r\n\r\n      result.push(term);\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  addContributor(res) {\r\n    const result: Array<Contributor> = [];\r\n\r\n    res.forEach((erg) => {\r\n      const contributor = new Contributor();\r\n\r\n      contributor.orcid = erg.orcid.value;\r\n      contributor.name = erg.name.value;\r\n      contributor.cams = erg.cams.value;\r\n      contributor.group = {\r\n        url: erg.affiliations.value\r\n      }\r\n      result.push(contributor);\r\n    });\r\n    return result;\r\n  }\r\n\r\n  addGroup(res) {\r\n    const result: Array<Group> = [];\r\n\r\n    res.forEach((erg) => {\r\n      result.push({\r\n        url: erg.url.value,\r\n        name: erg.name.value,\r\n        cams: erg.cams.value,\r\n        contributorsCount: erg.contributors.value,\r\n        contributors: erg.orcids.value.split('@@').map(function (orcid) {\r\n          return { orcid: orcid };\r\n        }),\r\n      });\r\n    });\r\n    return result;\r\n  }\r\n\r\n  addOrganism(res) {\r\n    const result: Array<Organism> = [];\r\n\r\n    res.forEach((erg) => {\r\n      const organism = new Organism()\r\n\r\n      organism.taxonIri = erg.taxonIri.value;\r\n      organism.taxonName = erg.taxonName.value;\r\n      organism.cams = erg.cams.value;\r\n      result.push(organism);\r\n    });\r\n    return result;\r\n  }\r\n\r\n  addGroupContributors(groups, contributors) {\r\n\r\n    each(groups, (group) => {\r\n      each(group.contributors, (contributor) => {\r\n        const srcContributor = find(contributors, { orcid: contributor.orcid })\r\n        contributor.name = srcContributor['name'];\r\n        contributor.cams = srcContributor['cams'];\r\n      });\r\n    });\r\n  }\r\n\r\n  // BUILDER\r\n\r\n\r\n\r\n  buildAllContributorsQuery() {\r\n    const query = new Query();\r\n\r\n    query.prefix(\r\n      prefix('rdfs', '<http://www.w3.org/2000/01/rdf-schema#>'),\r\n      prefix('dc', '<http://purl.org/dc/elements/1.1/>'),\r\n      prefix('metago', '<http://model.geneontology.org/>'),\r\n      prefix('has_affiliation', '<http://purl.obolibrary.org/obo/ERO_0000066>'))\r\n      .select(\r\n        '?orcid ?name',\r\n        '(GROUP_CONCAT(distinct ?organization;separator=\"@@\") AS ?organizations)',\r\n        '(GROUP_CONCAT(distinct ?affiliation;separator=\"@@\") AS ?affiliations)',\r\n        '(COUNT(distinct ?cam) AS ?cams)'\r\n      )\r\n      .where(\r\n        triple('?cam', '<http://model.geneontology.org/graphType>', '<http://model.geneontology.org/noctuaCam>'),\r\n        triple('?cam', 'dc:contributor', '?orcid'),\r\n        'BIND( IRI(?orcid) AS ?orcidIRI)',\r\n        optional(\r\n          triple('?orcidIRI', 'rdfs:label', '?name'),\r\n          triple('?orcidIRI', '<http://www.w3.org/2006/vcard/ns#organization-name>', '?organization'),\r\n          triple('?orcidIRI', 'has_affiliation:', '?affiliation')\r\n        ),\r\n        'BIND(IF(bound(?name), ?name, ?orcid) as ?name)')\r\n      .groupBy('?orcid ?name')\r\n      .orderBy('?name', 'ASC');\r\n    return query.build();\r\n  }\r\n\r\n  buildOrganismsQuery() {\r\n    const query = new Query();\r\n    const graphQuery = new Query();\r\n    graphQuery.graph('?model',\r\n      '?model metago:graphType metago:noctuaCam',\r\n      triple('?s', 'enabled_by:', '?entity'),\r\n      triple('?entity', 'rdf:type', '?identifier'),\r\n      'FILTER(?identifier != owl:NamedIndividual)'\r\n    );\r\n\r\n    query.prefix(\r\n      prefix('rdf', '<http://www.w3.org/1999/02/22-rdf-syntax-ns#>'),\r\n      prefix('rdfs', '<http://www.w3.org/2000/01/rdf-schema#>'),\r\n      prefix('dc', '<http://purl.org/dc/elements/1.1/>'),\r\n      prefix('metago', '<http://model.geneontology.org/>'),\r\n      prefix('owl', '<http://www.w3.org/2002/07/owl#>'),\r\n      prefix('enabled_by', '<http://purl.obolibrary.org/obo/RO_0002333>'),\r\n      prefix('in_taxon', '<http://purl.obolibrary.org/obo/RO_0002162>'))\r\n      .select(\r\n        'distinct ?taxonIri ?taxonName',\r\n        '(COUNT(distinct ?model) AS ?cams)'\r\n      ).where(\r\n        graphQuery,\r\n        triple('?identifier', 'rdfs:subClassOf', '?v0'),\r\n        triple('?v0', 'owl:onProperty', 'in_taxon:'),\r\n        triple('?v0', 'owl:someValuesFrom', '?taxonIri'),\r\n        triple('?taxonIri', 'rdfs:label', '?taxonName'),\r\n      )\r\n      .groupBy('?taxonIri ?taxonName')\r\n      .orderBy('?taxonName', 'ASC')\r\n\r\n    return query.build();\r\n  }\r\n\r\n  buildAllGroupsQuery() {\r\n    const query = `\r\n    PREFIX metago: <http://model.geneontology.org/>\r\n    PREFIX dc: <http://purl.org/dc/elements/1.1/>\r\n    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> \r\n    PREFIX has_affiliation: <http://purl.obolibrary.org/obo/ERO_0000066> \r\n    PREFIX hint: <http://www.bigdata.com/queryHints#>\r\n\r\n    SELECT  distinct ?name ?url         (GROUP_CONCAT(distinct ?orcidIRI;separator=\"@@\") AS ?orcids) \r\n                                        (COUNT(distinct ?orcidIRI) AS ?contributors)\r\n                                        (COUNT(distinct ?cam) AS ?cams)\r\n    WHERE    \r\n    {\r\n      ?cam metago:graphType metago:noctuaCam .\r\n      ?cam dc:contributor ?orcid .\r\n      BIND( IRI(?orcid) AS ?orcidIRI ).  \r\n      ?orcidIRI has_affiliation: ?url .\r\n      ?url rdfs:label ?name .     \r\n      hint:Prior hint:runLast true .\r\n    }\r\n    GROUP BY ?url ?name`\r\n\r\n    return query;\r\n  }\r\n\r\n  buildPubmedInfoQuery(pmid: string) {\r\n    const query = new Query();\r\n\r\n    query.prefix(\r\n      prefix('wd', '<http://www.wikidata.org/entity/>'),\r\n      prefix('wdt', '<http://www.wikidata.org/prop/direct/>'))\r\n      .select('?rtcl ?title ?author ?journal ?date')\r\n      .where(\r\n        triple('?rtcl', 'wdt:P698', `\"${pmid}\"`),\r\n        optional(triple('?rtcl', 'wdt:P1476', '?title')),\r\n        optional(triple('?rtcl', 'wdt:P2093', '?author')),\r\n        optional(triple('?rtcl', 'wdt:P1433', '?journal')),\r\n        optional(triple('?rtcl', 'wdt:P577', '?date'))\r\n      );\r\n\r\n    return query.build();\r\n  }\r\n\r\n  buildModelMetaQuery(modelId) {\r\n    const query = new Query();\r\n\r\n    const graphQuery = new Query();\r\n    graphQuery.graph('?model',\r\n      '?model dc:date ?date; dc:title ?modelTitle; modelState: ?modelState; providedBy: ?providedBy; dc:contributor ?orcid',\r\n    );\r\n\r\n    query.prefix(\r\n      prefix('rdf', '<http://www.w3.org/1999/02/22-rdf-syntax-ns#>'),\r\n      prefix('rdfs', '<http://www.w3.org/2000/01/rdf-schema#>'),\r\n      prefix('dc', '<http://purl.org/dc/elements/1.1/>'),\r\n      prefix('metago', '<http://model.geneontology.org/>'),\r\n      prefix('gomodel', '<http://model.geneontology.org/>'),\r\n      prefix('owl', '<http://www.w3.org/2002/07/owl#>'),\r\n      prefix('GO', '<http://purl.obolibrary.org/obo/GO_>'),\r\n      prefix('BP', '<http://purl.obolibrary.org/obo/GO_0008150>'),\r\n      prefix('MF', '<http://purl.obolibrary.org/obo/GO_0003674>'),\r\n      prefix('CC', '<http://purl.obolibrary.org/obo/GO_0005575>'),\r\n      prefix('modelState', '<http://geneontology.org/lego/modelstate>'),\r\n      prefix('providedBy', '<http://purl.org/pav/providedBy>'),\r\n      prefix('vcard', '<http://www.w3.org/2006/vcard/ns#>'),\r\n      prefix('has_affiliation', '<http://purl.obolibrary.org/obo/ERO_0000066>'),\r\n      prefix('enabled_by', '<http://purl.obolibrary.org/obo/RO_0002333>'),\r\n      prefix('evidence', '<http://geneontology.org/lego/evidence>'),\r\n      prefix('in_taxon', '<http://purl.obolibrary.org/obo/RO_0002162>'),\r\n      prefix('obo', '<http://www.geneontology.org/formats/oboInOwl#>'))\r\n      .select(\r\n        'distinct ?model ?modelTitle ?modelState ?date',\r\n        '(GROUP_CONCAT(distinct ?entity;separator=\"@@\") as ?entities)',\r\n        '(GROUP_CONCAT(distinct ?orcid;separator=\"@@\") as ?contributors)',\r\n        '(GROUP_CONCAT(distinct ?providedBy;separator=\"@@\") as ?groups)'\r\n      ).where(\r\n        `VALUES ?model { ${modelId} }`,\r\n        graphQuery\r\n      ).groupBy('?model ?modelTitle ?modelState ?date')\r\n\r\n    return query.build();\r\n  }\r\n\r\n  buildModelTermsQuery(modelId) {\r\n    ` \r\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\nPREFIX dc: <http://purl.org/dc/elements/1.1/>\r\nPREFIX metago: <http://model.geneontology.org/>\r\nPREFIX gomodel: <http://model.geneontology.org/>\r\nPREFIX definition: <http://purl.obolibrary.org/obo/IAO_0000115>\r\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\r\nPREFIX GO: <http://purl.obolibrary.org/obo/GO_>\r\nPREFIX BP: <http://purl.obolibrary.org/obo/GO_0008150>\r\nPREFIX MF: <http://purl.obolibrary.org/obo/GO_0003674>\r\nPREFIX CC: <http://purl.obolibrary.org/obo/GO_0005575>\r\nPREFIX modelState: <http://geneontology.org/lego/modelstate>\r\nPREFIX providedBy: <http://purl.org/pav/providedBy>\r\nPREFIX vcard: <http://www.w3.org/2006/vcard/ns#>\r\nPREFIX has_affiliation: <http://purl.obolibrary.org/obo/ERO_0000066>\r\nPREFIX enabled_by: <http://purl.obolibrary.org/obo/RO_0002333>\r\nPREFIX evidence: <http://geneontology.org/lego/evidence>\r\nPREFIX in_taxon: <http://purl.obolibrary.org/obo/RO_0002162>\r\nPREFIX obo: <http://www.geneontology.org/formats/oboInOwl#>\r\nSELECT distinct ?model ?modelTitle ?modelState ?date ?gocam ?goclasses ?goids ?gonames ?definitions\r\n\t(GROUP_CONCAT(distinct ?entity;separator=\"@@\") as ?entities)\r\n\t(GROUP_CONCAT(distinct ?orcid;separator=\"@@\") as ?contributors)\r\n\t(GROUP_CONCAT(distinct ?providedBy;separator=\"@@\") as ?groups)\r\n\r\n\r\n\r\nWHERE{\r\n  VALUES ?model { gomodel:5b91dbd100001639} .\r\nGRAPH ?model {\r\n?model dc:date ?date; dc:title ?modelTitle; modelState: ?modelState; providedBy: ?providedBy; dc:contributor ?orcid.\r\n  ?entity rdf:type owl:NamedIndividual .\r\n    \t\t\t?entity rdf:type ?goids\r\n}\r\n       VALUES ?goclasses { BP: MF: CC:  } . \r\n  \t\t\t?goids rdfs:subClassOf+ ?goclasses .\r\n    \t\t?goids rdfs:label ?gonames .\r\n  \t\t    ?goids definition: ?definitions .\r\n\r\n}\r\n\r\nGROUP BY ?model ?modelTitle ?modelState ?date ?gocam ?goclasses ?goids ?gonames ?definitions`\r\n\r\n\r\n\r\n    const query = new Query();\r\n\r\n    const graphQuery = new Query();\r\n    graphQuery.graph('?model',\r\n      triple('?entity', 'rdf:type', 'owl:NamedIndividual'),\r\n      triple('?entity', 'rdf:type', '?id')\r\n    );\r\n\r\n    query.prefix(\r\n      prefix('rdf', '<http://www.w3.org/1999/02/22-rdf-syntax-ns#>'),\r\n      prefix('rdfs', '<http://www.w3.org/2000/01/rdf-schema#>'),\r\n      prefix('dc', '<http://purl.org/dc/elements/1.1/ >'),\r\n      prefix('metago', '<http://model.geneontology.org/>'),\r\n      prefix('gomodel', '<http://model.geneontology.org/>'),\r\n      prefix('definition', '<http://purl.obolibrary.org/obo/IAO_0000115>'),\r\n      prefix('owl', '<http://www.w3.org/2002/07/owl#>'),\r\n      prefix('GO', '<http://purl.obolibrary.org/obo/GO_>'),\r\n      prefix('BP', '<http://purl.obolibrary.org/obo/GO_0008150>'),\r\n      prefix('MF', '<http://purl.obolibrary.org/obo/GO_0003674>'),\r\n      prefix('CC', '<http://purl.obolibrary.org/obo/GO_0005575>'),\r\n      prefix('modelState', '<http://geneontology.org/lego/modelstate>'),\r\n      prefix('providedBy', '<http://purl.org/pav/providedBy>'),\r\n      prefix('vcard', '<http://www.w3.org/2006/vcard/ns#>'),\r\n      prefix('has_affiliation', '<http://purl.obolibrary.org/obo/ERO_0000066>'),\r\n      prefix('enabled_by', '<http://purl.obolibrary.org/obo/RO_0002333>'),\r\n      prefix('evidence', '<http://geneontology.org/lego/evidence>'),\r\n      prefix('in_taxon', '<http://purl.obolibrary.org/obo/RO_0002162>'),\r\n      prefix('obo', '<http://www.geneontology.org/formats/oboInOwl#>'))\r\n      .select(\r\n        'distinct ?goclasses ?id ?label ?definition',\r\n      ).where(\r\n        `VALUES ?model { ${modelId} }`,\r\n        graphQuery,\r\n        'VALUES ?goclasses { BP: MF: CC:  }',\r\n        triple('?id', 'rdfs:subClassOf+', '?goclasses'),\r\n        triple('?id', 'rdfs:label', '?label'),\r\n        triple('?id', 'definition:', ' ?definition')\r\n      ).groupBy('?goclasses ?id ?label ?definition')\r\n\r\n    return query.build();\r\n  }\r\n\r\n  getXSD(s) {\r\n    return \"\\\"\" + s + \"\\\"^^xsd:string\";\r\n  }\r\n\r\n}\r\n","import { sequence, trigger, animate, style, group, query, transition, animateChild, state, animation, useAnimation, stagger } from '@angular/animations';\r\n\r\nconst customAnimation = animation([\r\n    style({\r\n        opacity  : '{{opacity}}',\r\n        transform: 'scale({{scale}}) translate3d({{x}}, {{y}}, {{z}})'\r\n    }),\r\n    animate('{{duration}} {{delay}} cubic-bezier(0.0, 0.0, 0.2, 1)', style('*'))\r\n], {\r\n    params: {\r\n        duration: '200ms',\r\n        delay   : '0ms',\r\n        opacity : '0',\r\n        scale   : '1',\r\n        x       : '0',\r\n        y       : '0',\r\n        z       : '0'\r\n    }\r\n});\r\n\r\nexport const noctuaAnimations = [\r\n\r\n    trigger('animate', [transition('void => *', [useAnimation(customAnimation)])]),\r\n\r\n    trigger('animateStagger', [\r\n        state('50', style('*')),\r\n        state('100', style('*')),\r\n        state('200', style('*')),\r\n\r\n        transition('void => 50',\r\n            query('@*',\r\n                [\r\n                    stagger('50ms', [\r\n                        animateChild()\r\n                    ])\r\n                ], {optional: true})),\r\n        transition('void => 100',\r\n            query('@*',\r\n                [\r\n                    stagger('100ms', [\r\n                        animateChild()\r\n                    ])\r\n                ], {optional: true})),\r\n        transition('void => 200',\r\n            query('@*',\r\n                [\r\n                    stagger('200ms', [\r\n                        animateChild()\r\n                    ])\r\n                ], {optional: true}))\r\n    ]),\r\n\r\n    trigger('fadeInOut', [\r\n        state('0', style({\r\n            display: 'none',\r\n            opacity: 0\r\n        })),\r\n        state('1', style({\r\n            display: 'block',\r\n            opacity: 1\r\n        })),\r\n        transition('1 => 0', animate('300ms ease-out')),\r\n        transition('0 => 1', animate('300ms ease-in'))\r\n    ]),\r\n\r\n    trigger('slideInOut', [\r\n        state('0', style({\r\n            height : '0px',\r\n            display: 'none'\r\n        })),\r\n        state('1', style({\r\n            height : '*',\r\n            display: 'block'\r\n        })),\r\n        transition('1 => 0', animate('300ms ease-out')),\r\n        transition('0 => 1', animate('300ms ease-in'))\r\n    ]),\r\n\r\n    trigger('slideIn', [\r\n        transition('void => left', [\r\n                style({\r\n                    transform: 'translateX(100%)'\r\n                }),\r\n                animate('300ms ease-in',\r\n                    style({\r\n                        transform: 'translateX(0)'\r\n                    })\r\n                )\r\n            ]\r\n        ),\r\n        transition('left => void', [\r\n                style({\r\n                    transform: 'translateX(0)'\r\n                }),\r\n                animate('300ms ease-in',\r\n                    style({\r\n                        transform: 'translateX(-100%)'\r\n                    })\r\n                )\r\n            ]\r\n        ),\r\n        transition('void => right', [\r\n                style({\r\n                    transform: 'translateX(-100%)'\r\n                }),\r\n                animate('300ms ease-in',\r\n                    style({\r\n                        transform: 'translateX(0)'\r\n                    })\r\n                )\r\n            ]\r\n        ),\r\n        transition('right => void', [\r\n                style({\r\n                    transform: 'translateX(0)'\r\n                }),\r\n                animate('300ms ease-in',\r\n                    style({\r\n                        transform: 'translateX(100%)'\r\n                    })\r\n                )\r\n            ]\r\n        ),\r\n    ]),\r\n\r\n    trigger('slideInLeft', [\r\n        state('void', style({\r\n            transform: 'translateX(-100%)',\r\n            display  : 'none'\r\n        })),\r\n        state('*', style({\r\n            transform: 'translateX(0)',\r\n            display  : 'flex'\r\n        })),\r\n        transition('void => *', animate('300ms')),\r\n        transition('* => void', animate('300ms'))\r\n    ]),\r\n\r\n    trigger('slideInRight', [\r\n        state('void', style({\r\n            transform: 'translateX(100%)',\r\n            display  : 'none'\r\n        })),\r\n        state('*', style({\r\n            transform: 'translateX(0)',\r\n            display  : 'flex'\r\n        })),\r\n        transition('void => *', animate('300ms')),\r\n        transition('* => void', animate('300ms'))\r\n    ]),\r\n\r\n    trigger('slideInTop', [\r\n        state('void', style({\r\n            transform: 'translateY(-100%)',\r\n            display  : 'none'\r\n        })),\r\n        state('*', style({\r\n            transform: 'translateY(0)',\r\n            display  : 'flex'\r\n        })),\r\n        transition('void => *', animate('300ms')),\r\n        transition('* => void', animate('300ms'))\r\n    ]),\r\n\r\n    trigger('slideInBottom', [\r\n        state('void',\r\n            style({\r\n                transform: 'translateY(100%)',\r\n                display  : 'none'\r\n            })),\r\n        state('*', style({\r\n            transform: 'translateY(0)',\r\n            display  : 'flex'\r\n        })),\r\n        transition('void => *', animate('300ms')),\r\n        transition('* => void', animate('300ms'))\r\n    ]),\r\n\r\n    trigger('expandCollapse', [\r\n        state('void', style({\r\n            height: '0px'\r\n        })),\r\n        state('*', style({\r\n            height: '*'\r\n        })),\r\n        transition('void => *', animate('300ms ease-out')),\r\n        transition('* => void', animate('300ms ease-in'))\r\n    ]),\r\n\r\n    trigger('routerTransitionLeft', [\r\n\r\n        transition('* => *', [\r\n            query('noctua-content > :enter, noctua-content > :leave', [\r\n                style({\r\n                    position: 'absolute',\r\n                    top     : 0,\r\n                    bottom  : 0,\r\n                    left    : 0,\r\n                    right   : 0\r\n                })\r\n            ], {optional: true}),\r\n            query('noctua-content > :enter', [\r\n                style({\r\n                    transform: 'translateX(100%)',\r\n                    opacity  : 0\r\n                })\r\n            ], {optional: true}),\r\n            sequence([\r\n                group([\r\n                    query('noctua-content > :leave', [\r\n                        style({\r\n                            transform: 'translateX(0)',\r\n                            opacity  : 1\r\n                        }),\r\n                        animate('600ms cubic-bezier(0.0, 0.0, 0.2, 1)',\r\n                            style({\r\n                                transform: 'translateX(-100%)',\r\n                                opacity  : 0\r\n                            }))\r\n                    ], {optional: true}),\r\n                    query('noctua-content > :enter', [\r\n                        style({transform: 'translateX(100%)'}),\r\n                        animate('600ms cubic-bezier(0.0, 0.0, 0.2, 1)',\r\n                            style({\r\n                                transform: 'translateX(0%)',\r\n                                opacity  : 1\r\n                            }))\r\n                    ], {optional: true})\r\n                ]),\r\n                query('noctua-content > :leave', animateChild(), {optional: true}),\r\n                query('noctua-content > :enter', animateChild(), {optional: true})\r\n            ])\r\n        ])\r\n    ]),\r\n\r\n    trigger('routerTransitionRight', [\r\n\r\n        transition('* => *', [\r\n            query('noctua-content > :enter, noctua-content > :leave', [\r\n                style({\r\n                    position: 'absolute',\r\n                    top     : 0,\r\n                    bottom  : 0,\r\n                    left    : 0,\r\n                    right   : 0\r\n                })\r\n            ], {optional: true}),\r\n            query('noctua-content > :enter', [\r\n                style({\r\n                    transform: 'translateX(-100%)',\r\n                    opacity  : 0\r\n                })\r\n            ], {optional: true}),\r\n            sequence([\r\n                group([\r\n                    query('noctua-content > :leave', [\r\n                        style({\r\n                            transform: 'translateX(0)',\r\n                            opacity  : 1\r\n                        }),\r\n                        animate('600ms cubic-bezier(0.0, 0.0, 0.2, 1)',\r\n                            style({\r\n                                transform: 'translateX(100%)',\r\n                                opacity  : 0\r\n                            }))\r\n                    ], {optional: true}),\r\n                    query('noctua-content > :enter', [\r\n                        style({transform: 'translateX(-100%)'}),\r\n                        animate('600ms cubic-bezier(0.0, 0.0, 0.2, 1)',\r\n                            style({\r\n                                transform: 'translateX(0%)',\r\n                                opacity  : 1\r\n                            }))\r\n                    ], {optional: true})\r\n                ]),\r\n                query('noctua-content > :leave', animateChild(), {optional: true}),\r\n                query('noctua-content > :enter', animateChild(), {optional: true})\r\n            ])\r\n        ])\r\n    ]),\r\n\r\n    trigger('routerTransitionUp', [\r\n\r\n        transition('* => *', [\r\n            query('noctua-content > :enter, noctua-content > :leave', [\r\n                style({\r\n                    position: 'absolute',\r\n                    top     : 0,\r\n                    bottom  : 0,\r\n                    left    : 0,\r\n                    right   : 0\r\n                })\r\n            ], {optional: true}),\r\n            query('noctua-content > :enter', [\r\n                style({\r\n                    transform: 'translateY(100%)',\r\n                    opacity  : 0\r\n                })\r\n            ], {optional: true}),\r\n            group([\r\n                query('noctua-content > :leave', [\r\n                    style({\r\n                        transform: 'translateY(0)',\r\n                        opacity  : 1\r\n                    }),\r\n                    animate('600ms cubic-bezier(0.0, 0.0, 0.2, 1)',\r\n                        style({\r\n                            transform: 'translateY(-100%)',\r\n                            opacity  : 0\r\n                        }))\r\n                ], {optional: true}),\r\n                query('noctua-content > :enter', [\r\n                    style({transform: 'translateY(100%)'}),\r\n                    animate('600ms cubic-bezier(0.0, 0.0, 0.2, 1)',\r\n                        style({\r\n                            transform: 'translateY(0%)',\r\n                            opacity  : 1\r\n                        }))\r\n                ], {optional: true})\r\n            ]),\r\n            query('noctua-content > :leave', animateChild(), {optional: true}),\r\n            query('noctua-content > :enter', animateChild(), {optional: true})\r\n        ])\r\n    ]),\r\n\r\n    trigger('routerTransitionDown', [\r\n\r\n        transition('* => *', [\r\n            query('noctua-content > :enter, noctua-content > :leave', [\r\n                style({\r\n                    position: 'absolute',\r\n                    top     : 0,\r\n                    bottom  : 0,\r\n                    left    : 0,\r\n                    right   : 0\r\n                })\r\n            ], {optional: true}),\r\n            query('noctua-content > :enter', [\r\n                style({\r\n                    transform: 'translateY(-100%)',\r\n                    opacity  : 0\r\n                })\r\n            ], {optional: true}),\r\n            sequence([\r\n                group([\r\n                    query('noctua-content > :leave', [\r\n                        style({\r\n                            transform: 'translateY(0)',\r\n                            opacity  : 1\r\n                        }),\r\n                        animate('600ms cubic-bezier(0.0, 0.0, 0.2, 1)',\r\n                            style({\r\n                                transform: 'translateY(100%)',\r\n                                opacity  : 0\r\n                            }))\r\n                    ], {optional: true}),\r\n                    query('noctua-content > :enter', [\r\n                        style({transform: 'translateY(-100%)'}),\r\n                        animate('600ms cubic-bezier(0.0, 0.0, 0.2, 1)',\r\n                            style({\r\n                                transform: 'translateY(0%)',\r\n                                opacity  : 1\r\n                            }))\r\n                    ], {optional: true})\r\n                ]),\r\n                query('noctua-content > :leave', animateChild(), {optional: true}),\r\n                query('noctua-content > :enter', animateChild(), {optional: true})\r\n            ])\r\n        ])\r\n    ]),\r\n\r\n    trigger('routerTransitionFade', [\r\n\r\n        transition('* => *', group([\r\n\r\n            query('noctua-content > :enter, noctua-content > :leave ', [\r\n                style({\r\n                    position: 'absolute',\r\n                    top     : 0,\r\n                    bottom  : 0,\r\n                    left    : 0,\r\n                    right   : 0\r\n                })\r\n            ], {optional: true}),\r\n\r\n            query('noctua-content > :enter', [\r\n                style({\r\n                    opacity: 0\r\n                })\r\n            ], {optional: true}),\r\n            query('noctua-content > :leave', [\r\n                style({\r\n                    opacity: 1\r\n                }),\r\n                animate('300ms cubic-bezier(0.0, 0.0, 0.2, 1)',\r\n                    style({\r\n                        opacity: 0\r\n                    }))\r\n            ], {optional: true}),\r\n            query('noctua-content > :enter', [\r\n                style({\r\n                    opacity: 0\r\n                }),\r\n                animate('300ms cubic-bezier(0.0, 0.0, 0.2, 1)',\r\n                    style({\r\n                        opacity: 1\r\n                    }))\r\n            ], {optional: true}),\r\n            query('noctua-content > :enter', animateChild(), {optional: true}),\r\n            query('noctua-content > :leave', animateChild(), {optional: true})\r\n        ]))\r\n    ])\r\n];\r\n","import { Component, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\n\r\n@Component({\r\n    selector: 'noctua-confirm-dialog',\r\n    templateUrl: './confirm-dialog.component.html',\r\n    styleUrls: ['./confirm-dialog.component.scss']\r\n})\r\nexport class NoctuaConfirmDialogComponent {\r\n    public title: string;\r\n    public message: string;\r\n    public readonlyDialog = false;\r\n    public cancelLabel = 'Cancel'\r\n    public confirmLabel = 'Confirm'\r\n\r\n    constructor(public dialogRef: MatDialogRef<NoctuaConfirmDialogComponent>,\r\n        @Inject(MAT_DIALOG_DATA) private _data: any) {\r\n        if (_data) {\r\n            this.cancelLabel = _data.cancelLabel ? _data.cancelLabel : 'Cancel';\r\n            this.confirmLabel = _data.confirmLabel ? _data.confirmLabel : 'Confirm';\r\n        }\r\n    }\r\n\r\n    confirm() {\r\n        this.dialogRef.close(true);\r\n    }\r\n\r\n    cancel() {\r\n        this.dialogRef.close(false);\r\n    }\r\n}\r\n","<div class=\"dialog-content-wrapper noc-dialog\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div class=\"m-0 noc-dialog-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-dialog-header-title\">\r\n      {{title}}</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"cancel()\" class=\"noc-rounded-button noc-sm\" aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> Close\r\n    </button>\r\n  </div>\r\n  <div mat-dialog-content class=\"noc-dialog-body\">\r\n    {{message}}\r\n  </div>\r\n  <div *ngIf=\"!readonlyDialog\" mat-dialog-actions class=\"m-0 p-16 noc-dialog-footer\" fxLayout=\"row\"\r\n    fxLayoutAlign=\"space-between center\">\r\n    <span fxFlex></span>\r\n    <button (click)='cancel()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">\r\n      {{cancelLabel}}</button>\r\n    <button (click)=\"confirm()\" type=\"button\" mat-raised-button color=\"primary\">\r\n      {{confirmLabel}}\r\n    </button>\r\n  </div>\r\n  <div *ngIf=\"readonlyDialog\" mat-dialog-actions class=\"m-0 p-16 noc-dialog-footer\" fxLayout=\"row\"\r\n    fxLayoutAlign=\"space-between center\">\r\n    <span fxFlex></span>\r\n    <button (click)='cancel()' type=\"button\" mat-raised-button color=\"\" class=\"\">Close</button>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { NoctuaConfirmDialogComponent } from './confirm-dialog.component';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        NoctuaConfirmDialogComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        BrowserModule,\r\n        MatDialogModule,\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        FlexLayoutModule\r\n    ]\r\n})\r\n\r\nexport class NoctuaConfirmDialogModule {\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\n\r\nimport { NoctuaConfirmDialogComponent } from './../../components/confirm-dialog/confirm-dialog.component';\r\n\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class NoctuaConfirmDialogService {\r\n\r\n    dialogRef: any;\r\n\r\n    constructor(\r\n        private snackBar: MatSnackBar,\r\n        private _matDialog: MatDialog) {\r\n    }\r\n\r\n    openInfoToast(message: string, action: string) {\r\n        this.snackBar.open(message, action, {\r\n            duration: 5000,\r\n            verticalPosition: 'top'\r\n        });\r\n    }\r\n\r\n    openConfirmDialog(title: string, message: string, success, options?): void {\r\n        let confirmDialogRef: MatDialogRef<NoctuaConfirmDialogComponent> = this._matDialog.open(NoctuaConfirmDialogComponent, {\r\n            panelClass: 'noc-confirm-dialog',\r\n            disableClose: false,\r\n            width: '600px',\r\n            data: options\r\n        });\r\n\r\n        confirmDialogRef.componentInstance.title = title;\r\n        confirmDialogRef.componentInstance.message = message;\r\n        if (!success) {\r\n            confirmDialogRef.componentInstance.readonlyDialog = true;\r\n        }\r\n\r\n        confirmDialogRef.afterClosed().subscribe(response => {\r\n            if (response) {\r\n                success(response);\r\n            }\r\n            confirmDialogRef = null;\r\n        });\r\n    }\r\n}\r\n","export * from './confirm-dialog/confirm-dialog.module';\r\nexport * from './material-color-picker/material-color-picker.module';\r\nexport * from './widget/widget.module';\r\nexport * from './progress-bar/progress-bar.module';\r\n","import { Component, EventEmitter, Input, OnChanges, Output, ViewEncapsulation } from '@angular/core';\r\n\r\nimport { noctuaAnimations } from '../../animations';\r\nimport { MatColors } from '../../mat-colors';\r\n\r\n@Component({\r\n    selector: 'noctua-material-color-picker',\r\n    templateUrl: './material-color-picker.component.html',\r\n    styleUrls: ['./material-color-picker.component.scss'],\r\n    animations: noctuaAnimations,\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class NoctuaMaterialColorPickerComponent implements OnChanges {\r\n    colors: any;\r\n    selectedColor: any;\r\n    hues: string[];\r\n    view = 'palettes';\r\n\r\n    @Input() selectedPalette = '';\r\n    @Input() selectedHue = '';\r\n    @Input() selectedFg = '';\r\n    @Input() value: any;\r\n    @Output() onValueChange = new EventEmitter();\r\n    @Output() selectedPaletteChange = new EventEmitter();\r\n    @Output() selectedHueChange = new EventEmitter();\r\n    @Output() selectedClassChange = new EventEmitter();\r\n    @Output() selectedBgChange = new EventEmitter();\r\n    @Output() selectedFgChange = new EventEmitter();\r\n\r\n    _selectedClass = '';\r\n    @Input()\r\n    set selectedClass(value) {\r\n        if (value && value !== '' && this._selectedClass !== value) {\r\n            const color = value.split('-');\r\n            if (color.length >= 5) {\r\n                this.selectedPalette = color[1] + '-' + color[2];\r\n                this.selectedHue = color[3];\r\n            } else {\r\n                this.selectedPalette = color[1];\r\n                this.selectedHue = color[2];\r\n            }\r\n        }\r\n        this._selectedClass = value;\r\n    }\r\n\r\n    get selectedClass(): string {\r\n        return this._selectedClass;\r\n    }\r\n\r\n    _selectedBg = '';\r\n    @Input()\r\n    set selectedBg(value) {\r\n        if (value && value !== '' && this._selectedBg !== value) {\r\n            for (const palette in this.colors) {\r\n                if (!this.colors.hasOwnProperty(palette)) {\r\n                    continue;\r\n                }\r\n\r\n                for (const hue of this.hues) {\r\n                    if (this.colors[palette][hue] === value) {\r\n                        this.selectedPalette = palette;\r\n                        this.selectedHue = hue;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this._selectedBg = value;\r\n    }\r\n\r\n    get selectedBg(): string {\r\n        return this._selectedBg;\r\n    }\r\n\r\n    constructor() {\r\n        this.colors = MatColors.all;\r\n        this.hues = ['50', '100', '200', '300', '400', '500', '600', '700', '800', '900', 'A100', 'A200', 'A400', 'A700'];\r\n    }\r\n\r\n    ngOnChanges(changes: any) {\r\n        if (changes.selectedBg && changes.selectedBg.currentValue === '' ||\r\n            changes.selectedClass && changes.selectedClass.currentValue === '' ||\r\n            changes.selectedPalette && changes.selectedPalette.currentValue === '') {\r\n            this.removeColor();\r\n            return;\r\n        }\r\n        if (changes.selectedPalette || changes.selectedHue || changes.selectedClass || changes.selectedBg) {\r\n            this.updateSelectedColor();\r\n        }\r\n    }\r\n\r\n    selectPalette(palette) {\r\n        this.selectedPalette = palette;\r\n        this.updateSelectedColor();\r\n        this.view = 'hues';\r\n    }\r\n\r\n    selectHue(hue) {\r\n        this.selectedHue = hue;\r\n        this.updateSelectedColor();\r\n    }\r\n\r\n    removeColor() {\r\n        this.selectedPalette = '';\r\n        this.selectedHue = '';\r\n        this.updateSelectedColor();\r\n        this.view = 'palettes';\r\n    }\r\n\r\n    updateSelectedColor() {\r\n        setTimeout(() => {\r\n\r\n            if (this.selectedColor && this.selectedPalette === this.selectedColor.palette && this.selectedHue === this.selectedColor.hue) {\r\n                return;\r\n            }\r\n\r\n            if (this.selectedPalette !== '' && this.selectedHue !== '') {\r\n                this.selectedBg = MatColors.getColor(this.selectedPalette)[this.selectedHue];\r\n                this.selectedFg = MatColors.getColor(this.selectedPalette).contrast[this.selectedHue];\r\n                this.selectedClass = 'mat-' + this.selectedPalette + '-' + this.selectedHue + '-bg';\r\n            } else {\r\n                this.selectedBg = '';\r\n                this.selectedFg = '';\r\n            }\r\n\r\n            this.selectedColor = {\r\n                palette: this.selectedPalette,\r\n                hue: this.selectedHue,\r\n                class: this.selectedClass,\r\n                bg: this.selectedBg,\r\n                fg: this.selectedFg\r\n            };\r\n\r\n            this.selectedPaletteChange.emit(this.selectedPalette);\r\n            this.selectedHueChange.emit(this.selectedHue);\r\n            this.selectedClassChange.emit(this.selectedClass);\r\n            this.selectedBgChange.emit(this.selectedBg);\r\n            this.selectedFgChange.emit(this.selectedFg);\r\n\r\n            this.value = this.selectedColor;\r\n            this.onValueChange.emit(this.selectedColor);\r\n        });\r\n    }\r\n\r\n    backToPaletteSelection() {\r\n        this.view = 'palettes';\r\n    }\r\n\r\n    onMenuOpen() {\r\n        if (this.selectedPalette === '') {\r\n            this.view = 'palettes';\r\n        } else {\r\n            this.view = 'hues';\r\n        }\r\n    }\r\n}\r\n","<button mat-icon-button type=\"button\" class=\"mat-elevation-z1\" [matMenuTriggerFor]=\"colorMenu\" (menuOpened)=\"onMenuOpen()\"\r\n  [ngClass]=\"'mat-'+selectedPalette+'-'+selectedHue+'-bg'\">\r\n  <mat-icon>palette</mat-icon>\r\n</button>\r\n\r\n<mat-menu #colorMenu=\"matMenu\" class=\"noctua-material-color-picker-menu\">\r\n\r\n  <header [ngClass]=\"selectedColor?.class || 'mat-accent-bg'\" class=\"mat-elevation-z4\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n\r\n    <button mat-icon-button [style.visibility]=\"view==='hues'?'visible':'hidden'\" (click)=\"$event.stopPropagation();backToPaletteSelection()\"\r\n      aria-label=\"Palette\">\r\n      <mat-icon class=\"s-20\">arrow_back</mat-icon>\r\n    </button>\r\n\r\n    <span *ngIf=\"selectedColor?.palette\">\r\n      {{selectedColor.palette}} {{selectedColor.hue}}\r\n    </span>\r\n    <span *ngIf=\"!selectedColor?.palette\">\r\n      Select Color\r\n    </span>\r\n    <button mat-icon-button class=\"remove-color-button\" (click)=\"$event.stopPropagation();removeColor()\" aria-label=\"Remove Color\">\r\n      <mat-icon class=\"s-20\">delete</mat-icon>\r\n    </button>\r\n  </header>\r\n  <div [ngSwitch]=\"view\" class=\"views\">\r\n    <div class=\"view\" *ngSwitchCase=\"'palettes'\">\r\n      <div fxLayout=\"row wrap\" fxLayoutAlign=\"start start\" class=\"colors\" noctuaPerfectScrollbar>\r\n        <div class=\"color\" [ngClass]=\"'mat-'+color.key+'-bg'\" *ngFor=\"let color of (colors | keys)\" (click)=\"$event.stopPropagation();selectPalette(color.key)\"\r\n          fxLayout=\"row\" fxLayoutAlign=\"start end\" mat-ink-ripple>\r\n          <span class=\"label\">\r\n            {{color.key}}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"view\" *ngSwitchCase=\"'hues'\">\r\n      <div fxLayout=\"row wrap\" fxLayoutAlign=\"start start\" class=\"colors\" noctuaPerfectScrollbar>\r\n        <div class=\"color\" *ngFor=\"let hue of hues\" [fxHide]=\"selectedPalette === 'white' && hue !== '500'|| selectedPalette === 'black' && hue !== '500'\"\r\n          [ngClass]=\"'mat-'+selectedPalette+'-'+hue+'-bg'\" (click)=\"selectHue(hue)\" fxLayout=\"row\" fxLayoutAlign=\"start end\"\r\n          mat-ink-ripple>\r\n          <span class=\"label\">\r\n            {{hue}}\r\n          </span>\r\n          <mat-icon *ngIf=\"selectedHue === hue\" class=\"s-16\">check</mat-icon>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</mat-menu>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { NoctuaPipesModule } from '../../pipes/pipes.module';\r\nimport { NoctuaMaterialColorPickerComponent } from './material-color-picker.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        NoctuaMaterialColorPickerComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        FlexLayoutModule,\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        MatMenuModule,\r\n        MatRippleModule,\r\n        NoctuaPipesModule\r\n    ],\r\n    exports: [\r\n        NoctuaMaterialColorPickerComponent\r\n    ],\r\n})\r\nexport class NoctuaMaterialColorPickerModule {\r\n}\r\n","import { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { NoctuaProgressBarService } from '@noctua/components/progress-bar/progress-bar.service';\r\n\r\n@Component({\r\n    selector: 'noctua-progress-bar',\r\n    templateUrl: './progress-bar.component.html',\r\n    styleUrls: ['./progress-bar.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class NoctuaProgressBarComponent implements OnInit, OnDestroy {\r\n    bufferValue: number;\r\n    mode: 'determinate' | 'indeterminate' | 'buffer' | 'query';\r\n    value: number;\r\n    visible: boolean;\r\n\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    constructor(\r\n        private _noctuaProgressBarService: NoctuaProgressBarService\r\n    ) {\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this._noctuaProgressBarService.bufferValue\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe((bufferValue) => {\r\n                this.bufferValue = bufferValue;\r\n            });\r\n\r\n        this._noctuaProgressBarService.mode\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe((mode) => {\r\n                this.mode = mode;\r\n            });\r\n\r\n        this._noctuaProgressBarService.value\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe((value) => {\r\n                this.value = value;\r\n            });\r\n\r\n        this._noctuaProgressBarService.visible\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe((visible) => {\r\n                this.visible = visible;\r\n            });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this._unsubscribeAll.next(null);\r\n        this._unsubscribeAll.complete();\r\n    }\r\n}\r\n","<ng-container *ngIf=\"visible\">\r\n  <mat-progress-bar color=\"accent\" [bufferValue]=\"bufferValue\" [mode]=\"mode\" [value]=\"value\"></mat-progress-bar>\r\n</ng-container>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\n\r\nimport { NoctuaProgressBarComponent } from './progress-bar.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        NoctuaProgressBarComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        RouterModule,\r\n\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        MatProgressBarModule\r\n    ],\r\n    exports: [\r\n        NoctuaProgressBarComponent\r\n    ]\r\n})\r\nexport class NoctuaProgressBarModule {\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { NavigationEnd, NavigationStart, Router } from '@angular/router';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class NoctuaProgressBarService {\r\n    private _bufferValue: BehaviorSubject<number>;\r\n    private _mode: BehaviorSubject<string>;\r\n    private _value: BehaviorSubject<number>;\r\n    private _visible: BehaviorSubject<boolean>;\r\n\r\n    constructor(\r\n        private _router: Router\r\n    ) {\r\n        this._init();\r\n    }\r\n\r\n    get bufferValue(): Observable<any> {\r\n        return this._bufferValue.asObservable();\r\n    }\r\n\r\n    setBufferValue(value: number): void {\r\n        this._bufferValue.next(value);\r\n    }\r\n\r\n    get mode(): Observable<any> {\r\n        return this._mode.asObservable();\r\n    }\r\n\r\n    setMode(value: 'determinate' | 'indeterminate' | 'buffer' | 'query'): void {\r\n        this._mode.next(value);\r\n    }\r\n\r\n    get value(): Observable<any> {\r\n        return this._value.asObservable();\r\n    }\r\n\r\n    setValue(value: number): void {\r\n        this._value.next(value);\r\n    }\r\n\r\n    get visible(): Observable<any> {\r\n        return this._visible.asObservable();\r\n    }\r\n\r\n    private _init(): void {\r\n        this._bufferValue = new BehaviorSubject(0);\r\n        this._mode = new BehaviorSubject('indeterminate');\r\n        this._value = new BehaviorSubject(0);\r\n        this._visible = new BehaviorSubject(false);\r\n\r\n        this._router.events\r\n            .pipe(filter((event) => event instanceof NavigationStart))\r\n            .subscribe(() => {\r\n                this.show();\r\n            });\r\n\r\n        this._router.events\r\n            .pipe(filter((event) => event instanceof NavigationEnd))\r\n            .subscribe(() => {\r\n                this.hide();\r\n            });\r\n    }\r\n\r\n    show(): void {\r\n        this._visible.next(true);\r\n    }\r\n\r\n    hide(): void {\r\n        this._visible.next(false);\r\n    }\r\n}\r\n\r\n","import { Directive, ElementRef } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[noctuaWidgetToggle]'\r\n})\r\nexport class NoctuaWidgetToggleDirective {\r\n    constructor(public el: ElementRef) {\r\n    }\r\n}\r\n","import { AfterContentInit, Component, ContentChildren, ElementRef, HostBinding, QueryList, Renderer2, ViewEncapsulation } from '@angular/core';\r\nimport { NoctuaWidgetToggleDirective } from './widget-toggle.directive';\r\n\r\n@Component({\r\n    selector: 'noctua-widget',\r\n    templateUrl: './widget.component.html',\r\n    styleUrls: ['./widget.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class NoctuaWidgetComponent implements AfterContentInit {\r\n    @HostBinding('class.flipped') flipped = false;\r\n    @ContentChildren(NoctuaWidgetToggleDirective, { descendants: true }) toggleButtons: QueryList<NoctuaWidgetToggleDirective>;\r\n\r\n    constructor(private el: ElementRef, private renderer: Renderer2) {\r\n    }\r\n\r\n    ngAfterContentInit() {\r\n        setTimeout(() => {\r\n\r\n            this.toggleButtons.forEach(flipButton => {\r\n                this.renderer.listen(flipButton.el.nativeElement, 'click', (event) => {\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                    this.toggle();\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    toggle() {\r\n        this.flipped = !this.flipped;\r\n    }\r\n\r\n}\r\n","<ng-content></ng-content>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { NoctuaWidgetComponent } from './widget.component';\r\nimport { NoctuaWidgetToggleDirective } from './widget-toggle.directive';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        NoctuaWidgetComponent,\r\n        NoctuaWidgetToggleDirective\r\n    ],\r\n    exports: [\r\n        NoctuaWidgetComponent,\r\n        NoctuaWidgetToggleDirective\r\n    ],\r\n})\r\nexport class NoctuaWidgetModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { NoctuaPerfectScrollbarDirective } from './noctua-perfect-scrollbar/noctua-perfect-scrollbar.directive';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        NoctuaPerfectScrollbarDirective\r\n    ],\r\n    imports: [],\r\n    exports: [\r\n        NoctuaPerfectScrollbarDirective\r\n    ]\r\n})\r\nexport class NoctuaDirectivesModule {\r\n}\r\n","import { AfterViewInit, Directive, ElementRef, HostListener, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { NavigationEnd, Router } from '@angular/router';\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport { fromEvent, Subject } from 'rxjs';\r\nimport { debounceTime, filter, takeUntil } from 'rxjs/operators';\r\nimport PerfectScrollbar from 'perfect-scrollbar';\r\nimport * as _ from 'lodash';\r\nimport {\r\n    NoctuaPerfectScrollbarGeometry,\r\n    NoctuaPerfectScrollbarPosition\r\n} from '@noctua/directives/noctua-perfect-scrollbar/noctua-perfect-scrollbar.interfaces';\r\nimport { NoctuaConfigService } from '@noctua/services/config.service';\r\n\r\n@Directive({\r\n    selector: '[noctuaPerfectScrollbar]'\r\n})\r\nexport class NoctuaPerfectScrollbarDirective implements OnInit, AfterViewInit, OnDestroy {\r\n    isInitialized: boolean;\r\n    isMobile: boolean;\r\n    ps: PerfectScrollbar | any;\r\n\r\n\r\n    private _animation: number | null;\r\n    private _enabled: boolean | '';\r\n    private _debouncedUpdate: any;\r\n    private _options: any;\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    constructor(\r\n        public elementRef: ElementRef,\r\n        private _noctuaConfigService: NoctuaConfigService,\r\n        private _platform: Platform,\r\n        private _router: Router\r\n    ) {\r\n\r\n        this.isInitialized = false;\r\n        this.isMobile = false;\r\n        this._animation = null;\r\n        this._enabled = false;\r\n        this._debouncedUpdate = _.debounce(this.update, 150);\r\n        this._options = {\r\n            updateOnRouteChange: false\r\n        };\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    @Input()\r\n    set noctuaPerfectScrollbarOptions(value) {\r\n        // Merge the options\r\n        this._options = _.merge({}, this._options, value);\r\n\r\n        // Destroy and re-init the PerfectScrollbar to update its options\r\n        setTimeout(() => {\r\n            this._destroy();\r\n        });\r\n\r\n        setTimeout(() => {\r\n            this._init();\r\n        });\r\n    }\r\n\r\n    get noctuaPerfectScrollbarOptions(): any {\r\n        return this._options;\r\n    }\r\n\r\n    @Input('noctuaPerfectScrollbar')\r\n    set enabled(value: boolean | '') {\r\n        if (value === '') {\r\n            value = true;\r\n        }\r\n\r\n        if (this.enabled === value) {\r\n            return;\r\n        }\r\n\r\n        this._enabled = value;\r\n\r\n        if (this.enabled) {\r\n            this._init();\r\n        }\r\n        else {\r\n            this._destroy();\r\n        }\r\n    }\r\n\r\n    get enabled(): boolean | '' {\r\n        return this._enabled;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        fromEvent(window, 'resize')\r\n            .pipe(\r\n                takeUntil(this._unsubscribeAll),\r\n                debounceTime(150)\r\n            )\r\n            .subscribe(() => {\r\n                this.update();\r\n            });\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        this._noctuaConfigService.config\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(\r\n                (settings) => {\r\n                    this.enabled = settings.customScrollbars;\r\n                }\r\n            );\r\n\r\n        // Scroll to the top on every route change\r\n        if (this.noctuaPerfectScrollbarOptions.updateOnRouteChange) {\r\n            this._router.events\r\n                .pipe(\r\n                    takeUntil(this._unsubscribeAll),\r\n                    filter(event => event instanceof NavigationEnd)\r\n                )\r\n                .subscribe(() => {\r\n                    setTimeout(() => {\r\n                        this.scrollToTop();\r\n                        this.update();\r\n                    }, 0);\r\n                });\r\n        }\r\n    }\r\n\r\n\r\n    ngOnDestroy(): void {\r\n        this._destroy();\r\n\r\n        this._unsubscribeAll.next(null);\r\n        this._unsubscribeAll.complete();\r\n    }\r\n\r\n    _init(): void {\r\n        if (this.isInitialized) {\r\n            return;\r\n        }\r\n\r\n        if (this._platform.ANDROID || this._platform.IOS) {\r\n            this.isMobile = true;\r\n        }\r\n\r\n        if (this.isMobile) {\r\n            return;\r\n        }\r\n\r\n        this.isInitialized = true;\r\n        this.ps = new PerfectScrollbar(this.elementRef.nativeElement, {\r\n            ...this.noctuaPerfectScrollbarOptions\r\n        });\r\n\r\n        this.ps.event.eventElements.forEach((eventElement) => {\r\n            if (typeof eventElement.handlers['keydown'] !== 'undefined') {\r\n                eventElement.element.removeEventListener('keydown', eventElement.handlers['keydown'][0]);\r\n            }\r\n        });\r\n    }\r\n\r\n    _destroy(): void {\r\n        if (!this.isInitialized || !this.ps) {\r\n            return;\r\n        }\r\n\r\n        this.ps.destroy();\r\n        this.ps = null;\r\n        this.isInitialized = false;\r\n    }\r\n\r\n    @HostListener('window:resize')\r\n    _updateOnResize(): void {\r\n        this._debouncedUpdate();\r\n    }\r\n\r\n    @HostListener('document:click', ['$event'])\r\n    documentClick(event: Event): void {\r\n        if (!this.isInitialized || !this.ps) {\r\n            return;\r\n        }\r\n        this.ps.update();\r\n    }\r\n\r\n    update(): void {\r\n        if (!this.isInitialized) {\r\n            return;\r\n        }\r\n\r\n        this.ps.update();\r\n    }\r\n\r\n    destroy(): void {\r\n        this.ngOnDestroy();\r\n    }\r\n\r\n    geometry(prefix: string = 'scroll'): NoctuaPerfectScrollbarGeometry {\r\n        return new NoctuaPerfectScrollbarGeometry(\r\n            this.elementRef.nativeElement[prefix + 'Left'],\r\n            this.elementRef.nativeElement[prefix + 'Top'],\r\n            this.elementRef.nativeElement[prefix + 'Width'],\r\n            this.elementRef.nativeElement[prefix + 'Height']\r\n        );\r\n    }\r\n\r\n    position(absolute: boolean = false): NoctuaPerfectScrollbarPosition {\r\n        if (!absolute && this.ps) {\r\n            return new NoctuaPerfectScrollbarPosition(\r\n                this.ps.reach.x || 0,\r\n                this.ps.reach.y || 0\r\n            );\r\n        }\r\n        else {\r\n            return new NoctuaPerfectScrollbarPosition(\r\n                this.elementRef.nativeElement.scrollLeft,\r\n                this.elementRef.nativeElement.scrollTop\r\n            );\r\n        }\r\n    }\r\n\r\n    scrollTo(x: number, y?: number, speed?: number): void {\r\n        if (y == null && speed == null) {\r\n            this.animateScrolling('scrollTop', x, speed);\r\n        }\r\n        else {\r\n            if (x != null) {\r\n                this.animateScrolling('scrollLeft', x, speed);\r\n            }\r\n\r\n            if (y != null) {\r\n                this.animateScrolling('scrollTop', y, speed);\r\n            }\r\n        }\r\n    }\r\n\r\n    scrollToX(x: number, speed?: number): void {\r\n        this.animateScrolling('scrollLeft', x, speed);\r\n    }\r\n\r\n    scrollToY(y: number, speed?: number): void {\r\n        this.animateScrolling('scrollTop', y, speed);\r\n    }\r\n\r\n    scrollToTop(offset?: number, speed?: number): void {\r\n        this.animateScrolling('scrollTop', (offset || 0), speed);\r\n    }\r\n\r\n    scrollToLeft(offset?: number, speed?: number): void {\r\n        this.animateScrolling('scrollLeft', (offset || 0), speed);\r\n    }\r\n\r\n    scrollToRight(offset?: number, speed?: number): void {\r\n        const left = this.elementRef.nativeElement.scrollWidth - this.elementRef.nativeElement.clientWidth;\r\n        this.animateScrolling('scrollLeft', left - (offset || 0), speed);\r\n    }\r\n\r\n    scrollToBottom(offset?: number, speed?: number): void {\r\n        const top = this.elementRef.nativeElement.scrollHeight - this.elementRef.nativeElement.clientHeight;\r\n        this.animateScrolling('scrollTop', top - (offset || 0), speed);\r\n    }\r\n\r\n    scrollToElement(qs: string, offset?: number, speed?: number): void {\r\n        const element = this.elementRef.nativeElement.querySelector(qs);\r\n\r\n        if (!element) {\r\n            return;\r\n        }\r\n\r\n        const elementPos = element.getBoundingClientRect();\r\n        const scrollerPos = this.elementRef.nativeElement.getBoundingClientRect();\r\n\r\n        if (this.elementRef.nativeElement.classList.contains('ps--active-x')) {\r\n            const currentPos = this.elementRef.nativeElement['scrollLeft'];\r\n            const position = elementPos.left - scrollerPos.left + currentPos;\r\n\r\n            this.animateScrolling('scrollLeft', position + (offset || 0), speed);\r\n        }\r\n\r\n        if (this.elementRef.nativeElement.classList.contains('ps--active-y')) {\r\n            const currentPos = this.elementRef.nativeElement['scrollTop'];\r\n            const position = elementPos.top - scrollerPos.top + currentPos;\r\n\r\n            this.animateScrolling('scrollTop', position + (offset || 0), speed);\r\n        }\r\n    }\r\n\r\n    animateScrolling(target: string, value: number, speed?: number): void {\r\n        if (this._animation) {\r\n            window.cancelAnimationFrame(this._animation);\r\n            this._animation = null;\r\n        }\r\n\r\n        if (!speed || typeof window === 'undefined') {\r\n            this.elementRef.nativeElement[target] = value;\r\n        }\r\n        else if (value !== this.elementRef.nativeElement[target]) {\r\n            let newValue = 0;\r\n            let scrollCount = 0;\r\n\r\n            let oldTimestamp = performance.now();\r\n            let oldValue = this.elementRef.nativeElement[target];\r\n\r\n            const cosParameter = (oldValue - value) / 2;\r\n\r\n            const step = (newTimestamp: number) => {\r\n                scrollCount += Math.PI / (speed / (newTimestamp - oldTimestamp));\r\n                newValue = Math.round(value + cosParameter + cosParameter * Math.cos(scrollCount));\r\n\r\n                // Only continue animation if scroll position has not changed\r\n                if (this.elementRef.nativeElement[target] === oldValue) {\r\n                    if (scrollCount >= Math.PI) {\r\n                        this.animateScrolling(target, value, 0);\r\n                    }\r\n                    else {\r\n                        this.elementRef.nativeElement[target] = newValue;\r\n\r\n                        // On a zoomed out page the resulting offset may differ\r\n                        oldValue = this.elementRef.nativeElement[target];\r\n                        oldTimestamp = newTimestamp;\r\n\r\n                        this._animation = window.requestAnimationFrame(step);\r\n                    }\r\n                }\r\n            };\r\n\r\n            window.requestAnimationFrame(step);\r\n        }\r\n    }\r\n}\r\n","export class NoctuaPerfectScrollbarGeometry {\r\n    public x: number;\r\n    public y: number;\r\n\r\n    public w: number;\r\n    public h: number;\r\n\r\n    constructor(x: number, y: number, w: number, h: number) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.w = w;\r\n        this.h = h;\r\n    }\r\n}\r\n\r\nexport class NoctuaPerfectScrollbarPosition {\r\n    public x: number | 'start' | 'end';\r\n    public y: number | 'start' | 'end';\r\n\r\n    constructor(x: number | 'start' | 'end', y: number | 'start' | 'end') {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}\r\n","const black87 = 'rgba(black, 0.87)';\r\nconst white87 = 'rgba(white, 0.87)';\r\nconst black12 = 'rgba(black, 0.12)';\r\nconst white12 = 'rgba(white, 0.12)';\r\nconst black6 = 'rgba(black, 0.06)';\r\nconst white6 = 'rgba(white, 0.06)';\r\nconst matColors = {\r\n    'red': {\r\n        50: '#ffebee',\r\n        100: '#ffcdd2',\r\n        200: '#ef9a9a',\r\n        300: '#e57373',\r\n        400: '#ef5350',\r\n        500: '#f44336',\r\n        600: '#e53935',\r\n        700: '#d32f2f',\r\n        800: '#c62828',\r\n        900: '#b71c1c',\r\n        A100: '#ff8a80',\r\n        A200: '#ff5252',\r\n        A400: '#ff1744',\r\n        A700: '#d50000',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: black87,\r\n            400: black87,\r\n            500: 'white',\r\n            600: 'white',\r\n            700: 'white',\r\n            800: white87,\r\n            900: white87,\r\n            A100: black87,\r\n            A200: 'white',\r\n            A400: 'white',\r\n            A700: 'white'\r\n        }\r\n    },\r\n\r\n    'pink': {\r\n        50: '#fce4ec',\r\n        100: '#f8bbd0',\r\n        200: '#f48fb1',\r\n        300: '#f06292',\r\n        400: '#ec407a',\r\n        500: '#e91e63',\r\n        600: '#d81b60',\r\n        700: '#c2185b',\r\n        800: '#ad1457',\r\n        900: '#880e4f',\r\n        A100: '#ff80ab',\r\n        A200: '#ff4081',\r\n        A400: '#f50057',\r\n        A700: '#c51162',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: black87,\r\n            400: black87,\r\n            500: 'white',\r\n            600: 'white',\r\n            700: white87,\r\n            800: white87,\r\n            900: white87,\r\n            A100: black87,\r\n            A200: 'white',\r\n            A400: 'white',\r\n            A700: 'white'\r\n        }\r\n    },\r\n\r\n    'purple': {\r\n        50: '#f3e5f5',\r\n        100: '#e1bee7',\r\n        200: '#ce93d8',\r\n        300: '#ba68c8',\r\n        400: '#ab47bc',\r\n        500: '#9c27b0',\r\n        600: '#8e24aa',\r\n        700: '#7b1fa2',\r\n        800: '#6a1b9a',\r\n        900: '#4a148c',\r\n        A100: '#ea80fc',\r\n        A200: '#e040fb',\r\n        A400: '#d500f9',\r\n        A700: '#aa00ff',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: 'white',\r\n            400: 'white',\r\n            500: white87,\r\n            600: white87,\r\n            700: white87,\r\n            800: white87,\r\n            900: white87,\r\n            A100: black87,\r\n            A200: 'white',\r\n            A400: 'white',\r\n            A700: 'white'\r\n        }\r\n    },\r\n\r\n    'deep-purple': {\r\n        50: '#ede7f6',\r\n        100: '#d1c4e9',\r\n        200: '#b39ddb',\r\n        300: '#9575cd',\r\n        400: '#7e57c2',\r\n        500: '#673ab7',\r\n        600: '#5e35b1',\r\n        700: '#512da8',\r\n        800: '#4527a0',\r\n        900: '#311b92',\r\n        A100: '#b388ff',\r\n        A200: '#7c4dff',\r\n        A400: '#651fff',\r\n        A700: '#6200ea',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: 'white',\r\n            400: 'white',\r\n            500: white87,\r\n            600: white87,\r\n            700: white87,\r\n            800: white87,\r\n            900: white87,\r\n            A100: black87,\r\n            A200: 'white',\r\n            A400: white87,\r\n            A700: white87\r\n        }\r\n    },\r\n\r\n    'indigo': {\r\n        50: '#e8eaf6',\r\n        100: '#c5cae9',\r\n        200: '#9fa8da',\r\n        300: '#7986cb',\r\n        400: '#5c6bc0',\r\n        500: '#3f51b5',\r\n        600: '#3949ab',\r\n        700: '#303f9f',\r\n        800: '#283593',\r\n        900: '#1a237e',\r\n        A100: '#8c9eff',\r\n        A200: '#536dfe',\r\n        A400: '#3d5afe',\r\n        A700: '#304ffe',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: 'white',\r\n            400: 'white',\r\n            500: white87,\r\n            600: white87,\r\n            700: white87,\r\n            800: white87,\r\n            900: white87,\r\n            A100: black87,\r\n            A200: 'white',\r\n            A400: 'white',\r\n            A700: white87\r\n        }\r\n    },\r\n\r\n    'blue': {\r\n        50: '#e3f2fd',\r\n        100: '#bbdefb',\r\n        200: '#90caf9',\r\n        300: '#64b5f6',\r\n        400: '#42a5f5',\r\n        500: '#2196f3',\r\n        600: '#1e88e5',\r\n        700: '#1976d2',\r\n        800: '#1565c0',\r\n        900: '#0d47a1',\r\n        A100: '#82b1ff',\r\n        A200: '#448aff',\r\n        A400: '#2979ff',\r\n        A700: '#2962ff',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: black87,\r\n            400: black87,\r\n            500: 'white',\r\n            600: 'white',\r\n            700: 'white',\r\n            800: white87,\r\n            900: white87,\r\n            A100: black87,\r\n            A200: 'white',\r\n            A400: 'white',\r\n            A700: 'white'\r\n        }\r\n    },\r\n\r\n    'light-blue': {\r\n        50: '#e1f5fe',\r\n        100: '#b3e5fc',\r\n        200: '#81d4fa',\r\n        300: '#4fc3f7',\r\n        400: '#29b6f6',\r\n        500: '#03a9f4',\r\n        600: '#039be5',\r\n        700: '#0288d1',\r\n        800: '#0277bd',\r\n        900: '#01579b',\r\n        A100: '#80d8ff',\r\n        A200: '#40c4ff',\r\n        A400: '#00b0ff',\r\n        A700: '#0091ea',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: black87,\r\n            400: black87,\r\n            500: 'white',\r\n            600: 'white',\r\n            700: 'white',\r\n            800: 'white',\r\n            900: white87,\r\n            A100: black87,\r\n            A200: black87,\r\n            A400: black87,\r\n            A700: 'white'\r\n        }\r\n    },\r\n\r\n    'cyan': {\r\n        50: '#e0f7fa',\r\n        100: '#b2ebf2',\r\n        200: '#80deea',\r\n        300: '#4dd0e1',\r\n        400: '#26c6da',\r\n        500: '#00bcd4',\r\n        600: '#00acc1',\r\n        700: '#0097a7',\r\n        800: '#00838f',\r\n        900: '#006064',\r\n        A100: '#84ffff',\r\n        A200: '#18ffff',\r\n        A400: '#00e5ff',\r\n        A700: '#00b8d4',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: black87,\r\n            400: black87,\r\n            500: 'white',\r\n            600: 'white',\r\n            700: 'white',\r\n            800: 'white',\r\n            900: white87,\r\n            A100: black87,\r\n            A200: black87,\r\n            A400: black87,\r\n            A700: black87\r\n        }\r\n    },\r\n\r\n    'teal': {\r\n        50: '#e0f2f1',\r\n        100: '#b2dfdb',\r\n        200: '#80cbc4',\r\n        300: '#4db6ac',\r\n        400: '#26a69a',\r\n        500: '#009688',\r\n        600: '#00897b',\r\n        700: '#00796b',\r\n        800: '#00695c',\r\n        900: '#004d40',\r\n        A100: '#a7ffeb',\r\n        A200: '#64ffda',\r\n        A400: '#1de9b6',\r\n        A700: '#00bfa5',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: black87,\r\n            400: black87,\r\n            500: 'white',\r\n            600: 'white',\r\n            700: 'white',\r\n            800: white87,\r\n            900: white87,\r\n            A100: black87,\r\n            A200: black87,\r\n            A400: black87,\r\n            A700: black87\r\n        }\r\n    },\r\n\r\n    'green': {\r\n        50: '#e8f5e9',\r\n        100: '#c8e6c9',\r\n        200: '#a5d6a7',\r\n        300: '#81c784',\r\n        400: '#66bb6a',\r\n        500: '#4caf50',\r\n        600: '#43a047',\r\n        700: '#388e3c',\r\n        800: '#2e7d32',\r\n        900: '#1b5e20',\r\n        A100: '#b9f6ca',\r\n        A200: '#69f0ae',\r\n        A400: '#00e676',\r\n        A700: '#00c853',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: black87,\r\n            400: black87,\r\n            500: 'white',\r\n            600: 'white',\r\n            700: 'white',\r\n            800: white87,\r\n            900: white87,\r\n            A100: black87,\r\n            A200: black87,\r\n            A400: black87,\r\n            A700: black87\r\n        }\r\n    },\r\n\r\n    'light-green': {\r\n        50: '#f1f8e9',\r\n        100: '#dcedc8',\r\n        200: '#c5e1a5',\r\n        300: '#aed581',\r\n        400: '#9ccc65',\r\n        500: '#8bc34a',\r\n        600: '#7cb342',\r\n        700: '#689f38',\r\n        800: '#558b2f',\r\n        900: '#33691e',\r\n        A100: '#ccff90',\r\n        A200: '#b2ff59',\r\n        A400: '#76ff03',\r\n        A700: '#64dd17',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: black87,\r\n            400: black87,\r\n            500: black87,\r\n            600: black87,\r\n            700: black87,\r\n            800: 'white',\r\n            900: 'white',\r\n            A100: black87,\r\n            A200: black87,\r\n            A400: black87,\r\n            A700: black87\r\n        }\r\n    },\r\n\r\n    'lime': {\r\n        50: '#f9fbe7',\r\n        100: '#f0f4c3',\r\n        200: '#e6ee9c',\r\n        300: '#dce775',\r\n        400: '#d4e157',\r\n        500: '#cddc39',\r\n        600: '#c0ca33',\r\n        700: '#afb42b',\r\n        800: '#9e9d24',\r\n        900: '#827717',\r\n        A100: '#f4ff81',\r\n        A200: '#eeff41',\r\n        A400: '#c6ff00',\r\n        A700: '#aeea00',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: black87,\r\n            400: black87,\r\n            500: black87,\r\n            600: black87,\r\n            700: black87,\r\n            800: black87,\r\n            900: 'white',\r\n            A100: black87,\r\n            A200: black87,\r\n            A400: black87,\r\n            A700: black87\r\n        }\r\n    },\r\n\r\n    'yellow': {\r\n        50: '#fffde7',\r\n        100: '#fff9c4',\r\n        200: '#fff59d',\r\n        300: '#fff176',\r\n        400: '#ffee58',\r\n        500: '#ffeb3b',\r\n        600: '#fdd835',\r\n        700: '#fbc02d',\r\n        800: '#f9a825',\r\n        900: '#f57f17',\r\n        A100: '#ffff8d',\r\n        A200: '#ffff00',\r\n        A400: '#ffea00',\r\n        A700: '#ffd600',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: black87,\r\n            400: black87,\r\n            500: black87,\r\n            600: black87,\r\n            700: black87,\r\n            800: black87,\r\n            900: black87,\r\n            A100: black87,\r\n            A200: black87,\r\n            A400: black87,\r\n            A700: black87\r\n        }\r\n    },\r\n\r\n    'amber': {\r\n        50: '#fff8e1',\r\n        100: '#ffecb3',\r\n        200: '#ffe082',\r\n        300: '#ffd54f',\r\n        400: '#ffca28',\r\n        500: '#ffc107',\r\n        600: '#ffb300',\r\n        700: '#ffa000',\r\n        800: '#ff8f00',\r\n        900: '#ff6f00',\r\n        A100: '#ffe57f',\r\n        A200: '#ffd740',\r\n        A400: '#ffc400',\r\n        A700: '#ffab00',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: black87,\r\n            400: black87,\r\n            500: black87,\r\n            600: black87,\r\n            700: black87,\r\n            800: black87,\r\n            900: black87,\r\n            A100: black87,\r\n            A200: black87,\r\n            A400: black87,\r\n            A700: black87\r\n        }\r\n    },\r\n\r\n    'orange': {\r\n        50: '#fff3e0',\r\n        100: '#ffe0b2',\r\n        200: '#ffcc80',\r\n        300: '#ffb74d',\r\n        400: '#ffa726',\r\n        500: '#ff9800',\r\n        600: '#fb8c00',\r\n        700: '#f57c00',\r\n        800: '#ef6c00',\r\n        900: '#e65100',\r\n        A100: '#ffd180',\r\n        A200: '#ffab40',\r\n        A400: '#ff9100',\r\n        A700: '#ff6d00',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: black87,\r\n            400: black87,\r\n            500: black87,\r\n            600: black87,\r\n            700: black87,\r\n            800: 'white',\r\n            900: 'white',\r\n            A100: black87,\r\n            A200: black87,\r\n            A400: black87,\r\n            A700: 'black'\r\n        }\r\n    },\r\n\r\n    'deep-orange': {\r\n        50: '#fbe9e7',\r\n        100: '#ffccbc',\r\n        200: '#ffab91',\r\n        300: '#ff8a65',\r\n        400: '#ff7043',\r\n        500: '#ff5722',\r\n        600: '#f4511e',\r\n        700: '#e64a19',\r\n        800: '#d84315',\r\n        900: '#bf360c',\r\n        A100: '#ff9e80',\r\n        A200: '#ff6e40',\r\n        A400: '#ff3d00',\r\n        A700: '#dd2c00',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: black87,\r\n            400: black87,\r\n            500: 'white',\r\n            600: 'white',\r\n            700: 'white',\r\n            800: 'white',\r\n            900: 'white',\r\n            A100: black87,\r\n            A200: black87,\r\n            A400: 'white',\r\n            A700: 'white'\r\n        }\r\n    },\r\n\r\n    'brown': {\r\n        50: '#efebe9',\r\n        100: '#d7ccc8',\r\n        200: '#bcaaa4',\r\n        300: '#a1887f',\r\n        400: '#8d6e63',\r\n        500: '#795548',\r\n        600: '#6d4c41',\r\n        700: '#5d4037',\r\n        800: '#4e342e',\r\n        900: '#3e2723',\r\n        A100: '#d7ccc8',\r\n        A200: '#bcaaa4',\r\n        A400: '#8d6e63',\r\n        A700: '#5d4037',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: 'white',\r\n            400: 'white',\r\n            500: white87,\r\n            600: white87,\r\n            700: white87,\r\n            800: white87,\r\n            900: white87,\r\n            A100: black87,\r\n            A200: black87,\r\n            A400: 'white',\r\n            A700: white87\r\n        }\r\n    },\r\n\r\n    'grey': {\r\n        0: '#ffffff',\r\n        50: '#fafafa',\r\n        100: '#f5f5f5',\r\n        200: '#eeeeee',\r\n        300: '#e0e0e0',\r\n        400: '#bdbdbd',\r\n        500: '#9e9e9e',\r\n        600: '#757575',\r\n        700: '#616161',\r\n        800: '#424242',\r\n        900: '#212121',\r\n        1000: '#000000',\r\n        A100: '#ffffff',\r\n        A200: '#eeeeee',\r\n        A400: '#bdbdbd',\r\n        A700: '#616161',\r\n        contrast: {\r\n            0: black87,\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: black87,\r\n            400: black87,\r\n            500: black87,\r\n            600: white87,\r\n            700: white87,\r\n            800: white87,\r\n            900: white87,\r\n            1000: white87,\r\n            A100: black87,\r\n            A200: black87,\r\n            A400: black87,\r\n            A700: white87\r\n        }\r\n    },\r\n\r\n    'blue-grey': {\r\n        50: '#eceff1',\r\n        100: '#cfd8dc',\r\n        200: '#b0bec5',\r\n        300: '#90a4ae',\r\n        400: '#78909c',\r\n        500: '#607d8b',\r\n        600: '#546e7a',\r\n        700: '#455a64',\r\n        800: '#37474f',\r\n        900: '#263238',\r\n        A100: '#cfd8dc',\r\n        A200: '#b0bec5',\r\n        A400: '#78909c',\r\n        A700: '#455a64',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: black87,\r\n            400: 'white',\r\n            500: 'white',\r\n            600: white87,\r\n            700: white87,\r\n            800: white87,\r\n            900: white87,\r\n            A100: black87,\r\n            A200: black87,\r\n            A400: 'white',\r\n            A700: white87\r\n        }\r\n    },\r\n    'noctua-dark': {\r\n        50: '#ECECEE',\r\n        100: '#C5C6CB',\r\n        200: '#9EA1A9',\r\n        300: '#7D818C',\r\n        400: '#5C616F',\r\n        500: '#3C4252',\r\n        600: '#353A48',\r\n        700: '#2D323E',\r\n        800: '#262933',\r\n        900: '#1E2129',\r\n        A100: '#C5C6CB',\r\n        A200: '#9EA1A9',\r\n        A400: '#5C616F',\r\n        A700: '#2D323E',\r\n        contrast: {\r\n            50: black87,\r\n            100: black87,\r\n            200: black87,\r\n            300: 'white',\r\n            400: 'white',\r\n            500: white87,\r\n            600: white87,\r\n            700: white87,\r\n            800: white87,\r\n            900: white87,\r\n            A100: black87,\r\n            A200: white87,\r\n            A400: white87,\r\n            A700: white87\r\n        }\r\n    },\r\n    white: {\r\n        500: 'white',\r\n        contrast: {\r\n            500: black87\r\n        }\r\n    },\r\n    black: {\r\n        500: 'black',\r\n        contrast: {\r\n            500: 'white'\r\n        }\r\n    }\r\n};\r\n\r\n// tslint:disable-next-line\r\nconst matPresetColors = [\r\n    '#ffebee', '#ffcdd2', '#ef9a9a', '#e57373', '#ef5350', '#f44336', '#e53935', '#d32f2f', '#c62828', '#b71c1c', '#ff8a80', '#ff5252', '#ff1744', '#d50000', '#fce4ec', '#f8bbd0', '#f48fb1', '#f06292', '#ec407a', '#e91e63', '#d81b60', '#c2185b', '#ad1457', '#880e4f', '#ff80ab', '#ff4081', '#f50057', '#c51162', '#f3e5f5', '#e1bee7', '#ce93d8', '#ba68c8', '#ab47bc', '#9c27b0', '#8e24aa', '#7b1fa2', '#6a1b9a', '#4a148c', '#ea80fc', '#e040fb', '#d500f9', '#aa00ff', '#ede7f6', '#d1c4e9', '#b39ddb', '#9575cd', '#7e57c2', '#673ab7', '#5e35b1', '#512da8', '#4527a0', '#311b92', '#b388ff', '#7c4dff', '#651fff', '#6200ea', '#e8eaf6', '#c5cae9', '#9fa8da', '#7986cb', '#5c6bc0', '#3f51b5', '#3949ab', '#303f9f', '#283593', '#1a237e', '#8c9eff', '#536dfe', '#3d5afe', '#304ffe', '#e3f2fd', '#bbdefb', '#90caf9', '#64b5f6', '#42a5f5', '#2196f3', '#1e88e5', '#1976d2', '#1565c0', '#0d47a1', '#82b1ff', '#448aff', '#2979ff', '#2962ff', '#e1f5fe', '#b3e5fc', '#81d4fa', '#4fc3f7', '#29b6f6', '#03a9f4', '#039be5', '#0288d1', '#0277bd', '#01579b', '#80d8ff', '#40c4ff', '#00b0ff', '#0091ea', '#e0f7fa', '#b2ebf2', '#80deea', '#4dd0e1', '#26c6da', '#00bcd4', '#00acc1', '#0097a7', '#00838f', '#006064', '#84ffff', '#18ffff', '#00e5ff', '#00b8d4', '#e0f2f1', '#b2dfdb', '#80cbc4', '#4db6ac', '#26a69a', '#009688', '#00897b', '#00796b', '#00695c', '#004d40', '#a7ffeb', '#64ffda', '#1de9b6', '#00bfa5', '#e8f5e9', '#c8e6c9', '#a5d6a7', '#81c784', '#66bb6a', '#4caf50', '#43a047', '#388e3c', '#2e7d32', '#1b5e20', '#b9f6ca', '#69f0ae', '#00e676', '#00c853', '#f1f8e9', '#dcedc8', '#c5e1a5', '#aed581', '#9ccc65', '#8bc34a', '#7cb342', '#689f38', '#558b2f', '#33691e', '#ccff90', '#b2ff59', '#76ff03', '#64dd17', '#f9fbe7', '#f0f4c3', '#e6ee9c', '#dce775', '#d4e157', '#cddc39', '#c0ca33', '#afb42b', '#9e9d24', '#827717', '#f4ff81', '#eeff41', '#c6ff00', '#aeea00', '#fffde7', '#fff9c4', '#fff59d', '#fff176', '#ffee58', '#ffeb3b', '#fdd835', '#fbc02d', '#f9a825', '#f57f17', '#ffff8d', '#ffff00', '#ffea00', '#ffd600', '#fff8e1', '#ffecb3', '#ffe082', '#ffd54f', '#ffca28', '#ffc107', '#ffb300', '#ffa000', '#ff8f00', '#ff6f00', '#ffe57f', '#ffd740', '#ffc400', '#ffab00', '#fff3e0', '#ffe0b2', '#ffcc80', '#ffb74d', '#ffa726', '#ff9800', '#fb8c00', '#f57c00', '#ef6c00', '#e65100', '#ffd180', '#ffab40', '#ff9100', '#ff6d00', '#fbe9e7', '#ffccbc', '#ffab91', '#ff8a65', '#ff7043', '#ff5722', '#f4511e', '#e64a19', '#d84315', '#bf360c', '#ff9e80', '#ff6e40', '#ff3d00', '#dd2c00', '#efebe9', '#d7ccc8', '#bcaaa4', '#a1887f', '#8d6e63', '#795548', '#6d4c41', '#5d4037', '#4e342e', '#3e2723', '#d7ccc8', '#bcaaa4', '#8d6e63', '#5d4037', '#fafafa', '#f5f5f5', '#eeeeee', '#e0e0e0', '#bdbdbd', '#9e9e9e', '#757575', '#616161', '#424242', '#212121', '#ffffff', '#eeeeee', '#bdbdbd', '#616161', '#eceff1', '#cfd8dc', '#b0bec5', '#90a4ae', '#78909c', '#607d8b', '#546e7a', '#455a64', '#37474f', '#263238', '#cfd8dc', '#b0bec5', '#78909c', '#455a64'\r\n];\r\n\r\n/**\r\n // Color palettes from the Material Design spec.\r\n // See https://www.google.com/design/spec/style/color.html\r\n */\r\nexport class MatColors {\r\n    public static all = matColors;\r\n\r\n    public static presets = matPresetColors;\r\n\r\n    public static getColor(colorName) {\r\n        if (matColors[colorName]) {\r\n            return matColors[colorName];\r\n        }\r\n        return false;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatNativeDateModule, MatRippleModule } from '@angular/material/core';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatGridListModule } from '@angular/material/grid-list';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\nimport { MatSliderModule } from '@angular/material/slider';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { MatStepperModule } from '@angular/material/stepper';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { CdkTableModule } from '@angular/cdk/table';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\n\r\n@NgModule({\r\n    imports: [\r\n        MatAutocompleteModule,\r\n        MatButtonModule,\r\n        MatButtonToggleModule,\r\n        MatCardModule,\r\n        MatCheckboxModule,\r\n        MatChipsModule,\r\n        MatDatepickerModule,\r\n        MatDialogModule,\r\n        MatExpansionModule,\r\n        MatFormFieldModule,\r\n        MatGridListModule,\r\n        MatIconModule,\r\n        MatInputModule,\r\n        MatListModule,\r\n        MatMenuModule,\r\n        MatNativeDateModule,\r\n        MatPaginatorModule,\r\n        MatProgressBarModule,\r\n        MatProgressSpinnerModule,\r\n        MatRadioModule,\r\n        MatRippleModule,\r\n        MatSelectModule,\r\n        MatSidenavModule,\r\n        MatSliderModule,\r\n        MatSlideToggleModule,\r\n        MatSnackBarModule,\r\n        MatStepperModule,\r\n        MatSortModule,\r\n        MatTableModule,\r\n        MatTabsModule,\r\n        MatToolbarModule,\r\n        MatTooltipModule,\r\n        CdkTableModule,\r\n        MatBadgeModule\r\n    ],\r\n    exports: [\r\n        MatAutocompleteModule,\r\n        MatButtonModule,\r\n        MatButtonToggleModule,\r\n        MatCardModule,\r\n        MatCheckboxModule,\r\n        MatChipsModule,\r\n        MatDatepickerModule,\r\n        MatDialogModule,\r\n        MatExpansionModule,\r\n        MatGridListModule,\r\n        MatIconModule,\r\n        MatInputModule,\r\n        MatListModule,\r\n        MatMenuModule,\r\n        MatNativeDateModule,\r\n        MatPaginatorModule,\r\n        MatProgressBarModule,\r\n        MatProgressSpinnerModule,\r\n        MatRadioModule,\r\n        MatRippleModule,\r\n        MatSelectModule,\r\n        MatSidenavModule,\r\n        MatSliderModule,\r\n        MatSlideToggleModule,\r\n        MatSnackBarModule,\r\n        MatStepperModule,\r\n        MatSortModule,\r\n        MatTableModule,\r\n        MatTabsModule,\r\n        MatToolbarModule,\r\n        MatTooltipModule,\r\n        CdkTableModule,\r\n        MatBadgeModule\r\n    ]\r\n})\r\n\r\nexport class MaterialModule { }\r\n","import { ModuleWithProviders, NgModule, Optional, SkipSelf } from '@angular/core';\r\n\r\nimport { NOCTUA_CONFIG, NoctuaConfigService } from './services/config.service';\r\nimport { NoctuaMatchMediaService } from './services/match-media.service';\r\nimport { NoctuaSplashScreenService } from './services/splash-screen.service';\r\n\r\n@NgModule({\r\n    providers: [\r\n        NoctuaConfigService,\r\n        NoctuaMatchMediaService,\r\n        NoctuaSplashScreenService,\r\n    ]\r\n})\r\nexport class NoctuaModule {\r\n    constructor(@Optional() @SkipSelf() parentModule: NoctuaModule) {\r\n        if (parentModule) {\r\n            throw new Error('NoctuaModule is already loaded. Import it in the AppModule only!');\r\n        }\r\n    }\r\n\r\n    static forRoot(config): ModuleWithProviders<NoctuaModule> {\r\n        return {\r\n            ngModule: NoctuaModule,\r\n            providers: [\r\n                {\r\n                    provide: NOCTUA_CONFIG,\r\n                    useValue: config\r\n                }\r\n            ]\r\n        };\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'camelCaseToDash' })\r\nexport class CamelCaseToDashPipe implements PipeTransform {\r\n    transform(value: string, args: any[] = []) {\r\n        return value ? String(value).replace(/([A-Z])/g, (g) => `-${g[0].toLowerCase()}`) : '';\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { NoctuaUtils } from '../utils/noctua-utils';\r\n\r\n@Pipe({ name: 'filter' })\r\nexport class FilterPipe implements PipeTransform {\r\n    transform(mainArr: any[], searchText: string, property: string): any {\r\n        return NoctuaUtils.filterArrayByString(mainArr, searchText);\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'getById',\r\n    pure: false\r\n})\r\nexport class GetByIdPipe implements PipeTransform {\r\n    transform(value: any[], id: number, property: string): any {\r\n        const foundItem = value.find(item => {\r\n            if (item.id !== undefined) {\r\n                return item.id === id;\r\n            }\r\n\r\n            return false;\r\n        });\r\n\r\n        if (foundItem) {\r\n            return foundItem[property];\r\n        }\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'htmlToPlaintext' })\r\nexport class HtmlToPlaintextPipe implements PipeTransform {\r\n    transform(value: string, args: any[] = []) {\r\n        return value ? String(value).replace(/<[^>]+>/gm, '') : '';\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'keys' })\r\nexport class KeysPipe implements PipeTransform {\r\n    transform(value: any, args: string[]): any {\r\n        const keys: any[] = [];\r\n\r\n        for (const key in value) {\r\n            if (value.hasOwnProperty(key)) {\r\n                keys.push({\r\n                    key: key,\r\n                    value: value[key]\r\n                });\r\n            }\r\n        }\r\n\r\n        return keys;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { KeysPipe } from './keys.pipe';\r\nimport { GetByIdPipe } from './getById.pipe';\r\nimport { HtmlToPlaintextPipe } from './htmlToPlaintext.pipe';\r\nimport { FilterPipe } from './filter.pipe';\r\nimport { CamelCaseToDashPipe } from './camelCaseToDash.pipe';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        KeysPipe,\r\n        GetByIdPipe,\r\n        HtmlToPlaintextPipe,\r\n        FilterPipe,\r\n        CamelCaseToDashPipe\r\n    ],\r\n    imports     : [],\r\n    exports     : [\r\n        KeysPipe,\r\n        GetByIdPipe,\r\n        HtmlToPlaintextPipe,\r\n        FilterPipe,\r\n        CamelCaseToDashPipe\r\n    ]\r\n})\r\nexport class NoctuaPipesModule\r\n{\r\n}\r\n","import { Inject, Injectable, InjectionToken } from '@angular/core';\r\nimport { NavigationStart, Router } from '@angular/router';\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\nimport { cloneDeep, isEqual, merge } from 'lodash';\r\n\r\nexport const NOCTUA_CONFIG = new InjectionToken('noctuaCustomConfig');\r\n\r\n@Injectable()\r\nexport class NoctuaConfigService {\r\n    private _configSubject: BehaviorSubject<any>;\r\n    private readonly _defaultConfig: any;\r\n\r\n    constructor(\r\n        private _platform: Platform,\r\n        private _router: Router,\r\n        @Inject(NOCTUA_CONFIG) private _config\r\n    ) {\r\n        this._defaultConfig = _config;\r\n        this._init();\r\n    }\r\n\r\n    set config(value) {\r\n        let config = this._configSubject.getValue();\r\n\r\n        config = merge({}, config, value);\r\n        this._configSubject.next(config);\r\n    }\r\n\r\n    get config(): any | Observable<any> {\r\n        return this._configSubject.asObservable();\r\n    }\r\n\r\n    get defaultConfig(): any {\r\n        return this._defaultConfig;\r\n    }\r\n\r\n    private _init(): void {\r\n        if (this._platform.ANDROID || this._platform.IOS) {\r\n            this._defaultConfig.customScrollbars = false;\r\n        }\r\n\r\n        this._configSubject = new BehaviorSubject(cloneDeep(this._defaultConfig));\r\n        this._router.events\r\n            .pipe(filter(event => event instanceof NavigationStart))\r\n            .subscribe(() => {\r\n                if (!isEqual(this._configSubject.getValue(), this._defaultConfig)) {\r\n                    const config = cloneDeep(this._defaultConfig);\r\n                    this._configSubject.next(config);\r\n                }\r\n            });\r\n    }\r\n\r\n    setConfig(value, opts = { emitEvent: true }): void {\r\n        let config = this._configSubject.getValue();\r\n\r\n        config = merge({}, config, value);\r\n\r\n        if (opts.emitEvent === true) {\r\n            this._configSubject.next(config);\r\n        }\r\n    }\r\n\r\n    getConfig(): Observable<any> {\r\n        return this._configSubject.asObservable();\r\n    }\r\n\r\n    resetToDefaults(): void {\r\n        this._configSubject.next(cloneDeep(this._defaultConfig));\r\n    }\r\n}\r\n","import { MediaChange, MediaObserver } from '@angular/flex-layout';\r\nimport { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class NoctuaMatchMediaService {\r\n    activeMediaQuery: string;\r\n    onMediaChange: BehaviorSubject<string> = new BehaviorSubject<string>('');\r\n\r\n    constructor(\r\n        private _mediaObserver: MediaObserver\r\n    ) {\r\n        this.activeMediaQuery = '';\r\n        this._init();\r\n    }\r\n\r\n    private _init(): void {\r\n        this._mediaObserver.media$\r\n            .pipe(\r\n                debounceTime(500),\r\n                distinctUntilChanged()\r\n            )\r\n            .subscribe((change: MediaChange) => {\r\n                if (this.activeMediaQuery !== change.mqAlias) {\r\n                    this.activeMediaQuery = change.mqAlias;\r\n                    this.onMediaChange.next(change.mqAlias);\r\n                }\r\n            });\r\n    }\r\n\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { animate, AnimationBuilder, AnimationPlayer, style } from '@angular/animations';\r\nimport { NavigationEnd, Router } from '@angular/router';\r\n\r\n@Injectable()\r\nexport class NoctuaSplashScreenService {\r\n    splashScreenEl;\r\n    public player: AnimationPlayer;\r\n\r\n    constructor(\r\n        private animationBuilder: AnimationBuilder,\r\n        @Inject(DOCUMENT) private document: any,\r\n        private router: Router\r\n    ) {\r\n        this.splashScreenEl = this.document.body.querySelector('#noctua-splash-screen');\r\n\r\n        if (this.splashScreenEl) {\r\n            const hideOnLoad = this.router.events.subscribe((event) => {\r\n                if (event instanceof NavigationEnd) {\r\n                    setTimeout(() => {\r\n                        this.hide();\r\n                        hideOnLoad.unsubscribe();\r\n                    }, 0);\r\n                }\r\n            }\r\n            );\r\n        }\r\n    }\r\n\r\n    show() {\r\n        this.player =\r\n            this.animationBuilder\r\n                .build([\r\n                    style({\r\n                        opacity: '0',\r\n                        zIndex: '99999'\r\n                    }),\r\n                    animate('400ms ease', style({ opacity: '1' }))\r\n                ]).create(this.splashScreenEl);\r\n\r\n        setTimeout(() => {\r\n            this.player.play();\r\n        }, 0);\r\n    }\r\n\r\n    hide() {\r\n        this.player =\r\n            this.animationBuilder\r\n                .build([\r\n                    style({ opacity: '1' }),\r\n                    animate('400ms ease', style({\r\n                        opacity: '0',\r\n                        zIndex: '-10'\r\n                    }))\r\n                ]).create(this.splashScreenEl);\r\n\r\n        setTimeout(() => {\r\n            this.player.play();\r\n        }, 0);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { MaterialModule } from './material.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\nimport { NoctuaDirectivesModule } from './directives/directives';\r\nimport { NoctuaPipesModule } from './pipes/pipes.module';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { NgxGraphModule } from '@swimlane/ngx-graph';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { NgScrollbarModule } from 'ngx-scrollbar';\r\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        MaterialModule,\r\n        ReactiveFormsModule,\r\n        FlexLayoutModule,\r\n        NoctuaDirectivesModule,\r\n        NoctuaPipesModule,\r\n        DragDropModule,\r\n        NgScrollbarModule,\r\n        PerfectScrollbarModule,\r\n        NgxGraphModule,\r\n        FontAwesomeModule\r\n    ],\r\n    exports: [\r\n        CommonModule,\r\n        MaterialModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        FlexLayoutModule,\r\n        NoctuaDirectivesModule,\r\n        NoctuaPipesModule,\r\n        DragDropModule,\r\n        NgScrollbarModule,\r\n        PerfectScrollbarModule,\r\n        NgxGraphModule,\r\n        FontAwesomeModule\r\n    ]\r\n})\r\n\r\nexport class NoctuaSharedModule { }\r\n","export class NoctuaUtils {\r\n\r\n    public static cleanID(dirtyId: string) {\r\n        if (dirtyId) {\r\n            return dirtyId.replace(/\\W/g, '_')\r\n        }\r\n        return dirtyId;\r\n    }\r\n    public static filterArrayByString(mainArr, searchText) {\r\n        if (searchText === '') {\r\n            return mainArr;\r\n        }\r\n\r\n        searchText = searchText.toLowerCase();\r\n\r\n        return mainArr.filter(itemObj => {\r\n            return this.searchInObj(itemObj, searchText);\r\n        });\r\n    }\r\n\r\n    public static searchInObj(itemObj, searchText) {\r\n        for (const prop in itemObj) {\r\n            if (!itemObj.hasOwnProperty(prop)) {\r\n                continue;\r\n            }\r\n\r\n            const value = itemObj[prop];\r\n\r\n            if (typeof value === 'string') {\r\n                if (this.searchInString(value, searchText)) {\r\n                    return true;\r\n                }\r\n            } else if (Array.isArray(value)) {\r\n                if (this.searchInArray(value, searchText)) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            if (typeof value === 'object') {\r\n                if (this.searchInObj(value, searchText)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static searchInArray(arr, searchText) {\r\n        for (const value of arr) {\r\n            if (typeof value === 'string') {\r\n                if (this.searchInString(value, searchText)) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            if (typeof value === 'object') {\r\n                if (this.searchInObj(value, searchText)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static searchInString(value, searchText) {\r\n        return value.toLowerCase().includes(searchText);\r\n    }\r\n\r\n    public static generateGUID() {\r\n        function S4() {\r\n            return Math.floor((1 + Math.random()) * 0x10000)\r\n                .toString(16)\r\n                .substring(1);\r\n        }\r\n\r\n        return S4() + S4();\r\n    }\r\n\r\n    public static toggleInArray(item, array) {\r\n        if (array.indexOf(item) === -1) {\r\n            array.push(item);\r\n        } else {\r\n            array.splice(array.indexOf(item), 1);\r\n        }\r\n    }\r\n\r\n    public static handleize(text) {\r\n        return text.toString().toLowerCase()\r\n            .replace(new RegExp(\"/\\s+/g\"), '-')           // Replace spaces with -\r\n            .replace(new RegExp(\"/[^\\w\\-]+/g\"), '')       // Remove all non-word chars\r\n            .replace(new RegExp(\"/\\-\\-+/g\"), '-')         // Replace multiple - with single -\r\n            .replace(new RegExp(\"/^-+/\"), '')             // Trim - from start of text\r\n            .replace(new RegExp(\"/-+$/\"), '');            // Trim - from end of text\r\n    }\r\n}\r\n","import { Component, ElementRef, HostBinding, Inject, OnInit, OnDestroy, Renderer2, ViewEncapsulation, HostListener } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { NoctuaConfigService } from '@noctua/services/config.service';\r\nimport { NoctuaSplashScreenService } from '@noctua/services/splash-screen.service';\r\nimport { NoctuaUserService } from '@geneontology/noctua-form-base';\r\n\r\n\r\n@Component({\r\n    selector: 'noctua-root',\r\n    templateUrl: './app.component.html',\r\n    styleUrls: ['./app.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class AppComponent implements OnInit, OnDestroy {\r\n    noctuaConfig: any;\r\n    navigation: any;\r\n\r\n    private _unsubscribeAll: Subject<any>;\r\n    @HostListener('window:focus', ['$event'])\r\n    onFocus(event: FocusEvent): void {\r\n        this.noctuaUserService.getUser();\r\n    }\r\n\r\n    constructor(\r\n        private noctuaSplashScreen: NoctuaSplashScreenService,\r\n        private _renderer: Renderer2,\r\n        private _elementRef: ElementRef,\r\n        private noctuaConfigService: NoctuaConfigService,\r\n        public noctuaUserService: NoctuaUserService,\r\n        private platform: Platform,\r\n        @Inject(DOCUMENT) private document: any\r\n    ) {\r\n        if (this.platform.ANDROID || this.platform.IOS) {\r\n            this.document.body.className += ' is-mobile';\r\n        }\r\n\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.noctuaConfigService.config\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe((config) => {\r\n                this.noctuaConfig = config;\r\n            });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this._unsubscribeAll.next(null);\r\n        this._unsubscribeAll.complete();\r\n    }\r\n\r\n    addClass(className: string) {\r\n        this._renderer.addClass(this._elementRef.nativeElement, className);\r\n    }\r\n\r\n    removeClass(className: string) {\r\n        this._renderer.removeClass(this._elementRef.nativeElement, className);\r\n    }\r\n}\r\n","<noctua-progress-bar></noctua-progress-bar>\r\n<ng-container>\r\n  <layout-noctua></layout-noctua>\r\n</ng-container>\r\n","import { APP_INITIALIZER, NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { HttpClientModule, HttpClientJsonpModule } from '@angular/common/http';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { NoctuaModule } from '@noctua/noctua.module';\r\nimport { NoctuaProgressBarModule } from '@noctua/components';\r\nimport { NoctuaSharedModule } from '@noctua/shared.module';\r\nimport { noctuaConfig } from './noctua-config';\r\nimport { AppComponent } from './app.component';\r\nimport { LayoutModule } from 'app/layout/layout.module';\r\nimport { AppsModule } from './main/apps/apps.module';\r\nimport {\r\n    faAngleDoubleDown,\r\n    faAngleDoubleLeft,\r\n    faAngleDoubleRight,\r\n    faAngleDoubleUp,\r\n    faAngleLeft,\r\n    faAngleRight,\r\n    faArrowDown,\r\n    faArrowUp,\r\n    faBars,\r\n    faCalendarDay,\r\n    faCalendarWeek,\r\n    faCaretDown,\r\n    faCaretRight,\r\n    faChartBar,\r\n    faChevronDown,\r\n    faChevronRight,\r\n    faClipboardList,\r\n    faClone,\r\n    faCog,\r\n    faComment,\r\n    faCommentAlt,\r\n    faCopy,\r\n    faExclamationTriangle,\r\n    faHistory,\r\n    faInfoCircle,\r\n    faLevelDownAlt,\r\n    faLevelUpAlt,\r\n    faLink,\r\n    faList,\r\n    faListAlt,\r\n    faPaw,\r\n    faPen,\r\n    faPlus,\r\n    faSave,\r\n    faSearch,\r\n    faSearchMinus,\r\n    faSearchPlus,\r\n    faShoppingBasket,\r\n    faSitemap,\r\n    faSortAlphaDown,\r\n    faSortAlphaDownAlt,\r\n    faTable,\r\n    faTasks,\r\n    faTimes,\r\n    faUndo,\r\n    faUser,\r\n    faUsers,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { faBell, faCheckCircle, faTimesCircle, faTrashAlt, } from '@fortawesome/free-regular-svg-icons';\r\nimport { faGithub, faFacebook, faTwitter } from '@fortawesome/free-brands-svg-icons';\r\nimport { FaIconLibrary } from '@fortawesome/angular-fontawesome';\r\nimport { NoctuaDataService } from '@noctua.common/services/noctua-data.service';\r\nimport { StartupService } from './startup.service';\r\nimport { TreeModule } from '@circlon/angular-tree-component';\r\n\r\nexport function startup(startupService: StartupService) {\r\n    return () => startupService.loadData();\r\n}\r\n\r\nconst appRoutes: Routes = [\r\n    {\r\n        path: '**',\r\n        redirectTo: ''\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AppComponent\r\n    ],\r\n    imports: [\r\n        BrowserModule,\r\n        BrowserAnimationsModule,\r\n        HttpClientModule,\r\n        HttpClientJsonpModule,\r\n        RouterModule.forRoot(appRoutes, { relativeLinkResolution: 'legacy' }),\r\n        // Noctua Main and Shared modules\r\n        NoctuaModule.forRoot(noctuaConfig),\r\n        NoctuaSharedModule,\r\n        LayoutModule,\r\n        RouterModule,\r\n        MatSidenavModule,\r\n        NoctuaProgressBarModule,\r\n        TreeModule,\r\n\r\n        //Material \r\n        MatSidenavModule,\r\n\r\n        //Noctua App \r\n        AppsModule\r\n    ],\r\n    providers: [\r\n        StartupService,\r\n        {\r\n            provide: APP_INITIALIZER,\r\n            useFactory: startup,\r\n            deps: [StartupService, NoctuaDataService],\r\n            multi: true\r\n        }\r\n    ],\r\n    bootstrap: [\r\n        AppComponent\r\n    ]\r\n})\r\n\r\nexport class AppModule {\r\n    constructor(library: FaIconLibrary) {\r\n        library.addIcons(\r\n            faArrowUp,\r\n            faArrowDown,\r\n            faAngleDoubleLeft,\r\n            faAngleDoubleRight,\r\n            faAngleDoubleUp,\r\n            faAngleDoubleDown,\r\n            faAngleLeft,\r\n            faAngleRight,\r\n            faBars,\r\n            faBell,\r\n            faCalendarDay,\r\n            faCalendarWeek,\r\n            faCaretDown,\r\n            faCaretRight,\r\n            faChartBar,\r\n            faChevronDown,\r\n            faChevronRight,\r\n            faCheckCircle,\r\n            faClipboardList,\r\n            faCog,\r\n            faComment,\r\n            faCommentAlt,\r\n            faCopy,\r\n            faClone,\r\n            faExclamationTriangle,\r\n            faFacebook,\r\n            faGithub,\r\n            faHistory,\r\n            faInfoCircle,\r\n            faLevelDownAlt,\r\n            faLevelUpAlt,\r\n            faLink,\r\n            faList,\r\n            faListAlt,\r\n            faPaw,\r\n            faPen,\r\n            faPlus,\r\n            faSave,\r\n            faSearch,\r\n            faSearchMinus,\r\n            faSearchPlus,\r\n            faShoppingBasket,\r\n            faSitemap,\r\n            faSortAlphaDown,\r\n            faSortAlphaDownAlt,\r\n            faTrashAlt,\r\n            faTable,\r\n            faTasks,\r\n            faTimes,\r\n            faTimesCircle,\r\n            faTwitter,\r\n            faUndo,\r\n            faUser,\r\n            faUsers,\r\n        );\r\n    }\r\n}\r\n","import { Component, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'noctua-content',\r\n    templateUrl: './content.component.html',\r\n    styleUrls: ['./content.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ContentComponent {\r\n    /**\r\n     * Constructor\r\n     */\r\n    constructor() {\r\n    }\r\n}\r\n","<router-outlet *ngIf=\"true\"></router-outlet>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { NoctuaSharedModule } from '@noctua/shared.module';\r\n\r\nimport { ContentComponent } from 'app/layout/components/content/content.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        ContentComponent\r\n    ],\r\n    imports: [\r\n        RouterModule,\r\n        NoctuaSharedModule,\r\n    ],\r\n    exports: [\r\n        ContentComponent\r\n    ]\r\n})\r\nexport class ContentModule {\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-footer',\r\n  templateUrl: './footer.component.html',\r\n  styleUrls: ['./footer.component.scss']\r\n})\r\nexport class NoctuaFooterComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"footer\" fxLayout=\"row\" fxLayoutAlign=\"start start\">\r\n  <div class=\"\" style=\"padding-left: 0px;\" fxLayout=\"row\" fxLayoutAlign=\"start start\" fxFlex=\"50%\">\r\n    <div class=\"mr-16\">\r\n      <a href=\"/\" class=\"\" style=\"color: white !important;\">Home</a>\r\n    </div>\r\n    <div class=\"mr-16\">\r\n      <a href=\"http://help.geneontology.org\" class=\"\" style=\"color: white !important;\" target=\"blank\">Contact us</a>\r\n    </div>\r\n    <div class=\"mr-16\">\r\n      <a href=\"/docs/go-citation-policy/\" class=\"\" style=\"color: white !important;\">Citation and Terms of Use</a>\r\n    </div>\r\n  </div>\r\n  <span fxFlex=\"\"></span>\r\n  <div class=\"\" style=\"text-align: right;\" fxFlex=\"40%\">\r\n    <small class=\"\">\r\n      Copyright  1999-2020\r\n      Member of the\r\n      <a href=\" http://www.obofoundry.org/\" class=\"footer__link\" rel=\"external\" title=\"Open Biological Ontologies\"\r\n        target=\"blank\">Open Biological Ontologies Foundry</a>\r\n      The Gene Ontology Consortium is supported by a P41 grant from the National Human Genome Research Institute\r\n      (NHGRI) [grant\r\n      <a href=\"https://projectreporter.nih.gov/project_info_details.cfm?aid=9209989\" rel=\"external\"\r\n        title=\"National Human Genome Research Institute grant 2U41HG002273-17\" class=\"footer__link\" target=\"blank\">\r\n        U41 HG002273</a>]\r\n    </small>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NoctuaSharedModule } from '@noctua/shared.module';\r\n\r\nimport { NoctuaFooterComponent } from 'app/layout/components/footer/footer.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        NoctuaFooterComponent\r\n    ],\r\n    imports: [\r\n        RouterModule,\r\n        NoctuaSharedModule\r\n    ],\r\n    exports: [\r\n        NoctuaFooterComponent\r\n    ]\r\n})\r\nexport class NoctuaFooterModule {\r\n}\r\n","import { Component, OnDestroy, OnInit, ViewEncapsulation, Input } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { Cam, CamService, NoctuaUserService, NoctuaFormConfigService } from '@geneontology/noctua-form-base';\r\nimport { MatSidenav } from '@angular/material/sidenav';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\nimport { WorkbenchId } from '@noctua.common/models/workench-id';\r\n\r\n@Component({\r\n    selector: 'noc-noctua-apps',\r\n    templateUrl: './noctua-apps.component.html',\r\n    styleUrls: ['./noctua-apps.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class NoctuaAppsComponent implements OnInit, OnDestroy {\r\n    WorkbenchId = WorkbenchId;\r\n    @Input('sidenav') sidenav: MatSidenav;\r\n\r\n    public cam: Cam;\r\n    date: Date;\r\n\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    constructor(\r\n        public noctuaConfigService: NoctuaFormConfigService,\r\n        private noctuaCommonMenuService: NoctuaCommonMenuService,\r\n        private camService: CamService,\r\n        public noctuaUserService: NoctuaUserService,\r\n    ) {\r\n        this.date = new Date();\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.camService.onCamChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe((cam) => {\r\n                if (!cam) {\r\n                    return;\r\n                }\r\n\r\n                this.cam = cam;\r\n            });\r\n    }\r\n\r\n    createModel(type: WorkbenchId) {\r\n        this.noctuaCommonMenuService.createModel(type);\r\n    }\r\n\r\n    close() {\r\n        this.sidenav.close();\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this._unsubscribeAll.next(null);\r\n        this._unsubscribeAll.complete();\r\n    }\r\n}\r\n","<div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"noc-cam-form noc-drawer h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-drawer-header-title\">\r\n      Workbenches</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> Close\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-drawer-body w-100-p\" noctuaPerfectScrollbar>\r\n    <div *ngIf=\"noctuaUserService.user\" class=\"noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Create Model In\r\n        </div>\r\n        <span fxFlex></span>\r\n      </div>\r\n      <div class=\"noc-section-body p-8\" fxLayout=\"column\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-create w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <button mat-raised-button (click)=\"createModel(WorkbenchId.VISUAL_PATHWAY_EDITOR)\" fxFlex=\"33\"\r\n            class=\"noc-rounded-button noc-half-button noc-r\">\r\n            PATHWAY EDITOR\r\n          </button>\r\n          <button mat-raised-button (click)=\"createModel(WorkbenchId.FORM)\" fxFlex=\"33\"\r\n            class=\"noc-rounded-button mr-4 noc-half-button noc-m\">\r\n            FORM EDITOR\r\n          </button>\r\n          <button mat-raised-button (click)=\"createModel(WorkbenchId.GRAPH_EDITOR)\" fxFlex=\"33\"\r\n            class=\"noc-rounded-button noc-half-button noc-l\">\r\n            GRAPH EDITOR\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"cam\" class=\"noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Edit In\r\n        </div>\r\n        <span fxFlex></span>\r\n      </div>\r\n      <div class=\"noc-section-body p-8\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"p-8\" fxFlex=\"50\">\r\n          <a class=\"w-100-p\" [href]='cam?.model?.modelInfo?.noctuaFormUrl' target=\"_blank\">\r\n            <mat-chip class=\"noc-table-chip\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-icon\">\r\n                <fa-icon [icon]=\"['fas', 'list-alt']\"></fa-icon>\r\n              </div>\r\n              <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                Form Editor\r\n              </div>\r\n            </mat-chip>\r\n          </a>\r\n        </div>\r\n        <div class=\"p-8\" fxFlex=\"50\">\r\n          <a class=\"w-100-p\" [href]='cam?.model?.modelInfo?.graphEditorUrl' target=\"_blank\">\r\n            <mat-chip class=\"noc-table-chip\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-icon\">\r\n                <fa-icon [icon]=\"['fas', 'sitemap']\"></fa-icon>\r\n              </div>\r\n              <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                Graph Editor\r\n              </div>\r\n            </mat-chip>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <mat-divider></mat-divider>\r\n    <div *ngIf=\"cam\" class=\"noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Export As\r\n        </div>\r\n        <span fxFlex></span>\r\n      </div>\r\n      <div class=\"noc-section-body p-8\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"p-4\" fxFlex=\"50\">\r\n          <a class=\"w-100-p\" [href]='cam?.model?.modelInfo?.gpadUrl' target=\"_blank\">\r\n            <mat-chip class=\"noc-table-chip\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                GPAD\r\n              </div>\r\n            </mat-chip>\r\n          </a>\r\n        </div>\r\n        <div class=\"p-4\" fxFlex=\"50\">\r\n          <a class=\"w-100-p\" [href]='cam?.model?.modelInfo?.owlUrl' target=\"_blank\">\r\n            <mat-chip class=\"noc-table-chip\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                OWL\r\n              </div>\r\n            </mat-chip>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"cam\" class=\"noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Model Workbenches\r\n        </div>\r\n        <span fxFlex></span>\r\n      </div>\r\n      <div class=\"noc-section-body p-8\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n        <div class=\"w-100-p p-4\" *ngFor=\"let workbench of cam?.model?.modelInfo?.modelWorkbenches\">\r\n          <a class=\"w-100-p\" href=\"{{workbench.url}}\" target=\"_blank\">\r\n            <mat-chip class=\"noc-table-chip\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                {{workbench.label}}\r\n              </div>\r\n            </mat-chip>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Global Workbenches\r\n        </div>\r\n        <span fxFlex></span>\r\n      </div>\r\n      <div class=\"noc-section-body p-8\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n        <div class=\"w-100-p p-4\" *ngFor=\"let workbench of noctuaConfigService.globalUrl?.universalWorkbenches\">\r\n          <a class=\"w-100-p\" href=\"{{workbench.url}}\" target=\"_blank\">\r\n            <mat-chip class=\"noc-table-chip\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                {{workbench.label}}\r\n              </div>\r\n            </mat-chip>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-form-section noc-beta\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Beta Testing Workbenches\r\n        </div>\r\n        <span fxFlex></span>\r\n      </div>\r\n      <div class=\"noc-section-body p-8\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n        <div class=\"w-100-p p-4\" *ngFor=\"let workbench of noctuaConfigService.globalUrl?.universalBetaTestWorkbenches\">\r\n          <a class=\"w-100-p\" href=\"{{workbench.url}}\" target=\"_blank\">\r\n            <mat-chip class=\"noc-table-chip\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                {{workbench.label}}\r\n              </div>\r\n            </mat-chip>\r\n          </a>\r\n        </div>\r\n        <ng-container *ngIf=\"cam\">\r\n          <div class=\"w-100-p p-4\" *ngFor=\"let workbench of cam?.model?.modelInfo?.modelBetaTestWorkbenches\">\r\n            <a class=\"w-100-p\" href=\"{{workbench.url}}\" target=\"_blank\">\r\n              <mat-chip class=\"noc-table-chip\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                  {{workbench.label}}\r\n                </div>\r\n              </mat-chip>\r\n            </a>\r\n          </div>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\nimport { NoctuaSharedModule } from '@noctua/shared.module';\r\nimport { NoctuaAppsComponent } from './noctua-apps.component';\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        NoctuaAppsComponent\r\n    ],\r\n    imports: [\r\n        MatDividerModule,\r\n        MatListModule,\r\n        MatSlideToggleModule,\r\n\r\n        NoctuaSharedModule,\r\n    ],\r\n    exports: [\r\n        NoctuaAppsComponent\r\n    ]\r\n})\r\nexport class NoctuaAppsModule {\r\n}\r\n","import { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n    selector: 'quick-panel',\r\n    templateUrl: './quick-panel.component.html',\r\n    styleUrls: ['./quick-panel.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class QuickPanelComponent implements OnInit, OnDestroy {\r\n    date: Date;\r\n\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    constructor(\r\n        private _httpClient: HttpClient\r\n    ) {\r\n        this.date = new Date();\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n\r\n        this._unsubscribeAll.next(null);\r\n        this._unsubscribeAll.complete();\r\n    }\r\n}\r\n","<mat-list class=\"date\" cdkFocusRegionStart>\r\n\r\n  <h3 matSubheader cdkFocusInit>\r\n    <span>Today</span>\r\n  </h3>\r\n\r\n  <div class=\"secondary-text mat-display-1 mb-0 p-16\">\r\n    <div class=\"mb-12\">\r\n      {{date | date:'EEEE'}}\r\n    </div>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"start start\">\r\n      <span> {{date | date:'d'}}</span>\r\n      <span class=\"mat-subheading-1\">th</span>\r\n      <span> {{date | date:'MMMM'}}</span>\r\n    </div>\r\n  </div>\r\n</mat-list>\r\n\r\n<mat-divider cdkFocusRegionEnd></mat-divider>\r\n\r\n<mat-list>\r\n  <h3 matSubheader>\r\n    <span>Events</span>\r\n  </h3>\r\n\r\n</mat-list>\r\n\r\n<mat-divider></mat-divider>\r\n","import { NgModule } from '@angular/core';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\n\r\nimport { NoctuaSharedModule } from '@noctua/shared.module';\r\n\r\nimport { QuickPanelComponent } from 'app/layout/components/quick-panel/quick-panel.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        QuickPanelComponent\r\n    ],\r\n    imports: [\r\n        MatDividerModule,\r\n        MatListModule,\r\n        MatSlideToggleModule,\r\n\r\n        NoctuaSharedModule,\r\n    ],\r\n    exports: [\r\n        QuickPanelComponent\r\n    ]\r\n})\r\nexport class QuickPanelModule {\r\n}\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { NavigationEnd, NavigationStart, Router } from '@angular/router';\r\n\r\nimport {\r\n    Cam,\r\n    CamService,\r\n    NoctuaUserService,\r\n    NoctuaFormConfigService,\r\n    NoctuaActivityFormService,\r\n    ActivityType,\r\n    LeftPanel,\r\n} from '@geneontology/noctua-form-base';\r\nimport { LeftPanel as CommonLeftPanel } from '@noctua.common/models/menu-panels';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { environment } from 'environments/environment';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\nimport { ArtBasket } from '@noctua.search/models/art-basket';\r\nimport { NoctuaReviewSearchService } from '@noctua.search/services/noctua-review-search.service';\r\nimport { NoctuaSearchDialogService } from '@noctua.search/services/dialog.service';\r\nimport { NoctuaAnnouncementService } from '@noctua.announcement/services/cam.service';\r\nimport { Announcement } from '@noctua.announcement/models/announcement';\r\nimport { NoctuaSearchMenuService } from '@noctua.search/services/search-menu.service';\r\n\r\n@Component({\r\n    selector: 'noctua-toolbar',\r\n    templateUrl: './toolbar.component.html',\r\n    styleUrls: ['./toolbar.component.scss']\r\n})\r\n\r\nexport class NoctuaToolbarComponent implements OnInit, OnDestroy {\r\n    ActivityType = ActivityType;\r\n    artBasket: ArtBasket\r\n    announcements: Announcement[];\r\n    announcement: Announcement;\r\n    public cam: Cam;\r\n    userStatusOptions: any[];\r\n    showLoadingBar: boolean;\r\n    horizontalNav: boolean;\r\n    noNav: boolean;\r\n    navigation: any;\r\n    noctuaFormUrl = '';\r\n    loginUrl = '';\r\n    logoutUrl = '';\r\n    noctuaUrl = '';\r\n\r\n    isBeta = environment.isBeta\r\n    isDev = environment.isDev\r\n\r\n    betaText = '';\r\n\r\n\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private camService: CamService,\r\n        private noctuaCommonMenuService: NoctuaCommonMenuService,\r\n        private noctuaAnnouncementService: NoctuaAnnouncementService,\r\n        public noctuaUserService: NoctuaUserService,\r\n        private noctuaSearchDialogService: NoctuaSearchDialogService,\r\n        public noctuaConfigService: NoctuaFormConfigService,\r\n        public noctuaActivityFormService: NoctuaActivityFormService,\r\n        public noctuaReviewSearchService: NoctuaReviewSearchService,\r\n        public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    ) {\r\n        this._unsubscribeAll = new Subject();\r\n\r\n        this.router.events.pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(\r\n                (event) => {\r\n                    if (event instanceof NavigationStart) {\r\n                        this.showLoadingBar = true;\r\n                    }\r\n                    if (event instanceof NavigationEnd) {\r\n                        this.showLoadingBar = false;\r\n                    }\r\n                });\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        //this.noctuaAnnouncementService.getAnnouncement();\r\n        this.camService.onCamChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe((cam) => {\r\n                if (!cam) {\r\n                    return;\r\n                }\r\n\r\n                this.cam = cam;\r\n            });\r\n\r\n        this.camService.onCamChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe((cam) => {\r\n                if (!cam) {\r\n                    return;\r\n                }\r\n\r\n                this.cam = cam;\r\n            });\r\n\r\n        this.noctuaReviewSearchService.onArtBasketChanged.pipe(\r\n            takeUntil(this._unsubscribeAll))\r\n            .subscribe((artBasket: ArtBasket) => {\r\n                if (artBasket) {\r\n                    this.artBasket = artBasket;\r\n                }\r\n            });\r\n        this.noctuaAnnouncementService.onAnnouncementsChanged.pipe(\r\n            takeUntil(this._unsubscribeAll))\r\n            .subscribe((announcements: Announcement[]) => {\r\n                if (announcements) {\r\n                    this.announcements = announcements\r\n                }\r\n            });\r\n\r\n        this.noctuaAnnouncementService.onAnnouncementChanged.pipe(\r\n            takeUntil(this._unsubscribeAll))\r\n            .subscribe((announcement: Announcement) => {\r\n                if (announcement) {\r\n                    this.announcement = announcement\r\n                }\r\n            });\r\n\r\n        if (this.isDev && this.isBeta) {\r\n            this.betaText = 'beta dev'\r\n        } else if (this.isDev) {\r\n            this.betaText = 'dev'\r\n        } else if (this.isBeta) {\r\n            this.betaText = 'beta'\r\n        }\r\n    }\r\n\r\n    openApps() {\r\n        this.noctuaCommonMenuService.selectLeftSidenav(CommonLeftPanel.apps)\r\n        this.noctuaCommonMenuService.openLeftSidenav();\r\n    }\r\n\r\n    openAnnouncements() {\r\n        this.noctuaCommonMenuService.selectLeftSidenav(CommonLeftPanel.announcement)\r\n        this.noctuaCommonMenuService.openLeftSidenav();\r\n    }\r\n\r\n    openCamForm() {\r\n        this.camService.initializeForm(this.cam);\r\n        this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.camForm);\r\n        this.noctuaCommonMenuService.openLeftDrawer();\r\n    }\r\n\r\n    openActivityForm(activityType: ActivityType) {\r\n        this.noctuaActivityFormService.setActivityType(activityType);\r\n        this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.activityForm);\r\n        this.noctuaCommonMenuService.openLeftDrawer();\r\n    }\r\n\r\n    logout() {\r\n        const self = this;\r\n\r\n        const success = (logout) => {\r\n            if (logout) {\r\n                window.location.href = self.noctuaConfigService.logoutUrl;\r\n            }\r\n        };\r\n\r\n        if (self.artBasket?.cams.length > 0) {\r\n            this.noctuaSearchDialogService.openCamsUnsavedDialog(success);\r\n        } else {\r\n            window.location.href = self.noctuaConfigService.logoutUrl;\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this._unsubscribeAll.next(null);\r\n        this._unsubscribeAll.complete();\r\n    }\r\n\r\n}\r\n","<div class=\"w-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <ng-container *ngIf=\"announcement\">\r\n    <div class=\"noc-announcement alert alert-{{announcement.level}}\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n      <div class=\"noc-announcement-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div fxFlex>\r\n          <strong>{{announcement.title}}</strong> {{announcement.description}}\r\n          <a *ngIf=\"announcement.descriptionUrl\" href=\"{{announcement.descriptionUrl}}\" target=\"_banl\">\r\n            More Details\r\n          </a>\r\n        </div>\r\n        <button mat-stroked-button (click)=\"openAnnouncements()\" class=\"noc-rounded-button ml-8 noc-sm\"\r\n          matTooltip=\"Open Announcements\" [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1500\">\r\n          View More\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n  <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"start center\" [ngClass]=\"{'noc-dev': isDev, 'noc-beta': isBeta }\">\r\n    <mat-progress-bar *ngIf=\"showLoadingBar\" class=\"loading-bar\" color=\"accent\" mode=\"indeterminate\"></mat-progress-bar>\r\n    <div class=\"noc-br h-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"200px\">\r\n      <div class=\"noc-logo pl-8\" fxLayout=\"row\" fxLayoutAlign=\"start\">\r\n        <a href=\"http://geneontology.org/\" target=\"_blank\">\r\n          <img src=\"assets/images/logos/go-logo.large.png\">\r\n        </a>\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-logo pl-0 h-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"180px\">\r\n      <button mat-icon-button (click)=\"openApps()\" class=\"noc-br noc-apps-button\" matTooltip=\"Open Workbenches Menu\"\r\n        [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n        <mat-icon class=\"\">apps</mat-icon>\r\n      </button>\r\n      <ng-container *ngIf=\"!isBeta && !isDev\">\r\n        <a class=\"noc-main-logo\" href=\"{{noctuaConfigService.noctuaUrl}}\" target=\"_blank\">\r\n          Noctua\r\n        </a>\r\n      </ng-container>\r\n      <div *ngIf=\"isDev || isBeta\" class=\"noc-beta-logo\" fxLayout=\"column\" fxLayoutAlign=\"center start \">\r\n        <div class=\"noc-title\">\r\n          <a class=\"\" href=\"{{noctuaConfigService.noctuaUrl}}\" target=\"_blank\">\r\n            Noctua\r\n          </a>\r\n          ({{betaText}})\r\n        </div>\r\n        <div class=\"noc-description\">\r\n          Testing Version. Visit <a class=\"\" href=\"http://noctua.geneontology.org/\" target=\"_blank\">\r\n            Noctua\r\n          </a> for production version\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxFlex=\"\">\r\n      <div class=\"noc-br pr-12\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <a mat-icon-button href=\"https://github.com/geneontology\" target=\"blank\">\r\n          <fa-icon [icon]=\"['fab', 'github']\"></fa-icon>\r\n        </a>\r\n        <a mat-icon-button href=\"https://twitter.com/news4go\" target=\"blank\">\r\n          <fa-icon [icon]=\"['fab', 'twitter']\"></fa-icon>\r\n        </a>\r\n        <a mat-icon-button href=\"https://www.facebook.com/pages/Gene-Ontology/305908656519\" target=\"blank\">\r\n          <fa-icon [icon]=\"['fab', 'facebook']\"></fa-icon>\r\n        </a>\r\n      </div>\r\n      <div class=\"noc-br pl-12 pr-12\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <a mat-button class=\"\" [matMenuTriggerFor]=\"aboutMenu\">\r\n          About\r\n        </a>\r\n        <mat-menu #aboutMenu=\"matMenu\">\r\n          <a href=\"http://geneontology.org/docs/introduction-to-go-resource/\" target=\"_blank\" mat-menu-item>\r\n            About The GO\r\n          </a>\r\n          <a href=\"http://geneontology.org/docs/gocam-overview/\" target=\"_blank\" mat-menu-item>\r\n            About GO-CAM\r\n          </a>\r\n        </mat-menu>\r\n        <a mat-button class=\"\" [matMenuTriggerFor]=\"helpMenu\">\r\n          Help\r\n        </a>\r\n        <mat-menu #helpMenu=\"matMenu\">\r\n          <a href=\"http://wiki.geneontology.org/index.php/Noctua\" target=\"_blank\" mat-menu-item>\r\n            Noctua User's Guide\r\n          </a>\r\n        </mat-menu>\r\n        <!--  <button mat-icon-button (click)=\"openAnnouncements()\" class=\"noc-announcement-button\">\r\n          <fa-icon [icon]=\"['far', 'bell']\"></fa-icon>\r\n          <div *ngIf=\"announcements?.length > 0\" class=\"noc-badge\">\r\n            {{announcements.length}}\r\n          </div>\r\n        </button> -->\r\n      </div>\r\n      <div class=\"noc-br pr-12\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <button *ngIf=\"noctuaUserService.user\" mat-button class=\"noc-name-button\" [matMenuTriggerFor]=\"userMenu\">\r\n          <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n            <div class=\"noc-info\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n              <div class=\"noc-name text-truncate\">\r\n                {{noctuaUserService.user.name}}\r\n              </div>\r\n              <div class=\"noc-group-name text-truncate\">\r\n                {{noctuaUserService.user?.group?.label}}\r\n              </div>\r\n            </div>\r\n            <mat-icon>arrow_drop_down</mat-icon>\r\n          </div>\r\n        </button>\r\n        <mat-menu #userMenu=\"matMenu\" class=\"\">\r\n          <a mat-button (click)=\"logout()\" class=\"red-500-fg w-100-p\">\r\n            Logout\r\n          </a>\r\n        </mat-menu>\r\n        <div *ngIf=\"!noctuaUserService.user\">\r\n          <a mat-button href=\"{{noctuaConfigService.loginUrl}}\" class=\"noc-login-button\">\r\n            Login\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-bl noc-logo\" fxLayout=\"row\" fxLayoutAlign=\"start\">\r\n      <a href=\"https://www.alliancegenome.org\" target=\"_blank\">\r\n        <img src=\"assets/images/logos/alliance-logo.png\">\r\n      </a>\r\n    </div>\r\n  </mat-toolbar>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { NoctuaSharedModule } from '@noctua/shared.module';\r\nimport { NoctuaToolbarComponent } from './toolbar.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        NoctuaToolbarComponent\r\n    ],\r\n    imports: [\r\n        RouterModule,\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        MatMenuModule,\r\n        MatProgressBarModule,\r\n        MatToolbarModule,\r\n        NoctuaSharedModule,\r\n    ],\r\n    providers: [\r\n    ],\r\n    exports: [\r\n        NoctuaToolbarComponent\r\n    ]\r\n})\r\n\r\nexport class NoctuaToolbarModule {\r\n}\r\n","import { Component, OnDestroy, OnInit, ViewEncapsulation, ViewChild } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { NoctuaConfigService } from '@noctua/services/config.service';\r\nimport { MatSidenav } from '@angular/material/sidenav';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\nimport { LeftPanel } from '@noctua.common/models/menu-panels';\r\n\r\n@Component({\r\n    selector: 'layout-noctua',\r\n    templateUrl: './layout-noctua.component.html',\r\n    styleUrls: ['./layout-noctua.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n}\r\n\r\n) export class LayoutNoctuaComponent implements OnInit, OnDestroy {\r\n    LeftPanel = LeftPanel;\r\n    noctuaConfig: any;\r\n    navigation: any;\r\n    @ViewChild('leftSidenav', { static: true })\r\n    leftSidenav: MatSidenav;\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    constructor(private _noctuaConfigService: NoctuaConfigService,\r\n        public noctuaCommonMenuService: NoctuaCommonMenuService) {\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this._noctuaConfigService.config\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe((config) => {\r\n                this.noctuaConfig = config;\r\n            });\r\n        this.noctuaCommonMenuService.setLeftSidenav(this.leftSidenav);\r\n    }\r\n    ngOnDestroy(): void {\r\n        this._unsubscribeAll.next(null);\r\n        this._unsubscribeAll.complete();\r\n    }\r\n}","<div id=\"noctua-main\">\r\n  <mat-sidenav-container>\r\n    <mat-sidenav #leftSidenav [ngSwitch]=\"noctuaCommonMenuService.selectedLeftSidenav\" class=\"h-100-p\">\r\n      <noc-announcement-panel [sidenav]=\"leftSidenav\" *ngSwitchCase=\"LeftPanel.announcement\">\r\n      </noc-announcement-panel>\r\n      <noc-noctua-apps [sidenav]=\"leftSidenav\" *ngSwitchCase=\"LeftPanel.apps\"></noc-noctua-apps>\r\n    </mat-sidenav>\r\n    <div id=\"noctua-main-content\">\r\n      <ng-container>\r\n        <noctua-toolbar class=\"above\"></noctua-toolbar>\r\n      </ng-container>\r\n      <div id=\"wrapper\">\r\n        <div class=\"content-wrapper\">\r\n          <noctua-content></noctua-content>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </mat-sidenav-container>\r\n  <app-footer *ngIf=\"false\" id=\"footer\"></app-footer>\r\n  <quick-panel *ngIf=\"false\"></quick-panel>\r\n</div>\r\n\r\n\r\n<!-- <mat-sidenav-container\r\n    class=\"example-container\" (backdropClick)=\"close('backdrop')\" *ngIf=\"shouldRun\">\r\n  <mat-sidenav #sidenav (keydown.escape)=\"close('escape')\" disableClose>\r\n    <p><button mat-button (click)=\"close('toggle button')\">Toggle</button></p>\r\n  </mat-sidenav>\r\n\r\n  <mat-sidenav-content>\r\n    <p><button mat-button (click)=\"sidenav.open()\">Open</button></p>\r\n    <p>Closed due to: {{reason}}</p>\r\n  </mat-sidenav-content> \r\n</mat-sidenav-container>\r\n-->","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NoctuaAnnouncementModule } from '@noctua.announcement/@noctua.announcement.module';\r\nimport { NoctuaSharedModule } from '@noctua/shared.module';\r\nimport { ContentModule } from 'app/layout/components/content/content.module';\r\nimport { NoctuaFooterModule } from 'app/layout/components/footer/footer.module';\r\nimport { QuickPanelModule } from 'app/layout/components/quick-panel/quick-panel.module';\r\nimport { NoctuaToolbarModule } from 'app/layout/components/toolbar/toolbar.module';\r\nimport { LayoutNoctuaComponent } from 'app/layout/layout-noctua/layout-noctua.component';\r\nimport { NoctuaAppsModule } from '../components/noctua-apps/noctua-apps.module';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        LayoutNoctuaComponent\r\n    ],\r\n    imports: [\r\n        RouterModule,\r\n        NoctuaSharedModule,\r\n        ContentModule,\r\n        NoctuaFooterModule,\r\n        QuickPanelModule,\r\n        NoctuaToolbarModule,\r\n        NoctuaAppsModule,\r\n        NoctuaAnnouncementModule\r\n    ],\r\n    exports: [\r\n        LayoutNoctuaComponent\r\n    ]\r\n})\r\nexport class LayoutNoctuaModule {\r\n}\r\n\r\n\r\n\r\n\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { LayoutNoctuaModule } from 'app/layout/layout-noctua/layout-noctua.module';\r\n\r\n\r\n@NgModule({\r\n    imports: [\r\n        LayoutNoctuaModule\r\n    ],\r\n    exports: [\r\n        LayoutNoctuaModule,\r\n    ]\r\n})\r\nexport class LayoutModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { NoctuaSharedModule } from '@noctua/shared.module';\r\nimport { NoctuaFormModule } from './noctua-form/noctua-form.module';\r\nimport { NoctuaGraphModule } from './noctua-graph/noctua-graph.module';\r\nimport { NoctuaSearchModule } from './noctua-search/noctua-search.module';\r\nimport { NoctuaDoctorModule } from './noctua-doctor/noctua-doctor.module';\r\nimport { NoctuaTutorialModule } from './noctua-tutorial/noctua-tutorial.module';\r\nimport { NoctuaPathwayModule } from './noctua-pathway/noctua-pathway.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    NoctuaSharedModule,\r\n    NoctuaFormModule,\r\n    NoctuaSearchModule,\r\n    NoctuaGraphModule,\r\n    NoctuaDoctorModule,\r\n    NoctuaTutorialModule,\r\n    NoctuaPathwayModule\r\n  ],\r\n  exports: [\r\n    NoctuaFormModule,\r\n    NoctuaFormModule,\r\n    NoctuaSearchModule,\r\n    NoctuaGraphModule,\r\n    NoctuaDoctorModule,\r\n    NoctuaTutorialModule,\r\n    NoctuaPathwayModule\r\n  ],\r\n  providers: [\r\n\r\n  ],\r\n  declarations: []\r\n\r\n})\r\n\r\nexport class AppsModule {\r\n}\r\n","import { AfterViewInit, Component, OnDestroy, OnInit, QueryList, ViewChild, ViewChildren } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { Subject } from 'rxjs';\r\nimport { noctuaAnimations } from './../../../../@noctua/animations';\r\nimport {\r\n  Cam,\r\n  Contributor,\r\n  NoctuaUserService,\r\n  NoctuaFormConfigService,\r\n  CamService,\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { FormGroup } from '@angular/forms';\r\nimport { NoctuaSearchService } from '@noctua.search/services/noctua-search.service';\r\nimport { distinctUntilChanged, takeUntil } from 'rxjs/operators';\r\nimport { CamPage } from '@noctua.search/models/cam-page';\r\nimport { NoctuaSearchMenuService } from '@noctua.search/services/search-menu.service';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\nimport { ReviewMode } from '@noctua.search/models/review-mode';\r\nimport { LeftPanel, MiddlePanel, RightPanel } from '@noctua.search/models/menu-panels';\r\nimport { ArtBasket } from '@noctua.search/models/art-basket';\r\nimport { NoctuaReviewSearchService } from '@noctua.search/services/noctua-review-search.service';\r\nimport { NgScrollbar } from 'ngx-scrollbar';\r\nimport { PerfectScrollbarDirective } from 'ngx-perfect-scrollbar';\r\nimport { NoctuaDoctorMenuService } from '@noctua.doctor/services/doctor-menu.service';\r\nimport { WorkbenchId } from '@noctua.common/models/workench-id';\r\n\r\n@Component({\r\n  selector: 'noc-noctua-doctor',\r\n  templateUrl: './noctua-doctor.component.html',\r\n  styleUrls: ['./noctua-doctor.component.scss'],\r\n  // encapsulation: ViewEncapsulation.None,\r\n  animations: noctuaAnimations\r\n})\r\nexport class NoctuaDoctorComponent implements OnInit, AfterViewInit, OnDestroy {\r\n\r\n  @ViewChild('leftDrawer', { static: true })\r\n  leftDrawer: MatDrawer;\r\n\r\n  @ViewChild('rightDrawer', { static: true })\r\n  rightDrawer: MatDrawer;\r\n\r\n  @ViewChild(PerfectScrollbarDirective)\r\n  scrollbarRef?: PerfectScrollbarDirective;\r\n\r\n  // @ViewChild(NgScrollbar) scrollbarRef: NgScrollbar;\r\n\r\n  loadingSpinner: any = {\r\n    color: 'primary',\r\n    mode: 'indeterminate'\r\n  };\r\n\r\n  scrollbarConfig = {\r\n    suppressScrollX: true\r\n  }\r\n\r\n  ReviewMode = ReviewMode;\r\n  LeftPanel = LeftPanel;\r\n  MiddlePanel = MiddlePanel;\r\n  RightPanel = RightPanel;\r\n  artBasket: ArtBasket = new ArtBasket();\r\n\r\n  camPage: CamPage;\r\n  public cam: Cam;\r\n  public user: Contributor;\r\n\r\n  searchResults = [];\r\n  modelId = '';\r\n  searchCriteria: any = {};\r\n  searchFormData: any = [];\r\n  searchForm: FormGroup;\r\n\r\n  cams: any[] = [];\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private camService: CamService,\r\n\r\n    public noctuaDoctorMenuService: NoctuaDoctorMenuService,\r\n\r\n    public noctuaReviewSearchService: NoctuaReviewSearchService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaCommonMenuService: NoctuaCommonMenuService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaSearchService: NoctuaSearchService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.route\r\n      .queryParams\r\n      .subscribe(params => {\r\n        const baristaToken = params['barista_token'] || null;\r\n        this.noctuaUserService.getUser(baristaToken);\r\n      });\r\n\r\n    this.noctuaSearchService.onCamsPageChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((camPage: CamPage) => {\r\n        if (!camPage) {\r\n          return;\r\n        }\r\n        this.camPage = camPage;\r\n      });\r\n\r\n    this.noctuaUserService.onUserChanged.pipe(\r\n      distinctUntilChanged(this.noctuaUserService.distinctUser),\r\n      takeUntil(this._unsubscribeAll))\r\n      .subscribe((user: Contributor) => {\r\n        if (user === undefined) {\r\n          return;\r\n        }\r\n        this.noctuaFormConfigService.setupUrls();\r\n        this.noctuaFormConfigService.setUniversalUrls();\r\n        this.noctuaSearchService.setup();\r\n        this.noctuaReviewSearchService.setup();\r\n      });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.noctuaSearchMenuService.setLeftDrawer(this.leftDrawer);\r\n    this.noctuaSearchMenuService.setRightDrawer(this.rightDrawer);\r\n\r\n    this.rightDrawer.open();\r\n\r\n    this.noctuaSearchService.onCamsChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(cams => {\r\n        this.cams = cams;\r\n      });\r\n\r\n    this.noctuaReviewSearchService.onArtBasketChanged.pipe(\r\n      takeUntil(this._unsubscribeAll))\r\n      .subscribe((artBasket: ArtBasket) => {\r\n        if (artBasket) {\r\n          this.artBasket = artBasket;\r\n        }\r\n      });\r\n  }\r\n\r\n\r\n  ngAfterViewInit(): void {\r\n    this.noctuaSearchMenuService.resultsViewScrollbar = this.scrollbarRef;\r\n  }\r\n\r\n  openLeftDrawer(panel) {\r\n    this.noctuaSearchMenuService.selectLeftPanel(panel);\r\n    this.noctuaSearchMenuService.openLeftDrawer();\r\n  }\r\n\r\n  selectMiddlePanel(panel) {\r\n    const self = this;\r\n    this.noctuaSearchMenuService.selectMiddlePanel(panel);\r\n\r\n    switch (panel) {\r\n      case MiddlePanel.cams:\r\n        this.noctuaSearchMenuService.selectLeftPanel(LeftPanel.filter);\r\n        break;\r\n      case MiddlePanel.camsReview:\r\n        self.camService.reviewChangesCams();\r\n        this.noctuaSearchMenuService.selectLeftPanel(LeftPanel.artBasket);\r\n        break;\r\n      case MiddlePanel.reviewChanges:\r\n        self.camService.reviewChangesCams();\r\n        this.noctuaSearchMenuService.selectLeftPanel(LeftPanel.artBasket);\r\n        break;\r\n    }\r\n  }\r\n\r\n  openRightDrawer(panel) {\r\n    this.noctuaSearchMenuService.selectRightPanel(panel);\r\n    this.noctuaSearchMenuService.openRightDrawer();\r\n  }\r\n\r\n  toggleLeftDrawer(panel) {\r\n    this.noctuaSearchMenuService.toggleLeftDrawer(panel);\r\n    this.noctuaSearchMenuService.selectMiddlePanel(MiddlePanel.cams);\r\n  }\r\n\r\n  createModel(type: WorkbenchId) {\r\n    this.noctuaCommonMenuService.createModel(type);\r\n  }\r\n\r\n  openBasketPanel() {\r\n    this.openLeftDrawer(LeftPanel.artBasket);\r\n    this.camService.reviewChangesCams();\r\n    this.noctuaSearchMenuService.selectMiddlePanel(MiddlePanel.camsReview);\r\n    this.noctuaSearchMenuService.reviewMode = ReviewMode.on;\r\n    this.noctuaSearchMenuService.isReviewMode = true;\r\n  }\r\n\r\n  toggleReviewMode() {\r\n    if (this.noctuaSearchMenuService.reviewMode === ReviewMode.off) {\r\n      this.noctuaSearchMenuService.reviewMode = ReviewMode.on;\r\n      this.noctuaSearchMenuService.isReviewMode = true;\r\n      // this.noctuaSearchMenuService.closeLeftDrawer();\r\n    } else if (this.noctuaSearchMenuService.reviewMode === ReviewMode.on) {\r\n      this.noctuaReviewSearchService.onClearForm.next(true);\r\n      this.noctuaSearchMenuService.reviewMode = ReviewMode.off;\r\n      this.noctuaSearchMenuService.selectMiddlePanel(MiddlePanel.cams);\r\n      this.noctuaSearchMenuService.selectLeftPanel(LeftPanel.filter);\r\n      this.noctuaSearchMenuService.isReviewMode = false;\r\n    }\r\n  }\r\n\r\n  search() {\r\n    const searchCriteria = this.searchForm.value;\r\n    this.noctuaSearchService.search(searchCriteria);\r\n  }\r\n\r\n  refresh() {\r\n    this.noctuaSearchService.updateSearch();\r\n  }\r\n\r\n  reset() {\r\n    this.noctuaSearchService.clearSearchCriteria();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<div class=\"w-100-p h-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start start\">\r\n  <div class=\"noc-sidemenu\" fxLayout=\"column\" fxLayoutAlign=\"start center\">\r\n    <button mat-button color=\"\" class=\"noc-rounded-button green-400-bg\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n      matTooltip=\"Filter\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'plus']\" class=\"noc-icon\"></fa-icon>\r\n      <div class=\"noc-label\" fxFlex=\"\">\r\n        Create\r\n      </div>\r\n    </button>\r\n    <button mat-button color=\"\" class=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n      [ngClass]=\"{'noc-active': noctuaDoctorMenuService.selectedMiddlePanel === MiddlePanel.home}\"\r\n      matTooltip=\"Board home\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'home']\" class=\"noc-icon\"></fa-icon>\r\n      <div class=\"noc-label\" fxFlex=\"\">\r\n        Home\r\n      </div>\r\n    </button>\r\n\r\n    <button mat-button color=\"\" class=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n      [ngClass]=\"{'noc-active': noctuaDoctorMenuService.selectedMiddlePanel === MiddlePanel.home}\"\r\n      matTooltip=\"Board home\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'home']\" class=\"noc-icon\"></fa-icon>\r\n      <div class=\"noc-label\" fxFlex=\"\">\r\n        Obsolete Manager\r\n      </div>\r\n    </button>\r\n    <button mat-button color=\"\" class=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n      [ngClass]=\"{'noc-active': noctuaDoctorMenuService.selectedMiddlePanel === MiddlePanel.home}\"\r\n      matTooltip=\"Board home\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'home']\" class=\"noc-icon\"></fa-icon>\r\n      <div class=\"noc-label\" fxFlex=\"\">\r\n        My Terms\r\n      </div>\r\n    </button>\r\n    <button mat-button color=\"\" class=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n      [ngClass]=\"{'noc-active': noctuaDoctorMenuService.selectedMiddlePanel === MiddlePanel.home}\"\r\n      matTooltip=\"Board home\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'home']\" class=\"noc-icon\"></fa-icon>\r\n      <div class=\"noc-label\" fxFlex=\"\">\r\n        Checklist\r\n      </div>\r\n    </button>\r\n    <button mat-button color=\"\" class=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n      [ngClass]=\"{'noc-active': noctuaDoctorMenuService.selectedMiddlePanel === MiddlePanel.home}\"\r\n      matTooltip=\"Board home\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'home']\" class=\"noc-icon\"></fa-icon>\r\n      <div class=\"noc-label\" fxFlex=\"\">\r\n        Calendar\r\n      </div>\r\n    </button>\r\n    <button mat-button color=\"\" class=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n      [ngClass]=\"{'noc-active': noctuaDoctorMenuService.selectedMiddlePanel === MiddlePanel.home}\"\r\n      matTooltip=\"Board home\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'home']\" class=\"noc-icon\"></fa-icon>\r\n      <div class=\"noc-label\" fxFlex=\"\">\r\n        Chat\r\n      </div>\r\n    </button>\r\n  </div>\r\n  <mat-drawer-container class=\"h-100-p\" fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start start\" [hasBackdrop]=\"false\"\r\n    autosize>\r\n    <mat-drawer #leftDrawer class=\"noc-left-drawer\" mode=\"side\" position=\"start\" opened>\r\n      <div [ngSwitch]=\"noctuaSearchMenuService.selectedLeftPanel\" class=\"h-100-p\">\r\n      </div>\r\n    </mat-drawer>\r\n    <mat-drawer-content #scrollbarRef class=\"noc-section-body w-100-p\" [perfectScrollbar]=\"scrollbarConfig\">\r\n\r\n      <div class=\"header accent p-8 w-100-p\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n        <h1 [@animate]=\"{value:'*',params:{delay:'100ms', y:'25px'}}\">\r\n          WELCOME TO NOCTUA DOCTOR\r\n        </h1>\r\n        <h3 [@animate]=\"{value:'*',params:{delay:'100ms', y:'25px'}}\">\r\n          Notify\r\n        </h3>\r\n      </div>\r\n      <div class=\"noc-middle-panel w-100-p\">\r\n      </div>\r\n      <div class=\"w-100-p\">\r\n        <app-footer></app-footer>\r\n      </div>\r\n    </mat-drawer-content>\r\n    <mat-drawer #rightDrawer class=\"noc-right-drawer\" mode=\"over\" position=\"end\">\r\n      <div [ngSwitch]=\"noctuaSearchMenuService.selectedRightPanel\" class=\"h-100-p\">\r\n\r\n      </div>\r\n    </mat-drawer>\r\n  </mat-drawer-container>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NoctuaSharedModule } from '@noctua/shared.module';\r\nimport { NoctuaSearchBaseModule } from '@noctua.search';\r\nimport { NoctuaFooterModule } from 'app/layout/components/footer/footer.module';\r\nimport { NoctuaFormModule } from '../noctua-form';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar';\r\nimport { NoctuaDoctorComponent } from './noctua-doctor.component';\r\n\r\nconst routes = [\r\n  {\r\n    path: 'doctor',\r\n    component: NoctuaDoctorComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    NoctuaSharedModule,\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NoctuaSearchBaseModule,\r\n    NoctuaFooterModule,\r\n    NoctuaFormModule,\r\n    PerfectScrollbarModule\r\n  ],\r\n  declarations: [\r\n    NoctuaDoctorComponent\r\n  ]\r\n})\r\n\r\nexport class NoctuaDoctorModule {\r\n}\r\n","import { Component, Input, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormGroup, FormArray } from '@angular/forms';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { Subscription, Subject } from 'rxjs';\r\n\r\nimport {\r\n  Activity,\r\n  ConnectorActivity,\r\n  ConnectorState,\r\n  ActivityNode,\r\n  NoctuaActivityConnectorService,\r\n  NoctuaActivityFormService,\r\n  NoctuaFormConfigService,\r\n  NoctuaUserService,\r\n  ConnectorType\r\n} from '@geneontology/noctua-form-base';\r\nimport { NoctuaFormDialogService } from '../../../services/dialog.service';\r\nimport { NoctuaConfirmDialogService } from '@noctua/components/confirm-dialog/confirm-dialog.service';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'noc-activity-connector',\r\n  templateUrl: './activity-connector-form.component.html',\r\n  styleUrls: ['./activity-connector-form.component.scss']\r\n})\r\nexport class ActivityConnectorFormComponent implements OnInit, OnDestroy {\r\n  ConnectorType = ConnectorType\r\n\r\n  @Input('panelDrawer')\r\n  panelDrawer: MatDrawer;\r\n\r\n  @Input() public closeDialog: () => void;\r\n\r\n  connectorState = ConnectorState;\r\n  currentConnectorActivity: ConnectorActivity;\r\n  connectorActivity: ConnectorActivity;\r\n  mfNode: ActivityNode;\r\n  connectorFormGroup: FormGroup;\r\n  connectorFormSub: Subscription;\r\n  searchCriteria: any = {};\r\n  evidenceFormArray: FormArray;\r\n  relationshipOptions;\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private confirmDialogService: NoctuaConfirmDialogService,\r\n    public noctuaActivityConnectorService: NoctuaActivityConnectorService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    private noctuaFormDialogService: NoctuaFormDialogService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.connectorFormSub = this.noctuaActivityConnectorService.connectorFormGroup$\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(connectorFormGroup => {\r\n        if (!connectorFormGroup) {\r\n          return;\r\n        }\r\n        this.connectorFormGroup = connectorFormGroup;\r\n        this.connectorActivity = this.noctuaActivityConnectorService.connectorActivity;\r\n        this.relationshipOptions = this.noctuaFormConfigService[this.connectorActivity.connectorType + 'Relationship']['options']\r\n\r\n      });\r\n\r\n  }\r\n\r\n  openActivityConnector(connector: Activity) {\r\n    this.noctuaActivityConnectorService.initializeForm(this.noctuaActivityConnectorService.objectActivity.id, connector.id);\r\n  }\r\n\r\n  save() {\r\n    const self = this;\r\n    this.noctuaActivityConnectorService.saveActivity().then(() => {\r\n      self.noctuaFormDialogService.openInfoToast('Causal relation successfully created.', 'OK');\r\n\r\n      this.noctuaActivityConnectorService.initializeForm(\r\n        self.noctuaActivityConnectorService.subjectActivity.id, self.noctuaActivityConnectorService.objectActivity.id)\r\n      if (this.closeDialog) {\r\n        this.closeDialog();\r\n      }\r\n    });\r\n  }\r\n\r\n  editActivity() {\r\n    const self = this;\r\n    const success = () => {\r\n      self.noctuaActivityConnectorService.saveActivity().then(() => {\r\n        self.noctuaFormDialogService.openInfoToast('Causal relation successfully updated.', 'OK');\r\n      });\r\n    };\r\n\r\n    this.confirmDialogService.openConfirmDialog('Confirm Delete?',\r\n      'You are about to remove the causal relation',\r\n      success);\r\n  }\r\n\r\n  deleteConnectorEdge() {\r\n    const self = this;\r\n    const success = () => {\r\n      self.noctuaActivityConnectorService.deleteConnectorEdge(this.connectorActivity).then(() => {\r\n        self.noctuaFormDialogService.openInfoToast('Causal relation successfully deleted.', 'OK');\r\n      });\r\n    };\r\n\r\n    this.confirmDialogService.openConfirmDialog('Confirm Delete?',\r\n      'You are about to remove the causal relation',\r\n      success);\r\n  }\r\n\r\n  close() {\r\n    if (this.panelDrawer) {\r\n      this.panelDrawer.close();\r\n    }\r\n    if (this.closeDialog) {\r\n      this.closeDialog();\r\n    }\r\n  }\r\n\r\n  termDisplayFn(term): string | undefined {\r\n    return term && term.id ? `${term.label} (${term.id})` : undefined;\r\n  }\r\n\r\n  evidenceDisplayFn(evidence): string | undefined {\r\n    return evidence && evidence.id ? `${evidence.label} (${evidence.id})` : undefined;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<form name=\"connectorFormGroup\" [formGroup]=\"connectorFormGroup\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\"\r\n  class=\"noc-drawer w-100-p h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-drawer-header-title\">\r\n      Causal Relation Form</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> Close\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-drawer-body\" fxLayout=\"column\" fxLayoutAlign=\"start start\" noctuaPerfectScrollbar>\r\n    <div *ngIf=\"connectorFormGroup\" class=\"noc-connector-form\">\r\n      <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"noc-form-section w-100-p\">\r\n        <div class=\"noc-section-body w-100-p p-0\" fxLayout=\"column\" fxLayoutAlign=\"start center\">\r\n          <noc-graph-preview [nodes]=\"connectorActivity?.graphPreview.nodes\"\r\n            [edges]=\"connectorActivity?.graphPreview.edges\" class=\"noc-graph-preview\"></noc-graph-preview>\r\n        </div>\r\n        <div class=\"noc-form-section p-0 w-100-p\">\r\n          <div class=\"px-8 noc-group-row\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n            <div class=\"noc-title\">\r\n              <p>Relationship</p>\r\n            </div>\r\n            <mat-radio-group fxFlex=\"\" formControlName=\"relationship\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n              <div *ngFor=\"let relationship of relationshipOptions\" class=\"noc-radio-row\" fxLayout=\"row\"\r\n                fxLayoutAlign=\"start center\">\r\n                <mat-radio-button class=\"noc-radio-button-rounded noc-label\"\r\n                  [checked]=\"relationship.id === connectorActivity?.rule.relationship?.id\" [value]=\"relationship\">\r\n                  {{relationship.label}}\r\n                </mat-radio-button>\r\n                <div *ngIf=\"relationship.description\" fxFlex=\"\" class=\"noc-hint\">\r\n                  {{relationship.description}}\r\n                </div>\r\n              </div>\r\n            </mat-radio-group>\r\n          </div>\r\n          <div *ngIf=\"connectorActivity?.rule.displaySection.effectDirection\" class=\"px-8 noc-group-row\" fxLayout=\"row\"\r\n            fxLayoutAlign=\"start center\">\r\n            <div class=\"noc-title\">\r\n              <p>Effect Direction</p>\r\n            </div>\r\n            <mat-radio-group formControlName=\"effectDirection\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n              <div *ngFor=\"let effectDirection of noctuaFormConfigService.effectDirection.options\" class=\"noc-radio-row\"\r\n                fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                <mat-radio-button class=\"noc-radio-button-rounded noc-label\" [value]=\"effectDirection\"\r\n                  [checked]=\"effectDirection.id === connectorActivity?.rule.effectDirection?.id\">\r\n                  {{effectDirection.label}}\r\n                </mat-radio-button>\r\n              </div>\r\n            </mat-radio-group>\r\n            <div fxFlex=\"\" fxLayout=\"column\" fxLayoutAlign=\"center start\">\r\n              <div class=\"noc-hint noc-sm\">\r\n                The mechanism regulation should be known, so it should be possible to pick the direction of the\r\n                regulation.\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"connectorActivity?.rule.displaySection.directness\" class=\"px-8 noc-group-row\" fxLayout=\"row\"\r\n            fxLayoutAlign=\"start center\">\r\n            <div class=\"noc-title\">\r\n              <p>Directness </p>\r\n            </div>\r\n            <mat-radio-group fxFlex=\"\" formControlName=\"directness\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n              <div *ngFor=\"let directness of noctuaFormConfigService.directness.options\" class=\"noc-radio-row\"\r\n                fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                <mat-radio-button class=\"noc-radio-button-rounded noc-label\" [value]=\"directness\"\r\n                  [checked]=\"directness.id === connectorActivity?.rule.directness?.id\">\r\n                  {{directness.label}}\r\n                </mat-radio-button>\r\n                <div *ngIf=\"directness.description\" fxFlex=\"\" class=\"noc-hint\">\r\n                  {{directness.description}}\r\n                </div>\r\n              </div>\r\n            </mat-radio-group>\r\n          </div>\r\n        </div>\r\n        <div class=\"noc-section-header noc-bt\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <div class=\"noc-section-heading\">\r\n            Suggested Causal Relation\r\n          </div>\r\n        </div>\r\n        <div class=\"noc-note mb-4\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <span class=\"noc-description\">\r\n            {{connectorActivity?.predicate.edge?.label}}\r\n          </span>\r\n        </div>\r\n        <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <div class=\"noc-section-heading\">\r\n            Evidence\r\n          </div>\r\n        </div>\r\n        <div class=\"noc-section-body p-0\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n          <div class=\"px-12 noc-group-row\" fxLayout=\"column\">\r\n            <div formArrayName=\"evidenceFormArray\"\r\n              *ngFor=\"let evidence of connectorFormGroup.get('evidenceFormArray')?.controls; let i = index;\">\r\n              <div [formGroupName]=\"i\" fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"w-100-p\">\r\n                <div class=\"p-4\" fxFlex=\"55\">\r\n                  <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n                    <mat-label>Evidence</mat-label>\r\n                    <textarea type=\"text\" matInput formControlName=\"evidence\" [matAutocomplete]=\"evidenceAuto\"\r\n                      rows=\"2\"></textarea>\r\n                    <mat-autocomplete #evidenceAuto=\"matAutocomplete\" [displayWith]=\"evidenceDisplayFn\"\r\n                      class=\"noc-term-autocomplete\">\r\n                      <mat-option *ngFor=\"let item of connectorActivity?.predicate?.evidenceLookup.results\"\r\n                        [value]=\"item\">\r\n                        <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                          <div class=\"noc-term-label\">\r\n                            {{ item.label }}\r\n                          </div>\r\n                          <span fxFlex></span>\r\n                          <div class=\"noc-term-id\">\r\n                            {{ item.id }}\r\n                          </div>\r\n                        </div>\r\n                      </mat-option>\r\n                    </mat-autocomplete>\r\n                  </mat-form-field>\r\n                </div>\r\n                <div class=\"p-4\" fxFlex=\"25\">\r\n                  <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n                    <mat-label>Reference</mat-label>\r\n                    <textarea matInput formControlName=\"reference\" rows=\"2\"></textarea>\r\n                  </mat-form-field>\r\n                </div>\r\n                <div class=\"p-4\" fxFlex fxFlex=\"20\">\r\n                  <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n                    <mat-label>With</mat-label>\r\n                    <textarea matInput formControlName=\"with\" rows=\"2\"></textarea>\r\n                  </mat-form-field>\r\n                </div>\r\n                <span fxFlex=\"\"></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"noc-drawer-footer noc-submit-row\">\r\n    <button *ngIf=\"!connectorFormGroup.valid\" (click)='checkErrors()' mat-button color=\"warn\"\r\n      class=\"noc-rounded-button noc-sm\">\r\n      Why is the \"Save\" button disabled?\r\n    </button>\r\n    <span fxFlex></span>\r\n    <button [disabled]=\"!connectorActivity?.predicate.edge?.id\" (click)=\"save()\" type=\"submit\"\r\n      class=\"noc-rounded-button\" mat-raised-button color=\"primary\">Save</button>\r\n  </div>\r\n</form>","import { Component, Input, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormGroup, FormArray } from '@angular/forms';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { Subscription, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { NoctuaFormDialogService } from './../../../services/dialog.service';\r\nimport {\r\n  Cam,\r\n  Activity,\r\n  NoctuaActivityFormService,\r\n  NoctuaFormConfigService,\r\n  ActivityState,\r\n  ActivityType,\r\n  NoctuaUserService,\r\n} from '@geneontology/noctua-form-base';\r\nimport { ResizeEvent } from 'angular-resizable-element';\r\n\r\n@Component({\r\n  selector: 'noc-activity-form',\r\n  templateUrl: './activity-form.component.html',\r\n  styleUrls: ['./activity-form.component.scss'],\r\n})\r\n\r\nexport class ActivityFormComponent implements OnInit, OnDestroy {\r\n  ActivityState = ActivityState;\r\n  ActivityType = ActivityType;\r\n\r\n  @Input('panelDrawer')\r\n  panelDrawer: MatDrawer;\r\n\r\n  @Input() public closeDialog: () => void;\r\n\r\n  resizeStyle = {};\r\n\r\n  cam: Cam;\r\n  activityFormGroup: FormGroup;\r\n  activityFormSub: Subscription;\r\n  molecularEntity: FormGroup;\r\n  searchCriteria: any = {};\r\n  activityFormPresentation: any;\r\n  evidenceFormArray: FormArray;\r\n  activityFormData: any = [];\r\n  activity: Activity;\r\n  currentActivity: Activity;\r\n  state: ActivityState;\r\n\r\n  descriptionSectionTitle = 'Function Description';\r\n  annotatedSectionTitle = 'Gene Product';\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private noctuaFormDialogService: NoctuaFormDialogService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    // this.activity = self.noctuaActivityFormService.activity;\r\n    // this.activityFormPresentation = this.noctuaActivityFormService.activityPresentation;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.activityFormSub = this.noctuaActivityFormService.activityFormGroup$\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(activityFormGroup => {\r\n        if (!activityFormGroup) {\r\n          return;\r\n        }\r\n\r\n        this.activityFormGroup = activityFormGroup;\r\n        this.currentActivity = this.noctuaActivityFormService.currentActivity;\r\n        this.activity = this.noctuaActivityFormService.activity;\r\n        this.state = this.noctuaActivityFormService.state;\r\n        this.molecularEntity = <FormGroup>this.activityFormGroup.get('molecularEntity');\r\n\r\n        if (this.activity.activityType === ActivityType.ccOnly) {\r\n          this.descriptionSectionTitle = 'Localization Description';\r\n        } else if (this.activity.activityType === ActivityType.molecule) {\r\n          this.annotatedSectionTitle = 'Small Molecule';\r\n          this.descriptionSectionTitle = 'Location (optional)';\r\n        } else {\r\n          this.descriptionSectionTitle = 'Function Description';\r\n        }\r\n      });\r\n  }\r\n\r\n  resizeValidate(event: ResizeEvent): boolean {\r\n    const MIN_DIMENSIONS_PX: number = 50;\r\n    if (\r\n      event.rectangle.width &&\r\n      event.rectangle.height &&\r\n      (event.rectangle.width < MIN_DIMENSIONS_PX ||\r\n        event.rectangle.height < MIN_DIMENSIONS_PX)\r\n    ) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  onResizeEnd(event: ResizeEvent): void {\r\n    this.resizeStyle = {\r\n      // enable/disable these per your needs\r\n      //position: 'fixed',\r\n      //left: `${event.rectangle.left}px`,\r\n      //top: `${event.rectangle.top}px`,\r\n      //height: `${event.rectangle.height}px`,\r\n      width: `${event.rectangle.width}px`,\r\n    };\r\n  }\r\n\r\n  checkErrors() {\r\n    const errors = this.noctuaActivityFormService.activity.submitErrors;\r\n    this.noctuaFormDialogService.openActivityErrorsDialog(errors);\r\n  }\r\n\r\n  save() {\r\n    const self = this;\r\n\r\n    self.noctuaActivityFormService.saveActivity().subscribe(() => {\r\n      self.noctuaFormDialogService.openInfoToast('Annotation successfully created.', 'OK');\r\n      self.noctuaActivityFormService.clearForm();\r\n      if (this.closeDialog) {\r\n        this.closeDialog();\r\n      }\r\n    });\r\n  }\r\n\r\n  preview() {\r\n    this.noctuaFormDialogService.openPreviewActivityDialog();\r\n  }\r\n\r\n  clear() {\r\n    this.noctuaActivityFormService.clearForm();\r\n  }\r\n\r\n  createExample() {\r\n    const self = this;\r\n\r\n    self.noctuaActivityFormService.initializeFormData();\r\n  }\r\n\r\n  termDisplayFn(term): string | undefined {\r\n    return term ? term.label : undefined;\r\n  }\r\n\r\n  close() {\r\n\r\n    if (this.panelDrawer) {\r\n      this.panelDrawer.close();\r\n    }\r\n    if (this.closeDialog) {\r\n      this.closeDialog();\r\n    }\r\n\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<div class=\"h-100-p\">\r\n  <form name=\"activityFormGroup\" [formGroup]=\"activityFormGroup\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\"\r\n    class=\"noc-drawer w-100-p h-100-p\">\r\n    <div class=\"resize-handle-right\" mwlResizeHandle [resizeEdges]=\"{ right: true }\"></div>\r\n    <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div class=\"noc-drawer-header-title\">\r\n        <ng-container [ngSwitch]=\"noctuaActivityFormService.activity.activityType\">\r\n          <span *ngSwitchCase=\"ActivityType.default\">\r\n            Activity Unit Form\r\n          </span>\r\n          <span *ngSwitchCase=\"ActivityType.bpOnly\">\r\n            BP Annotation Form\r\n          </span>\r\n          <span *ngSwitchCase=\"ActivityType.ccOnly\">\r\n            CC Annotation Form\r\n          </span>\r\n          <span *ngSwitchCase=\"ActivityType.molecule\">\r\n            Molecule Form\r\n          </span>\r\n          <span *ngSwitchCase=\"ActivityType.proteinComplex\">\r\n            Protein Complex Form\r\n          </span>\r\n        </ng-container>\r\n      </div>\r\n      <span fxFlex></span>\r\n      <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n        aria-label=\"Close dialog\">\r\n        <mat-icon>close</mat-icon> Close\r\n      </button>\r\n    </div>\r\n    <div class=\"noc-drawer-body noc-activity-form\" noctuaPerfectScrollbar>\r\n      <div *ngIf=\"!noctuaUserService.user\" class=\"noc-draw-body-disabled\" fxLayoutAlign=\"center center\">\r\n        Log in to Continue\r\n      </div>\r\n      <div class=\"noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n\r\n        <div *ngIf=\"noctuaActivityFormService.activity.activityType===ActivityType.proteinComplex\"\r\n          class=\"alert alert-warning w-100-p mb-0\">\r\n          Note that this should be used rarely, and only in the case where the activity cannot be ascribed to a single\r\n          subunit of a complex\r\n        </div>\r\n\r\n        <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <div class=\"noc-section-heading\">\r\n            {{annotatedSectionTitle }}\r\n          </div>\r\n          <span fxFlex></span>\r\n          <button mat-icon-button (click)=\"createExample()\">\r\n            .\r\n          </button>\r\n        </div>\r\n        <div class=\"noc-section-body p-0\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n          <div [formArrayName]=\"'gp'\" *ngFor=\"let nodeGroup of activityFormGroup.get('gp')?.controls; let i = index;\"\r\n            class=\"mat-elevation-z1 noc-term-group mb-4 px-8 pt-4  {{nodeGroup.get('name').value}}\">\r\n            <div [formGroupName]=\"i\" *ngFor=\"let entityForm of nodeGroup.get('entityGroup')?.controls\" class=\"\">\r\n              <noc-entity-form [entityFormGroup]=\"entityForm\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n                class=\"w-100-p\">\r\n              </noc-entity-form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n        <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <div class=\"noc-section-heading\">\r\n            {{descriptionSectionTitle}}\r\n          </div>\r\n          <span fxFlex></span>\r\n        </div>\r\n        <div class=\"noc-section-body p-0\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n          <div *ngIf=\"noctuaActivityFormService.activity.activityType===ActivityType.bpOnly\"\r\n            class=\"mat-elevation-z1 noc-term-group mb-4 px-8 mf\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n            <div class=\"p-4\" fxFlex fxLayout=\"row\" fxLayoutAlign=\"start stretch\">\r\n              <mat-form-field class=\"noc-sm w-100-p\" appearance=\"outline\">\r\n                <mat-label><strong>(readonly)</strong> Molecular Function </mat-label>\r\n                <input [readonly]=\"true\" type=\"text\" matInput value=\"molecular_function (GO:0003674)\" />\r\n              </mat-form-field>\r\n            </div>\r\n            <div class=\"p-4\" fxFlex=\"600px\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\">\r\n              <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n                <mat-label>Choose Causal Relation</mat-label>\r\n                <mat-select placeholder=\"\" formControlName=\"bpOnlyEdge\">\r\n                  <mat-option *ngFor=\"let bpOnlyEdge of noctuaFormConfigService.bpOnlyEdges.options\"\r\n                    [value]=\"bpOnlyEdge\">\r\n                    {{bpOnlyEdge.label}}\r\n                  </mat-option>\r\n                </mat-select>\r\n              </mat-form-field>\r\n            </div>\r\n          </div>\r\n          <div [formArrayName]=\"'fd'\" *ngFor=\"let nodeGroup of activityFormGroup.get('fd')?.controls; let i = index;\"\r\n            class=\"mat-elevation-z1 noc-term-group mb-4 px-8 {{nodeGroup.get('name').value}}\" fxLayout=\"row\"\r\n            fxLayoutAlign=\"start stretch\">\r\n            <div *ngIf=\"nodeGroup.get('isComplement')?.value\" class=\"noc-group-side-heading\" fxLayout=\"column\"\r\n              fxLayoutAlign=\"center center\">\r\n              <div>IS NOT</div>\r\n            </div>\r\n            <div class=\"w-100-p\">\r\n              <ng-container [formGroupName]=\"i\" *ngFor=\"let entityForm of nodeGroup.get('entityGroup')?.controls\">\r\n                <noc-entity-form [entityFormGroup]=\"entityForm\" class=\"\">\r\n                </noc-entity-form>\r\n              </ng-container>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"noc-drawer-footer noc-submit-row\">\r\n      <button *ngIf=\"noctuaActivityFormService.activity.submitErrors.length>0\" (click)='checkErrors()' mat-button\r\n        color=\"warn\" class=\"noc-rounded-button noc-sm\">\r\n        Why is the \"Save\" button disabled?\r\n      </button>\r\n      <span fxFlex></span>\r\n      <button (click)='preview()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">Preview</button>\r\n      <button (click)='clear()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">Clear</button>\r\n      <button [disabled]=\"noctuaActivityFormService.activity.submitErrors.length>0\" (click)=\"save()\" type=\"submit\"\r\n        class=\"\" mat-raised-button color=\"primary\">Save</button>\r\n    </div>\r\n  </form>\r\n</div>","import { Component, Input, OnInit, OnDestroy, ViewChild } from '@angular/core';\r\nimport { FormControl, FormGroup, FormArray } from '@angular/forms';\r\nimport { MatMenuTrigger } from '@angular/material/menu';\r\nimport { Subject } from 'rxjs';\r\nimport { NoctuaFormDialogService } from './../../../../services/dialog.service';\r\nimport {\r\n  CamService,\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  ActivityNode,\r\n  Evidence,\r\n  noctuaFormConfig,\r\n  Entity,\r\n  ShapeDefinition,\r\n  ActivityError,\r\n  ActivityNodeType,\r\n  Activity,\r\n  ErrorLevel,\r\n  ErrorType,\r\n  ActivityType\r\n} from '@geneontology/noctua-form-base';\r\nimport { InlineReferenceService } from '@noctua.editor/inline-reference/inline-reference.service';\r\nimport { each, find } from 'lodash';\r\nimport { InlineWithService } from '@noctua.editor/inline-with/inline-with.service';\r\nimport { InlineDetailService } from '@noctua.editor/inline-detail/inline-detail.service';\r\n\r\n@Component({\r\n  selector: 'noc-entity-form',\r\n  templateUrl: './entity-form.component.html',\r\n  styleUrls: ['./entity-form.component.scss'],\r\n})\r\n\r\nexport class EntityFormComponent implements OnInit, OnDestroy {\r\n  @Input('entityFormGroup')\r\n  public entityFormGroup: FormGroup;\r\n\r\n  @ViewChild('evidenceDBreferenceMenuTrigger', { static: true, read: MatMenuTrigger })\r\n  evidenceDBreferenceMenuTrigger: MatMenuTrigger;\r\n\r\n  evidenceDBForm: FormGroup;\r\n  evidenceFormArray: FormArray;\r\n  entity: ActivityNode;\r\n  selectedItemDisplay;\r\n  friendNodes;\r\n  friendNodesFlat;\r\n  activityNodeType = ActivityNodeType;\r\n  displayAddButton = false;\r\n\r\n  termData\r\n\r\n  private unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private noctuaFormDialogService: NoctuaFormDialogService,\r\n    private camService: CamService,\r\n    private inlineReferenceService: InlineReferenceService,\r\n    private inlineDetailService: InlineDetailService,\r\n    private inlineWithService: InlineWithService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService) {\r\n    this.unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.entity = this.noctuaActivityFormService.activity.getNode(this.entityFormGroup.get('id').value);\r\n    this.friendNodes = this.camService.getNodesByType(this.entity.type);\r\n    if (this.noctuaActivityFormService.activity.activityType === ActivityType.ccOnly\r\n      && this.entity.type === ActivityNodeType.GoMolecularEntity) {\r\n      this.displayAddButton = true;\r\n    }\r\n\r\n    if (this.noctuaActivityFormService.activity.activityType === ActivityType.proteinComplex\r\n      && this.entity.type === ActivityNodeType.GoProteinContainingComplex) {\r\n      this.displayAddButton = true;\r\n    }\r\n    //  this.friendNodesFlat = this.camService.getNodesByTypeFlat(this.entity.type);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribeAll.next(null);\r\n    this.unsubscribeAll.complete();\r\n  }\r\n\r\n  addEvidence() {\r\n    const self = this;\r\n\r\n    self.entity.predicate.addEvidence();\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  useTerm(node: ActivityNode, activity: Activity) {\r\n    const self = this;\r\n\r\n    self.entity.term = node.term;\r\n    switch (self.entity.type) {\r\n      case ActivityNodeType.GoBiologicalProcess:\r\n      case ActivityNodeType.GoCellularComponent:\r\n        self.entity.linkedNode = true;\r\n        self.entity.uuid = node.uuid;\r\n        self.noctuaActivityFormService.activity.insertSubgraph(activity, self.entity, node);\r\n    }\r\n\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  removeEvidence(index: number) {\r\n    const self = this;\r\n\r\n    self.entity.predicate.removeEvidence(index);\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  toggleIsComplement(entity: ActivityNode) {\r\n    const self = this;\r\n    const errors = [];\r\n    let canToggle = true;\r\n\r\n    each(entity.nodeGroup.nodes, function (node: ActivityNode) {\r\n      if (node.isExtension) {\r\n        canToggle = false;\r\n        const meta = {\r\n          aspect: node.label\r\n        };\r\n        const error = new ActivityError(ErrorLevel.error, ErrorType.general,\r\n          `Cannot add 'NOT Qualifier', Remove Extension'${node.label}'`, meta);\r\n        errors.push(error);\r\n      }\r\n    });\r\n\r\n    if (canToggle) {\r\n      entity.toggleIsComplement();\r\n      self.noctuaActivityFormService.initializeForm();\r\n    } else {\r\n      self.noctuaFormDialogService.openActivityErrorsDialog(errors);\r\n    }\r\n  }\r\n\r\n  openSearchDatabaseDialog(entity: ActivityNode) {\r\n    const self = this;\r\n    const gpNode = this.noctuaActivityFormService.activity.getGPNode();\r\n\r\n    if (gpNode && gpNode.hasValue()) {\r\n      const data = {\r\n        readonly: false,\r\n        gpNode: gpNode.term,\r\n        aspect: entity.aspect,\r\n        entity: entity,\r\n        params: {\r\n          term: '',\r\n          evidence: ''\r\n        }\r\n      };\r\n\r\n      const success = (selected) => {\r\n        if (selected.term) {\r\n          entity.term = new Entity(selected.term.term.id, selected.term.term.label);\r\n\r\n          if (selected.evidences && selected.evidences.length > 0) {\r\n            entity.predicate.setEvidence(selected.evidences);\r\n\r\n            selected.evidences.forEach((evidence: Evidence) => {\r\n\r\n              evidence.evidenceExts.forEach((evidenceExt) => {\r\n                evidenceExt.relations.forEach((relation) => {\r\n                  const node = self.noctuaFormConfigService.insertActivityNodeByPredicate(self.noctuaActivityFormService.activity, self.entity, relation.id);\r\n                  node.term = new Entity(evidenceExt.term.id, evidenceExt.term.id);\r\n                  node.predicate.setEvidence([evidence]);\r\n                });\r\n              });\r\n\r\n            });\r\n          }\r\n\r\n\r\n          self.noctuaActivityFormService.initializeForm();\r\n        }\r\n      };\r\n      self.noctuaFormDialogService.openSearchDatabaseDialog(data, success);\r\n    } else {\r\n      const meta = {\r\n        aspect: 'Gene Product'\r\n      };\r\n      const error = new ActivityError(ErrorLevel.error, ErrorType.general, 'Please enter a gene product', meta)\r\n      self.noctuaFormDialogService.openActivityErrorsDialog([error])\r\n    }\r\n  }\r\n\r\n  openSearchEvidenceDialog(entity: ActivityNode) {\r\n    const self = this;\r\n    const gpNode = this.noctuaActivityFormService.activity.getGPNode();\r\n\r\n    if (gpNode) {\r\n      const data = {\r\n        readonly: false,\r\n        gpNode: gpNode.term,\r\n        aspect: entity.aspect,\r\n        entity: entity,\r\n        params: {\r\n          term: '',\r\n          evidence: ''\r\n        }\r\n      };\r\n\r\n      const success = function (selected) {\r\n        if (selected && selected.evidences) {\r\n          entity.predicate.setEvidence(selected.evidences);\r\n          self.noctuaActivityFormService.initializeForm();\r\n        }\r\n      };\r\n      self.noctuaFormDialogService.openSearchEvidenceDialog(data, success);\r\n    } else {\r\n      // const error = new ActivityError(ErrorLevel.error, ErrorType.general,  \"Please enter a gene product\", meta)\r\n      //errors.push(error);\r\n      // self.dialogService.openActivityErrorsDialog(ev, entity, errors)\r\n    }\r\n  }\r\n\r\n  linkNode(entity: ActivityNode) {\r\n    const self = this;\r\n    const nodes = this.camService.getNodesByType(entity.type);\r\n    const data = {\r\n      entity: entity,\r\n      nodes: nodes\r\n    };\r\n\r\n    const success = function (selected) {\r\n      if (selected.activityNode) {\r\n        const selectedActivityNode = selected.activityNode as ActivityNode;\r\n        entity.uuid = selectedActivityNode.uuid;\r\n        entity.term = selectedActivityNode.term;\r\n\r\n        entity.linkedNode = true;\r\n        //  self.noctuaActivityFormService.activity.insertSubgraph(selected.activity, entity.id);\r\n        self.noctuaActivityFormService.initializeForm();\r\n      }\r\n    };\r\n    self.noctuaFormDialogService.openLinkToExistingDialogComponent(data, success);\r\n\r\n  }\r\n\r\n  unlinkNode(entity: ActivityNode) {\r\n    entity.linkedNode = false;\r\n    entity.uuid = null;\r\n  }\r\n\r\n  openSearchModels() {\r\n    const self = this;\r\n    const gpNode = this.noctuaActivityFormService.activity.getGPNode();\r\n    // const searchCriteria = new SearchCriteria();\r\n\r\n    //searchCriteria.goterms.push(this.entity.term);\r\n\r\n    // const url = this.noctuaFormConfigService.getUniversalWorkbenchUrl('noctua-search', searchCriteria.buildEncoded());\r\n\r\n\r\n    // window.open(url, '_blank');\r\n\r\n  }\r\n\r\n  insertEntity(nodeDescription: ShapeDefinition.ShapeDescription) {\r\n    this.noctuaFormConfigService.insertActivityNode(this.noctuaActivityFormService.activity, this.entity, nodeDescription);\r\n    this.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  insertEntityShex(predExpr: ShapeDefinition.PredicateExpression) {\r\n    this.noctuaFormConfigService.insertActivityNodeShex(this.noctuaActivityFormService.activity, this.entity, predExpr);\r\n    this.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  addRootTerm() {\r\n    const self = this;\r\n\r\n    const term = find(noctuaFormConfig.rootNode, (rootNode) => {\r\n      return rootNode.aspect === self.entity.aspect;\r\n    });\r\n\r\n    if (term) {\r\n      self.entity.term = new Entity(term.id, term.label);\r\n      self.noctuaActivityFormService.initializeForm();\r\n\r\n      const evidence = new Evidence();\r\n      evidence.setEvidence(new Entity(\r\n        noctuaFormConfig.evidenceAutoPopulate.nd.evidence.id,\r\n        noctuaFormConfig.evidenceAutoPopulate.nd.evidence.label));\r\n      evidence.reference = noctuaFormConfig.evidenceAutoPopulate.nd.reference;\r\n      self.entity.predicate.setEvidence([evidence]);\r\n      self.noctuaActivityFormService.initializeForm();\r\n    }\r\n  }\r\n\r\n  clearValues() {\r\n    const self = this;\r\n\r\n    self.entity.clearValues();\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  removeNode() {\r\n    const self = this;\r\n\r\n    self.noctuaActivityFormService.activity.removeNode(self.entity);\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  openSelectEvidenceDialog() {\r\n    const self = this;\r\n    const evidences: Evidence[] = this.camService.getUniqueEvidence(self.noctuaActivityFormService.activity);\r\n    const success = (selected) => {\r\n      if (selected.evidences && selected.evidences.length > 0) {\r\n        self.entity.predicate.setEvidence(selected.evidences);\r\n        self.noctuaActivityFormService.initializeForm();\r\n      }\r\n    };\r\n\r\n    self.noctuaFormDialogService.openSelectEvidenceDialog(evidences, success);\r\n  }\r\n  updateMenu(entity) {\r\n    console.log(entity.rootTypes)\r\n    this.noctuaActivityFormService.initializeForm(entity.rootTypes);\r\n  }\r\n\r\n  updateTermList() {\r\n    const self = this;\r\n    this.camService.updateTermList(self.noctuaActivityFormService.activity, this.entity);\r\n  }\r\n\r\n  updateEvidenceList() {\r\n    const self = this;\r\n    this.camService.updateEvidenceList(self.noctuaActivityFormService.activity, this.entity);\r\n  }\r\n\r\n  updateReferenceList() {\r\n    const self = this;\r\n    this.camService.updateReferenceList(self.noctuaActivityFormService.activity, this.entity);\r\n  }\r\n\r\n  updateWithList() {\r\n    const self = this;\r\n    this.camService.updateWithList(self.noctuaActivityFormService.activity, this.entity);\r\n  }\r\n\r\n  openAddReference(event, evidence: FormGroup, name: string) {\r\n    event.stopPropagation();\r\n    const data = {\r\n      formControl: evidence.controls[name] as FormControl,\r\n    };\r\n    this.inlineReferenceService.open(event.target, { data });\r\n  }\r\n\r\n  openAddWith(event, evidence: FormGroup, name: string) {\r\n    event.stopPropagation();\r\n    const data = {\r\n      formControl: evidence.controls[name] as FormControl,\r\n    };\r\n    this.inlineWithService.open(event.target, { data });\r\n  }\r\n\r\n  unselectItemDisplay() {\r\n    this.selectedItemDisplay = null;\r\n  }\r\n\r\n  openTermDetails(event, item) {\r\n    event.stopPropagation();\r\n\r\n    const data = {\r\n      termDetail: item,\r\n      formControl: this.entityFormGroup.controls['term'] as FormControl,\r\n    };\r\n    this.inlineDetailService.open(event.target, { data });\r\n\r\n    //this.termData = data\r\n\r\n  }\r\n\r\n  termDisplayFn(term): string | undefined {\r\n    return term && term.id ? `${term.label} (${term.id})` : undefined;\r\n  }\r\n\r\n  evidenceDisplayFn(evidence): string | undefined {\r\n    return evidence && evidence.id ? `${evidence.label} (${evidence.id})` : undefined;\r\n  }\r\n\r\n  referenceDisplayFn(evidence: Evidence | string): string | undefined {\r\n    if (typeof evidence === 'string') {\r\n      return evidence;\r\n    }\r\n\r\n    return evidence && evidence.reference ? evidence.reference : undefined;\r\n  }\r\n\r\n  withDisplayFn(evidence: Evidence | string): string | undefined {\r\n    if (typeof evidence === 'string') {\r\n      return evidence;\r\n    }\r\n\r\n    return evidence && evidence.with ? evidence.with : undefined;\r\n  }\r\n}\r\n","<div [formGroup]=\"entityFormGroup\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\" class=\"w-100-p\">\r\n  <div *ngIf=\"entity.treeLevel>1\" class=\"noc-tree-input noc-level-1\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n    <div *ngIf=\"entity.treeLevel===2\" class=\"noc-tree-line line-m\" fxFlex></div>\r\n  </div>\r\n  <div *ngIf=\"entity.treeLevel>2\" class=\"noc-tree-input noc-level-2\" fxLayout=\"column\" fxLayoutAlign=\"start center\">\r\n    <div *ngIf=\"entity.treeLevel===3\" class=\"noc-tree-line line-t\" fxFlex=\"50%\"></div>\r\n    <div *ngIf=\"entity.treeLevel<3\" class=\"noc-tree-line iine-b\" fxFlex=\"50%\"></div>\r\n  </div>\r\n  <div *ngIf=\"entity.treeLevel>3\" class=\"noc-tree-input noc-level-3\" fxLayout=\"column\" fxLayoutAlign=\"start center\">\r\n    <div *ngIf=\"entity.treeLevel===4\" class=\"noc-tree-line line-t\" fxFlex=\"50%\"></div>\r\n    <div *ngIf=\"entity.treeLevel<4\" class=\"noc-tree-line iine-b\" fxFlex=\"50%\"></div>\r\n  </div>\r\n  <div *ngIf=\"entity.treeLevel>4\" class=\"noc-tree-input noc-level-3\" fxLayout=\"column\" fxLayoutAlign=\"start center\">\r\n    <div *ngIf=\"entity.treeLevel===5\" class=\"noc-tree-line line-t\" fxFlex=\"50%\"></div>\r\n    <div *ngIf=\"entity.treeLevel<5\" class=\"noc-tree-line iine-b\" fxFlex=\"50%\"></div>\r\n  </div>\r\n  <div class=\"p-4\" fxFlex=\"flex\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\">\r\n    <mat-form-field class=\"noc-sm w-100-p\" appearance=\"outline\">\r\n      <mat-label>{{entity.label}}</mat-label>\r\n      <textarea type=\"text\" matInput formControlName=\"term\" (focus)=\"updateTermList()\" [matAutocomplete]=\"termAuto\"\r\n        row=\"2\">\r\n      </textarea>\r\n      <mat-autocomplete #termAuto=\"matAutocomplete\" [displayWith]=\"termDisplayFn\"\r\n        (optionSelected)=\"updateMenu($event.option.value)\" class=\"noc-term-autocomplete \" fxLayout=\"row\"\r\n        fxLayoutAlign=\"start start\">\r\n        <div class=\"\" fxFlex=\"400px\">\r\n          <mat-option *ngFor=\"let item of entity?.termLookup.results\" [value]=\"item\">\r\n            <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-term-label\">\r\n                {{ item.label }}\r\n              </div>\r\n              <span fxFlex></span>\r\n              <div class=\"noc-term-id\">\r\n                <a *ngIf=\"item.link\" (click)=\"$event.stopPropagation()\" href=\"{{item.link}}\" target=\"_blank\">\r\n                  {{ item.id }}\r\n                </a>\r\n                <span *ngIf=\"!item.link\">\r\n                  {{ item.id }}\r\n                </span>\r\n              </div>\r\n              <button mat-stroked-button (click)=\"openTermDetails($event, item)\"\r\n                class=\"noc-term-detail-trigger noc-rounded-button noc-sm ml-8\">\r\n                <fa-icon [icon]=\"['fas', 'chevron-right']\"></fa-icon>\r\n              </button>\r\n            </div>\r\n          </mat-option>\r\n\r\n        </div>\r\n        <!-- <div fxFlex=\"\" class=\"scard-more-info\">\r\n          <noc-term-detail *ngIf=\"termData\" [termData]=\"termData\"></noc-term-detail>\r\n        </div> -->\r\n      </mat-autocomplete>\r\n    </mat-form-field>\r\n  </div>\r\n  <div fxFlex=\"60%\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <div formArrayName=\"evidenceFormArray\"\r\n      *ngFor=\"let evidence of entityFormGroup.get('evidenceFormArray')?.controls; let i = index;\">\r\n      <div [formGroupName]=\"i\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\" class=\"w-100-p\">\r\n        <div class=\"p-4\" fxFlex=\"55\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-label>Evidence</mat-label>\r\n            <textarea type=\"text\" matInput formControlName=\"evidence\" (focus)=\"updateEvidenceList(entity)\"\r\n              [matAutocomplete]=\"evidenceAuto\" rows=\"2\"></textarea>\r\n            <mat-autocomplete #evidenceAuto=\"matAutocomplete\" [displayWith]=\"evidenceDisplayFn\"\r\n              class=\"noc-term-autocomplete\">\r\n              <mat-option *ngFor=\"let item of entity?.predicate?.evidenceLookup.results\" [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item.label }}\r\n                  </div>\r\n                  <span fxFlex></span>\r\n                  <div class=\"noc-term-id mr-8\">\r\n                    <strong>\r\n                      {{ item.xref }}\r\n                    </strong>\r\n                  </div>\r\n                  <div class=\"noc-term-id\">\r\n                    <a *ngIf=\"item.link\" (click)=\"$event.stopPropagation()\" href=\"{{item.link}}\" target=\"_blank\">\r\n                      {{ item.id }}\r\n                    </a>\r\n                    <span *ngIf=\"!item.link\">\r\n                      {{ item.id }}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"p-4\" fxFlex=\"25\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-label>Reference</mat-label>\r\n            <textarea matInput formControlName=\"reference\" [matAutocomplete]=\"referenceAuto\" rows=\"2\" autocomplete=\"off\"\r\n              (focus)=\"updateReferenceList()\"></textarea>\r\n            <button mat-icon-button matSuffix (click)=\"openAddReference($event, evidence, 'reference')\"\r\n              class=\"noc-evidence-db-trigger\">\r\n              <mat-icon>playlist_add</mat-icon>\r\n            </button>\r\n            <mat-autocomplete #referenceAuto=\"matAutocomplete\" class=\"noc-term-autocomplete\">\r\n              <mat-option *ngFor=\"let item of entity?.predicate?.referenceLookup.results\" [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"p-4\" fxFlex fxFlex=\"20\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-label>With</mat-label>\r\n            <textarea matInput formControlName=\"with\" [matAutocomplete]=\"withAuto\" rows=\"2\" (focus)=\"updateWithList()\"\r\n              autocomplete=\"off\"></textarea>\r\n            <!--  <button mat-icon-button matSuffix (click)=\"openAddWith($event, evidence, 'with')\"\r\n                  class=\"noc-evidence-db-trigger\">\r\n                  <mat-icon>playlist_add</mat-icon>\r\n                </button> -->\r\n            <mat-autocomplete #withAuto=\"matAutocomplete\" class=\"noc-term-autocomplete\">\r\n              <mat-option *ngFor=\"let item of entity?.predicate?.withLookup.results\" [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n        <span fxFlex=\"\"></span>\r\n        <button *ngIf=\"!displayAddButton\" mat-icon-button class=\"noc-action-button\" fxFlex=\"40px\"\r\n          [matMenuTriggerFor]=\"entityMenu\">\r\n          <mat-icon>more_vert</mat-icon>\r\n        </button>\r\n        <mat-menu #entityMenu=\"matMenu\" class=\"noc-dropdown-menu noc-menu-panel\">\r\n          <button mat-menu-item *ngIf=\"entity.aspect\" class=\"\" (click)=\"openSearchDatabaseDialog(entity)\">\r\n            Search Annotations\r\n          </button>\r\n          <button mat-menu-item *ngIf=\"true\" class=\"\" (click)=\"toggleIsComplement(entity)\">\r\n            NOT Qualifier\r\n          </button>\r\n          <button mat-menu-item *ngIf=\"entity.insertMenuNodes?.length>0\" [matMenuTriggerFor]=\"addMenu\">\r\n            Add an Extension\r\n          </button>\r\n          <button mat-menu-item [matMenuTriggerFor]=\"evidenceMenu\">Evidence</button>\r\n          <button mat-menu-item *ngIf=\"entity.aspect\" class=\"\" (click)=\"addRootTerm()\">\r\n            Add Root Term\r\n          </button>\r\n          <button mat-menu-item class=\"\" (click)=\"clearValues()\">\r\n            Clear Values\r\n          </button>\r\n          <!--    <button mat-menu-item class=\"\" (click)=\"removeNode()\">\r\n            Remove\r\n          </button> -->\r\n        </mat-menu>\r\n        <mat-menu #addMenu=\"matMenu\" class=\"noc-extensions-menu-panel\">\r\n          <button mat-menu-item *ngFor=\"let insertMenuItem of entity.insertMenuNodes\" fxLayout=\"column\"\r\n            fxLayoutAlign=\"start start\" class=\"w-100-p\" (click)=\"insertEntityShex(insertMenuItem)\">\r\n            {{insertMenuItem?.label}}\r\n            <div class=\"noc-terms-description\">\r\n              {{insertMenuItem?.rangeLabel}}\r\n            </div>\r\n          </button>\r\n        </mat-menu>\r\n        <mat-menu #evidenceMenu=\"matMenu\" class=\"noc-menu-panel\">\r\n          <button mat-menu-item class=\"\" (click)=\"addEvidence()\">\r\n            Add Evidence\r\n          </button>\r\n          <button (click)=\"removeEvidence(i)\" mat-menu-item>\r\n            Remove Evidence\r\n          </button>\r\n          <button mat-menu-item class=\"\" (click)=\"openSelectEvidenceDialog()\">\r\n            Clone Evidence\r\n          </button>\r\n        </mat-menu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <button *ngIf=\"displayAddButton\" mat-icon-button class=\"noc-action-button\" fxFlex=\"40px\"\r\n    [matMenuTriggerFor]=\"ccOnlyAddMenu\">\r\n    <fa-icon [icon]=\"['fas', 'plus']\"></fa-icon>\r\n  </button>\r\n  <mat-menu #ccOnlyAddMenu=\"matMenu\" class=\"noc-extensions-menu-panel\">\r\n    <button mat-menu-item *ngFor=\"let insertMenuItem of entity.insertMenuNodes\" fxLayout=\"column\"\r\n      fxLayoutAlign=\"start start\" class=\"w-100-p\" (click)=\"insertEntityShex(insertMenuItem)\">\r\n      {{insertMenuItem?.label}}\r\n      <div class=\"noc-terms-description\">\r\n        {{insertMenuItem?.rangeLabel}}\r\n      </div>\r\n    </button>\r\n  </mat-menu>\r\n</div>","\r\nimport { Component, OnInit, OnDestroy, Input } from '@angular/core';\r\n\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport {\r\n  ActivityNode,\r\n  Evidence,\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  Activity\r\n} from '@geneontology/noctua-form-base';\r\nimport { noctuaAnimations } from '@noctua/animations';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n\r\n@Component({\r\n  selector: 'noc-preview-activity',\r\n  templateUrl: './preview-activity.component.html',\r\n  styleUrls: ['./preview-activity.component.scss'],\r\n  animations: noctuaAnimations\r\n})\r\nexport class PreviewActivityComponent implements OnInit, OnDestroy {\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n\r\n  @Input('activity')\r\n  activity: Activity;\r\n\r\n  constructor(\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.activity.setPreview();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n\r\n\r\n\r\n","<div class=\"w-100-p\">\r\n  <noc-graph-preview *ngIf=\"activity\" [nodes]=\"activity?.graphPreview.nodes\" [edges]=\"activity?.graphPreview.edges\"\r\n    class=\"noc-graph-preview\"></noc-graph-preview>\r\n\r\n</div>","import { Component, Input, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormArray, FormControl, FormGroup } from '@angular/forms';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { Subscription, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport {\r\n  Cam,\r\n  NoctuaUserService,\r\n  NoctuaFormConfigService,\r\n  NoctuaGraphService,\r\n  CamService,\r\n  Entity,\r\n} from '@geneontology/noctua-form-base';\r\nimport { SparqlService } from '@noctua.sparql/services/sparql/sparql.service';\r\n\r\n@Component({\r\n  selector: 'noc-cam-form',\r\n  templateUrl: './cam-form.component.html',\r\n  styleUrls: ['./cam-form.component.scss'],\r\n})\r\n\r\nexport class CamFormComponent implements OnInit, OnDestroy {\r\n\r\n  @Input('panelDrawer')\r\n  panelDrawer: MatDrawer;\r\n  cam: Cam;\r\n  camFormGroup: FormGroup;\r\n  camFormSub: Subscription;\r\n  commentFormArray: FormArray\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(public noctuaUserService: NoctuaUserService,\r\n    private sparqlService: SparqlService,\r\n    private camService: CamService,\r\n    private noctuaGraphService: NoctuaGraphService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n    // this.activity = self.noctuaCamFormService.activity;\r\n    //  this.camFormPresentation = this.noctuaCamFormService.activityPresentation;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.camFormSub = this.camService.camFormGroup$\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(camFormGroup => {\r\n        if (!camFormGroup) {\r\n          return;\r\n        }\r\n        this.camFormGroup = camFormGroup;\r\n        this.commentFormArray = camFormGroup.get('commentFormArray') as FormArray\r\n      });\r\n\r\n    this.camService.onCamChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((cam) => {\r\n        if (!cam) {\r\n          return;\r\n        }\r\n\r\n        this.cam = cam;\r\n      });\r\n  }\r\n\r\n  addComment() {\r\n    this.commentFormArray.push(new FormControl())\r\n  }\r\n\r\n  deleteComment(index) {\r\n    this.commentFormArray.removeAt(index)\r\n    this.save()\r\n  }\r\n\r\n  save() {\r\n\r\n    const value = this.camFormGroup.value;\r\n\r\n    const annotations = {\r\n      title: value.title,\r\n      state: value.state.name,\r\n      comments: value.commentFormArray,\r\n    };\r\n\r\n\r\n    this.noctuaGraphService.saveModelGroup(this.cam, value.group.id);\r\n    this.noctuaGraphService.saveCamAnnotations(this.cam, annotations);\r\n  }\r\n\r\n  termDisplayFn(term): string | undefined {\r\n    return term ? term.label : undefined;\r\n  }\r\n\r\n  close() {\r\n    this.panelDrawer.close();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<form name=\"camFormGroup\" [formGroup]=\"camFormGroup\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\"\r\n  class=\"noc-cam-form noc-drawer h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-drawer-header-title\">\r\n      Model Details</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> Close\r\n    </button>\r\n  </div>\r\n  <div *ngIf=\"camFormGroup\" class=\"noc-drawer-body w-100-p\" noctuaPerfectScrollbar>\r\n    <div *ngIf=\"!noctuaUserService.user\" class=\"noc-draw-body-disabled\" fxLayoutAlign=\"center center\">\r\n      Log in to Continue\r\n    </div>\r\n    <div class=\"noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Model Information\r\n        </div>\r\n        <span fxFlex></span>\r\n      </div>\r\n      <div class=\"noc-section-body p-8\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n        <div class=\"p-4\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm\">\r\n            <mat-label>Title</mat-label>\r\n            <textarea type=\"text\" matInput formControlName=\"title\" rows=\"2\"></textarea>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"p-4\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm\">\r\n            <mat-label>State</mat-label>\r\n            <mat-select placeholder=\"\" formControlName=\"state\" required>\r\n              <mat-option *ngFor=\"let modelState of noctuaFormConfigService.modelState.options\" [value]=\"modelState\">\r\n                {{modelState.label}}\r\n              </mat-option>\r\n            </mat-select>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"p-4\" fxLayout=\"column\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm\">\r\n            <mat-label>Group</mat-label>\r\n            <mat-select placeholder=\"\" formControlName=\"group\" required>\r\n              <mat-option *ngFor=\"let modelGroup of noctuaUserService.user?.groups\" [value]=\"modelGroup\">\r\n                {{modelGroup.label}}\r\n              </mat-option>\r\n            </mat-select>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header pr-8\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Model Comments\r\n        </div>\r\n        <span fxFlex></span>\r\n        <button mat-stroked-button (click)=\"addComment()\" type=\"submit\" class=\"noc-xs noc-rounded-button\"\r\n          color=\"primary\">\r\n          Add\r\n        </button>\r\n      </div>\r\n      <div class=\"noc-section-body p-8\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n        <div *ngIf=\"cam?.comments.length===0\" class=\"noc-no-info\">\r\n          No comments yet\r\n        </div>\r\n        <div class=\"p-4\" fxLayout=\"column\">\r\n          <div formArrayName=\"commentFormArray\" *ngFor=\"let comment of commentFormArray?.controls; let i = index;\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"w-100-p\">\r\n              <div class=\"noc-form-field-container\" fxFlex>\r\n                <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n                  <mat-label>Comment</mat-label>\r\n                  <textarea type=\"text\" matInput [formControlName]=\"i\" rows=\"2\"></textarea>\r\n                </mat-form-field>\r\n                <button mat-icon-button (click)=\"deleteComment(i)\" class=\"noc-delete-float-button\">\r\n                  <fa-icon [icon]=\"['far', 'trash-alt']\"></fa-icon>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Model Information\r\n        </div>\r\n        <span fxFlex></span>\r\n      </div>\r\n      <div class=\"noc-section-body p-8\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n        <div class=\"noc-item-body w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <div class=\"w-100-p h-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n            <div class=\"noc-item\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-title\">Title:</div> {{cam.title}}\r\n            </div>\r\n            <div class=\"noc-item\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-title\">State:</div> {{cam.state?.label}}\r\n            </div>\r\n            <div class=\"w-100-p\">\r\n              <div class=\"noc-item\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\r\n                <div class=\"noc-title\">Contributors:</div>\r\n                <div class=\"mr-8\" *ngFor=\"let contributor of cam.contributors\" matTooltip=\"{{contributor.name}}\"\r\n                  [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n                  {{contributor.name ? contributor.name :contributor.orcid}};\r\n                </div>\r\n              </div>\r\n              <div class=\"noc-item\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\r\n                <div class=\"noc-title\">Groups:</div>\r\n                <span class=\"\" *ngFor=\"let group of cam.groups\" matTooltip=\"{{group.name}}\"\r\n                  [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n                  <div class=\"noc-chip-label\">\r\n                    {{group.name ? group.name :group.url}}\r\n                  </div>\r\n                </span>\r\n              </div>\r\n              <div class=\"noc-item\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                <div class=\"noc-title\">Open In:</div>\r\n                <a class=\"mr-4\" [href]='cam.model?.modelInfo?.noctuaVPEUrl' target=\"_blank\">\r\n                  Pathway Editor\r\n                </a>\r\n                <span>&#8226;</span>\r\n                <a class=\"ml-4 mr-4\" [href]='cam.model?.modelInfo?.noctuaFormUrl' target=\"_blank\">\r\n                  Form Editor\r\n                </a>\r\n                <span>&#8226;</span>\r\n                <a class=\"ml-4\" [href]='cam.model?.modelInfo?.graphEditorUrl' target=\"_blank\">\r\n                  Graph Editor\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"camFormGroup\" fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"noc-drawer-footer noc-submit-row\">\r\n    <span fxFlex></span>\r\n    <button [disabled]=\"!camFormGroup.valid\" (click)=\"save()\" type=\"submit\" class=\"noc-rounded-button\" mat-raised-button\r\n      color=\"primary\">Save</button>\r\n  </div>\r\n</form>","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { Subject } from 'rxjs';\r\nimport * as shape from 'd3-shape';\r\nimport { Edge, Node, Layout } from '@swimlane/ngx-graph';\r\nimport { noctuaAnimations } from './../../../../../../../@noctua/animations';\r\n\r\n\r\nimport {\r\n  NoctuaActivityConnectorService,\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  CamService,\r\n  Cam,\r\n  Activity,\r\n} from '@geneontology/noctua-form-base';\r\n\r\n@Component({\r\n  selector: 'noc-cam-graph',\r\n  templateUrl: './cam-graph.component.html',\r\n  styleUrls: ['./cam-graph.component.scss'],\r\n  animations: noctuaAnimations\r\n})\r\nexport class CamGraphComponent implements OnInit, OnDestroy {\r\n  _nodes: Node[];\r\n  _edges: Edge[];\r\n  searchCriteria: any = {};\r\n  searchFormData: any = [];\r\n  searchForm: FormGroup;\r\n\r\n  @Input('cam')\r\n  public cam: Cam;\r\n\r\n  // @Input('nodes')\r\n  // nodes: Node[];  \r\n\r\n  //@Input('edges')\r\n  //edges: Edge[];\r\n\r\n  @Input() set nodes(value: Node[]) {\r\n    this._nodes = [...value];\r\n    this.update$.next(true);\r\n  }\r\n\r\n  get nodes(): Node[] {\r\n    return this._nodes;\r\n  }\r\n\r\n  @Input() set edges(value: Edge[]) {\r\n    this._edges = [...value];\r\n    this.update$.next(true);\r\n  }\r\n\r\n  get edges(): Edge[] {\r\n    return this._edges;\r\n  }\r\n\r\n  layout: String | Layout = 'dagreCluster';\r\n  layouts: any[] = [\r\n    {\r\n      label: 'Dagre',\r\n      value: 'dagre',\r\n    },\r\n    {\r\n      label: 'Dagre Cluster',\r\n      value: 'dagreCluster',\r\n      isClustered: true,\r\n    },\r\n    {\r\n      label: 'Cola Force Directed',\r\n      value: 'colaForceDirected',\r\n      isClustered: true,\r\n    },\r\n    {\r\n      label: 'D3 Force Directed',\r\n      value: 'd3ForceDirected',\r\n    },\r\n  ];\r\n\r\n\r\n  // line interpolation\r\n  curveType = 'Bundle';\r\n  curve: any = shape.curveLinear;\r\n  interpolationTypes = [\r\n    'Bundle',\r\n    'Cardinal',\r\n    'Catmull Rom',\r\n    'Linear',\r\n    'Monotone X',\r\n    'Monotone Y',\r\n    'Natural',\r\n    'Step',\r\n    'Step After',\r\n    'Step Before'\r\n  ];\r\n\r\n  draggingEnabled = false;\r\n  panningEnabled = true;\r\n  zoomEnabled = false;\r\n\r\n  zoomSpeed = 0.1;\r\n  minZoomLevel = 0.1;\r\n  maxZoomLevel = 4.0;\r\n  panOnZoom = false;\r\n\r\n  autoZoom = false;\r\n  autoCenter = true;\r\n\r\n  update$: Subject<boolean> = new Subject();\r\n  center$: Subject<boolean> = new Subject();\r\n  zoomToFit$: Subject<boolean> = new Subject();\r\n\r\n  modelId = '';\r\n\r\n  private unsubscribeAll: Subject<any>;\r\n\r\n  constructor(public camService: CamService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private noctuaActivityConnectorService: NoctuaActivityConnectorService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n  ) {\r\n\r\n    this.unsubscribeAll = new Subject();\r\n  }\r\n\r\n\r\n  public layoutSettings = {\r\n    orientation: 'TB'\r\n  };\r\n  //  public curve: any = shape.curveLinear;\r\n  // public layout: Layout = new DagreNodesOnlyLayout();\r\n\r\n  ngOnInit() {\r\n    this.setInterpolationType(this.curveType);\r\n  }\r\n\r\n  setInterpolationType(curveType) {\r\n    this.curveType = curveType;\r\n    if (curveType === 'Bundle') {\r\n      this.curve = shape.curveBundle.beta(1);\r\n    }\r\n    if (curveType === 'Cardinal') {\r\n      this.curve = shape.curveCardinal;\r\n    }\r\n    if (curveType === 'Catmull Rom') {\r\n      this.curve = shape.curveCatmullRom;\r\n    }\r\n    if (curveType === 'Linear') {\r\n      this.curve = shape.curveLinear;\r\n    }\r\n    if (curveType === 'Monotone X') {\r\n      this.curve = shape.curveMonotoneX;\r\n    }\r\n    if (curveType === 'Monotone Y') {\r\n      this.curve = shape.curveMonotoneY;\r\n    }\r\n    if (curveType === 'Natural') {\r\n      this.curve = shape.curveNatural;\r\n    }\r\n    if (curveType === 'Step') {\r\n      this.curve = shape.curveStep;\r\n    }\r\n    if (curveType === 'Step After') {\r\n      this.curve = shape.curveStepAfter;\r\n    }\r\n    if (curveType === 'Step Before') {\r\n      this.curve = shape.curveStepBefore;\r\n    }\r\n  }\r\n\r\n  setLayout(): void {\r\n    // this.layout = layoutName;\r\n  }\r\n\r\n  addActivity() {\r\n    this.openForm(location);\r\n  }\r\n\r\n  openForm(location?) {\r\n    this.noctuaActivityFormService.mfLocation = location;\r\n    this.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  openActivityConnectorList(activity: Activity) {\r\n    this.camService.onCamChanged.next(this.cam);\r\n    this.camService.activity = activity;\r\n    this.noctuaActivityConnectorService.subjectActivity = activity;\r\n    this.noctuaActivityConnectorService.onActivityChanged.next(activity);\r\n  }\r\n\r\n  public getStyles(node: Node): any {\r\n    return {\r\n      \"background-color\": node.data.backgroundColor,\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribeAll.next(null);\r\n    this.unsubscribeAll.complete();\r\n  }\r\n}\r\n","<div class=\"w-100-p h-100-p noc-graph-holder\">\r\n  <ngx-graph class=\"w-100-p h-100-p\" [links]=\"edges\" [nodes]=\"nodes\" [curve]=\"curve\" [layout]=\"layout\"\r\n    [layoutSettings]=\"layoutSettings\" [curve]=\"curve\" [draggingEnabled]=\"draggingEnabled\"\r\n    [panningEnabled]=\"panningEnabled\" [enableZoom]=\"zoomEnabled\" [zoomSpeed]=\"zoomSpeed\" [minZoomLevel]=\"minZoomLevel\"\r\n    [maxZoomLevel]=\"maxZoomLevel\" [panOnZoom]=\"panOnZoom\" [autoZoom]=\"autoZoom\" [autoCenter]=\"autoCenter\"\r\n    [update$]=\"update$\" [center$]=\"center$\" [zoomToFit$]=\"zoomToFit$\">\r\n\r\n    <ng-template #defsTemplate>\r\n      <svg:marker id=\"arrow\" viewBox=\"0 -5 10 10\" refX=\"8\" refY=\"0\" markerWidth=\"4\" markerHeight=\"4\" orient=\"auto\">\r\n        <svg:path d=\"M0,-5L10,0L0,5\" class=\"arrow-head\" />\r\n      </svg:marker>\r\n    </ng-template>\r\n\r\n    <ng-template #nodeTemplate let-node>\r\n      <svg:g *ngIf=\"node.data.activity\" class=\"node\" xmlns=\"http://www.w3.org/2000/xhtml\" width=\"180\" height=\"80\">\r\n        <svg:foreignObject width=\"180\" height=\"80\">\r\n          <xhtml:div class=\"noc-node\" xmlns=\"http://www.w3.org/1999/xhtml\" [ngStyle]=getStyles(node)>\r\n            <div class=\"noc-node-conntent w-100-p h-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start start\">\r\n              <div fxFlex=\"100%\">\r\n                <small>{{ node.label}}</small>\r\n                enabled by:\r\n                <strong>{{ node.data.activity.presentation.gpText}}</strong>\r\n              </div>\r\n              <div class=\"noc-node-actions\" fxFlex=\"40px\" fxLayout=\"column\" fxLayoutAlign=\"start center\">\r\n                <div (click)=\"openActivityConnectorList(node.data.activity)\" class=\"noc-connector\" action=\"p\"\r\n                  matTooltip=\"connect\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\" fxLayout=\"column\"\r\n                  fxLayoutAlign=\"center center\">\r\n                  <mat-icon class=\"s-24\"> arrow_right_alt </mat-icon>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </xhtml:div>\r\n        </svg:foreignObject>\r\n      </svg:g>\r\n      <svg:g *ngIf=\"node.data.connectorActivity\" class=\"node\" xmlns=\"http://www.w3.org/2000/xhtml\" width=\"120\"\r\n        height=\"50\">\r\n        <svg:foreignObject width=\"120\" height=\"50\">\r\n          <xhtml:div class=\"noc-node noc-sm\" xmlns=\"http://www.w3.org/1999/xhtml\" [ngStyle]=getStyles(node)>\r\n            <div class=\"noc-node-conntent w-100-p h-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <div fxFlex=\"100%\">\r\n                <small>{{ node.label}}</small>\r\n              </div>\r\n              <div class=\"noc-node-actions\" fxFlex=\"40px\" fxLayout=\"column\" fxLayoutAlign=\"start center\">\r\n                <div mat-button (click)=\"openActivityConnector(node.data.connectorActivity)\" matTooltip=\"Details\"\r\n                  [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n                  <mat-icon>edit </mat-icon>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </xhtml:div>\r\n        </svg:foreignObject>\r\n      </svg:g>\r\n    </ng-template>\r\n\r\n    <ng-template #linkTemplate let-link>\r\n      <svg:g class=\"edge\" (click)=\"openActivityConnector(link.data.connectorActivity)\">\r\n        <svg:path class=\"line\" stroke-width=\"2\" marker-end=\"url(#arrow)\">\r\n        </svg:path>\r\n        <svg:text class=\"edge-label\" text-anchor=\"middle\">\r\n          <textPath class=\"text-path\" [attr.href]=\"'#' + link.id\" [style.dominant-baseline]=\"link.dominantBaseline\"\r\n            startOffset=\"50%\"></textPath>\r\n        </svg:text>\r\n      </svg:g>\r\n      <svg:g class=\"linkMidpoint\" *ngIf=\"link.midPoint\"\r\n        [attr.transform]=\"'translate(' + (link.midPoint.x) + ',' + (link.midPoint.y) + ')'\">\r\n        <svg:text alignment-baseline=\"central\">{{ link.label }}</svg:text>\r\n      </svg:g>\r\n    </ng-template>\r\n  </ngx-graph>\r\n</div>","\r\nimport { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { Subject } from 'rxjs';\r\nimport { noctuaAnimations } from './../../../../../../@noctua/animations';\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  CamService,\r\n  Cam\r\n} from '@geneontology/noctua-form-base';\r\n\r\n@Component({\r\n  selector: 'noc-cam-preview',\r\n  templateUrl: './cam-preview.component.html',\r\n  styleUrls: ['./cam-preview.component.scss'],\r\n  animations: noctuaAnimations\r\n})\r\nexport class CamPreviewComponent implements OnInit, OnDestroy {\r\n\r\n  searchCriteria: any = {};\r\n  searchFormData: any = [];\r\n  searchForm: FormGroup;\r\n\r\n  @Input('cam')\r\n  public cam: Cam;\r\n\r\n  modelId: string = '';\r\n\r\n  private unsubscribeAll: Subject<any>;\r\n\r\n  constructor(public camService: CamService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n  ) {\r\n\r\n    this.unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void { }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribeAll.next(null);\r\n    this.unsubscribeAll.complete();\r\n  }\r\n}\r\n"," <noc-cam-graph [nodes]=\"cam?.graphPreview.nodes\" [edges]=\"cam?.graphPreview.edges\"\r\n   class=\"w-100-p h-100-p p-8 noc-graph-preview\">\r\n </noc-cam-graph>\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport * as shape from 'd3-shape';\r\nimport { Edge, Node, ClusterNode, Layout } from '@swimlane/ngx-graph';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { DagreNodesOnlyLayout } from './tree-layout';\r\n\r\n\r\n@Component({\r\n  selector: 'noc-graph-preview',\r\n  templateUrl: './graph-preview.component.html',\r\n  styleUrls: ['./graph-preview.component.scss']\r\n})\r\nexport class GraphPreviewComponent implements OnInit {\r\n  _nodes: Node[];\r\n  _edges: Edge[];\r\n\r\n  // @Input('nodes')\r\n  // nodes: Node[];  \r\n\r\n  //@Input('edges')\r\n  //edges: Edge[];\r\n\r\n  @Input() set nodes(value: Node[]) {\r\n    this._nodes = [...value];\r\n    this.update$.next(true);\r\n  }\r\n\r\n  get nodes(): Node[] {\r\n    return this._nodes;\r\n  }\r\n\r\n  @Input() set edges(value: Edge[]) {\r\n    this._edges = [...value];\r\n    this.update$.next(true);\r\n  }\r\n\r\n  get edges(): Edge[] {\r\n    return this._edges;\r\n  }\r\n\r\n  layout: String | Layout = 'dagre';\r\n\r\n  // line interpolation\r\n  curveType: string = 'Bundle';\r\n  curve: any = shape.curveLinear;\r\n  interpolationTypes = [\r\n    'Bundle',\r\n    'Cardinal',\r\n    'Catmull Rom',\r\n    'Linear',\r\n    'Monotone X',\r\n    'Monotone Y',\r\n    'Natural',\r\n    'Step',\r\n    'Step After',\r\n    'Step Before'\r\n  ];\r\n  draggingEnabled = true;\r\n  panningEnabled = true;\r\n  zoomEnabled = true;\r\n\r\n  zoomSpeed = 0.1;\r\n  minZoomLevel = 0.1;\r\n  maxZoomLevel = 4.0;\r\n  panOnZoom = false;\r\n\r\n  autoZoom = true;\r\n  autoCenter = true;\r\n\r\n  update$: Subject<boolean> = new Subject();\r\n  center$: Subject<boolean> = new Subject();\r\n  zoomToFit$: Subject<boolean> = new Subject();\r\n\r\n\r\n  public layoutSettings = {\r\n    edgePadding: 100,\r\n    nodePadding: 100,\r\n    orientation: \"LR\",\r\n    //ranker: 'network-simplex'\r\n  }\r\n  //  public curve: any = shape.curveLinear;\r\n  //public layout: Layout = new DagreNodesOnlyLayout();\r\n\r\n  ngOnInit() {\r\n    this.setInterpolationType(this.curveType);\r\n    setTimeout(\r\n      () => {\r\n        window.dispatchEvent(new Event('resize'));\r\n      }, 10);\r\n  }\r\n\r\n  setInterpolationType(curveType) {\r\n    this.curveType = curveType;\r\n    if (curveType === 'Bundle') {\r\n      this.curve = shape.curveBundle.beta(1);\r\n    }\r\n    if (curveType === 'Cardinal') {\r\n      this.curve = shape.curveCardinal;\r\n    }\r\n    if (curveType === 'Catmull Rom') {\r\n      this.curve = shape.curveCatmullRom;\r\n    }\r\n    if (curveType === 'Linear') {\r\n      this.curve = shape.curveLinear;\r\n    }\r\n    if (curveType === 'Monotone X') {\r\n      this.curve = shape.curveMonotoneX;\r\n    }\r\n    if (curveType === 'Monotone Y') {\r\n      this.curve = shape.curveMonotoneY;\r\n    }\r\n    if (curveType === 'Natural') {\r\n      this.curve = shape.curveNatural;\r\n    }\r\n    if (curveType === 'Step') {\r\n      this.curve = shape.curveStep;\r\n    }\r\n    if (curveType === 'Step After') {\r\n      this.curve = shape.curveStepAfter;\r\n    }\r\n    if (curveType === 'Step Before') {\r\n      this.curve = shape.curveStepBefore;\r\n    }\r\n  }\r\n\r\n\r\n  public getStyles(node: Node): any {\r\n    return {\r\n      \"background-color\": node.data.backgroundColor,\r\n    }\r\n  }\r\n}\r\n\r\n","<div class=\"w-100-p h-100-p noc-graph-holder\">\r\n  <ngx-graph [links]=\"edges\" [nodes]=\"nodes\" [curve]=\"curve\" [layout]=\"layout\" [nodeWidth]=120 [nodeHeight]=50\r\n    [layoutSettings]=\"layoutSettings\" [curve]=\"curve\" [draggingEnabled]=\"draggingEnabled\"\r\n    [panningEnabled]=\"panningEnabled\" [enableZoom]=\"zoomEnabled\" [zoomSpeed]=\"zoomSpeed\" [minZoomLevel]=\"minZoomLevel\"\r\n    [maxZoomLevel]=\"maxZoomLevel\" [panOnZoom]=\"panOnZoom\" [autoZoom]=\"autoZoom\" [autoCenter]=\"autoCenter\"\r\n    [update$]=\"update$\" [center$]=\"center$\" [zoomToFit$]=\"zoomToFit$\">\r\n\r\n    <ng-template #defsTemplate>\r\n      <svg:marker id=\"arrow\" viewBox=\"0 -5 10 10\" refX=\"8\" refY=\"0\" markerWidth=\"4\" markerHeight=\"4\" orient=\"auto\">\r\n        <svg:path d=\"M0,-5L10,0L0,5\" class=\"arrow-head\" />\r\n      </svg:marker>\r\n    </ng-template>\r\n\r\n    <ng-template #nodeTemplate let-node>\r\n      <svg:g class=\"node\" xmlns=\"http://www.w3.org/2000/xhtml\" width=\"120\" height=\"50\">\r\n        <svg:foreignObject width=\"120\" height=\"50\">\r\n          <xhtml:div class=\"cardContainer\" xmlns=\"http://www.w3.org/1999/xhtml\" [ngStyle]=getStyles(node)>\r\n            {{node.label}}\r\n          </xhtml:div>\r\n        </svg:foreignObject>\r\n      </svg:g>\r\n    </ng-template>\r\n\r\n    <ng-template #linkTemplate let-link>\r\n      <svg:g class=\"edge\">\r\n        <svg:path class=\"line\" stroke-width=\"2\" marker-end=\"url(#arrow)\">\r\n        </svg:path>\r\n        <svg:text class=\"edge-label\" text-anchor=\"middle\">\r\n          <textPath class=\"text-path\" [attr.href]=\"'#' + link.id\" [style.dominant-baseline]=\"link.dominantBaseline\"\r\n            startOffset=\"50%\"></textPath>\r\n        </svg:text>\r\n      </svg:g>\r\n      <svg:g class=\"linkMidpoint\" *ngIf=\"link.midPoint\"\r\n        [attr.transform]=\"'translate(' + (link.midPoint.x) + ',' + (link.midPoint.y) + ')'\">\r\n        <svg:text alignment-baseline=\"central\">{{ link.label }}</svg:text>\r\n      </svg:g>\r\n    </ng-template>\r\n  </ngx-graph>\r\n</div>\r\n","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { noctuaAnimations } from './../../../../../../../../@noctua/animations';\r\nimport { NoctuaFormDialogService } from './../../../../services/dialog.service';\r\n\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  NoctuaActivityEntityService,\r\n  CamService,\r\n  Evidence,\r\n  Entity,\r\n  noctuaFormConfig,\r\n  NoctuaUserService,\r\n  ActivityType,\r\n  ActivityError,\r\n  ErrorLevel,\r\n  ErrorType\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport {\r\n  Cam,\r\n  Activity,\r\n  ActivityNode,\r\n  ShapeDefinition\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { EditorCategory } from '@noctua.editor/models/editor-category';\r\nimport { find } from 'lodash';\r\nimport { InlineEditorService } from '@noctua.editor/inline-editor/inline-editor.service';\r\nimport { NoctuaUtils } from '@noctua/utils/noctua-utils';\r\nimport { SettingsOptions } from '@noctua.common/models/graph-settings';\r\nimport { NoctuaConfirmDialogService } from '@noctua/components/confirm-dialog/confirm-dialog.service';\r\n\r\n@Component({\r\n  selector: 'noc-activity-form-table-node',\r\n  templateUrl: './activity-form-table-node.component.html',\r\n  styleUrls: ['./activity-form-table-node.component.scss'],\r\n  animations: noctuaAnimations\r\n})\r\nexport class ActivityFormTableNodeComponent implements OnInit, OnDestroy {\r\n  EditorCategory = EditorCategory;\r\n  ActivityType = ActivityType;\r\n  activityTypeOptions = noctuaFormConfig.activityType.options;\r\n\r\n  @Input('settings')\r\n  settings: SettingsOptions\r\n\r\n  @Input('cam')\r\n  cam: Cam;\r\n\r\n  @Input('activity')\r\n  activity: Activity;\r\n\r\n  @Input('entity')\r\n  entity: ActivityNode;\r\n\r\n  @Input('options')\r\n  options: any = {};\r\n\r\n  relationWidth = '0px';\r\n\r\n  optionsDisplay: any = {}\r\n\r\n  editableTerms = false;\r\n  currentMenuEvent: any = {};\r\n\r\n  private unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    public camService: CamService,\r\n    private confirmDialogService: NoctuaConfirmDialogService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private noctuaFormDialogService: NoctuaFormDialogService,\r\n    public noctuaActivityEntityService: NoctuaActivityEntityService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n    private inlineEditorService: InlineEditorService) {\r\n    this.unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    if (this.options?.editableTerms) {\r\n      this.editableTerms = this.options.editableTerms\r\n    }\r\n\r\n    this.optionsDisplay = { ...this.options, hideHeader: true };\r\n    this.relationWidth = 250 - (this.entity.treeLevel) * 16 + 'px';\r\n\r\n  }\r\n\r\n  toggleExpand(activity: Activity) {\r\n    activity.expanded = !activity.expanded;\r\n  }\r\n\r\n  displayCamErrors() {\r\n    const errors = this.cam.getViolationDisplayErrors();\r\n    this.noctuaFormDialogService.openCamErrorsDialog(errors);\r\n  }\r\n\r\n  displayActivityErrors(activity: Activity) {\r\n    const errors = activity.getViolationDisplayErrors();\r\n    this.noctuaFormDialogService.openCamErrorsDialog(errors);\r\n  }\r\n\r\n\r\n  addEvidence(entity: ActivityNode) {\r\n    const self = this;\r\n\r\n    entity.predicate.addEvidence();\r\n    const data = {\r\n      cam: this.cam,\r\n      activity: this.activity,\r\n      entity: entity,\r\n      category: EditorCategory.evidenceAll,\r\n      evidenceIndex: entity.predicate.evidence.length - 1\r\n    };\r\n\r\n    this.camService.onCamChanged.next(this.cam);\r\n    this.camService.activity = this.activity;\r\n    this.noctuaActivityEntityService.initializeForm(this.activity, entity);\r\n    this.inlineEditorService.open(this.currentMenuEvent.target, { data });\r\n\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  removeEvidence(entity: ActivityNode, index: number) {\r\n    const self = this;\r\n\r\n    entity.predicate.removeEvidence(index);\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  deleteEntity(entity: ActivityNode) {\r\n    const self = this;\r\n\r\n    const success = () => {\r\n      this.noctuaActivityEntityService.deleteActivityNode(self.activity, entity).then(() => {\r\n        self.noctuaFormDialogService.openInfoToast(`${entity.term.label} successfully deleted.`, 'OK');\r\n      });\r\n    };\r\n\r\n    const descendants = this.activity.descendants(entity.id).map((node: ActivityNode) => {\r\n      return node.term.label\r\n    }).join(\", \");\r\n    let message = `You are about to delete an ${entity.term.label}`;\r\n    if (descendants) {\r\n      message += ` and its descendants ${descendants}`;\r\n    }\r\n\r\n    this.confirmDialogService.openConfirmDialog('Confirm Delete?',\r\n      `${message}`, success);\r\n  }\r\n\r\n  openSearchDatabaseDialog(entity: ActivityNode) {\r\n    const self = this;\r\n    const gpNode = this.activity.getGPNode();\r\n\r\n    if (gpNode && gpNode.hasValue()) {\r\n      const data = {\r\n        readonly: false,\r\n        gpNode: gpNode.term,\r\n        aspect: entity.aspect,\r\n        entity: entity,\r\n        params: {\r\n          term: '',\r\n          evidence: ''\r\n        }\r\n      };\r\n\r\n      const success = (selected) => {\r\n        if (selected.term) {\r\n          const term = new Entity(selected.term.term.id, selected.term.term.label);\r\n\r\n          if (selected.evidences && selected.evidences.length > 0) {\r\n\r\n            self.noctuaActivityEntityService.initializeForm(this.activity, entity);\r\n            entity.term = term;\r\n            entity.predicate.setEvidence(selected.evidences);\r\n            self.noctuaActivityEntityService.saveSearchDatabase();\r\n\r\n          }\r\n        }\r\n      };\r\n      self.noctuaFormDialogService.openSearchDatabaseDialog(data, success);\r\n    } else {\r\n      const meta = {\r\n        aspect: 'Gene Product'\r\n      };\r\n      const error = new ActivityError(ErrorLevel.error, ErrorType.general, 'Please enter a gene product', meta)\r\n      self.noctuaFormDialogService.openActivityErrorsDialog([error])\r\n    }\r\n  }\r\n\r\n\r\n  insertEntity(entity: ActivityNode, nodeDescription: ShapeDefinition.ShapeDescription) {\r\n    const insertedNode = this.noctuaFormConfigService.insertActivityNode(this.activity, entity, nodeDescription);\r\n    //  this.noctuaActivityFormService.initializeForm();\r\n\r\n    const data = {\r\n      cam: this.cam,\r\n      activity: this.activity,\r\n      entity: insertedNode,\r\n      category: EditorCategory.all,\r\n      evidenceIndex: 0,\r\n      insertEntity: true\r\n    };\r\n\r\n    this.camService.onCamChanged.next(this.cam);\r\n    this.camService.activity = this.activity;\r\n    this.noctuaActivityEntityService.initializeForm(this.activity, insertedNode);\r\n    this.inlineEditorService.open(this.currentMenuEvent.target, { data });\r\n  }\r\n\r\n  editEntity(entity: ActivityNode) {\r\n\r\n    const data = {\r\n      cam: this.cam,\r\n      activity: this.activity,\r\n      entity: entity,\r\n      category: EditorCategory.all,\r\n      evidenceIndex: 0,\r\n      insertEntity: true\r\n    };\r\n\r\n    this.camService.onCamChanged.next(this.cam);\r\n    this.camService.activity = this.activity;\r\n    this.noctuaActivityEntityService.initializeForm(this.activity, entity);\r\n    this.inlineEditorService.open(this.currentMenuEvent.target, { data });\r\n  }\r\n\r\n  addRootTerm(entity: ActivityNode) {\r\n    const self = this;\r\n\r\n    const term = find(noctuaFormConfig.rootNode, (rootNode) => {\r\n      return rootNode.aspect === entity.aspect;\r\n    });\r\n\r\n    if (term) {\r\n      entity.term = new Entity(term.id, term.label);\r\n      self.noctuaActivityFormService.initializeForm();\r\n\r\n      const evidence = new Evidence();\r\n      evidence.setEvidence(new Entity(\r\n        noctuaFormConfig.evidenceAutoPopulate.nd.evidence.id,\r\n        noctuaFormConfig.evidenceAutoPopulate.nd.evidence.label));\r\n      evidence.reference = noctuaFormConfig.evidenceAutoPopulate.nd.reference;\r\n      entity.predicate.setEvidence([evidence]);\r\n      self.noctuaActivityFormService.initializeForm();\r\n    }\r\n  }\r\n\r\n  clearValues(entity: ActivityNode) {\r\n    const self = this;\r\n\r\n    entity.clearValues();\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  openSelectEvidenceDialog(entity: ActivityNode) {\r\n    const self = this;\r\n    const evidences: Evidence[] = this.camService.getUniqueEvidence(self.noctuaActivityFormService.activity);\r\n    const success = (selected) => {\r\n      if (selected.evidences && selected.evidences.length > 0) {\r\n        entity.predicate.setEvidence(selected.evidences);\r\n        self.noctuaActivityFormService.initializeForm();\r\n      }\r\n    };\r\n\r\n    self.noctuaFormDialogService.openSelectEvidenceDialog(evidences, success);\r\n  }\r\n\r\n  updateCurrentMenuEvent(event) {\r\n    this.currentMenuEvent = event;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribeAll.next(null);\r\n    this.unsubscribeAll.complete();\r\n  }\r\n\r\n  cleanId(dirtyId: string) {\r\n    return NoctuaUtils.cleanID(dirtyId);\r\n  }\r\n}\r\n\r\n","<div class=\"w-100-p\">\r\n  <div class=\"noc-activity-node noctua-form-table w-100-p\"\r\n    [ngClass]=\"{'noc-selected': activity.displayId===camService.currentMatch?.activityDisplayId}\" fxLayout=\"row\"\r\n    fxLayoutAlign=\"start stretch\">\r\n    <div class=\"noc-term-cell noc-entity-cell\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\"\r\n      fxFlex=\"{{relationWidth}}\" [attr.id]=\"entity.term?.displayId\"\r\n      [ngClass]=\"{'noc-highlight-match': entity.term?.highlight,\r\n            'noc-highlight-modified': entity.term?.modified,\r\n            'noc-highlight-match-current': camService.currentMatch?.uuid && entity.term?.uuid===camService.currentMatch?.uuid}\">\r\n      <div class=\"noc-cell-floating-title\">\r\n        {{entity.label}}\r\n      </div>\r\n      <button mat-icon-button *ngIf=\"entity.canDelete\" (click)=\"deleteEntity(entity)\" class=\"noc-delete-button\">\r\n        <fa-icon [icon]=\"['far', 'trash-alt']\"></fa-icon>\r\n      </button>\r\n      <span class=\"\">\r\n        {{entity.term?.label}} <br>\r\n        <a (click)=\"$event.stopPropagation()\" href=\"{{entity.term?.url}}\" target=\"_blank\">\r\n          {{ entity.term?.id }}\r\n        </a>\r\n      </span>\r\n      <noctua-inline-editor *ngIf=\"noctuaUserService.user && entity.term && options.editableTerms\" [cam]=\"cam\"\r\n        [activity]='activity' [entity]=\"entity\" [category]=\"EditorCategory.term\" class=\"noc-edit-button\">\r\n      </noctua-inline-editor>\r\n    </div>\r\n    <div *ngIf=\"settings.showEvidence\" fxFlex=\"\" class=\"noc-evidence-cell p-0\" fxLayout=\"row\"\r\n      fxLayoutAlign=\"start stretch\">\r\n      <noc-evidence-form-table *ngIf=\"entity.showEvidence\" class=\"w-100-p\" [settings]=\"settings\"\r\n        [options]=\"optionsDisplay\" [cam]=\"cam\" [entity]=\"entity\">\r\n      </noc-evidence-form-table>\r\n    </div>\r\n    <div *ngIf=\"!settings.showEvidence && settings.showEvidenceSummary\" class=\"evidence-summary-cell p-0\"\r\n      fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n      <div *ngIf=\"!entity.skipEvidenceCheck\" class=\"w-100-p \">\r\n        <div *ngIf=\"entity.predicate?.evidence.length>0\" class=\"\">\r\n          {{entity.predicate?.evidence.length}} evidence\r\n        </div>\r\n        <div *ngIf=\"entity.predicate?.evidence.length===0\" class=\"noc-no-info\">\r\n          no evidence present.\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"noctuaUserService.user &&  options.showMenu\" class=\"noc-cell noc-action-cell\" fxLayout=\"column\"\r\n      fxLayoutAlign=\"center center\">\r\n      <button mat-icon-button (click)=\"updateCurrentMenuEvent($event)\" class=\"noc-action-button\" fxFlex=\"40px\"\r\n        [matMenuTriggerFor]=\"entityMenu\">\r\n        <mat-icon>more_vert</mat-icon>\r\n      </button>\r\n      <mat-menu #entityMenu=\"matMenu\" class=\"noc-dropdown-menu\">\r\n        <button mat-menu-item *ngIf=\"entity.aspect\" class=\"\" (click)=\"openSearchDatabaseDialog(entity)\">\r\n          Search Annotations\r\n        </button>\r\n        <!-- <button mat-menu-item *ngIf=\"entity.aspect\" class=\"\" (click)=\"editEntity(entity)\">\r\n          Edit\r\n        </button> -->\r\n        <button mat-menu-item *ngIf=\"entity.insertMenuNodes\" [matMenuTriggerFor]=\"addMenu\">Add</button>\r\n        <button mat-menu-item [matMenuTriggerFor]=\"evidenceMenu\">Evidence</button>\r\n        <button mat-menu-item *ngIf=\"entity.canDelete\" class=\"\" color=\"warn\" (click)=\"deleteEntity(entity)\">\r\n          Delete\r\n        </button>\r\n      </mat-menu>\r\n      <mat-menu #addMenu=\"matMenu\">\r\n        <button mat-menu-item *ngFor=\"let insertMenuItem of entity.insertMenuNodes\" class=\"\"\r\n          (click)=\"insertEntity(entity, insertMenuItem)\">\r\n          {{insertMenuItem.label}}\r\n        </button>\r\n      </mat-menu>\r\n      <mat-menu #evidenceMenu=\"matMenu\">\r\n        <button mat-menu-item (click)=\"addEvidence(entity)\" class=\"\">\r\n          Add Evidence\r\n        </button>\r\n        <!--   <button (click)=\"removeEvidence(entity,i)\" mat-menu-item>\r\n              Remove Evidence\r\n            </button> -->\r\n      </mat-menu>\r\n    </div>\r\n  </div>\r\n</div>","import { AfterViewInit, Component, Input, OnChanges, OnDestroy, OnInit, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { noctuaAnimations } from './../../../../../../../@noctua/animations';\r\nimport { NoctuaFormDialogService } from './../../../services/dialog.service';\r\n\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  NoctuaActivityEntityService,\r\n  CamService,\r\n  noctuaFormConfig,\r\n  NoctuaUserService,\r\n  ActivityType,\r\n  ActivityTreeNode,\r\n  ActivityDisplayType,\r\n  NoctuaGraphService\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport {\r\n  Cam,\r\n  Activity,\r\n  ActivityNode\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { EditorCategory } from '@noctua.editor/models/editor-category';\r\nimport { cloneDeep } from 'lodash';\r\nimport { InlineEditorService } from '@noctua.editor/inline-editor/inline-editor.service';\r\nimport { NoctuaUtils } from '@noctua/utils/noctua-utils';\r\nimport { FlatTreeControl } from '@angular/cdk/tree';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\nimport { SettingsOptions } from '@noctua.common/models/graph-settings';\r\nimport { TableOptions } from '@noctua.common/models/table-options';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\n\r\n@Component({\r\n  selector: 'noc-activity-form-table',\r\n  templateUrl: './activity-form-table.component.html',\r\n  styleUrls: ['./activity-form-table.component.scss'],\r\n  animations: noctuaAnimations\r\n})\r\nexport class ActivityFormTableComponent implements OnInit, OnDestroy, OnChanges, AfterViewInit {\r\n  ActivityDisplayType = ActivityDisplayType;\r\n  EditorCategory = EditorCategory;\r\n  ActivityType = ActivityType;\r\n  activityTypeOptions = noctuaFormConfig.activityType.options;\r\n\r\n\r\n\r\n  settings: SettingsOptions = new SettingsOptions()\r\n  gpSettings: SettingsOptions = new SettingsOptions()\r\n\r\n  @ViewChild('tree') tree;\r\n  @ViewChild('gpTree') gpTree;\r\n  @Input('cam') cam: Cam\r\n  @Input('activity') activity: Activity\r\n  @Input('options') options: TableOptions = {};\r\n\r\n  gpOptions: TableOptions = {};\r\n\r\n  optionsDisplay: any = {}\r\n\r\n  gpNode: ActivityNode;\r\n  editableTerms = false;\r\n  currentMenuEvent: any = {};\r\n\r\n  descriptionSectionTitle = 'Function Description';\r\n  annotatedSectionTitle = 'Gene Product';\r\n\r\n  //Tree\r\n  treeNodes: ActivityTreeNode[] = [];\r\n  treeControl = new FlatTreeControl<ActivityNode>(\r\n    node => node.treeLevel, node => node.expandable);\r\n\r\n  gpTreeNodes: ActivityTreeNode[] = [];\r\n  gpTreeControl = new FlatTreeControl<ActivityNode>(\r\n    node => node.treeLevel, node => node.expandable);\r\n\r\n  dataSource: MatTableDataSource<ActivityNode>;\r\n\r\n  treeOptions = {\r\n    allowDrag: false,\r\n    allowDrop: false,\r\n    // levelPadding: 15,\r\n    getNodeClone: (node) => ({\r\n      ...node.data,\r\n      //id: uuid.v4(),\r\n      name: `Copy of ${node.data.name}`\r\n    })\r\n  };\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    public camService: CamService,\r\n    private _noctuaGraphService: NoctuaGraphService,\r\n    private noctuaCommonMenuService: NoctuaCommonMenuService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private noctuaFormDialogService: NoctuaFormDialogService,\r\n    public noctuaActivityEntityService: NoctuaActivityEntityService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n    private inlineEditorService: InlineEditorService) {\r\n\r\n    this.dataSource = new MatTableDataSource<ActivityNode>();\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    // do your action\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.loadTree()\r\n    this.gpOptions = cloneDeep(this.options);\r\n    this.gpOptions.showMenu = this.activity.activityType === ActivityType.molecule ||\r\n      this.activity.activityType === ActivityType.proteinComplex;\r\n\r\n    if (this.activity.activityType === ActivityType.ccOnly) {\r\n      this.descriptionSectionTitle = 'Localization Description';\r\n    } else if (this.activity.activityType === ActivityType.molecule) {\r\n      this.annotatedSectionTitle = 'Small Molecule';\r\n      this.descriptionSectionTitle = 'Location (optional)';\r\n    } else {\r\n      this.descriptionSectionTitle = 'Function Description';\r\n    }\r\n\r\n    this.noctuaCommonMenuService.onCamSettingsChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((settings: SettingsOptions) => {\r\n        if (!settings) {\r\n          return;\r\n        }\r\n        this.settings = settings;\r\n        this.gpSettings = cloneDeep(settings)\r\n        this.gpSettings.showEvidence = false;\r\n        this.gpSettings.showEvidenceSummary = false;\r\n      });\r\n\r\n    if (this.options?.editableTerms) {\r\n      this.editableTerms = this.options.editableTerms\r\n    }\r\n\r\n    this._noctuaGraphService.onCamGraphChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((cam: Cam) => {\r\n        if (!cam || cam.id !== this.cam.id) {\r\n          return;\r\n        }\r\n        this.cam = cam;\r\n        this.activity = cam.findActivityById(this.activity.id)\r\n        this.loadTree()\r\n      })\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n\r\n    this.gpTree?.treeModel.filterNodes((node) => {\r\n      const activityNode = node.data.node as ActivityNode;\r\n      return (activityNode?.displaySection.id === noctuaFormConfig.displaySection.gp.id);\r\n    });\r\n\r\n    this.tree?.treeModel.filterNodes((node) => {\r\n      const activityNode = node.data.node as ActivityNode;\r\n      return (activityNode?.displaySection.id === noctuaFormConfig.displaySection.fd.id);\r\n    });\r\n  }\r\n\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  loadTree() {\r\n    if (!this.activity) return;\r\n    this.gpNode = this.activity.getGPNode();\r\n    this.optionsDisplay = { ...this.options, hideHeader: true };\r\n    this.treeNodes = this.activity.buildTrees();\r\n    this.gpTreeNodes = this.activity.buildGPTrees();\r\n  }\r\n\r\n  onTreeLoad() {\r\n    this.tree?.treeModel.expandAll();\r\n  }\r\n\r\n  onGPTreeLoad() {\r\n    this.gpTree?.treeModel.expandAll();\r\n  }\r\n\r\n  setActivityDisplayType(displayType: ActivityDisplayType) {\r\n    this.activity.activityDisplayType = displayType;\r\n  }\r\n\r\n  toggleExpand(activity: Activity) {\r\n    activity.expanded = !activity.expanded;\r\n  }\r\n\r\n  toggleNodeExpand(node: ActivityNode) {\r\n    node.expanded = !node.expanded;\r\n  }\r\n\r\n  displayCamErrors() {\r\n    const errors = this.cam.getViolationDisplayErrors();\r\n    this.noctuaFormDialogService.openCamErrorsDialog(errors);\r\n  }\r\n\r\n  displayActivityErrors(activity: Activity) {\r\n    const errors = activity.getViolationDisplayErrors();\r\n    this.noctuaFormDialogService.openCamErrorsDialog(errors);\r\n  }\r\n\r\n\r\n  addEvidence(entity: ActivityNode) {\r\n    const self = this;\r\n\r\n    entity.predicate.addEvidence();\r\n    const data = {\r\n      cam: this.cam,\r\n      activity: this.activity,\r\n      entity: entity,\r\n      category: EditorCategory.evidenceAll,\r\n      evidenceIndex: entity.predicate.evidence.length - 1\r\n    };\r\n\r\n    this.camService.onCamChanged.next(this.cam);\r\n    this.camService.activity = this.activity;\r\n    this.noctuaActivityEntityService.initializeForm(this.activity, entity);\r\n    this.inlineEditorService.open(this.currentMenuEvent.target, { data });\r\n\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n\r\n  cleanId(dirtyId: string) {\r\n    return NoctuaUtils.cleanID(dirtyId);\r\n  }\r\n}\r\n\r\n","<div *ngIf=\"activity\" [attr.id]=\"activity.displayId\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"w-100-p\"\r\n  [ngClass]=\"{'noc-selected': activity.displayId===camService.currentMatch?.activityDisplayId}\">\r\n\r\n  <div class=\"noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div class=\"noc-section-heading\">\r\n        {{annotatedSectionTitle}}\r\n      </div>\r\n      <span fxFlex></span>\r\n    </div>\r\n    <div class=\"noc-form-section noc-tree-container\">\r\n      <tree-root #gpTree (initialized)=\"onGPTreeLoad()\" [nodes]=\"gpTreeNodes\" [options]=\"treeOptions\">\r\n        <ng-template #treeNodeWrapperTemplate let-node let-index=\"index\">\r\n          <div class=\"node-wrapper noc-tree-node\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n            [style.padding-left]=\"node.getNodePadding()\">\r\n            <button mat-icon-button class=\"noc-node-expander-button\" color=\"primary\" (click)=\"node.toggleExpanded()\"\r\n              *ngIf=\"node.hasChildren\">\r\n              <fa-icon *ngIf=\"node?.isCollapsed\" [icon]=\"['fas', 'caret-right']\"></fa-icon>\r\n              <fa-icon *ngIf=\"node?.isExpanded\" [icon]=\"['fas', 'caret-down']\"></fa-icon>\r\n            </button>\r\n            <div class=\"noc-expander-placeholder\" *ngIf=\"!node.hasChildren\">\r\n            </div>\r\n            <div class=\"node-content-wrapper\" fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n              [class.node-content-wrapper-active]=\"node.isActive\" [class.node-content-wrapper-focused]=\"node.isFocused\"\r\n              (click)=\"node.mouseAction('click', $event)\" (dblclick)=\"node.mouseAction('dblClick', $event)\"\r\n              (contextmenu)=\"node.mouseAction('contextMenu', $event)\" (treeDrop)=\"node.onDrop($event)\"\r\n              [treeAllowDrop]=\"node.allowDrop\" [treeDrag]=\"node\" [treeDragEnabled]=\"node.allowDrag()\">\r\n\r\n              <div class=\"noc-annotation-row\" fxFlex=\"\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n                <noc-activity-form-table-node *ngIf=\"node.data.node?.id ===activity.gpNode?.id\" [settings]=\"gpSettings\"\r\n                  [options]=\"gpOptions\" [cam]=\"cam\" [activity]=\"activity\" [entity]=\"node.data.node\" class=\"w-100-p\">\r\n                </noc-activity-form-table-node>\r\n                <noc-activity-form-table-node *ngIf=\"node.data.node?.id !==activity.gpNode?.id\" [settings]=\"settings\"\r\n                  [options]=\"options\" [cam]=\"cam\" [activity]=\"activity\" [entity]=\"node.data.node\" class=\"w-100-p\">\r\n                </noc-activity-form-table-node>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </ng-template>\r\n      </tree-root>\r\n    </div>\r\n  </div>\r\n  <div class=\"noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div class=\"noc-section-heading\">\r\n        {{descriptionSectionTitle}}\r\n      </div>\r\n      <span fxFlex></span>\r\n    </div>\r\n    <div class=\"noc-form-section noc-tree-container\">\r\n      <tree-root #tree (initialized)=\"onTreeLoad()\" [nodes]=\"treeNodes\" [options]=\"treeOptions\">\r\n        <ng-template #treeNodeWrapperTemplate let-node let-index=\"index\">\r\n          <div class=\"node-wrapper noc-tree-node\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n            [style.padding-left]=\"node.getNodePadding()\">\r\n            <button mat-icon-button class=\"noc-node-expander-button\" color=\"primary\" (click)=\"node.toggleExpanded()\"\r\n              *ngIf=\"node.hasChildren\">\r\n              <fa-icon *ngIf=\"node?.isCollapsed\" [icon]=\"['fas', 'caret-right']\"></fa-icon>\r\n              <fa-icon *ngIf=\"node?.isExpanded\" [icon]=\"['fas', 'caret-down']\"></fa-icon>\r\n            </button>\r\n            <div class=\"noc-expander-placeholder\" *ngIf=\"!node.hasChildren\">\r\n            </div>\r\n            <div class=\"node-content-wrapper\" fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n              [class.node-content-wrapper-active]=\"node.isActive\" [class.node-content-wrapper-focused]=\"node.isFocused\"\r\n              (click)=\"node.mouseAction('click', $event)\" (dblclick)=\"node.mouseAction('dblClick', $event)\"\r\n              (contextmenu)=\"node.mouseAction('contextMenu', $event)\" (treeDrop)=\"node.onDrop($event)\"\r\n              [treeAllowDrop]=\"node.allowDrop\" [treeDrag]=\"node\" [treeDragEnabled]=\"node.allowDrag()\">\r\n\r\n              <div class=\"noc-annotation-row\" fxFlex=\"\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n\r\n                <noc-activity-form-table-node [settings]=\"settings\" [options]=\"options\" [cam]=\"cam\"\r\n                  [activity]=\"activity\" [entity]=\"node.data.node\" class=\"w-100-p\">\r\n                </noc-activity-form-table-node>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </ng-template>\r\n      </tree-root>\r\n    </div>\r\n  </div>\r\n</div>","\r\nimport { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { noctuaAnimations } from './../../../../../../../../@noctua/animations';\r\n\r\n\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityEntityService,\r\n  CamService,\r\n  NoctuaUserService,\r\n  NoctuaActivityFormService,\r\n  Evidence,\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport {\r\n  Cam,\r\n  Activity,\r\n  ActivityNode\r\n} from '@geneontology/noctua-form-base';\r\nimport { EditorCategory } from '@noctua.editor/models/editor-category';\r\nimport { SettingsOptions } from '@noctua.common/models/graph-settings';\r\nimport { InlineEditorService } from '@noctua.editor/inline-editor/inline-editor.service';\r\nimport { NoctuaConfirmDialogService } from '@noctua/components/confirm-dialog/confirm-dialog.service';\r\nimport { NoctuaFormDialogService } from 'app/main/apps/noctua-form/services/dialog.service';\r\n\r\n\r\n@Component({\r\n  selector: 'noc-evidence-form-table',\r\n  templateUrl: './evidence-table.component.html',\r\n  styleUrls: ['./evidence-table.component.scss'],\r\n  animations: noctuaAnimations\r\n})\r\nexport class EvidenceFormTableComponent implements OnInit, OnDestroy {\r\n  EditorCategory = EditorCategory;\r\n\r\n  @Input('settings')\r\n  settings: SettingsOptions = new SettingsOptions();\r\n\r\n  @Input('options')\r\n  options: any = {};\r\n\r\n  @Input('cam')\r\n  public cam: Cam;\r\n\r\n  @Input('activity')\r\n  public activity: Activity;\r\n\r\n  @Input('entity')\r\n  public entity: ActivityNode;\r\n\r\n  private unsubscribeAll: Subject<any>;\r\n  currentMenuEvent: any = {};\r\n\r\n  constructor(\r\n    public camService: CamService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    private confirmDialogService: NoctuaConfirmDialogService,\r\n    private noctuaFormDialogService: NoctuaFormDialogService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n    private inlineEditorService: InlineEditorService,\r\n    public noctuaActivityEntityService: NoctuaActivityEntityService) {\r\n\r\n    this.unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribeAll.next(null);\r\n    this.unsubscribeAll.complete();\r\n  }\r\n\r\n  addEvidence(entity: ActivityNode) {\r\n    const self = this;\r\n\r\n    entity.predicate.addEvidence();\r\n    const data = {\r\n      cam: this.cam,\r\n      activity: this.activity,\r\n      entity: entity,\r\n      category: EditorCategory.evidenceAll,\r\n      evidenceIndex: entity.predicate.evidence.length - 1\r\n    };\r\n\r\n    this.camService.onCamChanged.next(this.cam);\r\n    this.camService.activity = this.activity;\r\n    this.noctuaActivityEntityService.initializeForm(this.activity, entity);\r\n    this.inlineEditorService.open(this.currentMenuEvent.target, { data });\r\n\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  createEvidence() {\r\n    const self = this;\r\n\r\n    const success = (evidence: Evidence[]) => {\r\n      if (evidence) {\r\n        this.camService.onCamChanged.next(this.cam);\r\n        this.camService.activity = this.activity;\r\n        this.noctuaActivityEntityService.initializeForm(this.activity, this.entity);\r\n\r\n        self.noctuaActivityEntityService.createEvidence(evidence).then(() => {\r\n          self.noctuaFormDialogService.openInfoToast(`Evidence successfully added.`, 'OK');\r\n          self.noctuaActivityFormService.initializeForm();\r\n        });\r\n      };\r\n    }\r\n    this.noctuaFormDialogService.openAddEvidenceDialog(success);\r\n  }\r\n\r\n  removeEvidence(evidence: Evidence) {\r\n    const self = this;\r\n\r\n    const success = () => {\r\n      self.noctuaActivityEntityService.deleteEvidence(evidence.uuid).then(() => {\r\n        self.noctuaFormDialogService.openInfoToast(`${evidence.evidence.label} successfully deleted.`, 'OK');\r\n      });\r\n    };\r\n\r\n    let message = `You are about to delete ${evidence.evidence.label} \\n \r\n      ${evidence.reference} \\n \r\n      ${evidence.with}`;\r\n\r\n    this.confirmDialogService.openConfirmDialog('Confirm Delete?',\r\n      `${message}`, success);\r\n  }\r\n\r\n  removeReference(evidence: Evidence) {\r\n    const self = this;\r\n\r\n    const success = () => {\r\n      self.noctuaActivityEntityService.deleteEvidenceReference(evidence.uuid, evidence.reference).then(() => {\r\n        self.noctuaFormDialogService.openInfoToast(`${evidence.reference} successfully deleted.`, 'OK');\r\n      });\r\n    };\r\n\r\n    let message = `You are about to delete Reference:  ${evidence.reference}`\r\n\r\n    this.confirmDialogService.openConfirmDialog('Confirm Delete?',\r\n      `${message}`, success);\r\n  }\r\n\r\n  removeWith(evidence: Evidence) {\r\n    const self = this;\r\n\r\n    const success = () => {\r\n      self.noctuaActivityEntityService.deleteEvidenceWith(evidence.uuid, evidence.with).then(() => {\r\n        self.noctuaFormDialogService.openInfoToast(`${evidence.with} successfully deleted.`, 'OK');\r\n      });\r\n    };\r\n\r\n    let message = `You are about to delete With/From:  ${evidence.with}`\r\n\r\n    this.confirmDialogService.openConfirmDialog('Confirm Delete?',\r\n      `${message}`, success);\r\n  }\r\n\r\n\r\n\r\n  updateCurrentMenuEvent(event) {\r\n    this.currentMenuEvent = event;\r\n  }\r\n}\r\n\r\n","<div *ngIf=\"entity.predicate?.evidence.length>0\" class=\"noc-evidence-table noctua-form-table w-100-p\" fxLayout=\"column\"\r\n  fxLayoutAlign=\"start stretch\">\r\n  <div class=\"h-100-p mb-8\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\"\r\n    *ngFor=\"let evidence of entity.predicate?.evidence; let i = index\">\r\n    <div *ngIf=\"settings.showEvidenceCode\" class=\"noc-evidence-code-cell noc-box-cell\" fxFlex=\"\" fxLayout=\"column\"\r\n      fxLayoutAlign=\"start stretch\" [ngClass]=\"{'noc-highlight-modified': evidence.evidence?.modified}\">\r\n      <div class=\"noc-cell-floating-title\">\r\n        Evidence\r\n      </div>\r\n      <span class=\"\">{{evidence.evidence?.label}}<br>\r\n        <a (click)=\"$event.stopPropagation()\" href=\"{{evidence.evidence?.url}}\" target=\"_blank\">\r\n          {{ evidence.evidence?.id }}\r\n        </a>\r\n      </span>\r\n      <button mat-icon-button (click)=\"removeEvidence(evidence)\" class=\"noc-delete-button\" aria-label=\"Delete Evidence\">\r\n        <fa-icon [icon]=\"['far', 'trash-alt']\"></fa-icon>\r\n      </button>\r\n      <noctua-inline-editor *ngIf=\"noctuaUserService.user && options.editableEvidence\" [cam]=\"cam\" [activity]='activity'\r\n        [entity]=\"entity\" [category]=\"EditorCategory.evidence\" [evidenceIndex]=\"i\" class=\"noc-edit-button\">\r\n      </noctua-inline-editor>\r\n    </div>\r\n    <div *ngIf=\"settings.showReference\" class=\"noc-reference-cell noc-box-cell\" fxLayout=\"column\"\r\n      fxLayoutAlign=\"start stretch\"\r\n      [ngClass]=\"{'noc-highlight-match': evidence.referenceEntity?.highlight,\r\n            'noc-highlight-modified': evidence.referenceEntity?.modified,\r\n            'noc-highlight-match-current': camService.currentMatch?.uuid && evidence.referenceEntity?.uuid===camService.currentMatch?.uuid}\">\r\n      <div class=\"noc-cell-floating-title\">\r\n        Reference\r\n      </div>\r\n      <button mat-icon-button (click)=\"removeReference(evidence)\" class=\"noc-delete-button\"\r\n        aria-label=\"Delete Evidence\">\r\n        <fa-icon [icon]=\"['far', 'trash-alt']\"></fa-icon>\r\n      </button>\r\n      <span *ngIf=\"!evidence.referenceEntity?.url\" class=\"\">{{evidence.reference}}</span>\r\n      <span *ngIf=\"evidence.referenceEntity?.url\" class=\"\">\r\n        <a (click)=\"$event.stopPropagation()\" href=\"{{evidence.referenceEntity?.url}}\" target=\"_blank\">\r\n          {{evidence.reference}}\r\n        </a>\r\n      </span>\r\n      <noctua-inline-editor *ngIf=\"noctuaUserService.user && options.editableReference\" [cam]=\"cam\"\r\n        [activity]='activity' [entity]=\"entity\" [category]=\"EditorCategory.reference\" [evidenceIndex]=\"i\"\r\n        class=\"noc-edit-button\">\r\n      </noctua-inline-editor>\r\n    </div>\r\n    <div *ngIf=\"settings.showWith\" class=\"noc-with-cell noc-box-cell\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\"\r\n      [ngClass]=\"{'noc-highlight-modified': evidence.withEntity?.modified}\">\r\n      <div class=\"noc-cell-floating-title\">\r\n        With\r\n      </div>\r\n      <button mat-icon-button (click)=\"removeWith(evidence)\" class=\"noc-delete-button\" aria-label=\"Delete Evidence\">\r\n        <fa-icon [icon]=\"['far', 'trash-alt']\"></fa-icon>\r\n      </button>\r\n      <span *ngIf=\"!evidence.withEntity?.url\" class=\"\">{{evidence.with}}</span>\r\n      <span *ngIf=\"evidence.withEntity?.url\" class=\"\">\r\n        <a (click)=\"$event.stopPropagation()\" href=\"{{evidence.withEntity?.url}}\" target=\"_blank\">\r\n          {{evidence.with}}\r\n        </a>\r\n      </span>\r\n      <noctua-inline-editor *ngIf=\"noctuaUserService.user && options.editableWith\" [cam]=\"cam\" [activity]='activity'\r\n        [entity]=\"entity\" [category]=\"EditorCategory.with\" [evidenceIndex]=\"i\" class=\"noc-edit-button\">\r\n      </noctua-inline-editor>\r\n    </div>\r\n    <div *ngIf=\"noctuaUserService.user && options.showEvidenceMenu\" class=\"noc-cell noc-action-cell\" fxLayout=\"column\"\r\n      fxLayoutAlign=\"center center\">\r\n      <button mat-icon-button (click)=\"updateCurrentMenuEvent($event)\" class=\"noc-action-button\" fxFlex=\"40px\"\r\n        [matMenuTriggerFor]=\"evidenceMenu\">\r\n        <mat-icon>more_vert</mat-icon>\r\n      </button>\r\n      <mat-menu #evidenceMenu=\"matMenu\">\r\n        <button mat-menu-item (click)=\"addEvidence(entity)\" class=\"\">\r\n          Add Evidence\r\n        </button>\r\n        <button (click)=\"removeEvidence(entity,i)\" mat-menu-item>\r\n          Remove Evidence\r\n        </button>\r\n      </mat-menu>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf=\"entity.predicate.evidence.length===0\" class=\"noc-no-info\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n  no evidence present.\r\n  <button *ngIf=\"options.showAddEvidenceButton\" mat-button (click)=\"createEvidence()\" class=\"\">\r\n    +\r\n  </button>\r\n</div>","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { noctuaAnimations } from './../../../../../../../@noctua/animations';\r\nimport { NoctuaFormDialogService } from './../../../services/dialog.service';\r\n\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  NoctuaActivityEntityService,\r\n  CamService,\r\n  Evidence,\r\n  Entity,\r\n  noctuaFormConfig,\r\n  NoctuaUserService,\r\n  ActivityType\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport {\r\n  Cam,\r\n  Activity,\r\n  ActivityNode,\r\n  ShapeDefinition\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { EditorCategory } from '@noctua.editor/models/editor-category';\r\nimport { find } from 'lodash';\r\nimport { InlineEditorService } from '@noctua.editor/inline-editor/inline-editor.service';\r\nimport { NoctuaUtils } from '@noctua/utils/noctua-utils';\r\n\r\n@Component({\r\n  selector: 'noc-activity-table',\r\n  templateUrl: './activity-table.component.html',\r\n  styleUrls: ['./activity-table.component.scss'],\r\n  animations: noctuaAnimations\r\n})\r\nexport class ActivityTableComponent implements OnInit, OnDestroy {\r\n  EditorCategory = EditorCategory;\r\n  ActivityType = ActivityType;\r\n  activityTypeOptions = noctuaFormConfig.activityType.options;\r\n\r\n  @Input('cam')\r\n  cam: Cam\r\n\r\n  @Input('activity')\r\n  activity: Activity\r\n\r\n  @Input('options')\r\n  options: any = {};\r\n\r\n  optionsDisplay: any = {}\r\n\r\n  gpNode: ActivityNode;\r\n  nodes: ActivityNode[] = [];\r\n  editableTerms = false;\r\n  currentMenuEvent: any = {};\r\n\r\n  private unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    public camService: CamService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private noctuaFormDialogService: NoctuaFormDialogService,\r\n    public noctuaActivityEntityService: NoctuaActivityEntityService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n    private inlineEditorService: InlineEditorService) {\r\n\r\n    this.unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const self = this;\r\n\r\n    if (this.options?.editableTerms) {\r\n      this.editableTerms = this.options.editableTerms\r\n    }\r\n    this.gpNode = this.activity.getGPNode();\r\n\r\n    this.optionsDisplay = { ...this.options, hideHeader: true };\r\n    this.nodes = this.activity.nodes.filter((node) => {\r\n      return (node.id !== self.gpNode?.id);\r\n    });\r\n  }\r\n\r\n\r\n  toggleExpand(activity: Activity) {\r\n    activity.expanded = !activity.expanded;\r\n  }\r\n\r\n  displayCamErrors() {\r\n    const errors = this.cam.getViolationDisplayErrors();\r\n    this.noctuaFormDialogService.openCamErrorsDialog(errors);\r\n  }\r\n\r\n  displayActivityErrors(activity: Activity) {\r\n    const errors = activity.getViolationDisplayErrors();\r\n    this.noctuaFormDialogService.openCamErrorsDialog(errors);\r\n  }\r\n\r\n\r\n  addEvidence(entity: ActivityNode) {\r\n    const self = this;\r\n\r\n    entity.predicate.addEvidence();\r\n    const data = {\r\n      cam: this.cam,\r\n      activity: this.activity,\r\n      entity: entity,\r\n      category: EditorCategory.evidenceAll,\r\n      evidenceIndex: entity.predicate.evidence.length - 1\r\n    };\r\n\r\n    this.camService.onCamChanged.next(this.cam);\r\n    this.camService.activity = this.activity;\r\n    this.noctuaActivityEntityService.initializeForm(this.activity, entity);\r\n    this.inlineEditorService.open(this.currentMenuEvent.target, { data });\r\n\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  removeEvidence(entity: ActivityNode, index: number) {\r\n    const self = this;\r\n\r\n    entity.predicate.removeEvidence(index);\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  toggleIsComplement() {\r\n\r\n  }\r\n\r\n  openSearchDatabaseDialog(entity: ActivityNode) {\r\n    const self = this;\r\n    const gpNode = this.noctuaActivityFormService.activity.getGPNode();\r\n\r\n    if (gpNode) {\r\n      const data = {\r\n        readonly: false,\r\n        gpNode: gpNode.term,\r\n        aspect: entity.aspect,\r\n        entity: entity,\r\n        params: {\r\n          term: '',\r\n          evidence: ''\r\n        }\r\n      };\r\n\r\n      const success = function (selected) {\r\n        if (selected.term) {\r\n          entity.term = new Entity(selected.term.term.id, selected.term.term.label);\r\n\r\n          if (selected.evidences && selected.evidences.length > 0) {\r\n            entity.predicate.setEvidence(selected.evidences);\r\n          }\r\n          self.noctuaActivityFormService.initializeForm();\r\n        }\r\n      };\r\n\r\n      self.noctuaFormDialogService.openSearchDatabaseDialog(data, success);\r\n    } else {\r\n      // const error = new ActivityError(ErrorLevel.error, ErrorType.general,  \"Please enter a gene product\", meta)\r\n      //errors.push(error);\r\n      // self.dialogService.openActivityErrorsDialog(ev, entity, errors)\r\n    }\r\n  }\r\n\r\n\r\n  insertEntity(entity: ActivityNode, nodeDescription: ShapeDefinition.ShapeDescription) {\r\n    const insertedNode = this.noctuaFormConfigService.insertActivityNode(this.activity, entity, nodeDescription);\r\n    //  this.noctuaActivityFormService.initializeForm();\r\n\r\n    const data = {\r\n      cam: this.cam,\r\n      activity: this.activity,\r\n      entity: insertedNode,\r\n      category: EditorCategory.all,\r\n      evidenceIndex: 0,\r\n      insertEntity: true\r\n    };\r\n\r\n    this.camService.onCamChanged.next(this.cam);\r\n    this.camService.activity = this.activity;\r\n    this.noctuaActivityEntityService.initializeForm(this.activity, insertedNode);\r\n    this.inlineEditorService.open(this.currentMenuEvent.target, { data });\r\n  }\r\n\r\n  addRootTerm(entity: ActivityNode) {\r\n    const self = this;\r\n\r\n    const term = find(noctuaFormConfig.rootNode, (rootNode) => {\r\n      return rootNode.aspect === entity.aspect;\r\n    });\r\n\r\n    if (term) {\r\n      entity.term = new Entity(term.id, term.label);\r\n      self.noctuaActivityFormService.initializeForm();\r\n\r\n      const evidence = new Evidence();\r\n      evidence.setEvidence(new Entity(\r\n        noctuaFormConfig.evidenceAutoPopulate.nd.evidence.id,\r\n        noctuaFormConfig.evidenceAutoPopulate.nd.evidence.label));\r\n      evidence.reference = noctuaFormConfig.evidenceAutoPopulate.nd.reference;\r\n      entity.predicate.setEvidence([evidence]);\r\n      self.noctuaActivityFormService.initializeForm();\r\n    }\r\n  }\r\n\r\n  clearValues(entity: ActivityNode) {\r\n    const self = this;\r\n\r\n    entity.clearValues();\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  openSelectEvidenceDialog(entity: ActivityNode) {\r\n    const self = this;\r\n    const evidences: Evidence[] = this.camService.getUniqueEvidence(self.noctuaActivityFormService.activity);\r\n    const success = (selected) => {\r\n      if (selected.evidences && selected.evidences.length > 0) {\r\n        entity.predicate.setEvidence(selected.evidences);\r\n        self.noctuaActivityFormService.initializeForm();\r\n      }\r\n    };\r\n\r\n    self.noctuaFormDialogService.openSelectEvidenceDialog(evidences, success);\r\n  }\r\n\r\n  updateCurrentMenuEvent(event) {\r\n    this.currentMenuEvent = event;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribeAll.next(null);\r\n    this.unsubscribeAll.complete();\r\n  }\r\n\r\n  cleanId(dirtyId: string) {\r\n    return NoctuaUtils.cleanID(dirtyId);\r\n  }\r\n}\r\n\r\n","<div class=\"w-100-p\">\r\n  <div [attr.id]=\"activity.displayId\" class=\"w-100-p\"\r\n    [ngClass]=\"{'noc-selected': activity.displayId===camService.currentMatch?.activityDisplayId}\">\r\n    <div class=\"noc-activity-heading\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div fxFlex=\"25px\" (click)=\"$event.stopPropagation()\">\r\n        <button mat-icon-button (click)=\"toggleExpand(activity)\" color=\"primary\" class=\"noc-toggle-expand-button\">\r\n          <fa-icon *ngIf=\"!activity.expanded\" [icon]=\"['fas', 'caret-right']\"></fa-icon>\r\n          <fa-icon *ngIf=\"activity.expanded\" [icon]=\"['fas', 'caret-down']\"></fa-icon>\r\n        </button>\r\n      </div>\r\n      <div class=\"noc-display-number noc-sm mr-8\" (click)=\"$event.stopPropagation()\">\r\n        {{activity.displayNumber}}\r\n      </div>\r\n      <div class=\"noc-title  mr-12\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-relation mr-12\"> <small>{{gpNode?.predicate?.edge?.label}}</small> </div>\r\n        <div class=\"noc-gp\" *ngIf=\"gpNode\" [attr.id]=\"gpNode.term?.displayId\"\r\n          [ngClass]=\"{'noc-highlight-match': gpNode.term?.highlight,\r\n        'noc-highlight-modified': gpNode.term?.modified,\r\n        'noc-highlight-match-current': camService.currentMatch?.uuid && gpNode.term?.uuid===camService.currentMatch?.uuid}\" fxLayout=\"column\" fxLayoutAlign=\"center start\">\r\n          <span class=\"noc-old-term text-truncate\" *ngIf=\"gpNode.term?.modified && gpNode.term?.termHistory?.length>0\">\r\n            {{gpNode.term?.termHistory[0]?.label}}\r\n            <a (click)=\"$event.stopPropagation()\" href=\"{{gpNode.term?.termHistory[0]?.url}}\" target=\"_blank\">\r\n              {{ gpNode.term?.termHistory[0]?.id }}\r\n            </a>\r\n          </span>\r\n          <span class=\"text-truncate\">\r\n            {{gpNode.term?.label}}\r\n          </span>\r\n          <a class=\"text-truncate\" (click)=\"$event.stopPropagation()\" href=\"{{gpNode.term?.url}}\" target=\"_blank\">\r\n            {{ gpNode.term?.id }}\r\n          </a>\r\n          <noctua-inline-editor *ngIf=\"noctuaUserService.user && gpNode.term && options.editableTerms\" [cam]=\"cam\"\r\n            [activity]='activity' [entity]=\"gpNode\" [category]=\"EditorCategory.term\" class=\"noc-edit-button\">\r\n          </noctua-inline-editor>\r\n        </div>\r\n      </div>\r\n      <mat-chip class=\"noc-chip-xs\" [ngClass]=\"activity.activityType\">\r\n        <span>{{activityTypeOptions[activity.activityType]?.label}}</span>\r\n      </mat-chip>\r\n      <div *ngIf=\"activity.hasViolations\" class=\"noc-error\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <mat-chip class=\"noc-error-chip\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n          (click)=\"displayActivityErrors(activity)\">\r\n          <div class=\"noc-icon\">\r\n            <fa-icon [icon]=\"['fas', 'exclamation-triangle']\"></fa-icon>\r\n          </div>\r\n          <div fxFlex=\"\" class=\"noc-chip-label\">\r\n            {{activity.violations?.length}} Errors Found\r\n          </div>\r\n        </mat-chip>\r\n      </div>\r\n      <span fxFlex=\"\"></span>\r\n      <!--\r\n    <div *ngIf=\"!options.reviewMode\" class=\"\" fxFlex=\"200px\" fxLayout=\"row\" fxLayoutAlign=\"end center\">\r\n      <button *ngIf=\"activity.activityType !==ActivityType.ccOnly\" mat-stroked-button\r\n        (click)=\"openActivityConnector(activity)\" color=\"primary\" class=\"noc-rounded-button noc-sm mr-8\"\r\n        matTooltip=\"connect activity causal relation\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n        <small>Connect</small>\r\n      </button>\r\n       <button mat-stroked-button (click)=\"openActivityForm(activity)\" color=\"primary\"\r\n        class=\"noc-rounded-button noc-sm mr-8\">\r\n        <small>Edit</small>\r\n      </button> \r\n      <button mat-icon-button class=\"noc-rounded-button noc-sm\" fxFlex=\"40px\" color=\"primary\"\r\n        [matMenuTriggerFor]=\"connectionOptionMenu\">\r\n        <mat-icon>more_vert</mat-icon>\r\n      </button>\r\n      <mat-menu #connectionOptionMenu=\"matMenu\" class=\"noc-dropdown-menu\">\r\n        <h6 class=\"noc-menu-heading\"> Danger Zone</h6>\r\n        <button mat-menu-item class=\"\" (click)=\"deleteActivity(activity)\">\r\n          Delete Activity\r\n        </button>\r\n      </mat-menu>\r\n     \r\n    </div>-->\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"activity.expanded\" class=\"noc-activity-table w-100-p\"\r\n    [ngClass]=\"{'noc-selected': activity.displayId===camService.currentMatch?.activityDisplayId}\" fxLayout=\"column\"\r\n    fxLayoutAlign=\"start start\">\r\n    <div class=\"noctua-form-table noc-activity-header w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div *ngIf=\"!options.slimViewer\" fxFlex=\"\" class=\"noc-cell noc-relation-cell\">\r\n        Relationship\r\n      </div>\r\n      <div class=\"noc-cell noc-term-cell\" fxFlex=\"\">\r\n        Term\r\n      </div>\r\n      <div *ngIf=\"!options.slimViewer\" class=\"noc-cell noc-aspect-cell\">\r\n        Asp\r\n      </div>\r\n      <div class=\"noc-cell noc-extension-cell\">\r\n        Ext\r\n      </div>\r\n      <div class=\"noc-evidence-cell\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-cell noc-evidence-code-cell\" fxFlex=\"\">\r\n          Evidence\r\n        </div>\r\n        <div class=\"noc-cell noc-reference-cell\">\r\n          Reference\r\n        </div>\r\n        <div class=\"noc-cell noc-with-cell\">\r\n          With\r\n        </div>\r\n        <div class=\"noc-cell noc-group-cell\">\r\n          Assigned By\r\n        </div>\r\n        <div class=\"noc-cell noc-contributor-cell\">\r\n          Contributor\r\n        </div>\r\n      </div>\r\n      <div class=\"noc-cell noc-action-cell\"> </div>\r\n    </div>\r\n    <noc-activity-tree-node *ngFor=\"let node of nodes\" [options]=\"options\" [cam]=\"cam\" [activity]=\"activity\"\r\n      [entity]=\"node\" class=\"w-100-p\">\r\n    </noc-activity-tree-node>\r\n    <div *ngIf=\"activity.nodes?.length===0\" class=\"noc-no-info\">\r\n      no results yet.\r\n    </div>\r\n  </div>\r\n</div>","\r\nimport { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { noctuaAnimations } from './../../../../../../../../@noctua/animations';\r\n\r\n\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityEntityService,\r\n  CamService,\r\n  NoctuaUserService,\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport {\r\n  Cam,\r\n  ActivityNode\r\n} from '@geneontology/noctua-form-base';\r\nimport { EditorCategory } from '@noctua.editor/models/editor-category';\r\nimport { SettingsOptions } from '@noctua.common/models/graph-settings';\r\n\r\n\r\n@Component({\r\n  selector: 'noc-evidence-table',\r\n  templateUrl: './evidence-table.component.html',\r\n  styleUrls: ['./evidence-table.component.scss'],\r\n  animations: noctuaAnimations\r\n})\r\nexport class EvidenceTableComponent implements OnInit, OnDestroy {\r\n  EditorCategory = EditorCategory;\r\n\r\n  @Input('settings')\r\n  settings: SettingsOptions = new SettingsOptions();\r\n\r\n  @Input('options')\r\n  options: any = {};\r\n\r\n  @Input('cam')\r\n  public cam: Cam;\r\n\r\n  @Input('entity')\r\n  public entity: ActivityNode;\r\n\r\n  private unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    public camService: CamService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityEntityService: NoctuaActivityEntityService) {\r\n\r\n    this.unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribeAll.next(null);\r\n    this.unsubscribeAll.complete();\r\n  }\r\n}\r\n\r\n","<div *ngIf=\"entity.predicate?.evidence.length>0\" class=\"noc-evidence-table noctua-form-table w-100-p\" fxLayout=\"column\"\r\n  fxLayoutAlign=\"start stretch\">\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"start stretch\" class=\"noc-row\"\r\n    *ngFor=\"let evidence of entity.predicate?.evidence; let i = index\">\r\n    <div *ngIf=\"settings.showEvidenceCode\" class=\"noc-evidence-code-cell noc-box-cell\" fxFlex=\"\" fxLayout=\"column\"\r\n      fxLayoutAlign=\"start stretch\" [ngClass]=\"{'noc-highlight-modified': evidence.evidence?.modified}\">\r\n      <span class=\"noc-old-term\" *ngIf=\"evidence.evidence?.modified && evidence.evidence?.termHistory?.length>0\">\r\n        {{evidence.evidence?.termHistory[0]?.label}}\r\n        <a (click)=\"$event.stopPropagation()\" href=\"{{evidence.evidence?.termHistory[0]?.url}}\" target=\"_blank\">\r\n          {{ evidence.evidence?.termHistory[0]?.id }}\r\n        </a>\r\n      </span>\r\n      <span class=\"\">{{evidence.evidence?.label}}<br>\r\n        <a (click)=\"$event.stopPropagation()\" href=\"{{evidence.evidence?.url}}\" target=\"_blank\">\r\n          {{ evidence.evidence?.id }}\r\n        </a>\r\n      </span>\r\n      <noctua-inline-editor *ngIf=\"noctuaUserService.user && options.editableEvidence\" [cam]=\"cam\" [activity]='activity'\r\n        [entity]=\"entity\" [category]=\"EditorCategory.evidence\" [evidenceIndex]=\"i\" class=\"noc-edit-button\">\r\n      </noctua-inline-editor>\r\n    </div>\r\n    <div *ngIf=\"settings.showReference\" class=\"noc-reference-cell noc-box-cell\" fxLayout=\"column\"\r\n      fxLayoutAlign=\"start stretch\"\r\n      [ngClass]=\"{'noc-highlight-match': evidence.referenceEntity?.highlight,\r\n            'noc-highlight-modified': evidence.referenceEntity?.modified,\r\n            'noc-highlight-match-current': camService.currentMatch?.uuid && evidence.referenceEntity?.uuid===camService.currentMatch?.uuid}\">\r\n      <span class=\"noc-old-term\"\r\n        *ngIf=\"evidence.referenceEntity?.modified && evidence.referenceEntity?.termHistory?.length>0\">\r\n        <a (click)=\"$event.stopPropagation()\" href=\"{{evidence.referenceEntity?.termHistory[0]?.url}}\" target=\"_blank\">\r\n          {{ evidence.referenceEntity?.termHistory[0]?.id }}\r\n        </a>\r\n      </span>\r\n      <span *ngIf=\"!evidence.referenceEntity?.url\" class=\"\">{{evidence.reference}}</span>\r\n      <span *ngIf=\"evidence.referenceEntity?.url\" class=\"\">\r\n        <a (click)=\"$event.stopPropagation()\" href=\"{{evidence.referenceEntity?.url}}\" target=\"_blank\">\r\n          {{evidence.reference}}\r\n        </a>\r\n      </span>\r\n      <noctua-inline-editor *ngIf=\"noctuaUserService.user && options.editableReference\" [cam]=\"cam\"\r\n        [activity]='activity' [entity]=\"entity\" [category]=\"EditorCategory.reference\" [evidenceIndex]=\"i\"\r\n        class=\"noc-edit-button\">\r\n      </noctua-inline-editor>\r\n    </div>\r\n    <div *ngIf=\"settings.showWith\" class=\"noc-with-cell noc-box-cell\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\"\r\n      [ngClass]=\"{'noc-highlight-modified': evidence.withEntity?.modified}\">\r\n      <span class=\"noc-old-term\" *ngIf=\"evidence.withEntity?.modified && evidence.withEntity?.termHistory?.length>0\">\r\n        <a (click)=\"$event.stopPropagation()\" href=\"{{evidence.withEntity?.termHistory[0]?.url}}\" target=\"_blank\">\r\n          {{ evidence.withEntity?.termHistory[0]?.id }}\r\n        </a>\r\n      </span>\r\n      <span *ngIf=\"!evidence.withEntity?.url\" class=\"\">{{evidence.with}}</span>\r\n      <span *ngIf=\"evidence.withEntity?.url\" class=\"\">\r\n        <a (click)=\"$event.stopPropagation()\" href=\"{{evidence.withEntity?.url}}\" target=\"_blank\">\r\n          {{evidence.with}}\r\n        </a>\r\n      </span>\r\n      <noctua-inline-editor *ngIf=\"noctuaUserService.user && options.editableWith\" [cam]=\"cam\" [activity]='activity'\r\n        [entity]=\"entity\" [category]=\"EditorCategory.with\" [evidenceIndex]=\"i\" class=\"noc-edit-button\">\r\n      </noctua-inline-editor>\r\n    </div>\r\n    <div *ngIf=\"settings.showGroup\" class=\"noc-group-cell noc-box-cell\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <span class=\"\">\r\n        <span *ngFor=\"let group of evidence.groups; let i=index; let isLast=last\">\r\n          <a (click)=\"$event.stopPropagation()\" href=\"{{group.url}}\" target=\"_blank\">\r\n            {{group.name}}\r\n          </a>\r\n          <span *ngIf=\"!isLast\">&#44;&nbsp;</span>\r\n        </span>\r\n      </span>\r\n    </div>\r\n    <div *ngIf=\"settings.showContributor\" class=\"noc-contributor-cell noc-box-cell\" fxLayout=\"column\"\r\n      fxLayoutAlign=\"start stretch\">\r\n      <span class=\"\">\r\n        <span *ngFor=\"let contributor of evidence.contributors; let i=index; let isLast=last\">\r\n          <a (click)=\"$event.stopPropagation()\" href=\"{{contributor.urcid}}\" target=\"_blank\">\r\n            {{contributor.name}}\r\n          </a>\r\n          <span *ngIf=\"!isLast\">&#44;&nbsp;</span>\r\n        </span>\r\n      </span>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf=\"entity.predicate?.evidence.length===0\" class=\"noc-no-info\">\r\n  no evidence present.\r\n</div>","import { Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { noctuaAnimations } from './../../../../../../../@noctua/animations';\r\nimport { NoctuaFormDialogService } from './../../../services/dialog.service';\r\n\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  NoctuaActivityEntityService,\r\n  CamService,\r\n  noctuaFormConfig,\r\n  NoctuaUserService,\r\n  ActivityType\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport {\r\n  Cam,\r\n  Activity,\r\n  ActivityNode,\r\n  compareNodeWeight,\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { EditorCategory } from '@noctua.editor/models/editor-category';\r\nimport { NoctuaUtils } from '@noctua/utils/noctua-utils';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { FlatTreeControl } from '@angular/cdk/tree';\r\n\r\n@Component({\r\n  selector: 'noc-activity-tree-table',\r\n  templateUrl: './activity-tree-table.component.html',\r\n  styleUrls: ['./activity-tree-table.component.scss'],\r\n  animations: noctuaAnimations\r\n})\r\nexport class ActivityTreeTableComponent implements OnInit, OnDestroy {\r\n  EditorCategory = EditorCategory;\r\n  ActivityType = ActivityType;\r\n  activityTypeOptions = noctuaFormConfig.activityType.options;\r\n  dataSource: MatTableDataSource<ActivityNode>;\r\n\r\n  @ViewChild('tree') tree;\r\n\r\n  @Input('cam')\r\n  cam: Cam\r\n\r\n  @Input('activity')\r\n  activity: Activity\r\n\r\n  @Input('options')\r\n  options: any = {};\r\n\r\n  gpNode: ActivityNode;\r\n  treeControl = new FlatTreeControl<ActivityNode>(\r\n    node => node.treeLevel, node => node.expandable);\r\n\r\n  private unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    public camService: CamService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private noctuaFormDialogService: NoctuaFormDialogService,\r\n    public noctuaActivityEntityService: NoctuaActivityEntityService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService) {\r\n\r\n    this.dataSource = new MatTableDataSource<ActivityNode>();\r\n    this.unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.gpNode = this.activity.getGPNode();\r\n\r\n    this.dataSource.data = this.activity.nodes.sort(compareNodeWeight);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribeAll.next(null);\r\n    this.unsubscribeAll.complete();\r\n  }\r\n\r\n  onTreeLoad() {\r\n    this.tree.treeModel.expandAll();\r\n  }\r\n\r\n  hasChild = (_: number, node: ActivityNode) => node.expandable;\r\n\r\n\r\n  toggleExpand(activity: Activity) {\r\n    activity.expanded = !activity.expanded;\r\n  }\r\n\r\n  toggleNodeExpand(node: ActivityNode) {\r\n    node.expanded = !node.expanded;\r\n  }\r\n\r\n  displayCamErrors() {\r\n    const errors = this.cam.getViolationDisplayErrors();\r\n    this.noctuaFormDialogService.openCamErrorsDialog(errors);\r\n  }\r\n\r\n  displayActivityErrors(activity: Activity) {\r\n    const errors = activity.getViolationDisplayErrors();\r\n    this.noctuaFormDialogService.openCamErrorsDialog(errors);\r\n  }\r\n\r\n  cleanId(dirtyId: string) {\r\n    return NoctuaUtils.cleanID(dirtyId);\r\n  }\r\n}\r\n\r\n","<div [attr.id]=\"activity.displayId\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"w-100-p\"\r\n  [ngClass]=\"{'noc-selected': activity.displayId===camService.currentMatch?.activityDisplayId}\">\r\n  <div class=\"noc-activity-heading\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <div fxFlex=\"25px\" (click)=\"$event.stopPropagation()\">\r\n      <button mat-icon-button (click)=\"toggleExpand(activity)\" color=\"primary\" class=\"noc-toggle-expand-button\">\r\n        <fa-icon *ngIf=\"!activity.expanded\" [icon]=\"['fas', 'caret-right']\"></fa-icon>\r\n        <fa-icon *ngIf=\"activity.expanded\" [icon]=\"['fas', 'caret-down']\"></fa-icon>\r\n      </button>\r\n    </div>\r\n    <div class=\"noc-display-number noc-sm\" (click)=\"$event.stopPropagation()\">\r\n      {{activity.displayNumber}}\r\n    </div>\r\n    <div class=\"noc-title mr-12\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div class=\"noc-gp\" *ngIf=\"gpNode\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <span class=\"text-truncate\">\r\n          {{gpNode.term?.label}}\r\n          <a class=\"ml-4\" (click)=\"$event.stopPropagation()\" href=\"{{gpNode.term?.url}}\" target=\"_blank\">\r\n            {{ gpNode.term?.id }}\r\n          </a>\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <mat-chip class=\"noc-chip-xs\" [ngClass]=\"activity.activityType\">\r\n      <span>{{activityTypeOptions[activity.activityType]?.label}}</span>\r\n    </mat-chip>\r\n    <div *ngIf=\"activity.hasViolations\" class=\"noc-error\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <mat-chip class=\"noc-error-chip noc-chip-xs ml-8\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n        (click)=\"displayActivityErrors(activity)\">\r\n        <div class=\"noc-icon\">\r\n          <fa-icon [icon]=\"['fas', 'exclamation-triangle']\"></fa-icon>\r\n        </div>\r\n        <div fxFlex=\"\" class=\"noc-chip-label\">\r\n          {{activity.violations?.length}} Errors Found\r\n        </div>\r\n      </mat-chip>\r\n    </div>\r\n    <span fxFlex=\"\"></span>\r\n  </div>\r\n  <div *ngIf=\"activity.expanded\" class=\"noc-tree-container\">\r\n    <div class=\"noctua-form-table noc-activity-header w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div *ngIf=\"!options.slimViewer\" class=\"noc-cell noc-relation-cell\">\r\n        Relationship\r\n      </div>\r\n      <div class=\"noc-cell noc-term-cell\" fxFlex=\"\">\r\n        Term\r\n      </div>\r\n      <div class=\"noc-cell noc-aspect-cell\">\r\n        Asp\r\n      </div>\r\n      <div class=\"noc-cell noc-extension-cell\">\r\n        Ext\r\n      </div>\r\n      <div class=\"noc-evidence-cell\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-cell noc-evidence-code-cell\" fxFlex=\"\">\r\n          Evidence\r\n        </div>\r\n        <div class=\"noc-cell noc-reference-cell\">\r\n          Reference\r\n        </div>\r\n        <div class=\"noc-cell noc-with-cell\">\r\n          With\r\n        </div>\r\n        <div class=\"noc-cell noc-group-cell\">\r\n          Assigned By\r\n        </div>\r\n        <div class=\"noc-cell noc-contributor-cell\">\r\n          Contributor\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"noctuaUserService.user &&  options.showMenu\" class=\"noc-cell noc-action-cell\"> </div>\r\n    </div>\r\n    <mat-tree #tree *ngIf=\"dataSource?.data\" [dataSource]=\"dataSource\" [treeControl]=\"treeControl\">\r\n      <mat-tree-node class=\"noc-tree-node\" *matTreeNodeDef=\"let node\" matTreeNodeToggle matTreeNodePadding\r\n        matTreeNodePaddingIndent=\"16\" [ngClass]=\"{ 'background-highlight': activeAnnotation === node.uuid}\">\r\n        <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <button mat-icon-button disabled class=\"noc-icon-button\"></button>\r\n          <div class=\"noc-annotation-row\" fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n            <div *ngIf=\"options.slimViewer\" class=\"noc-cell-label\">\r\n              {{node.label}}\r\n            </div>\r\n            <noc-activity-tree-node [options]=\"options\" [cam]=\"cam\" [activity]=\"activity\" [entity]=\"node\"\r\n              class=\"w-100-p\">\r\n            </noc-activity-tree-node>\r\n          </div>\r\n        </div>\r\n      </mat-tree-node>\r\n      <mat-tree-node fxLayout=\"row\" class=\"noc-tree-node\" *matTreeNodeDef=\"let node;when: hasChild\" matTreeNodePadding\r\n        matTreeNodePaddingIndent=\"16\" [ngClass]=\"{ 'background-highlight': activeAnnotation === node.uuid}\">\r\n        <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <div class=\"noc-annotation-row\" fxFlex=\"\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n            <div *ngIf=\"options.slimViewer\" class=\"noc-cell-label\">\r\n              {{node.label}}\r\n            </div>\r\n            <noc-activity-tree-node [options]=\"options\" [cam]=\"cam\" [activity]=\"activity\" [entity]=\"node\"\r\n              class=\"w-100-p\">\r\n            </noc-activity-tree-node>\r\n          </div>\r\n        </div>\r\n      </mat-tree-node>\r\n    </mat-tree>\r\n  </div>\r\n</div>","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { noctuaAnimations } from './../../../../../../../../@noctua/animations';\r\nimport { NoctuaFormDialogService } from './../../../../services/dialog.service';\r\n\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  NoctuaActivityEntityService,\r\n  CamService,\r\n  Evidence,\r\n  Entity,\r\n  noctuaFormConfig,\r\n  NoctuaUserService,\r\n  ActivityType\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport {\r\n  Cam,\r\n  Activity,\r\n  ActivityNode,\r\n  ShapeDefinition\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { EditorCategory } from '@noctua.editor/models/editor-category';\r\nimport { find } from 'lodash';\r\nimport { InlineEditorService } from '@noctua.editor/inline-editor/inline-editor.service';\r\nimport { NoctuaUtils } from '@noctua/utils/noctua-utils';\r\nimport { NoctuaConfirmDialogService } from '@noctua/components/confirm-dialog/confirm-dialog.service';\r\n\r\n@Component({\r\n  selector: 'noc-activity-tree-node',\r\n  templateUrl: './activity-tree-node.component.html',\r\n  styleUrls: ['./activity-tree-node.component.scss'],\r\n  animations: noctuaAnimations\r\n})\r\nexport class ActivityTreeNodeComponent implements OnInit, OnDestroy {\r\n  EditorCategory = EditorCategory;\r\n  ActivityType = ActivityType;\r\n  activityTypeOptions = noctuaFormConfig.activityType.options;\r\n\r\n\r\n  @Input('cam')\r\n  cam: Cam;\r\n\r\n  @Input('activity')\r\n  activity: Activity;\r\n\r\n  @Input('entity')\r\n  entity: ActivityNode;\r\n\r\n  @Input('options')\r\n  options: any = {};\r\n\r\n  relationWidth = '0px';\r\n\r\n  optionsDisplay: any = {}\r\n\r\n  editableTerms = false;\r\n  currentMenuEvent: any = {};\r\n\r\n  private unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    public camService: CamService,\r\n    private confirmDialogService: NoctuaConfirmDialogService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private noctuaFormDialogService: NoctuaFormDialogService,\r\n    public noctuaActivityEntityService: NoctuaActivityEntityService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n    private inlineEditorService: InlineEditorService) {\r\n    this.unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    if (this.options?.editableTerms) {\r\n      this.editableTerms = this.options.editableTerms\r\n    }\r\n\r\n    this.optionsDisplay = { ...this.options, hideHeader: true };\r\n    this.relationWidth = 150 - (this.entity.treeLevel) * 16 + 'px';\r\n\r\n  }\r\n\r\n  editEntity(entity: ActivityNode) {\r\n\r\n    const data = {\r\n      cam: this.cam,\r\n      activity: this.activity,\r\n      entity: entity,\r\n      category: EditorCategory.all,\r\n      evidenceIndex: 0,\r\n      insertEntity: true\r\n    };\r\n\r\n    this.camService.onCamChanged.next(this.cam);\r\n    this.camService.activity = this.activity;\r\n    this.noctuaActivityEntityService.initializeForm(this.activity, entity);\r\n    this.inlineEditorService.open(this.currentMenuEvent.target, { data });\r\n  }\r\n\r\n  toggleExpand(activity: Activity) {\r\n    activity.expanded = !activity.expanded;\r\n  }\r\n\r\n  displayCamErrors() {\r\n    const errors = this.cam.getViolationDisplayErrors();\r\n    this.noctuaFormDialogService.openCamErrorsDialog(errors);\r\n  }\r\n\r\n  displayActivityErrors(activity: Activity) {\r\n    const errors = activity.getViolationDisplayErrors();\r\n    this.noctuaFormDialogService.openCamErrorsDialog(errors);\r\n  }\r\n\r\n\r\n  addEvidence(entity: ActivityNode) {\r\n    const self = this;\r\n\r\n    entity.predicate.addEvidence();\r\n    const data = {\r\n      cam: this.cam,\r\n      activity: this.activity,\r\n      entity: entity,\r\n      category: EditorCategory.evidenceAll,\r\n      evidenceIndex: entity.predicate.evidence.length - 1\r\n    };\r\n\r\n    this.camService.onCamChanged.next(this.cam);\r\n    this.camService.activity = this.activity;\r\n    this.noctuaActivityEntityService.initializeForm(this.activity, entity);\r\n    this.inlineEditorService.open(this.currentMenuEvent.target, { data });\r\n\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  deleteEntity(entity: ActivityNode) {\r\n    const self = this;\r\n\r\n    const success = () => {\r\n      this.noctuaActivityEntityService.deleteActivityNode(self.activity, entity).then(() => {\r\n        self.noctuaFormDialogService.openInfoToast(`${entity.term.label} successfully deleted.`, 'OK');\r\n\r\n      });\r\n    };\r\n\r\n    const descendants = this.activity.descendants(entity.id).map((node: ActivityNode) => {\r\n      return node.term.label\r\n    }).join(\", \");\r\n    let message = `You are about to delete an ${entity.term.label}`;\r\n    if (descendants) {\r\n      message += ` and its descendants ${descendants}`;\r\n    }\r\n\r\n    this.confirmDialogService.openConfirmDialog('Confirm Delete?',\r\n      `${message}`, success);\r\n  }\r\n\r\n  removeEvidence(entity: ActivityNode, index: number) {\r\n    const self = this;\r\n\r\n    entity.predicate.removeEvidence(index);\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  toggleIsComplement() {\r\n\r\n  }\r\n\r\n  openSearchDatabaseDialog(entity: ActivityNode) {\r\n    const self = this;\r\n    const gpNode = this.noctuaActivityFormService.activity.getGPNode();\r\n\r\n    if (gpNode) {\r\n      const data = {\r\n        readonly: false,\r\n        gpNode: gpNode.term,\r\n        aspect: entity.aspect,\r\n        entity: entity,\r\n        params: {\r\n          term: '',\r\n          evidence: ''\r\n        }\r\n      };\r\n\r\n      const success = function (selected) {\r\n        if (selected.term) {\r\n          entity.term = new Entity(selected.term.term.id, selected.term.term.label);\r\n\r\n          if (selected.evidences && selected.evidences.length > 0) {\r\n            entity.predicate.setEvidence(selected.evidences);\r\n          }\r\n          self.noctuaActivityFormService.initializeForm();\r\n        }\r\n      };\r\n\r\n      self.noctuaFormDialogService.openSearchDatabaseDialog(data, success);\r\n    } else {\r\n      // const error = new ActivityError(ErrorLevel.error, ErrorType.general,  \"Please enter a gene product\", meta)\r\n      //errors.push(error);\r\n      // self.dialogService.openActivityErrorsDialog(ev, entity, errors)\r\n    }\r\n  }\r\n\r\n\r\n  insertEntity(entity: ActivityNode, nodeDescription: ShapeDefinition.ShapeDescription) {\r\n    const insertedNode = this.noctuaFormConfigService.insertActivityNode(this.activity, entity, nodeDescription);\r\n    //  this.noctuaActivityFormService.initializeForm();\r\n\r\n    const data = {\r\n      cam: this.cam,\r\n      activity: this.activity,\r\n      entity: insertedNode,\r\n      category: EditorCategory.all,\r\n      evidenceIndex: 0,\r\n      insertEntity: true\r\n    };\r\n\r\n    this.camService.onCamChanged.next(this.cam);\r\n    this.camService.activity = this.activity;\r\n    this.noctuaActivityEntityService.initializeForm(this.activity, insertedNode);\r\n    this.inlineEditorService.open(this.currentMenuEvent.target, { data });\r\n  }\r\n\r\n  addRootTerm(entity: ActivityNode) {\r\n    const self = this;\r\n\r\n    const term = find(noctuaFormConfig.rootNode, (rootNode) => {\r\n      return rootNode.aspect === entity.aspect;\r\n    });\r\n\r\n    if (term) {\r\n      entity.term = new Entity(term.id, term.label);\r\n      self.noctuaActivityFormService.initializeForm();\r\n\r\n      const evidence = new Evidence();\r\n      evidence.setEvidence(new Entity(\r\n        noctuaFormConfig.evidenceAutoPopulate.nd.evidence.id,\r\n        noctuaFormConfig.evidenceAutoPopulate.nd.evidence.label));\r\n      evidence.reference = noctuaFormConfig.evidenceAutoPopulate.nd.reference;\r\n      entity.predicate.setEvidence([evidence]);\r\n      self.noctuaActivityFormService.initializeForm();\r\n    }\r\n  }\r\n\r\n  clearValues(entity: ActivityNode) {\r\n    const self = this;\r\n\r\n    entity.clearValues();\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  openSelectEvidenceDialog(entity: ActivityNode) {\r\n    const self = this;\r\n    const evidences: Evidence[] = this.camService.getUniqueEvidence(self.noctuaActivityFormService.activity);\r\n    const success = (selected) => {\r\n      if (selected.evidences && selected.evidences.length > 0) {\r\n        entity.predicate.setEvidence(selected.evidences);\r\n        self.noctuaActivityFormService.initializeForm();\r\n      }\r\n    };\r\n\r\n    self.noctuaFormDialogService.openSelectEvidenceDialog(evidences, success);\r\n  }\r\n\r\n  updateCurrentMenuEvent(event) {\r\n    this.currentMenuEvent = event;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribeAll.next(null);\r\n    this.unsubscribeAll.complete();\r\n  }\r\n\r\n  cleanId(dirtyId: string) {\r\n    return NoctuaUtils.cleanID(dirtyId);\r\n  }\r\n}\r\n\r\n","<div class=\"w-100-p\">\r\n  <div class=\"noc-activity-node noctua-form-table w-100-p\"\r\n    [ngClass]=\"{'noc-selected': activity.displayId===camService.currentMatch?.activityDisplayId}\" fxLayout=\"row\"\r\n    fxLayoutAlign=\"start stretch\">\r\n    <div *ngIf=\"!options.slimViewer\" class=\"noc-relation-cell noc-entity-cell\" fxFlex=\"{{relationWidth}}\">\r\n      <span class=\"\">\r\n        <strong *ngIf=\"entity.predicate?.isComplement\"> NOT </strong>\r\n        {{entity.predicate?.edge?.label}}\r\n      </span>\r\n      <noctua-inline-editor *ngIf=\"noctuaUserService.user && entity.relationEditable\" [cam]=\"cam\" [activity]='activity'\r\n        [entity]=\"entity\" [category]=\"EditorCategory.relationship\" class=\"noc-edit-button\">\r\n      </noctua-inline-editor>\r\n    </div>\r\n    <div class=\"noc-term-cell noc-entity-cell\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlex=\"\"\r\n      [attr.id]=\"entity.term?.displayId\"\r\n      [ngClass]=\"{'noc-highlight-match': entity.term?.highlight,\r\n            'noc-highlight-modified': entity.term?.modified,\r\n            'noc-highlight-match-current': camService.currentMatch?.uuid && entity.term?.uuid===camService.currentMatch?.uuid}\">\r\n      <!--   <button mat-icon-button *ngIf=\"entity.canDelete\" (click)=\"deleteEntity(entity)\" class=\"noc-delete-button\">\r\n        <fa-icon [icon]=\"['far', 'trash-alt']\"></fa-icon>\r\n      </button> -->\r\n\r\n      <span class=\"noc-old-term\" *ngIf=\"entity.term?.modified && entity.term?.termHistory?.length>0\">\r\n        {{entity.term?.termHistory[0]?.label}}\r\n        <a (click)=\"$event.stopPropagation()\" href=\"{{entity.term?.termHistory[0]?.url}}\" target=\"_blank\">\r\n          {{ entity.term?.termHistory[0]?.id }}\r\n        </a>\r\n      </span>\r\n      <span class=\"\">\r\n        {{entity.term?.label}} <br>\r\n        <a (click)=\"$event.stopPropagation()\" href=\"{{entity.term?.url}}\" target=\"_blank\">\r\n          {{ entity.term?.id }}\r\n        </a>\r\n      </span>\r\n      <noctua-inline-editor *ngIf=\"noctuaUserService.user && entity.term && options.editableTerms\" [cam]=\"cam\"\r\n        [activity]='activity' [entity]=\"entity\" [category]=\"EditorCategory.term\" class=\"noc-edit-button\">\r\n      </noctua-inline-editor>\r\n    </div>\r\n    <div class=\"noc-aspect-cell noc-entity-cell\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <mat-chip *ngIf=\"entity.aspect\" class=\"noc-chip-xs noc-aspect {{entity.aspect}}\" fxLayout=\"column\"\r\n        fxLayoutAlign=\"center center\">\r\n        <span>{{entity.aspect}}</span>\r\n      </mat-chip>\r\n    </div>\r\n    <div class=\"noc-extension-cell noc-entity-cell\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <mat-chip *ngIf=\"entity.isExtension\" class=\"noc-chip-xs noc-extension\" fxLayout=\"column\"\r\n        fxLayoutAlign=\"center center\">\r\n        <span>ext.</span>\r\n      </mat-chip>\r\n    </div>\r\n    <div class=\"noc-evidence-cell p-0\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <noc-evidence-table *ngIf=\"!entity.skipEvidenceCheck\" class=\"w-100-p\" [options]=\"optionsDisplay\" [cam]=\"cam\"\r\n        [entity]=\"entity\">\r\n      </noc-evidence-table>\r\n    </div>\r\n    <div *ngIf=\"noctuaUserService.user &&  options.showMenu\" class=\"noc-cell noc-action-cell\" fxLayout=\"column\"\r\n      fxLayoutAlign=\"start center\">\r\n      <button mat-icon-button (click)=\"updateCurrentMenuEvent($event)\" class=\"noc-action-button\" fxFlex=\"40px\"\r\n        [matMenuTriggerFor]=\"entityMenu\">\r\n        <mat-icon>more_vert</mat-icon>\r\n      </button>\r\n      <mat-menu #entityMenu=\"matMenu\" class=\"noc-dropdown-menu\">\r\n        <!--   <button mat-menu-item *ngIf=\"entity.aspect\" class=\"\" (click)=\"editEntity(entity)\">\r\n          Edit\r\n        </button> -->\r\n        <button mat-menu-item *ngIf=\"entity.treeLevel===0\" class=\"\" (click)=\"toggleIsComplement(entity)\">\r\n          NOT Qualifier\r\n        </button>\r\n        <button mat-menu-item *ngIf=\"entity.insertMenuNodes\" [matMenuTriggerFor]=\"addMenu\">Add</button>\r\n        <button mat-menu-item [matMenuTriggerFor]=\"evidenceMenu\">Evidence</button>\r\n      </mat-menu>\r\n      <mat-menu #addMenu=\"matMenu\">\r\n        <button mat-menu-item *ngFor=\"let insertMenuItem of entity.insertMenuNodes\" class=\"\"\r\n          (click)=\"insertEntity(entity, insertMenuItem)\">\r\n          {{insertMenuItem.label}}\r\n        </button>\r\n      </mat-menu>\r\n      <mat-menu #evidenceMenu=\"matMenu\">\r\n        <button mat-menu-item (click)=\"addEvidence(entity)\" class=\"\">\r\n          Add Evidence\r\n        </button>\r\n        <!--   <button (click)=\"removeEvidence(entity,i)\" mat-menu-item>\r\n              Remove Evidence\r\n            </button> -->\r\n      </mat-menu>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { noctuaAnimations } from './../../../../../../../@noctua/animations';\r\nimport { NoctuaFormDialogService } from './../../../services/dialog.service';\r\n\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  NoctuaActivityEntityService,\r\n  CamService,\r\n  Evidence,\r\n  Entity,\r\n  noctuaFormConfig,\r\n  NoctuaUserService,\r\n  ActivityType,\r\n  ActivityTreeNode,\r\n  ActivityNodeType\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport {\r\n  Cam,\r\n  Activity,\r\n  ActivityNode,\r\n  ShapeDefinition\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { EditorCategory } from '@noctua.editor/models/editor-category';\r\nimport { find } from 'lodash';\r\nimport { InlineEditorService } from '@noctua.editor/inline-editor/inline-editor.service';\r\nimport { NoctuaUtils } from '@noctua/utils/noctua-utils';\r\nimport { NoctuaConfirmDialogService } from '@noctua/components/confirm-dialog/confirm-dialog.service';\r\n\r\n@Component({\r\n  selector: 'noc-activity-tree',\r\n  templateUrl: './activity-tree.component.html',\r\n  styleUrls: ['./activity-tree.component.scss'],\r\n  animations: noctuaAnimations\r\n})\r\nexport class ActivityTreeComponent implements OnInit, OnDestroy {\r\n  EditorCategory = EditorCategory;\r\n  ActivityType = ActivityType;\r\n  ActivityNodeType = ActivityNodeType;\r\n  activityTypeOptions = noctuaFormConfig.activityType.options;\r\n\r\n  treeNodes: ActivityTreeNode[] = [];\r\n\r\n  @ViewChild('tree') tree;\r\n\r\n  @Input('cam')\r\n  cam: Cam\r\n\r\n  @Input('activity')\r\n  activity: Activity\r\n\r\n  @Input('options')\r\n  options: any = {};\r\n\r\n  optionsDisplay: any = {}\r\n\r\n  gpNode: ActivityNode;\r\n  editableTerms = false;\r\n  currentMenuEvent: any = {};\r\n\r\n  treeOptions = {\r\n    allowDrag: false,\r\n    allowDrop: false,\r\n    // levelPadding: 15,\r\n    getNodeClone: (node) => ({\r\n      ...node.data,\r\n      //id: uuid.v4(),\r\n      name: `Copy of ${node.data.name}`\r\n    })\r\n  };\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    public camService: CamService,\r\n    private confirmDialogService: NoctuaConfirmDialogService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private noctuaFormDialogService: NoctuaFormDialogService,\r\n    public noctuaActivityEntityService: NoctuaActivityEntityService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n    private inlineEditorService: InlineEditorService) {\r\n\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    if (this.options?.editableTerms) {\r\n      this.editableTerms = this.options.editableTerms\r\n    }\r\n    this.gpNode = this.activity.getGPNode();\r\n\r\n    this.optionsDisplay = { ...this.options, hideHeader: true };\r\n\r\n    this.treeNodes = this.activity.buildTrees();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  onTreeLoad() {\r\n    this.tree.treeModel.expandAll();\r\n  }\r\n\r\n  hasChild = (_: number, node: ActivityNode) => node.expandable;\r\n\r\n\r\n  toggleExpand(activity: Activity) {\r\n    activity.expanded = !activity.expanded;\r\n\r\n  }\r\n\r\n  toggleNodeExpand(node: ActivityNode) {\r\n    node.expanded = !node.expanded;\r\n  }\r\n\r\n  displayCamErrors() {\r\n    const errors = this.cam.getViolationDisplayErrors();\r\n    this.noctuaFormDialogService.openCamErrorsDialog(errors);\r\n  }\r\n\r\n  displayActivityErrors(activity: Activity) {\r\n    const errors = activity.getViolationDisplayErrors();\r\n    this.noctuaFormDialogService.openCamErrorsDialog(errors);\r\n  }\r\n\r\n\r\n  addEvidence(entity: ActivityNode) {\r\n    const self = this;\r\n\r\n    entity.predicate.addEvidence();\r\n    const data = {\r\n      cam: this.cam,\r\n      activity: this.activity,\r\n      entity: entity,\r\n      category: EditorCategory.evidenceAll,\r\n      evidenceIndex: entity.predicate.evidence.length - 1\r\n    };\r\n\r\n    this.camService.onCamChanged.next(this.cam);\r\n    this.camService.activity = this.activity;\r\n    this.noctuaActivityEntityService.initializeForm(this.activity, entity);\r\n    this.inlineEditorService.open(this.currentMenuEvent.target, { data });\r\n\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  removeEvidence(entity: ActivityNode, index: number) {\r\n    const self = this;\r\n\r\n    entity.predicate.removeEvidence(index);\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  toggleIsComplement() {\r\n\r\n  }\r\n\r\n  openSearchDatabaseDialog(entity: ActivityNode) {\r\n    const self = this;\r\n    const gpNode = this.noctuaActivityFormService.activity.getGPNode();\r\n\r\n    if (gpNode) {\r\n      const data = {\r\n        readonly: false,\r\n        gpNode: gpNode.term,\r\n        aspect: entity.aspect,\r\n        entity: entity,\r\n        params: {\r\n          term: '',\r\n          evidence: ''\r\n        }\r\n      };\r\n\r\n      const success = function (selected) {\r\n        if (selected.term) {\r\n          entity.term = new Entity(selected.term.term.id, selected.term.term.label);\r\n\r\n          if (selected.evidences && selected.evidences.length > 0) {\r\n            entity.predicate.setEvidence(selected.evidences);\r\n          }\r\n          self.noctuaActivityFormService.initializeForm();\r\n        }\r\n      };\r\n\r\n      self.noctuaFormDialogService.openSearchDatabaseDialog(data, success);\r\n    } else {\r\n      // const error = new ActivityError(ErrorLevel.error, ErrorType.general,  \"Please enter a gene product\", meta)\r\n      //errors.push(error);\r\n      // self.dialogService.openActivityErrorsDialog(ev, entity, errors)\r\n    }\r\n  }\r\n\r\n\r\n  insertEntity(entity: ActivityNode, nodeDescription: ShapeDefinition.ShapeDescription) {\r\n    const insertedNode = this.noctuaFormConfigService.insertActivityNode(this.activity, entity, nodeDescription);\r\n    //  this.noctuaActivityFormService.initializeForm();\r\n\r\n    const data = {\r\n      cam: this.cam,\r\n      activity: this.activity,\r\n      entity: insertedNode,\r\n      category: EditorCategory.all,\r\n      evidenceIndex: 0,\r\n      insertEntity: true\r\n    };\r\n\r\n    this.camService.onCamChanged.next(this.cam);\r\n    this.camService.activity = this.activity;\r\n    this.noctuaActivityEntityService.initializeForm(this.activity, insertedNode);\r\n    this.inlineEditorService.open(this.currentMenuEvent.target, { data });\r\n  }\r\n\r\n  addRootTerm(entity: ActivityNode) {\r\n    const self = this;\r\n\r\n    const term = find(noctuaFormConfig.rootNode, (rootNode) => {\r\n      return rootNode.aspect === entity.aspect;\r\n    });\r\n\r\n    if (term) {\r\n      entity.term = new Entity(term.id, term.label);\r\n      self.noctuaActivityFormService.initializeForm();\r\n\r\n      const evidence = new Evidence();\r\n      evidence.setEvidence(new Entity(\r\n        noctuaFormConfig.evidenceAutoPopulate.nd.evidence.id,\r\n        noctuaFormConfig.evidenceAutoPopulate.nd.evidence.label));\r\n      evidence.reference = noctuaFormConfig.evidenceAutoPopulate.nd.reference;\r\n      entity.predicate.setEvidence([evidence]);\r\n      self.noctuaActivityFormService.initializeForm();\r\n    }\r\n  }\r\n\r\n  clearValues(entity: ActivityNode) {\r\n    const self = this;\r\n\r\n    entity.clearValues();\r\n    self.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  openSelectEvidenceDialog(entity: ActivityNode) {\r\n    const self = this;\r\n    const evidences: Evidence[] = this.camService.getUniqueEvidence(self.noctuaActivityFormService.activity);\r\n    const success = (selected) => {\r\n      if (selected.evidences && selected.evidences.length > 0) {\r\n        entity.predicate.setEvidence(selected.evidences);\r\n        self.noctuaActivityFormService.initializeForm();\r\n      }\r\n    };\r\n\r\n    self.noctuaFormDialogService.openSelectEvidenceDialog(evidences, success);\r\n  }\r\n\r\n  updateCurrentMenuEvent(event) {\r\n    this.currentMenuEvent = event;\r\n  }\r\n\r\n  deleteActivity(activity: Activity) {\r\n    const self = this;\r\n\r\n    const success = () => {\r\n      this.camService.deleteActivity(activity).then(() => {\r\n        self.noctuaFormDialogService.openInfoToast('Activity successfully deleted.', 'OK');\r\n      });\r\n    };\r\n\r\n    if (!self.noctuaUserService.user) {\r\n      this.confirmDialogService.openConfirmDialog('Not Logged In',\r\n        'Please log in to continue.',\r\n        null);\r\n    } else {\r\n      this.confirmDialogService.openConfirmDialog('Confirm Delete?',\r\n        'You are about to delete an activity.',\r\n        success);\r\n    }\r\n  }\r\n\r\n  cleanId(dirtyId: string) {\r\n    return NoctuaUtils.cleanID(dirtyId);\r\n  }\r\n}\r\n\r\n","<div [attr.id]=\"activity.displayId\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"w-100-p\"\r\n  [ngClass]=\"{'noc-selected': activity.displayId===camService.currentMatch?.activityDisplayId}\">\r\n  <div class=\"noc-activity-heading\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\">\r\n    <div fxFlex=\"25px\" (click)=\"$event.stopPropagation()\">\r\n      <button mat-icon-button (click)=\"toggleExpand(activity)\" color=\"primary\" class=\"noc-toggle-expand-button\">\r\n        <fa-icon *ngIf=\"!activity.expanded\" [icon]=\"['fas', 'caret-right']\"></fa-icon>\r\n        <fa-icon *ngIf=\"activity.expanded\" [icon]=\"['fas', 'caret-down']\"></fa-icon>\r\n      </button>\r\n    </div>\r\n    <div class=\" noc-cell\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div class=\"noc-display-number noc-sm\" (click)=\"$event.stopPropagation()\">\r\n        {{activity.displayNumber}}\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-gp noc-cell\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <span class=\"noc-no-info\" *ngIf=\"!gpNode\">GP info not available</span>\r\n      <span class=\"text-truncate\" *ngIf=\"gpNode\"\r\n        matTooltip=\"GP:  {{gpNode.term?.label}}  &#13; ( {{ gpNode.term?.id }})\" [matTooltipPosition]=\"'below'\"\r\n        [matTooltipShowDelay]=\"1000\">\r\n        {{gpNode.term?.label}}\r\n        <a class=\"ml-4\" (click)=\"$event.stopPropagation()\" href=\"{{gpNode.term?.url}}\" target=\"_blank\">\r\n          {{ gpNode.term?.id }}\r\n        </a>\r\n      </span>\r\n    </div>\r\n    <div class=\"noc-cam-type noc-cell\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <mat-chip class=\"noc-chip-activity-type noc-chip-xs\">\r\n        <span>{{activityTypeOptions[activity.activityType]?.label}}</span>\r\n      </mat-chip>\r\n    </div>\r\n    <div class=\"noc-cam-date noc-cell\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <fa-icon class=\"noc-icon\" [icon]=\"['fas', 'calendar-day']\"></fa-icon> <span\r\n        class=\"ml-4\">{{activity.formattedDate}}</span>\r\n    </div>\r\n    <div class=\"noc-cam-coverage noc-cell\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <img [src]=\"'assets/images/activity/coverage-'+activity.summary?.coverage+'.png'\">\r\n    </div>\r\n    <div fxFlex=\"\" class=\"scard-title-summary\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\">\r\n      <div fxFlex=\"33%\" class=\"noc-cell\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <mat-chip *ngIf=\"activity.mfNode\" class=\"noc-chip-xs noc-mf noc-summary-chip noc-type-chip\" fxLayout=\"row\"\r\n          fxLayoutAlign=\"start center\" matTooltip=\"{{activity.summary['mf'].tooltip}}\" [matTooltipPosition]=\"'below'\"\r\n          [matTooltipShowDelay]=\"1000\">\r\n          <div class=\"noc-icon noc-icon-initials\">\r\n            {{activity.summary['mf'].shorthand}}\r\n          </div>\r\n          <div fxFlex=\"\" class=\"noc-chip-label\">\r\n            <span>\r\n              {{activity.mfNode.term?.label}}\r\n            </span>\r\n          </div>\r\n        </mat-chip>\r\n      </div>\r\n      <div fxFlex=\"33%\" class=\"noc-cell\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <mat-chip *ngIf=\"activity.bpNode\" class=\"noc-chip-xs noc-bp noc-summary-chip noc-type-chip\" fxLayout=\"row\"\r\n          fxLayoutAlign=\"start center\" matTooltip=\"{{activity.summary['bp'].tooltip}}\" [matTooltipPosition]=\"'below'\"\r\n          [matTooltipShowDelay]=\"1000\">\r\n          <div class=\"noc-icon noc-icon-initials\">\r\n            {{activity.summary['bp'].shorthand}}\r\n          </div>\r\n          <div fxFlex=\"\" class=\"noc-chip-label\">\r\n            <span>\r\n              {{activity.bpNode.term?.label}}\r\n            </span>\r\n          </div>\r\n        </mat-chip>\r\n      </div>\r\n      <div fxFlex=\"33%\" class=\"noc-cell\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <mat-chip *ngIf=\"activity.ccNode\" class=\"noc-chip-xs noc-cc noc-summary-chip noc-type-chip\" fxLayout=\"row\"\r\n          fxLayoutAlign=\"start center\" matTooltip=\"{{activity.summary['cc'].tooltip}}\" [matTooltipPosition]=\"'below'\"\r\n          [matTooltipShowDelay]=\"1000\">\r\n          <div class=\"noc-icon noc-icon-initials\">\r\n            {{activity.summary['cc'].shorthand}}\r\n          </div>\r\n          <div fxFlex=\"\" class=\"noc-chip-label\">\r\n            <span>\r\n              {{activity.ccNode.term?.label}}\r\n            </span>\r\n          </div>\r\n        </mat-chip>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"activity.hasViolations\" class=\"noc-error\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <mat-chip class=\"noc-error-chip noc-chip-xs ml-8\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n        (click)=\"displayActivityErrors(activity)\">\r\n        <div class=\"noc-icon\">\r\n          <fa-icon [icon]=\"['fas', 'exclamation-triangle']\"></fa-icon>\r\n        </div>\r\n        <div fxFlex=\"\" class=\"noc-chip-label\">\r\n          {{activity.violations?.length}} Errors Found\r\n        </div>\r\n      </mat-chip>\r\n    </div>\r\n\r\n\r\n    <div *ngIf=\"!options.reviewMode\" class=\"\" fxFlex=\"50px\" fxLayout=\"row\" fxLayoutAlign=\"end center\">\r\n      <!--     <button *ngIf=\"activity.activityType !==ActivityType.ccOnly\" mat-stroked-button\r\n        (click)=\"openActivityConnector(activity)\" color=\"primary\" class=\"noc-rounded-button noc-sm mr-8\"\r\n        matTooltip=\"connect activity causal relation\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n        <small>Connect</small>\r\n      </button>\r\n      <button mat-stroked-button (click)=\"openActivityForm(activity)\" color=\"primary\"\r\n        class=\"noc-rounded-button noc-sm mr-8\">\r\n        <small>Edit</small>\r\n      </button> -->\r\n      <button mat-icon-button class=\"noc-rounded-button noc-sm\" fxFlex=\"40px\" color=\"primary\"\r\n        [matMenuTriggerFor]=\"connectionOptionMenu\">\r\n        <mat-icon>more_vert</mat-icon>\r\n      </button>\r\n      <mat-menu #connectionOptionMenu=\"matMenu\" class=\"noc-dropdown-menu\">\r\n        <h6 class=\"noc-menu-heading\"> Danger Zone</h6>\r\n        <button mat-menu-item class=\"\" (click)=\"deleteActivity(activity)\">\r\n          Delete Activity\r\n        </button>\r\n      </mat-menu>\r\n\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"activity.expanded\" class=\"noc-tree-container\">\r\n    <div class=\"noctua-form-table noc-activity-header w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div *ngIf=\"!options.slimViewer\" class=\"noc-cell noc-relation-cell\">\r\n        Relationship\r\n      </div>\r\n      <div class=\"noc-cell noc-term-cell\" fxFlex=\"\">\r\n        Term\r\n      </div>\r\n      <div class=\"noc-cell noc-aspect-cell\">\r\n        Asp\r\n      </div>\r\n      <div class=\"noc-cell noc-extension-cell\">\r\n        Ext\r\n      </div>\r\n      <div class=\"noc-evidence-cell\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-cell noc-evidence-code-cell\" fxFlex=\"\">\r\n          Evidence\r\n        </div>\r\n        <div class=\"noc-cell noc-reference-cell\">\r\n          Reference\r\n        </div>\r\n        <div class=\"noc-cell noc-with-cell\">\r\n          With\r\n        </div>\r\n        <div class=\"noc-cell noc-group-cell\">\r\n          Assigned By\r\n        </div>\r\n        <div class=\"noc-cell noc-contributor-cell\">\r\n          Contributor\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"noctuaUserService.user && options.showMenu\" class=\"noc-cell noc-action-cell\"> </div>\r\n    </div>\r\n    <div class=\"noc-tree\">\r\n      <tree-root #tree (initialized)=\"onTreeLoad()\" [nodes]=\"treeNodes\" [options]=\"treeOptions\">\r\n        <ng-template #treeNodeWrapperTemplate let-node let-index=\"index\">\r\n          <div class=\"node-wrapper noc-tree-node\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n            [style.padding-left]=\"node.getNodePadding()\">\r\n            <button mat-icon-button class=\"noc-node-expander-button\" color=\"primary\" (click)=\"node.toggleExpanded()\"\r\n              *ngIf=\"node.hasChildren\">\r\n              <fa-icon *ngIf=\"node?.isCollapsed\" [icon]=\"['fas', 'caret-right']\"></fa-icon>\r\n              <fa-icon *ngIf=\"node?.isExpanded\" [icon]=\"['fas', 'caret-down']\"></fa-icon>\r\n            </button>\r\n            <div class=\"noc-expander-placeholder\" *ngIf=\"!node.hasChildren\">\r\n            </div>\r\n            <div class=\"node-content-wrapper\" fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n              [class.node-content-wrapper-active]=\"node.isActive\" [class.node-content-wrapper-focused]=\"node.isFocused\"\r\n              (click)=\"node.mouseAction('click', $event)\" (dblclick)=\"node.mouseAction('dblClick', $event)\"\r\n              (contextmenu)=\"node.mouseAction('contextMenu', $event)\" (treeDrop)=\"node.onDrop($event)\"\r\n              [treeAllowDrop]=\"node.allowDrop\" [treeDrag]=\"node\" [treeDragEnabled]=\"node.allowDrag()\">\r\n\r\n              <div class=\"noc-annotation-row\" fxFlex=\"\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n                <div *ngIf=\"options.slimViewer\" class=\"noc-cell-label\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  {{node.data.node?.predicate?.edge?.label}}\r\n                  <noctua-inline-editor\r\n                    *ngIf=\"noctuaUserService.user && node.data.node.relationEditable && options.editableRelation\"\r\n                    [cam]=\"cam\" [activity]='activity' [entity]=\"node.data.node\" [category]=\"EditorCategory.relationship\"\r\n                    class=\"noc-edit-button ml-12\">\r\n                  </noctua-inline-editor>\r\n                </div>\r\n                <noc-activity-tree-node [options]=\"options\" [cam]=\"cam\" [activity]=\"activity\" [entity]=\"node.data.node\"\r\n                  class=\"w-100-p\">\r\n                </noc-activity-tree-node>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </ng-template>\r\n      </tree-root>\r\n    </div>\r\n  </div>\r\n</div>","\r\nimport { AfterViewInit, Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { Subject } from 'rxjs';\r\nimport { NoctuaFormDialogService } from './../../services/dialog.service';\r\nimport {\r\n  noctuaFormConfig,\r\n  NoctuaActivityConnectorService,\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  CamService,\r\n  Cam,\r\n  Activity,\r\n  ActivityType,\r\n  NoctuaUserService,\r\n\r\n  CamRebuildSignal,\r\n  ActivityDisplayType,\r\n  NoctuaGraphService,\r\n  ActivitySortField\r\n} from '@geneontology/noctua-form-base';\r\nimport { NoctuaConfirmDialogService } from '@noctua/components/confirm-dialog/confirm-dialog.service';\r\nimport { trigger, state, transition, style, animate } from '@angular/animations';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\n\r\n@Component({\r\n  selector: 'noc-cam-table',\r\n  templateUrl: './cam-table.component.html',\r\n  styleUrls: ['./cam-table.component.scss'],\r\n  animations: [\r\n    trigger('activityExpand', [\r\n      state('collapsed', style({ height: '0px', minHeight: '0', display: 'none' })),\r\n      state('expanded', style({ height: '*' })),\r\n      transition('expanded <=> collapsed', animate('225ms cubic-bezier(0.4, 0.0, 0.2, 1)')),\r\n    ]),\r\n  ],\r\n})\r\nexport class CamTableComponent implements OnInit, OnDestroy {\r\n  ActivityDisplayType = ActivityDisplayType;\r\n  ActivityType = ActivityType;\r\n  CamRebuildSignal = CamRebuildSignal;\r\n  searchCriteria: any = {};\r\n  searchFormData: any = [];\r\n  searchForm: FormGroup;\r\n  activityTypeOptions = noctuaFormConfig.activityType.options;\r\n\r\n  @Input('panelDrawer')\r\n  panelDrawer: MatDrawer;\r\n\r\n  @Input('cam')\r\n  public cam: Cam;\r\n\r\n  @Input('options')\r\n  public options: any = {};\r\n\r\n\r\n  searchResults = [];\r\n  modelId: '';\r\n  loadingSpinner: any = {\r\n    color: 'primary',\r\n    mode: 'indeterminate'\r\n  };\r\n  scrollbarConfig = {\r\n    suppressScrollX: true\r\n  }\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    public camService: CamService,\r\n    private _noctuaGraphService: NoctuaGraphService,\r\n    public noctuaCommonMenuService: NoctuaCommonMenuService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private confirmDialogService: NoctuaConfirmDialogService,\r\n    private noctuaActivityConnectorService: NoctuaActivityConnectorService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n    private noctuaFormDialogService: NoctuaFormDialogService,\r\n  ) {\r\n\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  addActivity() {\r\n    this.openForm(location);\r\n  }\r\n\r\n  openForm(location?) {\r\n    this.noctuaActivityFormService.mfLocation = location;\r\n    this.noctuaActivityFormService.initializeForm();\r\n  }\r\n\r\n  reload(cam: Cam) {\r\n    this.camService.reload(cam);\r\n  }\r\n\r\n  search() {\r\n    let searchCriteria = this.searchForm.value;\r\n    // this.noctuaSearchService.search(searchCriteria);\r\n  }\r\n\r\n  expandAll(expand: boolean) {\r\n    this.cam.expandAllActivities(expand);\r\n  }\r\n\r\n  toggleExpand(activity: Activity) {\r\n    activity.expanded = !activity.expanded;\r\n  }\r\n\r\n  openActivityConnector(activity: Activity) {\r\n    this.camService.onCamChanged.next(this.cam);\r\n    this.camService.activity = activity;\r\n    this.noctuaActivityConnectorService.subjectActivity = activity;\r\n    this.noctuaActivityConnectorService.onActivityChanged.next(activity);\r\n  }\r\n\r\n  sortBy(sortCriteria: { id, label }) {\r\n    this.cam.updateSortBy(sortCriteria.id, sortCriteria.label);\r\n  }\r\n\r\n  toggleSortDirection() {\r\n    this.cam.sortBy.ascending = !this.cam.sortBy.ascending\r\n  }\r\n\r\n  deleteActivity(activity: Activity) {\r\n    const self = this;\r\n\r\n    const success = () => {\r\n      this.camService.deleteActivity(activity).then(() => {\r\n        self.noctuaFormDialogService.openInfoToast('Activity successfully deleted.', 'OK');\r\n      });\r\n    };\r\n\r\n    if (!self.noctuaUserService.user) {\r\n      this.confirmDialogService.openConfirmDialog('Not Logged In',\r\n        'Please log in to continue.',\r\n        null);\r\n    } else {\r\n      this.confirmDialogService.openConfirmDialog('Confirm Delete?',\r\n        'You are about to delete an activity.',\r\n        success);\r\n    }\r\n  }\r\n\r\n\r\n  resetModel(cam: Cam) {\r\n    this.camService.resetModel(cam);\r\n  }\r\n\r\n  displayCamErrors() {\r\n    const errors = this.cam.getViolationDisplayErrors();\r\n\r\n    this.noctuaFormDialogService.openCamErrorsDialog(errors);\r\n  }\r\n\r\n  displayActivityErrors(activity: Activity) {\r\n    const errors = activity.getViolationDisplayErrors();\r\n\r\n    this.noctuaFormDialogService.openCamErrorsDialog(errors);\r\n  }\r\n\r\n  close() {\r\n    if (this.panelDrawer) {\r\n      this.panelDrawer.close();\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"w-100-p p-0 noc-cam-table\">\r\n  <div *ngIf=\"cam.loading?.status\" class=\"noc-summary-bar\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-cam-progress-message\">\r\n      {{cam.loading?.message}}\r\n    </span>\r\n  </div>\r\n  <div *ngIf=\"!cam.loading?.status\" class=\"noc-summary-bar\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class='mr-12'>\r\n      <strong>{{cam.activities.length}}</strong> Activities\r\n    </span>\r\n    <span class='mr-4'>\r\n      <strong>Sort By</strong> :\r\n    </span>\r\n    <button mat-stroked-button class=\"noc-rounded-button noc-action-button noc-half-button noc-r noc-xs\" color=\"primary\"\r\n      [matMenuTriggerFor]=\"sortByOptionMenu\">\r\n      {{cam.sortBy.label}} <fa-icon *ngIf=\"cam.expanded\" [icon]=\"['fas', 'caret-down']\"></fa-icon>\r\n    </button>\r\n    <button mat-stroked-button (click)=\"toggleSortDirection()\"\r\n      class=\"noc-rounded-button noc-action-button noc-icon noc-half-button noc-l noc-xs\" color=\"primary\">\r\n      <fa-icon *ngIf=\"cam.sortBy.ascending\" [icon]=\"['fas', 'sort-alpha-down']\"></fa-icon>\r\n      <fa-icon *ngIf=\"!cam.sortBy.ascending\" [icon]=\"['fas', 'sort-alpha-down-alt']\"></fa-icon>\r\n    </button>\r\n    <mat-menu #sortByOptionMenu=\"matMenu\" class=\"noc-dropdown-menu\">\r\n      <button mat-menu-item *ngFor=\"let sortByOption of noctuaFormConfigService.activitySortField.options\" class=\"\"\r\n        (click)=\"sortBy(sortByOption)\">\r\n        {{sortByOption.label}}\r\n      </button>\r\n    </mat-menu>\r\n\r\n    <span *ngIf=\"cam.rebuildRule?.signal !== CamRebuildSignal.NONE\" class=\"noc-cam-rebuild\">\r\n      {{cam.rebuildRule?.message}}\r\n      <button mat-button (click)=\"reload(cam)\" class=\"\" color=\"primary\">\r\n        Reload\r\n      </button>\r\n    </span>\r\n    <div *ngIf=\"cam.violations?.length>0\" class=\"noc-error\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <mat-chip class=\"noc-error-chip  noc-chip-xs ml-8\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n        (click)=\"displayCamErrors()\">\r\n        <div class=\"noc-icon\">\r\n          <fa-icon [icon]=\"['fas', 'exclamation-triangle']\"></fa-icon>\r\n        </div>\r\n        <div fxFlex=\"\" class=\"noc-chip-label\">\r\n          {{cam.violations?.length}} Errors Found\r\n        </div>\r\n      </mat-chip>\r\n    </div>\r\n    <span fxFlex></span>\r\n    <!-- <button mat-button class=\"\" color=\"primary\" (click)=\"resetModel(cam)\">\r\n      Reset Me\r\n    </button>\r\n    <button mat-button class=\"\" color=\"primary\" (click)=\"storedModel(cam)\">\r\n      Stored\r\n    </button> -->\r\n\r\n    <button mat-icon-button class=\"\" fxFlex=\"40px\" color=\"primary\" [matMenuTriggerFor]=\"activityOptionMenu\">\r\n      <mat-icon>more_vert</mat-icon>\r\n    </button>\r\n    <mat-menu #activityOptionMenu=\"matMenu\" class=\"noc-dropdown-menu\">\r\n      <button mat-menu-item class=\"\" (click)=\"expandAll(true)\">\r\n        Expand All\r\n      </button>\r\n      <button mat-menu-item class=\"\" (click)=\"expandAll(false)\">\r\n        Collapse All\r\n      </button>\r\n    </mat-menu>\r\n\r\n    <button mat-stroked-button *ngIf=\"panelDrawer\" (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> Close\r\n    </button>\r\n  </div>\r\n  <div class=\"w-100-p noc-cam-table-body\">\r\n    <div *ngFor=\"let activity of cam.activities\" [attr.id]=\"activity.displayId\" class=\"w-100-p\"\r\n      [ngClass]=\"{'noc-selected': activity.displayId===camService.currentMatch?.activityDisplayId}\">\r\n\r\n      <noc-activity-table *ngIf=\"options.displayType===ActivityDisplayType.TABLE\" [options]=\"options\" [cam]=\"cam\"\r\n        [activity]=\"activity\" class=\"noc-activities-table-body\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      </noc-activity-table>\r\n      <noc-activity-tree *ngIf=\"options.displayType===ActivityDisplayType.TREE\" [options]=\"options\" [cam]=\"cam\"\r\n        [activity]=\"activity\" class=\"noc-activities-table-body\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      </noc-activity-tree>\r\n      <noc-activity-tree-table *ngIf=\"options.displayType===ActivityDisplayType.TREE_TABLE\" [options]=\"options\"\r\n        [cam]=\"cam\" [activity]=\"activity\" class=\"noc-activities-table-body\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      </noc-activity-tree-table>\r\n    </div>\r\n    <div *ngIf=\"!cam.loading?.status && cam.activities.length===0\" class=\"noc-no-info\">\r\n      no activities present.\r\n    </div>\r\n    <div *ngIf=\"cam?.loading.status\" class=\"noc-loading-container\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n      <mat-progress-spinner class=\"example-margin\" diameter=\"70\" [color]=\"loadingSpinner.color\"\r\n        [mode]=\"loadingSpinner.mode\">\r\n      </mat-progress-spinner>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport {\r\n  Cam,\r\n  NoctuaFormConfigService,\r\n  CamService,\r\n  ActivityType,\r\n  NoctuaActivityFormService\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\nimport { LeftPanel, MiddlePanel, RightPanel } from '@noctua.common/models/menu-panels';\r\nimport { WorkbenchId } from '@noctua.common/models/workench-id';\r\nimport { CamToolbarOptions } from '@noctua.common/models/cam-toolbar-options';\r\n\r\n@Component({\r\n  selector: 'noc-cam-toolbar',\r\n  templateUrl: './cam-toolbar.component.html',\r\n  styleUrls: ['./cam-toolbar.component.scss'],\r\n  // encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class CamToolbarComponent implements OnInit, OnDestroy {\r\n\r\n  ActivityType = ActivityType\r\n  LeftPanel = LeftPanel;\r\n  MiddlePanel = MiddlePanel;\r\n  RightPanel = RightPanel;\r\n\r\n  @Input('cam') public cam: Cam;\r\n  @Input('options') public camToolbarOptions: CamToolbarOptions;\r\n\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private camService: CamService,\r\n\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaCommonMenuService: NoctuaCommonMenuService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  openGraph() {\r\n    this.noctuaCommonMenuService.closeLeftDrawer();\r\n    this.noctuaCommonMenuService.closeRightDrawer();\r\n    this.noctuaCommonMenuService.selectMiddlePanel(MiddlePanel.camGraph)\r\n  }\r\n\r\n  openTable() {\r\n    //this.noctuaCommonMenuService.closeLeftDrawer();\r\n    this.noctuaCommonMenuService.closeRightDrawer();\r\n    this.noctuaCommonMenuService.selectMiddlePanel(MiddlePanel.camTable)\r\n  }\r\n\r\n  openPreview() {\r\n    this.noctuaCommonMenuService.selectMiddlePanel(MiddlePanel.camPreview)\r\n  }\r\n\r\n  openLeftDrawer(panel) {\r\n    this.noctuaCommonMenuService.selectLeftPanel(panel);\r\n    // this.noctuaCommonMenuService.openLeftDrawer();\r\n  }\r\n\r\n  selectMiddlePanel(panel: MiddlePanel) {\r\n    const self = this;\r\n    this.noctuaCommonMenuService.selectMiddlePanel(panel);\r\n  }\r\n\r\n  openRightDrawer(panel) {\r\n    this.noctuaCommonMenuService.selectRightPanel(panel);\r\n    this.noctuaCommonMenuService.openRightDrawer();\r\n  }\r\n\r\n  toggleLeftDrawer(panel) {\r\n    this.noctuaCommonMenuService.toggleLeftDrawer(panel);\r\n  }\r\n\r\n  createModel(type: WorkbenchId) {\r\n    this.noctuaCommonMenuService.createModel(type);\r\n  }\r\n\r\n  openSettings() {\r\n    this.openRightDrawer(RightPanel.graphSettings)\r\n  }\r\n\r\n  openCamForm() {\r\n    this.camService.initializeForm(this.cam);\r\n    this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.camForm);\r\n    this.noctuaCommonMenuService.closeRightDrawer();\r\n    this.noctuaCommonMenuService.openLeftDrawer();\r\n  }\r\n\r\n  openActivityForm(activityType: ActivityType) {\r\n    this.noctuaActivityFormService.setActivityType(activityType);\r\n    this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.activityForm);\r\n    this.noctuaCommonMenuService.closeRightDrawer();\r\n    this.noctuaCommonMenuService.openLeftDrawer();\r\n  }\r\n\r\n  openCopyModel() {\r\n    this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.copyModel);\r\n    this.noctuaCommonMenuService.closeRightDrawer();\r\n    this.noctuaCommonMenuService.openLeftDrawer();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<div *ngIf=\"cam\" class=\"noc-cam-heading\" fxFlex=\"1 1 auto\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n  <div *ngIf=\"noctuaCommonMenuService.selectedMiddlePanel===RightPanel.camTable\" class=\"\" fxFlex=\"180px\">\r\n    <button mat-flat-button (click)=\"openActivityForm(ActivityType.default)\" color=\"primary\"\r\n      class=\"noc-rounded-button noc-half-button noc-r noc-sm\">\r\n      <mat-icon class=\"\"> add </mat-icon> Create Activity\r\n    </button>\r\n    <button mat-flat-button fxFlex=\"35px\" [matMenuTriggerFor]=\"createOptions\" color=\"primary\"\r\n      class=\"noc-rounded-button noc-half-button noc-l noc-sm mr-8 p-0\">\r\n      <mat-icon class=\"\">arrow_drop_down </mat-icon>\r\n    </button>\r\n    <mat-menu #createOptions=\"matMenu\" xPosition=\"before\">\r\n      <a mat-menu-item (click)=\"openActivityForm(ActivityType.bpOnly)\">\r\n        Create New BP Annotation\r\n      </a>\r\n      <a mat-menu-item (click)=\"openActivityForm(ActivityType.ccOnly)\">\r\n        Create New CC Annotation\r\n      </a>\r\n    </mat-menu>\r\n  </div>\r\n  <div *ngIf=\"cam.title\" class=\"noc-title\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <div class=\"text-truncate pr-8\">\r\n      <strong>Title: </strong>{{cam.title }}\r\n    </div>\r\n    <div class=\"noc-icon-action\" (click)=\"openCamForm()\">\r\n      <fa-icon [icon]=\"['fas', 'pen']\"></fa-icon>\r\n    </div>\r\n  </div>\r\n  <div class=\"noc-br noc-bl px-4\">\r\n    <button mat-icon-button class=\"noc-toolbar-button noc-rounded-button\" (click)=\"openCamForm()\"\r\n      matTooltip=\"{{cam?.comment}}\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1000\">\r\n      <fa-icon [icon]=\"['fas', 'comment']\"></fa-icon>\r\n      <div class=\"noc-comments-badge\">\r\n        {{cam?.comments.length}}\r\n      </div>\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-br px-4\">\r\n    <button mat-icon-button color=\"\" class=\"noc-toolbar-button noc-rounded-button\" (click)=\"openCopyModel()\"\r\n      matTooltip=\"Make a copy of this model\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'clone']\"></fa-icon>\r\n    </button>\r\n  </div>\r\n  <div *ngIf=\"cam.state\" class=\"noc-model-state\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <mat-chip class=\"noc-table-chip noc-state-chip\" [ngClass]=\"{'noc-development': cam.state.name === 'development',\r\n        'noc-production': cam.state.name === 'production',\r\n        'noc-review': cam.state.name === 'review'}\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div class=\"noc-icon\">\r\n        <fa-icon [icon]=\"['fas', 'tasks']\"></fa-icon>\r\n      </div>\r\n      <div fxFlex=\"\" class=\"noc-chip-label\">\r\n        {{cam.state.label}}\r\n      </div>\r\n      <div class=\"noc-icon-action\" (click)=\"openCamForm()\">\r\n        <fa-icon [icon]=\"['fas', 'pen']\"></fa-icon>\r\n      </div>\r\n    </mat-chip>\r\n  </div>\r\n  <div *ngIf=\"cam.date\" class=\"noc-date noc-br mr-8\" fxFlex=\"100px\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <mat-chip class=\"noc-table-chip noc-date-chip\" fxLayout=\"row\" fxLayoutAlign=\"start center\" (click)=\"openCamForm()\">\r\n      <div class=\"noc-icon\">\r\n        <fa-icon [icon]=\"['fas', 'calendar-day']\"></fa-icon>\r\n      </div>\r\n      <div fxFlex=\"\" class=\"noc-chip-label\">\r\n        {{cam.date}}\r\n      </div>\r\n    </mat-chip>\r\n  </div>\r\n  <div fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <mat-chip-list>\r\n      <mat-chip class=\"noc-table-chip noc-user-chip\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n        *ngFor=\"let contributor of cam.contributors\" (click)=\"openCamForm()\">\r\n        <div class=\"noc-icon\">\r\n          <fa-icon [icon]=\"['fas', 'user']\"></fa-icon>\r\n        </div>\r\n        <div fxFlex=\"\" class=\"noc-chip-label\">\r\n          {{contributor.name}}\r\n        </div>\r\n      </mat-chip>\r\n    </mat-chip-list>\r\n  </div>\r\n  <div fxFlex=\"115px\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <button mat-stroked-button [matMenuTriggerFor]=\"exportMenu\" class=\"noc-edit-button noc-rounded-button noc-sm\"\r\n      color=\"primary\">\r\n      EXPORT AS\r\n    </button>\r\n    <mat-menu #exportMenu=\"matMenu\">\r\n      <a [href]='cam?.model?.modelInfo?.gpadUrl' target=\"_blank\" mat-menu-item>\r\n        GPAD\r\n      </a>\r\n      <a [href]='cam?.model?.modelInfo?.owlUrl' target=\"_blank\" mat-menu-item>\r\n        OWL\r\n      </a>\r\n    </mat-menu>\r\n  </div>\r\n  <button mat-icon-button (click)=\"openSettings()\" class=\"noc-icon-button\" color=\"primary\">\r\n    <fa-icon [icon]=\"['fas', 'cog']\"></fa-icon>\r\n  </button>\r\n</div>","import { Component, Input, OnInit, OnDestroy, NgZone } from '@angular/core';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { FormGroup, FormControl } from '@angular/forms';\r\nimport {\r\n  Cam,\r\n  NoctuaUserService,\r\n  NoctuaFormConfigService,\r\n  CamService,\r\n  LeftPanel\r\n} from '@geneontology/noctua-form-base';\r\nimport { NoctuaSearchMenuService } from '@noctua.search/services/search-menu.service';\r\nimport { NoctuaFormDialogService } from '../../services/dialog.service';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\n\r\n\r\n@Component({\r\n  selector: 'noc-copy-model',\r\n  templateUrl: './copy-model.component.html',\r\n  styleUrls: ['./copy-model.component.scss'],\r\n})\r\n\r\nexport class CopyModelComponent implements OnInit, OnDestroy {\r\n\r\n  @Input('panelDrawer') panelDrawer: MatDrawer;\r\n  @Input('panelSide') panelSide: string\r\n  cam: Cam;\r\n  loading = false;\r\n  camForm: FormGroup;\r\n\r\n  duplicatedCam;\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(public noctuaUserService: NoctuaUserService,\r\n    private ngZone: NgZone,\r\n    private camService: CamService,\r\n    private noctuaFormDialogService: NoctuaFormDialogService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    public noctuaCommonMenuService: NoctuaCommonMenuService\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n    // this.activity = self.noctuaCamFormService.activity;\r\n    //  this.camFormPresentation = this.noctuaCamFormService.activityPresentation;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.camForm = this.createCamForm();\r\n    this.camService.onCamChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((cam) => {\r\n        if (!cam) {\r\n          return;\r\n        }\r\n\r\n        this.cam = cam;\r\n      });\r\n\r\n    this.camService.onCopyModelChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((cam) => {\r\n        this.loading = false;\r\n\r\n        this.ngZone.run(() => {\r\n          this.duplicatedCam = cam\r\n        });\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.camService.onCopyModelChanged.next(null)\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  createCamForm() {\r\n    return new FormGroup({\r\n      title: new FormControl(),\r\n    });\r\n  }\r\n\r\n  copyModel() {\r\n\r\n    const self = this;\r\n\r\n    const success = (value) => {\r\n      if (value) {\r\n        this.loading = true;\r\n        this.camService.copyModel(this.cam, value?.title);\r\n      } else {\r\n        this.loading = false;\r\n      };\r\n    }\r\n\r\n    this.noctuaFormDialogService.openConfirmCopyModelDialog(self.cam, success);\r\n  }\r\n\r\n  close() {\r\n\r\n    if (this.panelSide === 'left') {\r\n      this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.camForm);\r\n    } else if (this.panelSide === 'right') {\r\n      this.noctuaSearchMenuService.selectRightPanel(null);\r\n    }\r\n    this.panelDrawer.close();\r\n  }\r\n\r\n\r\n}\r\n","<form fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"noc-cam-form noc-drawer h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-drawer-header-title\">\r\n      Copy Model</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> Close\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-drawer-body w-100-p\" noctuaPerfectScrollbar>\r\n    <div *ngIf=\"!noctuaUserService.user\" class=\"noc-draw-body-disabled\" fxLayoutAlign=\"center center\">\r\n      Log in to Continue\r\n    </div>\r\n    <div class=\"noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Model Information\r\n        </div>\r\n        <span fxFlex></span>\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-form-section mb-20\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-body p-8\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n        <div class=\"noc-item-body w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <div class=\"w-100-p h-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n            <div class=\"noc-item\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-title\">ID:</div> {{cam.id}}\r\n            </div>\r\n            <div class=\"noc-item\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-title\">Title:</div> {{cam.title}}\r\n            </div>\r\n            <div class=\"noc-item\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-title\">State:</div> {{cam.state?.label}}\r\n            </div>\r\n            <div class=\"w-100-p\">\r\n              <div class=\"noc-item\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\r\n                <div class=\"noc-title\">Contributors:</div>\r\n                <div class=\"mr-8\" *ngFor=\"let contributor of cam.contributors\" matTooltip=\"{{contributor.name}}\"\r\n                  [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n                  {{contributor.name ? contributor.name :contributor.orcid}};\r\n                </div>\r\n              </div>\r\n              <div class=\"noc-item\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\r\n                <div class=\"noc-title\">Groups:</div>\r\n                <span class=\"\" *ngFor=\"let group of cam.groups\" matTooltip=\"{{group.name}}\"\r\n                  [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n                  <div class=\"noc-chip-label\">\r\n                    {{group.name ? group.name :group.url}}\r\n                  </div>\r\n                </span>\r\n              </div>\r\n              <div class=\"noc-item\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                <div class=\"noc-title\">Open In:</div>\r\n                <a class=\"mr-4\" [href]='cam.model?.modelInfo?.noctuaVPEUrl' target=\"_blank\">\r\n                  Pathway Editor\r\n                </a>\r\n                <span>&#8226;</span>\r\n                <a class=\"ml-4 mr-4\" [href]='cam.model?.modelInfo?.noctuaFormUrl' target=\"_blank\">\r\n                  Form Editor\r\n                </a>\r\n                <span>&#8226;</span>\r\n                <a class=\"ml-4\" [href]='cam.model?.modelInfo?.graphEditorUrl' target=\"_blank\">\r\n                  Graph Editor\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Duplicated Model Information\r\n        </div>\r\n        <span fxFlex></span>\r\n      </div>\r\n      <div class=\"noc-section-body p-8\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n        <div *ngIf=\"!duplicatedCam\" class=\"noc-item noc-no-info\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          No info yet\r\n        </div>\r\n        <div *ngIf=\"loading\" class=\"noc-item noc-no-info\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          Working on it ...\r\n        </div>\r\n        <div *ngIf=\"duplicatedCam\" class=\"noc-item-body w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <div class=\"w-100-p h-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n            <div class=\"noc-item\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-title\">ID:</div> {{duplicatedCam.id}}\r\n            </div>\r\n            <div class=\"noc-item\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-title\">Title:</div> {{duplicatedCam.title}}\r\n            </div>\r\n            <div class=\"noc-item\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <div class=\"noc-title\">State:</div> {{duplicatedCam.state?.label}}\r\n            </div>\r\n            <div class=\"w-100-p\">\r\n              <div class=\"noc-item\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\r\n                <div class=\"noc-title\">Contributors:</div>\r\n                <div class=\"mr-8\" *ngFor=\"let contributor of duplicatedCam.contributors\"\r\n                  matTooltip=\"{{contributor.name}}\" [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n                  {{contributor.name ? contributor.name :contributor.orcid}};\r\n                </div>\r\n              </div>\r\n              <div class=\"noc-item\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\r\n                <div class=\"noc-title\">Groups:</div>\r\n                <span class=\"\" *ngFor=\"let group of duplicatedCam.groups\" matTooltip=\"{{group.name}}\"\r\n                  [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n                  <div class=\"noc-chip-label\">\r\n                    {{group.name ? group.name :group.url}}\r\n                  </div>\r\n                </span>\r\n              </div>\r\n              <div class=\"noc-item\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                <div class=\"noc-title\">Open In:</div>\r\n                <a class=\"mr-4\" [href]='duplicatedCam.model?.modelInfo?.noctuaVPEUrl' target=\"_blank\">\r\n                  Pathway Editor\r\n                </a>\r\n                <span>&#8226;</span>\r\n                <a class=\"ml-4 mr-4\" [href]='duplicatedCam.model?.modelInfo?.noctuaFormUrl' target=\"_blank\">\r\n                  Form Editor\r\n                </a>\r\n                <span>&#8226;</span>\r\n                <a class=\"ml-4\" [href]='duplicatedCam.model?.modelInfo?.graphEditorUrl' target=\"_blank\">\r\n                  Graph Editor\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"noc-drawer-footer noc-submit-row\">\r\n    <span fxFlex></span>\r\n    <button (click)=\"copyModel()\" type=\"submit\" class=\"noc-rounded-button\" mat-raised-button color=\"primary\">Copy\r\n      Model</button>\r\n  </div>\r\n</form>","export { ActivityFormComponent } from './activity/activity-form/activity-form.component';\r\nexport { EntityFormComponent } from './activity/activity-form/entity-form/entity-form.component';\r\nexport { CamTableComponent } from './cam-table/cam-table.component';\r\nexport { ActivityConnectorFormComponent } from './activity/activity-connector-form/activity-connector-form.component';\r\nexport { ActivityTableComponent } from './cam-table/activity-table/activity-table.component';\r\n","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { getColor } from '@noctua.common/data/noc-colors';\r\nimport { TermsSummary, CamStatsService, NoctuaGraphService } from '@geneontology/noctua-form-base';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'noc-aspect-stats',\r\n  templateUrl: './aspect-stats.component.html',\r\n  styleUrls: ['./aspect-stats.component.scss']\r\n})\r\nexport class AspectStatsComponent implements OnInit, OnDestroy {\r\n  @Input()\r\n  termsSummary: TermsSummary;\r\n\r\n  @Input()\r\n  aspect: string;\r\n\r\n\r\n\r\n  aspectPieOptions = {\r\n    view: [400, 200],\r\n    gradient: true,\r\n    legend: false,\r\n    showLabels: true,\r\n    isDoughnut: false,\r\n    maxLabelLength: 20,\r\n    colorScheme: {\r\n      domain: [getColor('green', 500), getColor('brown', 500), getColor('purple', 500)]\r\n    },\r\n\r\n  }\r\n\r\n\r\n  stats = {\r\n    mfPie: [],\r\n    bpPie: [],\r\n    ccPie: [],\r\n  }\r\n\r\n\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n  pies: { label: string; data: any[]; }[];\r\n\r\n  constructor(\r\n    private _camStatsService: CamStatsService,\r\n    private _noctuaGraphService: NoctuaGraphService\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.stats.mfPie = this._camStatsService.buildTermsPie(this.termsSummary.mf.nodes)\r\n    this.stats.bpPie = this._camStatsService.buildTermsPie(this.termsSummary.bp.nodes)\r\n    this.stats.ccPie = this._camStatsService.buildTermsPie(this.termsSummary.cc.nodes)\r\n\r\n    this.pies = [\r\n      {\r\n        label: 'Molecular Function',\r\n        data: this.stats.mfPie\r\n      }, {\r\n        label: 'Biological Process',\r\n        data: this.stats.bpPie\r\n      }, {\r\n        label: 'Cellular Component',\r\n        data: this.stats.ccPie\r\n      }]\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n}\r\n","<div *ngFor=\"let pie of pies\" class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <div class=\"noc-section-heading\">\r\n      {{pie.label}}\r\n    </div>\r\n    <span fxFlex></span>\r\n  </div>\r\n  <div class=\"noc-section-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <ngx-charts-pie-chart [results]=\"pie.data\" [view]=\"aspectPieOptions.view\" [scheme]=\"aspectPieOptions.colorScheme\"\r\n      [gradient]=\"aspectPieOptions.gradient\" [legend]=\"aspectPieOptions.legend\"\r\n      [maxLabelLength]=\"aspectPieOptions.maxLabelLength\" [labels]=\"aspectPieOptions.showLabels\"\r\n      [doughnut]=\"aspectPieOptions.isDoughnut\">\r\n    </ngx-charts-pie-chart>\r\n  </div>\r\n</div>","import { Component, OnInit, OnDestroy, NgZone, Input } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { ActivityNode, Cam, CamService, EntityType, LeftPanel, NoctuaFormConfigService, NoctuaGraphService, NoctuaLookupService, NoctuaUserService, RightPanel, TermsSummary } from '@geneontology/noctua-form-base';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { SearchCriteria } from '@noctua.search/models/search-criteria';\r\nimport { environment } from 'environments/environment';\r\nimport { NoctuaReviewSearchService } from '@noctua.search/services/noctua-review-search.service';\r\nimport { NoctuaSearchService } from '@noctua.search/services/noctua-search.service';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\n\r\nenum StatsType {\r\n  GENERAL = 'general',\r\n  GP = \"GP\",\r\n  MF = 'MF',\r\n  BP = \"BP\",\r\n  CC = \"CC\",\r\n  TERM = 'term',\r\n  CONTRIBUTION = \"contribution\",\r\n  STATEMENT = \"statement\"\r\n}\r\n\r\n@Component({\r\n  selector: 'noc-cam-stats',\r\n  templateUrl: './cam-stats.component.html',\r\n  styleUrls: ['./cam-stats.component.scss']\r\n})\r\nexport class CamStatsComponent implements OnInit, OnDestroy {\r\n  EntityType = EntityType;\r\n  StatsType = StatsType;\r\n\r\n  @Input('panelDrawer')\r\n  panelDrawer: MatDrawer;\r\n  cam: Cam;\r\n  termsSummary: TermsSummary;\r\n\r\n  loadingSpinner: any = {\r\n    color: 'primary',\r\n    mode: 'indeterminate'\r\n  };\r\n\r\n  selectedStatsType = StatsType.GENERAL;\r\n\r\n  statsTypes = [\r\n    {\r\n      name: StatsType.GENERAL,\r\n      label: 'General'\r\n    }, {\r\n      name: StatsType.GP,\r\n      label: 'GP'\r\n    }, {\r\n      name: StatsType.TERM,\r\n      label: 'Terms'\r\n    }, {\r\n      name: StatsType.STATEMENT,\r\n      label: 'Statements'\r\n    }, {\r\n      name: StatsType.CONTRIBUTION,\r\n      label: 'Contribution'\r\n    }\r\n  ]\r\n\r\n\r\n\r\n  // options\r\n\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n\r\n  pies = []\r\n\r\n  constructor(\r\n    private zone: NgZone,\r\n    private noctuaLookupService: NoctuaLookupService,\r\n    private _noctuaGraphService: NoctuaGraphService,\r\n    public noctuaCommonMenuService: NoctuaCommonMenuService,\r\n    public camService: CamService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaReviewSearchService: NoctuaReviewSearchService,\r\n    public noctuaSearchService: NoctuaSearchService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this._noctuaGraphService.onCamGraphChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((cam: Cam) => {\r\n        if (!cam) {\r\n          return;\r\n        }\r\n        this.cam = cam;\r\n        this.termsSummary = this._noctuaGraphService.getTerms(this.cam.graph)\r\n      });\r\n\r\n  }\r\n\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  selectStatsType(name: StatsType) {\r\n    this.selectedStatsType = name;\r\n  }\r\n\r\n\r\n  openSearch(node) {\r\n    this.noctuaLookupService.getTermDetail(node.term.id)\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((term) => {\r\n        if (!term) return;\r\n        this.noctuaReviewSearchService.onCamTermSearch.next(term)\r\n        this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.findReplace);\r\n        this.noctuaCommonMenuService.openLeftDrawer();\r\n      })\r\n  }\r\n\r\n  search(node: ActivityNode) {\r\n    this.noctuaReviewSearchService.searchCriteria['terms'] = [node.term];\r\n    this.noctuaReviewSearchService.updateSearch();\r\n  }\r\n\r\n  searchModels(node: ActivityNode) {\r\n    const searchCriteria = new SearchCriteria()\r\n    searchCriteria.terms = [node.term]\r\n    const url = `${environment.noctuaLandingPageUrl}?${searchCriteria.build()}`\r\n    window.open(url, '_blank');\r\n  }\r\n\r\n  searchModelsByContributor(node: ActivityNode) {\r\n    const searchCriteria = new SearchCriteria()\r\n    searchCriteria.terms = [node.term]\r\n    searchCriteria.contributors = [this.noctuaUserService.user]\r\n    const url = `${environment.noctuaLandingPageUrl}?${searchCriteria.build()}`\r\n    window.open(url, '_blank')\r\n  }\r\n\r\n  openTermDetail(term) {\r\n    this.noctuaSearchService.onDetailTermChanged.next(term)\r\n    this.noctuaCommonMenuService.selectRightPanel(RightPanel.termDetail);\r\n    this.noctuaCommonMenuService.openRightDrawer();\r\n  }\r\n\r\n\r\n  close() {\r\n    this.panelDrawer.close();\r\n  }\r\n\r\n}\r\n","<div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"noc-drawer h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-drawer-header-title\">\r\n      Cam Details & Stats</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> CLOSE\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-tab-bar\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <button mat-button *ngFor=\"let statsType of statsTypes\" color=\"\" class=\"noc-tab-button\"\r\n      [ngClass]=\"{'noc-active': selectedStatsType === statsType.name}\" (click)=\"selectStatsType(statsType.name)\"\r\n      matTooltip=\"{{statsType.tooltip}}\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      {{statsType.label}}\r\n    </button>\r\n  </div>\r\n  <div *ngIf=\"termsSummary\" class=\"noc-drawer-body\" noctuaPerfectScrollbar>\r\n    <div [ngSwitch]=\"selectedStatsType\">\r\n      <noc-general-stats *ngSwitchCase=\"StatsType.GENERAL\" [termsSummary]=\"termsSummary\"></noc-general-stats>\r\n      <noc-gp-stats *ngSwitchCase=\"StatsType.GP\" [termsSummary]=\"termsSummary\"></noc-gp-stats>\r\n      <noc-aspect-stats *ngSwitchCase=\"StatsType.TERM\" [termsSummary]=\"termsSummary\"></noc-aspect-stats>\r\n      <noc-statement-stats *ngSwitchCase=\"StatsType.STATEMENT\" [termsSummary]=\"termsSummary\"></noc-statement-stats>\r\n      <noc-contribution-stats *ngSwitchCase=\"StatsType.CONTRIBUTION\" [termsSummary]=\"termsSummary\">\r\n      </noc-contribution-stats>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { getColor } from '@noctua.common/data/noc-colors';\r\nimport { TermsSummary, CamStatsService, NoctuaGraphService } from '@geneontology/noctua-form-base';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'noc-contribution-stats',\r\n  templateUrl: './contribution-stats.component.html',\r\n  styleUrls: ['./contribution-stats.component.scss']\r\n})\r\nexport class ContributionStatsComponent implements OnInit, OnDestroy {\r\n  @Input()\r\n  termsSummary: TermsSummary;\r\n\r\n  @Input()\r\n  aspect: string;\r\n\r\n  contributorBarOptions = {\r\n    view: [500, 300],\r\n    showXAxis: true,\r\n    showYAxis: true,\r\n    gradient: false,\r\n    legend: false,\r\n    showXAxisLabel: true,\r\n    maxYAxisTickLength: 25,\r\n    yAxisLabel: 'Contributor',\r\n    showYAxisLabel: true,\r\n    xAxisLabel: 'Number of Statements',\r\n  }\r\n\r\n  stats = {\r\n    contributorBar: [],\r\n  }\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private _camStatsService: CamStatsService\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.stats.contributorBar = this._camStatsService.buildContributorBar(this.termsSummary.contributors.nodes)\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n}\r\n","<div class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <div class=\"noc-section-heading\">\r\n      Contribution\r\n    </div>\r\n    <span fxFlex></span>\r\n  </div>\r\n  <div class=\"noc-section-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <ngx-charts-bar-horizontal [results]=\"stats.contributorBar\" [view]=\"contributorBarOptions.view\"\r\n      [gradient]=\"contributorBarOptions.gradient\" [xAxis]=\"contributorBarOptions.showXAxis\"\r\n      [yAxis]=\"contributorBarOptions.showYAxis\" [legend]=\"contributorBarOptions.legend\"\r\n      [showXAxisLabel]=\"contributorBarOptions.showXAxisLabel\"\r\n      [maxYAxisTickLength]=\"contributorBarOptions.maxYAxisTickLength\"\r\n      [showYAxisLabel]=\"contributorBarOptions.showYAxisLabel\" [xAxisLabel]=\"contributorBarOptions.xAxisLabel\"\r\n      [yAxisLabel]=\"contributorBarOptions.yAxisLabel\">\r\n    </ngx-charts-bar-horizontal>\r\n  </div>\r\n</div>","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { getColor } from '@noctua.common/data/noc-colors';\r\nimport { ActivityNode, ActivityNodeType, Cam, CamStatsService, NoctuaGraphService, NoctuaLookupService, TermsSummary } from '@geneontology/noctua-form-base';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'noc-general-stats',\r\n  templateUrl: './general-stats.component.html',\r\n  styleUrls: ['./general-stats.component.scss']\r\n})\r\nexport class GeneralStatsComponent implements OnInit, OnDestroy {\r\n  @Input()\r\n  termsSummary: TermsSummary;\r\n\r\n  aspectOptions = {\r\n    view: [500, 200],\r\n    showXAxis: true,\r\n    showYAxis: true,\r\n    gradient: false,\r\n    legend: false,\r\n    showXAxisLabel: true,\r\n    xAxisLabel: 'Aspect',\r\n    showYAxisLabel: true,\r\n    yAxisLabel: 'Annotations',\r\n    animations: true,\r\n    legendPosition: 'below',\r\n    colorScheme: {\r\n      domain: ['#AAAAAA']\r\n    },\r\n    customColors: []\r\n  }\r\n\r\n  aspectPieOptions = {\r\n    view: [500, 200],\r\n    gradient: true,\r\n    legend: false,\r\n    showLabels: true,\r\n    isDoughnut: false,\r\n    maxLabelLength: 20,\r\n    colorScheme: {\r\n      domain: [getColor('green', 500), getColor('brown', 500), getColor('purple', 500)]\r\n    },\r\n\r\n  }\r\n\r\n  termsBarOptions = {\r\n    view: [500, 400],\r\n    showXAxis: true,\r\n    showYAxis: true,\r\n    gradient: false,\r\n    legend: false,\r\n    showXAxisLabel: true,\r\n    maxYAxisTickLength: 30,\r\n    yAxisLabel: 'Terms',\r\n    showYAxisLabel: true,\r\n    xAxisLabel: 'Count',\r\n  }\r\n\r\n  stats = {\r\n    aspect: [],\r\n    aspectPie: [],\r\n    termsBar: [],\r\n  }\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private _camStatsService: CamStatsService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.stats.aspect = this._camStatsService.buildTermsStats(this.termsSummary)\r\n    this.stats.aspectPie = this._camStatsService.buildAspectPie([this.termsSummary.mf, this.termsSummary.bp, this.termsSummary.cc])\r\n    this.stats.termsBar = this._camStatsService.buildTermsDistribution([\r\n      this.termsSummary.mf,\r\n      this.termsSummary.bp,\r\n      this.termsSummary.cc,\r\n      this.termsSummary.other]\r\n    )\r\n\r\n    //this.getCustomColors(this.stats.termsBar)\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  getCustomColors(nodes) {\r\n    const customColors = nodes.map((node: ActivityNode) => {\r\n      let color = \"#AAAAAA\"\r\n      if (node.type = ActivityNodeType.GoMolecularEntity) {\r\n        color = getColor('blue', 500)\r\n      } else if (node.type = ActivityNodeType.GoMolecularFunction) {\r\n        color = getColor('brown', 500)\r\n      } else if (node.type = ActivityNodeType.GoBiologicalProcess) {\r\n        color = getColor('purple', 500)\r\n      } else if (node.type = ActivityNodeType.GoCellularComponent) {\r\n        color = getColor('green', 500)\r\n      }\r\n      return { name: node.term.label, value: color }\r\n    });\r\n\r\n    return customColors;\r\n  }\r\n\r\n}\r\n","<div class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <div class=\"noc-section-heading\">\r\n      Number of terms\r\n    </div>\r\n    <span fxFlex></span>\r\n  </div>\r\n  <div class=\"noc-section-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <ngx-charts-bar-vertical-stacked [results]=\"stats.aspect\" [view]=\"aspectOptions.view\"\r\n      [scheme]=\"aspectOptions.colorScheme\" [gradient]=\"aspectOptions.gradient\" [xAxis]=\"aspectOptions.showXAxis\"\r\n      [yAxis]=\"aspectOptions.showYAxis\" [legend]=\"aspectOptions.legend\" [showXAxisLabel]=\"aspectOptions.showXAxisLabel\"\r\n      [showYAxisLabel]=\"aspectOptions.showYAxisLabel\" [xAxisLabel]=\"aspectOptions.xAxisLabel\"\r\n      [yAxisLabel]=\"aspectOptions.yAxisLabel\" [animations]=\"aspectOptions.animations\"\r\n      [customColors]=\"aspectOptions.customColors\">\r\n    </ngx-charts-bar-vertical-stacked>\r\n  </div>\r\n</div>\r\n<div class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <div class=\"noc-section-heading\">\r\n      Number of terms by aspect\r\n    </div>\r\n    <span fxFlex></span>\r\n  </div>\r\n  <div class=\"noc-section-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <ngx-charts-pie-chart [results]=\"stats.aspectPie\" [view]=\"aspectPieOptions.view\"\r\n      [scheme]=\"aspectPieOptions.colorScheme\" [gradient]=\"aspectPieOptions.gradient\" [legend]=\"aspectPieOptions.legend\"\r\n      [maxLabelLength]=\"aspectPieOptions.maxLabelLength\" [labels]=\"aspectPieOptions.showLabels\"\r\n      [doughnut]=\"aspectPieOptions.isDoughnut\">\r\n    </ngx-charts-pie-chart>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <div class=\"noc-section-heading\">\r\n      Terms Distribution (first 20)\r\n    </div>\r\n    <span fxFlex></span>\r\n  </div>\r\n  <div class=\"noc-section-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <ngx-charts-bar-horizontal [results]=\"stats.termsBar\" [view]=\"termsBarOptions.view\"\r\n      [gradient]=\"termsBarOptions.gradient\" [xAxis]=\"termsBarOptions.showXAxis\" [yAxis]=\"termsBarOptions.showYAxis\"\r\n      [legend]=\"termsBarOptions.legend\" [showXAxisLabel]=\"termsBarOptions.showXAxisLabel\"\r\n      [maxYAxisTickLength]=\"termsBarOptions.maxYAxisTickLength\" [showYAxisLabel]=\"termsBarOptions.showYAxisLabel\"\r\n      [xAxisLabel]=\"termsBarOptions.xAxisLabel\" [yAxisLabel]=\"termsBarOptions.yAxisLabel\">\r\n    </ngx-charts-bar-horizontal>\r\n  </div>\r\n</div>","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { getColor } from '@noctua.common/data/noc-colors';\r\nimport { ActivityNode, ActivityNodeType, CamStatsService, NoctuaGraphService, NoctuaLookupService, TermsSummary } from '@geneontology/noctua-form-base';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'noc-gp-stats',\r\n  templateUrl: './gp-stats.component.html',\r\n  styleUrls: ['./gp-stats.component.scss']\r\n})\r\nexport class GPStatsComponent implements OnInit, OnDestroy {\r\n  @Input()\r\n  termsSummary: TermsSummary;\r\n\r\n  aspectPieOptions = {\r\n    view: [500, 200],\r\n    gradient: true,\r\n    legend: false,\r\n    showLabels: true,\r\n    isDoughnut: false,\r\n    maxLabelLength: 20,\r\n    colorScheme: {\r\n      domain: [getColor('green', 500), getColor('brown', 500), getColor('purple', 500)]\r\n    },\r\n\r\n  }\r\n\r\n  termsBarOptions = {\r\n    view: [500, 400],\r\n    showXAxis: true,\r\n    showYAxis: true,\r\n    gradient: false,\r\n    legend: false,\r\n    showXAxisLabel: true,\r\n    maxYAxisTickLength: 30,\r\n    yAxisLabel: 'Gene Products',\r\n    showYAxisLabel: true,\r\n    xAxisLabel: 'Count',\r\n  }\r\n\r\n  stats = {\r\n    gpPie: [],\r\n    termsBar: [],\r\n  }\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private _camStatsService: CamStatsService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.stats.gpPie = this._camStatsService.buildTermsPie(this.termsSummary.gp.nodes)\r\n    this.stats.termsBar = this._camStatsService.buildTermsDistribution([this.termsSummary.gp])\r\n\r\n    //this.getCustomColors(this.stats.termsBar)\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  getCustomColors(nodes) {\r\n    const customColors = nodes.map((node: ActivityNode) => {\r\n      let color = \"#AAAAAA\"\r\n      if (node.type = ActivityNodeType.GoMolecularEntity) {\r\n        color = getColor('blue', 500)\r\n      } else if (node.type = ActivityNodeType.GoMolecularFunction) {\r\n        color = getColor('brown', 500)\r\n      } else if (node.type = ActivityNodeType.GoBiologicalProcess) {\r\n        color = getColor('purple', 500)\r\n      } else if (node.type = ActivityNodeType.GoCellularComponent) {\r\n        color = getColor('green', 500)\r\n      }\r\n      return { name: node.term.label, value: color }\r\n    });\r\n\r\n    return customColors;\r\n  }\r\n\r\n}\r\n","<div class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <div class=\"noc-section-heading\">\r\n      Terms Distribution (first 20)\r\n    </div>\r\n    <span fxFlex></span>\r\n  </div>\r\n  <div class=\"noc-section-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <ngx-charts-bar-horizontal [results]=\"stats.termsBar\" [view]=\"termsBarOptions.view\"\r\n      [gradient]=\"termsBarOptions.gradient\" [xAxis]=\"termsBarOptions.showXAxis\" [yAxis]=\"termsBarOptions.showYAxis\"\r\n      [legend]=\"termsBarOptions.legend\" [showXAxisLabel]=\"termsBarOptions.showXAxisLabel\"\r\n      [maxYAxisTickLength]=\"termsBarOptions.maxYAxisTickLength\" [showYAxisLabel]=\"termsBarOptions.showYAxisLabel\"\r\n      [xAxisLabel]=\"termsBarOptions.xAxisLabel\" [yAxisLabel]=\"termsBarOptions.yAxisLabel\">\r\n    </ngx-charts-bar-horizontal>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <div class=\"noc-section-heading\">\r\n      Gene Product\r\n    </div>\r\n    <span fxFlex></span>\r\n  </div>\r\n  <div class=\"noc-section-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <ngx-charts-pie-chart [results]=\"stats.gpPie\" [view]=\"aspectPieOptions.view\" [scheme]=\"aspectPieOptions.colorScheme\"\r\n      [gradient]=\"aspectPieOptions.gradient\" [legend]=\"aspectPieOptions.legend\"\r\n      [maxLabelLength]=\"aspectPieOptions.maxLabelLength\" [labels]=\"aspectPieOptions.showLabels\"\r\n      [doughnut]=\"aspectPieOptions.isDoughnut\">\r\n    </ngx-charts-pie-chart>\r\n  </div>\r\n</div>","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { getColor } from '@noctua.common/data/noc-colors';\r\nimport { TermsSummary, CamStatsService, NoctuaGraphService } from '@geneontology/noctua-form-base';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'noc-statement-stats',\r\n  templateUrl: './statement-stats.component.html',\r\n  styleUrls: ['./statement-stats.component.scss']\r\n})\r\nexport class StatementStatsComponent implements OnInit, OnDestroy {\r\n  @Input()\r\n  termsSummary: TermsSummary;\r\n\r\n  @Input()\r\n  aspect: string;\r\n\r\n\r\n  relationsBarOptions = {\r\n    view: [500, 400],\r\n    showXAxis: true,\r\n    showYAxis: true,\r\n    gradient: false,\r\n    legend: false,\r\n    showXAxisLabel: true,\r\n    maxYAxisTickLength: 30,\r\n    yAxisLabel: 'Relation',\r\n    showYAxisLabel: true,\r\n    xAxisLabel: 'Count',\r\n  }\r\n\r\n\r\n  datesLineOptions = {\r\n    view: [500, 400],\r\n    legend: false,\r\n    legendPosition: 'below',\r\n    showLabels: true,\r\n    animations: true,\r\n    xAxis: true,\r\n    yAxis: true,\r\n    showYAxisLabel: true,\r\n    showXAxisLabel: true,\r\n    xAxisLabel: 'Curated Statements',\r\n    yAxisLabel: 'Statements',\r\n    timeline: true,\r\n  }\r\n\r\n  stats = {\r\n    datesLine: [],\r\n    relationsBar: [],\r\n  }\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private _camStatsService: CamStatsService,\r\n    private _noctuaGraphService: NoctuaGraphService\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.stats.relationsBar = this._camStatsService.buildRelationsPie(this.termsSummary.relations.nodes)\r\n    this.stats.datesLine = this._camStatsService.buildContributionsStats(this.termsSummary.dates.nodes)\r\n\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n}\r\n","<div class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <div class=\"noc-section-heading\">\r\n      Relations\r\n    </div>\r\n    <span fxFlex></span>\r\n  </div>\r\n  <div class=\"noc-section-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <ngx-charts-bar-horizontal [results]=\"stats.relationsBar\" [view]=\"relationsBarOptions.view\"\r\n      [gradient]=\"relationsBarOptions.gradient\" [xAxis]=\"relationsBarOptions.showXAxis\"\r\n      [yAxis]=\"relationsBarOptions.showYAxis\" [legend]=\"relationsBarOptions.legend\"\r\n      [showXAxisLabel]=\"relationsBarOptions.showXAxisLabel\"\r\n      [maxYAxisTickLength]=\"relationsBarOptions.maxYAxisTickLength\"\r\n      [showYAxisLabel]=\"relationsBarOptions.showYAxisLabel\" [xAxisLabel]=\"relationsBarOptions.xAxisLabel\"\r\n      [yAxisLabel]=\"relationsBarOptions.yAxisLabel\">\r\n    </ngx-charts-bar-horizontal>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"noc-table-form noc-form-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <div class=\"noc-section-heading\">\r\n      Statements over time\r\n    </div>\r\n    <span fxFlex></span>\r\n  </div>\r\n  <div class=\"noc-section-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <ngx-charts-line-chart [results]=\"stats.datesLine\" [view]=\"datesLineOptions.view\" [legend]=\"datesLineOptions.legend\"\r\n      [showXAxisLabel]=\"datesLineOptions.showXAxisLabel\" [showYAxisLabel]=\"datesLineOptions.showYAxisLabel\"\r\n      [xAxis]=\"datesLineOptions.xAxis\" [yAxis]=\"datesLineOptions.yAxis\" [xAxisLabel]=\"datesLineOptions.xAxisLabel\"\r\n      [yAxisLabel]=\"datesLineOptions.yAxisLabel\" [timeline]=\"datesLineOptions.timeline\">\r\n    </ngx-charts-line-chart>\r\n  </div>\r\n</div>","\r\nimport { Component, OnInit, OnDestroy, Inject, Input, Output, EventEmitter } from '@angular/core';\r\n\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport {\r\n  Evidence,\r\n  NoctuaFormConfigService\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { noctuaAnimations } from '@noctua/animations';\r\n\r\n@Component({\r\n  selector: 'noc-select-evidence',\r\n  templateUrl: './select-evidence.component.html',\r\n  styleUrls: ['./select-evidence.component.scss'],\r\n  animations: noctuaAnimations\r\n})\r\nexport class SelectEvidenceComponent implements OnInit, OnDestroy {\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  @Input('evidence') evidence: Evidence[];\r\n\r\n  @Output()\r\n  onSelectionChanged: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  displayedColumns: string[] = ['select', 'evidence', 'reference', 'with', 'assignedBy'];\r\n  dataSource;\r\n  selection = new SelectionModel<Evidence>(true, []);\r\n\r\n  constructor(\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.dataSource = new MatTableDataSource<Evidence>(this.evidence);\r\n  }\r\n  /** Whether the number of selected elements matches the total number of rows. */\r\n  isAllSelected() {\r\n    const numSelected = this.selection.selected.length;\r\n    const numRows = this.dataSource.data.length;\r\n    return numSelected === numRows;\r\n  }\r\n\r\n  /** Selects all rows if they are not all selected; otherwise clear selection. */\r\n  masterToggle() {\r\n    this.isAllSelected() ?\r\n      this.selection.clear() :\r\n      this.dataSource.data.forEach(row => this.selection.select(row));\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<mat-table class=\"noc-evidence-table w-100-p\" #table [dataSource]=\"dataSource\" matSort [@animateStagger]=\"{value:'50'}\"\r\n  noctuaPerfectScrollbar>\r\n  <ng-container matColumnDef=\"select\" class=\"\">\r\n    <mat-header-cell *matHeaderCellDef fxFlex=\"30px\">\r\n      <mat-checkbox (change)=\"$event ? masterToggle() : null\" [checked]=\"selection.hasValue() && isAllSelected()\"\r\n        [indeterminate]=\"selection.hasValue() && !isAllSelected()\">\r\n      </mat-checkbox>\r\n    </mat-header-cell>\r\n    <mat-cell *matCellDef=\"let row\" fxFlex=\"30px\">\r\n      <mat-checkbox (click)=\"$event.stopPropagation()\" (change)=\"$event ? selection.toggle(row) : null\"\r\n        [checked]=\"selection.isSelected(row)\">\r\n      </mat-checkbox>\r\n    </mat-cell>\r\n  </ng-container>\r\n  <ng-container cdkColumnDef=\"evidence\">\r\n    <mat-header-cell *cdkHeaderCellDef fxFlex=\"40%\">Evidence</mat-header-cell>\r\n    <mat-cell *cdkCellDef=\"let evidence\" fxFlex=\"40%\">\r\n      <p class=\"\">{{evidence.evidence?.label}}</p>\r\n    </mat-cell>\r\n  </ng-container>\r\n  <ng-container cdkColumnDef=\"reference\">\r\n    <mat-header-cell *cdkHeaderCellDef fxFlex=\"20%\">Reference</mat-header-cell>\r\n    <mat-cell *cdkCellDef=\"let evidence\" fxFlex=\"20%\">\r\n      <p class=\"\">{{evidence.reference}}</p>\r\n    </mat-cell>\r\n  </ng-container>\r\n  <ng-container cdkColumnDef=\"with\">\r\n    <mat-header-cell *cdkHeaderCellDef fxFlex=\"20%\">With</mat-header-cell>\r\n    <mat-cell *cdkCellDef=\"let evidence\" fxFlex=\"20%\">\r\n      <p class=\"\">{{evidence.with}}</p>\r\n    </mat-cell>\r\n  </ng-container>\r\n  <ng-container cdkColumnDef=\"assignedBy\">\r\n    <mat-header-cell *cdkHeaderCellDef fxFlex=\"\">Assigned By</mat-header-cell>\r\n    <mat-cell *cdkCellDef=\"let evidence\" fxFlex=\"\">\r\n      <p class=\"\">{{evidence.assignedBy?.label}}</p>\r\n    </mat-cell>\r\n  </ng-container>\r\n  <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\r\n  <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"selection.toggle(row)\"></mat-row>\r\n</mat-table>\r\n","import { Component, Inject, OnInit, OnDestroy, Input } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport {\r\n  NoctuaFormConfigService,\r\n  Entity,\r\n} from '@geneontology/noctua-form-base';\r\n\r\n\r\n@Component({\r\n  selector: 'noc-term-details',\r\n  templateUrl: './term-detail.component.html',\r\n  styleUrls: ['./term-detail.component.scss']\r\n})\r\n\r\nexport class NoctuaTermDetailComponent implements OnInit, OnDestroy {\r\n\r\n  @Input() termData: any = {}\r\n  evidenceDBForm: FormGroup;\r\n  formControl: FormControl;\r\n  termDetail\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n    this.formControl = this.termData.formControl;\r\n    this.termDetail = this.termData.termDetail;\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  useTerm(term: Entity) {\r\n    this.formControl.setValue(term);\r\n  }\r\n\r\n  close() {\r\n    // this.dialogRef.close();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<div (click)=\"$event.stopPropagation()\" class=\"noc-item-details noc-drawer w-100-p\">\r\n  <div class=\"noc-header w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <div class=\"noc-header-title\">\r\n      <div class=\"text-truncate\">\r\n        {{termDetail.label}}\r\n      </div>\r\n    </div>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"$event.stopPropagation(); close()\" class=\"noc-rounded-button noc-sm\"\r\n      color=\"primary\" aria-label=\"Close Selected Item\">\r\n      <mat-icon>close</mat-icon> Close\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-body w-100-p\" noctuaPerfectScrollbar>\r\n    <div class=\"noc-section-row\">\r\n      <div class=\"noc-title\">\r\n        Term\r\n      </div>\r\n      <div class=\"noc-description\">\r\n        {{termDetail.label}} <small>({{termDetail.id}})</small>\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-section-row\">\r\n      <div class=\"noc-title\">\r\n        Definition\r\n      </div>\r\n      <div class=\"noc-description\">\r\n        {{termDetail.description}}\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-section-row\">\r\n      <div class=\"noc-title\">\r\n        Is A Type Of\r\n      </div>\r\n      <div class=\"noc-description\">\r\n        <div *ngFor=\"let rootType of termDetail.rootTypes\">\r\n          {{rootType.label}}<small>({{rootType.id}})</small>\r\n          <a (click)=\"useTerm(rootType)\">\r\n            Use\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"noc-footer w-100-p\">\r\n    <span fxFlex></span>\r\n    <!-- <button class=\"noc-rounded-button\" mat-raised-button color=\"primary\">Use</button> -->\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, OnDestroy, Inject } from '@angular/core';\r\n\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { ErrorLevel, ErrorType, NoctuaFormConfigService } from '@geneontology/noctua-form-base';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-activity-errors',\r\n  templateUrl: './activity-errors.component.html',\r\n  styleUrls: ['./activity-errors.component.scss']\r\n})\r\nexport class ActivityErrorsDialogComponent implements OnInit, OnDestroy {\r\n  ErrorType = ErrorType;\r\n  ErrorLevel = ErrorLevel;\r\n  private _unsubscribeAll: Subject<any>;\r\n  errors\r\n\r\n  constructor(\r\n    private _matDialogRef: MatDialogRef<ActivityErrorsDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) private _data: any,\r\n    public noctuaFormConfigService: NoctuaFormConfigService) {\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.errors = this._data.errors\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  close() {\r\n    this._matDialogRef.close();\r\n  }\r\n\r\n\r\n\r\n  ngOnDestroy(): void {\r\n\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n}\r\n","<div class=\"dialog-content-wrapper\">\r\n  <mat-toolbar class=\"mat-primary m-0\">\r\n    <mat-toolbar-row fxFlex fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <span class=\"title dialog-title\">\r\n        Errors</span>\r\n      <span fxFlex></span>\r\n      <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n        aria-label=\"Close dialog\">\r\n        <mat-icon>close</mat-icon> Close\r\n      </button>\r\n    </mat-toolbar-row>\r\n  </mat-toolbar>\r\n  <div mat-dialog-content class=\"noc-dialog-body\" noctuaPerfectScrollbar>\r\n    <div class=\"\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div *ngFor=\"let error of errors; let i =index\" class=\"noc-error-row\" fxLayout=\"row\">\r\n        <div class=\"noc-number\">\r\n          {{i+1}}\r\n        </div>\r\n        <div fxFlex class=\"noc-error-row-body\">\r\n          <div class=\"noc-heading\">\r\n            <strong>{{error.meta?.aspect}}</strong>: {{error.message}}\r\n          </div>\r\n          <div *ngIf=\"error.type===ErrorType.relation\" class=\"pb-10\" fxLayout=\"row\">\r\n            <div class=\"noc-node-card\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n              <div> {{error.meta?.subjectNode?.label}}</div>\r\n            </div>\r\n            <div class=\"noc-edge-card\" fxLayout=\"column\" fxLayoutAlign=\"center stretch\" fxFlex>\r\n              <div class=\"noc-line\">\r\n                {{error.meta?.edge?.label}}\r\n              </div>\r\n            </div>\r\n            <div class=\"noc-node-card\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n              <div>{{error.meta?.objectNode?.label}}</div>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"error.type===ErrorType.cardinality\" class=\"pb-10\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n            <div class=\"noc-node-card\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n              {{error.meta?.subjectNode?.label}}\r\n            </div>\r\n            <div class=\"noc-edge-card\" fxFlex fxLayout=\"column\" fxLayoutAlign=\"center stretch\">\r\n              <div class=\"noc-line\">\r\n                {{error.meta?.edge?.label}}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div mat-dialog-actions class=\"m-0 p-16\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n    <span fxFlex></span>\r\n    <button (click)='close()' mat-raised-button color=\"\" class=\"mr-8\">Close</button>\r\n  </div>\r\n</div>","\r\nimport { Component, OnInit, OnDestroy, Inject } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormControl, FormGroup } from '@angular/forms';\r\n\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { ActivityNode, CamService, EntityDefinition, EntityForm, NoctuaActivityEntityService, NoctuaFormConfigService } from '@geneontology/noctua-form-base';\r\nimport { InlineReferenceService } from '@noctua.editor/inline-reference/inline-reference.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-add-evidence',\r\n  templateUrl: './add-evidence.component.html',\r\n  styleUrls: ['./add-evidence.component.scss']\r\n})\r\nexport class AddEvidenceDialogComponent implements OnInit, OnDestroy {\r\n  private _fb = new FormBuilder();\r\n  private _unsubscribeAll: Subject<any>;\r\n  searchFormData: any = {};\r\n  cam: any = {};\r\n  entityForm: EntityForm;\r\n  evidenceFormGroup: FormGroup;\r\n  entity: ActivityNode;\r\n\r\n  constructor(\r\n    private _matDialogRef: MatDialogRef<AddEvidenceDialogComponent>,\r\n    private _noctuaActivityEntityService: NoctuaActivityEntityService,\r\n    private camService: CamService,\r\n    private inlineReferenceService: InlineReferenceService,\r\n    @Inject(MAT_DIALOG_DATA) private _data: any,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.evidenceFormGroup = this.createEvidenceForm();\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  createEvidenceForm() {\r\n    this.entity = EntityDefinition.generateBaseTerm([]);\r\n    this.entityForm = this._noctuaActivityEntityService.createActivityEntityForm(this.entity);\r\n    const entityFormGroup = this._fb.group(this.entityForm);\r\n    const evidenceFormArray = entityFormGroup.get('evidenceFormArray') as FormArray;\r\n    return evidenceFormArray.at(0) as FormGroup;\r\n\r\n  }\r\n\r\n\r\n  clearValues() {\r\n    this.entity.clearValues();\r\n  }\r\n\r\n  openAddReference(event, name: string) {\r\n    const data = {\r\n      formControl: this.evidenceFormGroup.controls[name] as FormControl,\r\n    };\r\n    this.inlineReferenceService.open(event.target, { data });\r\n  }\r\n\r\n  updateEvidenceList() {\r\n    this.camService.updateEvidenceList(null, this.entity);\r\n  }\r\n\r\n  updateReferenceList() {\r\n    this.camService.updateReferenceList(null, this.entity);\r\n  }\r\n\r\n  updateWithList() {\r\n    this.camService.updateWithList(null, this.entity);\r\n  }\r\n\r\n  evidenceDisplayFn(evidence): string | undefined {\r\n    return evidence && evidence.id ? `${evidence.label} (${evidence.id})` : undefined;\r\n  }\r\n\r\n  save() {\r\n    this.entityForm.populateTermEvidenceOnly();\r\n    this._matDialogRef.close(this.entity.predicate.evidence);\r\n  }\r\n\r\n  close() {\r\n    this._matDialogRef.close();\r\n  }\r\n}\r\n","<div class=\"dialog-content-wrapper  noc-dialog\">\r\n  <div class=\"m-0 noc-dialog-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-dialog-header-title\">\r\n      Add Evidence\r\n    </span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> Close\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-dialog-body pt-20\">\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"w-100-p\">\r\n      <ng-container [formGroup]=\"evidenceFormGroup\">\r\n        <div class=\"noc-edit-field p-4\" fxFlex=\"250px\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-label>Evidence</mat-label>\r\n            <textarea type=\"text\" matInput formControlName=\"evidence\" [matAutocomplete]=\"evidenceAuto\" rows=\"2\"\r\n              (focus)=\"updateEvidenceList()\"></textarea>\r\n            <mat-autocomplete #evidenceAuto=\"matAutocomplete\" [displayWith]=\"evidenceDisplayFn\"\r\n              class=\"noc-term-autocomplete\">\r\n              <mat-option *ngFor=\"let item of entity?.predicate?.evidenceLookup.results\" [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item.label }}\r\n                  </div>\r\n                  <span fxFlex></span>\r\n                  <div class=\"noc-term-id mr-8\">\r\n                    <strong>\r\n                      {{ item.xref }}\r\n                    </strong>\r\n                  </div>\r\n                  <div class=\"noc-term-id\">\r\n                    <a *ngIf=\"item.link\" (click)=\"$event.stopPropagation()\" href=\"{{item.link}}\" target=\"_blank\">\r\n                      {{ item.id }}\r\n                    </a>\r\n                    <span *ngIf=\"!item.link\">\r\n                      {{ item.id }}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"noc-edit-field p-4\" fxFlex=\"150px\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-label>Reference</mat-label>\r\n            <textarea matInput formControlName=\"reference\" [matAutocomplete]=\"referenceAuto\" rows=\"2\" autocomplete=\"off\"\r\n              (focus)=\"updateReferenceList()\"></textarea>\r\n            <button mat-icon-button matSuffix (click)=\"openAddReference($event, 'reference')\"\r\n              class=\"noc-evidence-db-trigger\">\r\n              <mat-icon>playlist_add</mat-icon>\r\n            </button>\r\n            <mat-autocomplete #referenceAuto=\"matAutocomplete\" class=\"noc-term-autocomplete\">\r\n              <mat-option *ngFor=\"let item of entity?.predicate?.referenceLookup.results\" [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"noc-edit-field p-4\" fxFlex fxFlex=\"150px\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-label>With</mat-label>\r\n            <textarea matInput formControlName=\"with\" [matAutocomplete]=\"withAuto\" rows=\"2\" (focus)=\"updateWithList()\"\r\n              autocomplete=\"off\"></textarea>\r\n            <mat-autocomplete #withAuto=\"matAutocomplete\" class=\"noc-term-autocomplete\">\r\n              <mat-option *ngFor=\"let item of entity?.predicate?.withLookup.results\" [value]=\"item\">\r\n                <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                  <div class=\"noc-term-label\">\r\n                    {{ item }}\r\n                  </div>\r\n                </div>\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n        </div>\r\n      </ng-container>\r\n    </div>\r\n  </div>\r\n  <div class=\"m-0 p-8 noc-dialog-footer\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n    <span fxFlex></span>\r\n    <button (click)='close()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">Cancel</button>\r\n    <button (click)='save()' type=\"button\" mat-raised-button color=\"primary\">Save</button>\r\n  </div>\r\n</div>","\r\nimport { Component, OnInit, OnDestroy, Inject } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\n\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { NoctuaFormConfigService } from '@geneontology/noctua-form-base';\r\n\r\n\r\n@Component({\r\n  selector: 'app-before-save',\r\n  templateUrl: './before-save.component.html',\r\n  styleUrls: ['./before-save.component.scss']\r\n})\r\nexport class BeforeSaveDialogComponent implements OnInit, OnDestroy {\r\n  private _unsubscribeAll: Subject<any>;\r\n  searchForm: FormGroup;\r\n  searchFormData: any = {};\r\n  cam: any = {};\r\n\r\n  constructor(\r\n    private _matDialogRef: MatDialogRef<BeforeSaveDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) private _data: any,\r\n    public noctuaFormConfigService: NoctuaFormConfigService) {\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.cam = this._data.cam\r\n    this.searchForm = this.createAnswerForm();\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  close() {\r\n    this._matDialogRef.close();\r\n  }\r\n\r\n  createAnswerForm() {\r\n    return new FormGroup({\r\n      annotatedEntity: new FormControl(this.cam.annotatedEntity.id),\r\n      term: new FormControl(this.cam.term.id),\r\n      evidence: new FormControl(this.cam.evidence.id),\r\n      reference: new FormControl(this.cam.reference.label),\r\n      with: new FormControl(this.cam.with),\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n}\r\n","<div class=\"dialog-content-wrapper\">\r\n  <mat-toolbar class=\"mat-primary m-0\">\r\n    <mat-toolbar-row fxFlex fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <span class=\"title dialog-title\">\r\n        Add Evidence</span>\r\n      <span fxFlex></span>\r\n      <button mat-icon-button (click)=\"close()\" aria-label=\"Close dialog\">\r\n        <mat-icon>close</mat-icon>\r\n      </button>\r\n    </mat-toolbar-row>\r\n  </mat-toolbar>\r\n  <div mat-dialog-content class=\"noc-dialog-body\" noctuaPerfectScrollbar>\r\n    <div fxLayout=\"column\" fxLayoutAlign=\"start center\" class=\"w-100-p\">\r\n\r\n    </div>\r\n  </div>\r\n  <div mat-dialog-actions class=\"m-0 p-16\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n    <span fxFlex></span>\r\n    <button (click)='close()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">Cancel</button>\r\n    <button type=\"button\" mat-raised-button color=\"primary\">Save</button>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, OnDestroy, Inject } from '@angular/core';\r\n\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { ErrorLevel, ErrorType, NoctuaFormConfigService } from '@geneontology/noctua-form-base';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-cam-errors',\r\n  templateUrl: './cam-errors.component.html',\r\n  styleUrls: ['./cam-errors.component.scss']\r\n})\r\nexport class CamErrorsDialogComponent implements OnInit, OnDestroy {\r\n  ErrorType = ErrorType;\r\n  ErrorLevel = ErrorLevel;\r\n  private _unsubscribeAll: Subject<any>;\r\n  errors\r\n\r\n  constructor(\r\n    private _matDialogRef: MatDialogRef<CamErrorsDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) private _data: any,\r\n    public noctuaFormConfigService: NoctuaFormConfigService) {\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.errors = this._data.errors\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  close() {\r\n    this._matDialogRef.close();\r\n  }\r\n\r\n\r\n\r\n  ngOnDestroy(): void {\r\n\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n}\r\n","<div class=\"dialog-content-wrapper\">\r\n  <mat-toolbar class=\"mat-primary m-0\">\r\n    <mat-toolbar-row fxFlex fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <span class=\"title dialog-title\">\r\n        Violations</span>\r\n      <span fxFlex></span>\r\n      <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n        aria-label=\"Close dialog\">\r\n        <mat-icon>close</mat-icon> Close\r\n      </button>\r\n    </mat-toolbar-row>\r\n  </mat-toolbar>\r\n  <div mat-dialog-content class=\"noc-dialog-body\" noctuaPerfectScrollbar>\r\n    <div class=\"\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div *ngFor=\"let error of errors; let i =index\" class=\"noc-error-row\" fxLayout=\"row\">\r\n        <div class=\"noc-number\">\r\n          {{i+1}}\r\n        </div>\r\n        <div fxFlex class=\"noc-error-row-body\">\r\n          <div class=\"noc-heading\">\r\n            <strong>{{error.meta?.aspect}}</strong>: {{error.message}}\r\n          </div>\r\n          <div *ngIf=\"error.type===ErrorType.relation\" class=\"pb-10\" fxLayout=\"row\">\r\n            <div class=\"noc-node-card\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n              <div> {{error.meta?.subjectNode?.label}}</div>\r\n            </div>\r\n            <div class=\"noc-edge-card\" fxLayout=\"column\" fxLayoutAlign=\"center stretch\" fxFlex>\r\n              <div class=\"noc-line\">\r\n                {{error.meta?.edge?.label}}\r\n              </div>\r\n            </div>\r\n            <div class=\"noc-node-card\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n              <div>{{error.meta?.objectNode?.label}}</div>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"error.type===ErrorType.cardinality\" class=\"pb-10\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n            <div class=\"noc-node-card\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n              {{error.meta?.subjectNode?.label}}\r\n            </div>\r\n            <div class=\"noc-edge-card\" fxFlex fxLayout=\"column\" fxLayoutAlign=\"center stretch\">\r\n              <div class=\"noc-line\">\r\n                {{error.meta?.edge?.label}}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div mat-dialog-actions class=\"m-0 p-16\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n    <span fxFlex></span>\r\n    <button (click)='close()' mat-raised-button color=\"\" class=\"mr-8\">Close</button>\r\n  </div>\r\n</div>","\r\nimport { Component, OnInit, OnDestroy, Inject } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { Subject } from 'rxjs';\r\nimport { Cam, NoctuaFormConfigService } from '@geneontology/noctua-form-base';\r\n\r\n\r\n@Component({\r\n  selector: 'app-confirm-copy-model',\r\n  templateUrl: './confirm-copy-model.component.html',\r\n  styleUrls: ['./confirm-copy-model.component.scss']\r\n})\r\nexport class ConfirmCopyModelDialogComponent implements OnInit, OnDestroy {\r\n  private _unsubscribeAll: Subject<any>;\r\n  camForm: FormGroup;\r\n  cam: Cam\r\n\r\n  constructor(\r\n    private _matDialogRef: MatDialogRef<ConfirmCopyModelDialogComponent>,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    @Inject(MAT_DIALOG_DATA) private _data: any,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n    this.cam = _data.cam\r\n\r\n    this.camForm = this.createCamForm(this.cam);\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  createCamForm(cam: Cam) {\r\n    return new FormGroup({\r\n      title: new FormControl('Copy of ' + cam?.title),\r\n    });\r\n  }\r\n\r\n\r\n  save() {\r\n    const value = this.camForm.value\r\n    this._matDialogRef.close(value);\r\n  }\r\n\r\n  close() {\r\n    this._matDialogRef.close();\r\n  }\r\n}\r\n","<div class=\"dialog-content-wrapper noc-dialog\">\r\n  <div class=\"m-0 noc-dialog-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-dialog-header-title\">\r\n      Edit Title & Confirm Copy</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> Close\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-dialog-body pt-20\">\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"noc-form-section w-100-p\">\r\n      <ng-container [formGroup]=\"camForm\">\r\n        <div class=\"noc-edit-field p-4\" fxFlex=\"\">\r\n          <mat-form-field appearance=\"outline\" class=\"noc-sm w-100-p\">\r\n            <mat-label>Title</mat-label>\r\n            <textarea type=\"text\" matInput formControlName=\"title\" rows=\"2\"></textarea>\r\n          </mat-form-field>\r\n        </div>\r\n      </ng-container>\r\n    </div>\r\n  </div>\r\n  <div class=\"m-0 p-8 noc-dialog-footer\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n    <span fxFlex></span>\r\n    <button (click)='close()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">Cancel</button>\r\n    <button (click)='save()' type=\"button\" mat-raised-button color=\"primary\">Save</button>\r\n  </div>\r\n</div>","import { Component, OnInit, OnDestroy, Inject } from '@angular/core';\r\n\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { FormType, NoctuaActivityFormService, NoctuaFormConfigService } from '@geneontology/noctua-form-base';\r\n\r\n@Component({\r\n  selector: 'app-create-activity-dialog',\r\n  templateUrl: './create-activity.component.html',\r\n  styleUrls: ['./create-activity.component.scss']\r\n})\r\nexport class CreateActivityDialogComponent implements OnInit, OnDestroy {\r\n  FormType = FormType\r\n\r\n  closeDialog: () => void;\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  formType: FormType;\r\n\r\n  constructor(\r\n    private _matDialogRef: MatDialogRef<CreateActivityDialogComponent>,\r\n    private activityFormService: NoctuaActivityFormService,\r\n    @Inject(MAT_DIALOG_DATA) private _data: any,\r\n    public noctuaFormConfigService: NoctuaFormConfigService) {\r\n    this.closeDialog = this.close.bind(this);\r\n    this._unsubscribeAll = new Subject();\r\n    this.formType = _data.formType;\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  close() {\r\n    this._matDialogRef.close();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n}\r\n","<!-- <div class=\"dialog-content-wrapper\">\r\n  <mat-toolbar class=\"mat-primary m-0\">\r\n    <mat-toolbar-row fxFlex fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <span class=\"title dialog-title\">\r\n        Create an Activity</span>\r\n      <span fxFlex></span>\r\n      <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n        aria-label=\"Close dialog\">\r\n        <mat-icon>close</mat-icon> Close\r\n      </button>\r\n    </mat-toolbar-row>\r\n  </mat-toolbar>\r\n  <div mat-dialog-content class=\"noc-dialog-body\" noctuaPerfectScrollbar>\r\n    <noc-activity-form [options]=\"options\"> </noc-activity-form>\r\n  </div>\r\n  <div mat-dialog-actions class=\"m-0 p-16\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n    <span fxFlex></span>\r\n    <button (click)='close()' mat-raised-button color=\"\" class=\"mr-8\">Close</button>\r\n  </div>\r\n</div> -->\r\n\r\n<noc-activity-form *ngIf=\"formType===FormType.ACTIVITY\" [closeDialog]=\"closeDialog\"> </noc-activity-form>\r\n<noc-activity-connector *ngIf=\"formType===FormType.ACTIVITY_CONNECTOR\" [closeDialog]=\"closeDialog\">\r\n</noc-activity-connector>","\r\nimport { Component, OnInit, OnDestroy, Inject } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\n\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { NoctuaFormConfigService } from '@geneontology/noctua-form-base';\r\n\r\n@Component({\r\n  selector: 'app-create-from-existing',\r\n  templateUrl: './create-from-existing.component.html',\r\n  styleUrls: ['./create-from-existing.component.scss']\r\n})\r\nexport class CreateFromExistingDialogComponent implements OnInit, OnDestroy {\r\n  private _unsubscribeAll: Subject<any>;\r\n  searchForm: FormGroup;\r\n  searchFormData: any = {};\r\n  cam: any = {};\r\n\r\n  constructor(\r\n    private _matDialogRef: MatDialogRef<CreateFromExistingDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) private _data: any,\r\n    public noctuaFormConfigService: NoctuaFormConfigService) {\r\n    this._unsubscribeAll = new Subject();\r\n    this.cam = this._data.cam\r\n    this.searchForm = this.createAnswerForm();\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  close() {\r\n    this._matDialogRef.close();\r\n  }\r\n\r\n  createAnswerForm() {\r\n    return new FormGroup({\r\n      annotatedEntity: new FormControl(this.cam.annotatedEntity.id),\r\n      term: new FormControl(this.cam.term.id),\r\n      evidence: new FormControl(this.cam.evidence.id),\r\n      reference: new FormControl(this.cam.reference.label),\r\n      with: new FormControl(this.cam.with),\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n}\r\n","<div class=\"dialog-content-wrapper\">\r\n  <mat-toolbar class=\"mat-primary m-0\">\r\n    <mat-toolbar-row fxFlex fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <span class=\"title dialog-title\">\r\n        Add Evidence</span>\r\n      <span fxFlex></span>\r\n      <button mat-icon-button (click)=\"close()\" aria-label=\"Close dialog\">\r\n        <mat-icon>close</mat-icon>\r\n      </button>\r\n    </mat-toolbar-row>\r\n  </mat-toolbar>\r\n  <div mat-dialog-content class=\"noc-dialog-body\" noctuaPerfectScrollbar>\r\n    <div fxLayout=\"column\" fxLayoutAlign=\"start center\" class=\"w-100-p\">\r\n\r\n    </div>\r\n  </div>\r\n  <div mat-dialog-actions class=\"m-0 p-16\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n    <span fxFlex></span>\r\n    <button (click)='close()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">Cancel</button>\r\n    <button type=\"button\" mat-raised-button color=\"primary\">Save</button>\r\n  </div>\r\n</div>\r\n","\r\nimport { Component, OnInit, OnDestroy, Inject } from '@angular/core';\r\n\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { Subject } from 'rxjs';\r\n\r\n\r\nimport { NoctuaFormConfigService, ActivityNode, Evidence } from '@geneontology/noctua-form-base';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\n\r\n\r\n@Component({\r\n  selector: 'app-link-to-existing',\r\n  templateUrl: './link-to-existing.component.html',\r\n  styleUrls: ['./link-to-existing.component.scss']\r\n})\r\nexport class LinkToExistingDialogComponent implements OnInit, OnDestroy {\r\n  private _unsubscribeAll: Subject<any>;\r\n  nodes: any[]\r\n  selectedActivityNode;\r\n\r\n  constructor(\r\n    private _matDialogRef: MatDialogRef<LinkToExistingDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) private _data: any,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.nodes = this._data.nodes;\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  save() {\r\n    this._matDialogRef.close({\r\n      activityNode: this.selectedActivityNode\r\n    });\r\n  }\r\n\r\n  close() {\r\n    this._matDialogRef.close();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<div class=\"dialog-content-wrapper\">\r\n  <mat-toolbar class=\"mat-primary m-0\">\r\n    <mat-toolbar-row fxFlex fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <span class=\"title dialog-title\">\r\n        Choose from Exisiting Node</span>\r\n      <span fxFlex></span>\r\n      <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" aria-label=\"Close dialog\">\r\n        <mat-icon>close</mat-icon> Close\r\n      </button>\r\n    </mat-toolbar-row>\r\n  </mat-toolbar>\r\n  <div class=\"noc-dialog-body noc-right-panel noc-form-section\">\r\n    <div class=\"noc-section-header  w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div class=\"noc-section-heading\">\r\n        Select Node\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-section-body w-100-p\" noctuaPerfectScrollbar>\r\n      <mat-radio-group fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"w-100-p\"\r\n        [(ngModel)]=\"selectedActivityNode\">\r\n        <div *ngFor=\"let node of nodes\" class=\"noc-radio-group-section\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n          <div class=\"noc-title\">\r\n            {{node.title}}\r\n          </div>\r\n          <mat-radio-button class=\"mb-8\" *ngFor=\"let activityNode of node.activityNodes\" [value]=\"activityNode\">\r\n            <div class=\"h4\">\r\n              {{activityNode.term?.label}}\r\n            </div>\r\n            <div class=\"\">\r\n              <small>{{activityNode.term?.id}}</small>\r\n            </div>\r\n          </mat-radio-button>\r\n        </div>\r\n      </mat-radio-group>\r\n    </div>\r\n  </div>\r\n  <div class=\"m-0 p-16 noc-dialog-footer\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n    <span fxFlex></span>\r\n    <button (click)='close()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">Cancel</button>\r\n    <button (click)=\"save()\" type=\"button\" mat-raised-button color=\"primary\">Done</button>\r\n  </div>\r\n</div>","\r\nimport { Component, OnInit, OnDestroy } from '@angular/core';\r\n\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport {\r\n  ActivityNode,\r\n  Evidence,\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { noctuaAnimations } from './../../../../../../@noctua/animations';\r\n\r\n@Component({\r\n  selector: 'app-preview-activity',\r\n  templateUrl: './preview-activity.component.html',\r\n  styleUrls: ['./preview-activity.component.scss'],\r\n  animations: noctuaAnimations\r\n})\r\nexport class PreviewActivityDialogComponent implements OnInit, OnDestroy {\r\n  private _unsubscribeAll: Subject<any>;\r\n  evidence: Evidence[] = [];\r\n  activityNodes: ActivityNode[] = [];\r\n  selectedActivityNode: ActivityNode;\r\n  searchCriteria: any;\r\n  displayedColumns: string[] = ['select', 'evidence', 'reference', 'with', 'assignedBy'];\r\n  dataSource;\r\n  selection = new SelectionModel<Evidence>(true, []);\r\n\r\n  constructor(\r\n    private _matDialogRef: MatDialogRef<PreviewActivityDialogComponent>,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n\r\n  }\r\n  ngOnInit() {\r\n    this.preview();\r\n  }\r\n\r\n  preview() {\r\n    this.noctuaActivityFormService.activity.setPreview();\r\n  }\r\n\r\n  close() {\r\n    this._matDialogRef.close();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n\r\n\r\n\r\n","<div class=\"dialog-content-wrapper noc-dialog\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div class=\"m-0 noc-dialog-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-dialog-header-title\">\r\n      Preview</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> Close\r\n    </button>\r\n  </div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"start start\" class=\"noc-dialog-body\">\r\n    <noc-graph-preview *ngIf=\"noctuaActivityFormService.activity\"\r\n      [nodes]=\"noctuaActivityFormService.activity?.graphPreview.nodes\"\r\n      [edges]=\"noctuaActivityFormService.activity?.graphPreview.edges\" class=\"noc-graph-preview\"></noc-graph-preview>\r\n  </div>\r\n  <div class=\"m-0 p-16 noc-dialog-footer\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n    <span fxFlex></span>\r\n    <button (click)='close()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">Close</button>\r\n  </div>\r\n</div>","\r\nimport { Component, OnInit, OnDestroy, Inject } from '@angular/core';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport {\r\n  ActivityNode,\r\n  Evidence,\r\n  NoctuaFormConfigService,\r\n  NoctuaLookupService\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { noctuaAnimations } from './../../../../../../@noctua/animations';\r\n\r\n@Component({\r\n  selector: 'app-search-database',\r\n  templateUrl: './search-database.component.html',\r\n  styleUrls: ['./search-database.component.scss'],\r\n  animations: noctuaAnimations\r\n})\r\nexport class SearchDatabaseDialogComponent implements OnInit, OnDestroy {\r\n  private _unsubscribeAll: Subject<any>;\r\n  evidence: Evidence[] = [];\r\n  activityNodes: ActivityNode[] = [];\r\n  selectedActivityNode: ActivityNode;\r\n  searchCriteria: any;\r\n  displayedColumns: string[] = ['select', 'evidence', 'reference', 'with', 'assignedBy'];\r\n  dataSource;\r\n  selection = new SelectionModel<Evidence>(true, []);\r\n\r\n  constructor(\r\n    private _matDialogRef: MatDialogRef<SearchDatabaseDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) private _data: any,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private noctuaLookupService: NoctuaLookupService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.evidence = this._data.evidence;\r\n    this.searchCriteria = this._data.searchCriteria;\r\n    this.initialize();\r\n\r\n  }\r\n  ngOnInit() { }\r\n\r\n  initialize() {\r\n    const self = this;\r\n\r\n    self.noctuaLookupService.companionLookup(\r\n      this.searchCriteria.gpNode.id,\r\n      this.searchCriteria.aspect,\r\n      this.searchCriteria.params)\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((response) => {\r\n        this.activityNodes = response;\r\n      });\r\n  }\r\n\r\n  selectActivityNode(activityNode: ActivityNode) {\r\n    this.selectedActivityNode = activityNode;\r\n    this.dataSource = new MatTableDataSource<Evidence>(activityNode.predicate.evidence);\r\n  }\r\n\r\n  /** Whether the number of selected elements matches the total number of rows. */\r\n  isAllSelected() {\r\n    const numSelected = this.selection.selected.length;\r\n    const numRows = this.dataSource.data.length;\r\n    return numSelected === numRows;\r\n  }\r\n\r\n  /** Selects all rows if they are not all selected; otherwise clear selection. */\r\n  masterToggle() {\r\n    this.isAllSelected() ?\r\n      this.selection.clear() :\r\n      this.dataSource.data.forEach(row => this.selection.select(row));\r\n  }\r\n\r\n  save() {\r\n    this._matDialogRef.close({\r\n      term: this.selectedActivityNode,\r\n      evidences: <Evidence[]>this.selection.selected\r\n    });\r\n  }\r\n\r\n  close() {\r\n    this._matDialogRef.close();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<div class=\"dialog-content-wrapper noc-dialog\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div class=\"m-0 noc-dialog-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-dialog-header-title\">\r\n      Search Annotations</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> Close\r\n    </button>\r\n  </div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"start start\" class=\"noc-dialog-body\">\r\n    <div class=\"h-100-p noc-left-panel noc-form-section\" fxFlex=\"200px\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading w-100-p\">\r\n          Select Term\r\n          <div class=\"text-truncate\">\r\n            <small>Please select below</small>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"noc-section-body w-100-p\" noctuaPerfectScrollbar>\r\n        <div class=\"noc-term-box\" *ngFor=\"let activityNode of activityNodes\" (click)=\"selectActivityNode(activityNode)\"\r\n          [ngClass]=\"{'noc-term-selected': activityNode.getTerm().id===selectedActivityNode?.getTerm().id}\"\r\n          fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <mat-icon fkFlex=\"25px\" class=\"green-300-fg mr-4\">check_circle</mat-icon>\r\n          {{activityNode.getTerm().label}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"h-100-p noc-right-panel noc-form-section\" fxFlex=\"100%\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header  w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Select Evidence <small>(optional)</small>\r\n          <div class=\"text-truncate\">\r\n            <small>{{selectedActivityNode?.getTerm().label}}</small>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"noc-section-body w-100-p\" noctuaPerfectScrollbar>\r\n        <mat-table class=\"noc-evidence-table w-100-p\" #table [dataSource]=\"dataSource\" matSort\r\n          [@animateStagger]=\"{value:'50'}\" noctuaPerfectScrollbar>\r\n          <ng-container matColumnDef=\"select\" class=\"\">\r\n            <mat-header-cell *matHeaderCellDef fxFlex=\"30px\">\r\n              <mat-checkbox (change)=\"$event ? masterToggle() : null\"\r\n                [checked]=\"selection.hasValue() && isAllSelected()\"\r\n                [indeterminate]=\"selection.hasValue() && !isAllSelected()\">\r\n              </mat-checkbox>\r\n            </mat-header-cell>\r\n            <mat-cell *matCellDef=\"let row\" fxFlex=\"30px\">\r\n              <mat-checkbox (click)=\"$event.stopPropagation()\" (change)=\"$event ? selection.toggle(row) : null\"\r\n                [checked]=\"selection.isSelected(row)\">\r\n              </mat-checkbox>\r\n            </mat-cell>\r\n          </ng-container>\r\n          <ng-container cdkColumnDef=\"evidence\">\r\n            <mat-header-cell *cdkHeaderCellDef fxFlex=\"40%\">Evidence</mat-header-cell>\r\n            <mat-cell *cdkCellDef=\"let evidence\" fxFlex=\"40%\">\r\n              <p class=\"\">\r\n                {{evidence.evidence?.label}} <br>\r\n                <span *ngFor=\"let evidenceExt of evidence.evidenceExts\">\r\n                  Ext: <small *ngFor=\"let relation of evidenceExt.relations\">\r\n                    {{relation?.label}} : {{evidenceExt.term?.label}} </small> <br>\r\n                </span>\r\n              </p>\r\n            </mat-cell>\r\n          </ng-container>\r\n          <ng-container cdkColumnDef=\"reference\">\r\n            <mat-header-cell *cdkHeaderCellDef fxFlex=\"20%\">Reference</mat-header-cell>\r\n            <mat-cell *cdkCellDef=\"let evidence\" fxFlex=\"20%\">\r\n              <p class=\"\">{{evidence.reference}}</p>\r\n            </mat-cell>\r\n          </ng-container>\r\n          <ng-container cdkColumnDef=\"with\">\r\n            <mat-header-cell *cdkHeaderCellDef fxFlex=\"20%\">With</mat-header-cell>\r\n            <mat-cell *cdkCellDef=\"let evidence\" fxFlex=\"20%\">\r\n              <p class=\"\">{{evidence.with}}</p>\r\n            </mat-cell>\r\n          </ng-container>\r\n          <ng-container cdkColumnDef=\"assignedBy\">\r\n            <mat-header-cell *cdkHeaderCellDef fxFlex=\"\">Assigned By</mat-header-cell>\r\n            <mat-cell *cdkCellDef=\"let evidence\" fxFlex=\"\">\r\n              <span *ngFor=\"let group of evidence.groups; let i=index; let isLast=last\">\r\n                <p (click)=\"$event.stopPropagation()\">\r\n                  {{group.name}}\r\n                </p>\r\n                <span *ngIf=\"!isLast\">&#44;&nbsp;</span>\r\n              </span>\r\n            </mat-cell>\r\n          </ng-container>\r\n          <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\r\n          <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"selection.toggle(row)\"></mat-row>\r\n        </mat-table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"m-0 p-16 noc-dialog-footer\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n    <span fxFlex></span>\r\n    <button (click)='close()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">Cancel</button>\r\n    <button (click)=\"save()\" type=\"button\" mat-raised-button color=\"primary\">Done</button>\r\n  </div>\r\n</div>","\r\nimport { Component, OnInit, OnDestroy, Inject, Injectable } from '@angular/core';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { Subject, BehaviorSubject } from 'rxjs';\r\n\r\nimport {\r\n  ActivityNode,\r\n  Evidence,\r\n  NoctuaFormConfigService,\r\n  NoctuaLookupService\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { noctuaAnimations } from './../../../../../../@noctua/animations';\r\nimport { FlatTreeControl } from '@angular/cdk/tree';\r\nimport { MatTreeFlattener, MatTreeFlatDataSource } from '@angular/material/tree';\r\nimport { each } from 'lodash';\r\n\r\nexport class EvidenceItemNode {\r\n  activityNode: ActivityNode;\r\n  evidence: Evidence;\r\n  id: number;\r\n  level: number;\r\n  expandable: boolean;\r\n  children: EvidenceItemNode[];\r\n}\r\n\r\nexport class EvidenceItemFlatNode {\r\n  public id: number;\r\n  public activityNode: ActivityNode;\r\n  public evidence: Evidence;\r\n  public expandable: boolean;\r\n  public level: number;\r\n  public count = 0;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-search-evidence',\r\n  templateUrl: './search-evidence.component.html',\r\n  styleUrls: ['./search-evidence.component.scss'],\r\n  animations: noctuaAnimations\r\n})\r\nexport class SearchEvidenceDialogComponent implements OnInit, OnDestroy {\r\n  private _unsubscribeAll: Subject<any>;\r\n  activityNodes: ActivityNode[] = [];\r\n  searchCriteria: any;\r\n  selection = new SelectionModel<Evidence>(true, []);\r\n\r\n  /** A selected parent node to be inserted */\r\n  selectedParent: EvidenceItemFlatNode | null = null;\r\n  treeControl: FlatTreeControl<EvidenceItemFlatNode>;\r\n  treeFlattener: MatTreeFlattener<EvidenceItemNode, EvidenceItemFlatNode>;\r\n  dataSource: MatTreeFlatDataSource<EvidenceItemNode, EvidenceItemFlatNode>;\r\n  checklistSelection = new SelectionModel<EvidenceItemFlatNode>(true /* multiple */);\r\n\r\n  constructor(\r\n    private _matDialogRef: MatDialogRef<SearchEvidenceDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) private _data: any,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    private noctuaLookupService: NoctuaLookupService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.searchCriteria = this._data.searchCriteria;\r\n\r\n\r\n\r\n  }\r\n  ngOnInit() {\r\n    this.initialize();\r\n\r\n    this.treeFlattener = new MatTreeFlattener(\r\n      this.transformer,\r\n      this.getLevel,\r\n      this.isExpandable,\r\n      this.getChildren);\r\n    this.treeControl = new FlatTreeControl<EvidenceItemFlatNode>(this.getLevel, this.isExpandable);\r\n    this.dataSource = new MatTreeFlatDataSource(this.treeControl, this.treeFlattener);\r\n\r\n  }\r\n\r\n  initialize() {\r\n    const self = this;\r\n\r\n    self.noctuaLookupService.companionLookup(\r\n      this.searchCriteria.gpNode.id,\r\n      this.searchCriteria.aspect,\r\n      this.searchCriteria.params)\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((response) => {\r\n        this.activityNodes = response;\r\n        this.dataSource.data = this._buildAnnotationTree(this.activityNodes);\r\n\r\n      });\r\n  }\r\n\r\n  save() {\r\n    const selection: Evidence[] = [];\r\n\r\n    each(this.checklistSelection.selected, (evidenceFlatNode: EvidenceItemFlatNode) => {\r\n      if (evidenceFlatNode.evidence) {\r\n        selection.push(evidenceFlatNode.evidence);\r\n      }\r\n    });\r\n\r\n    this._matDialogRef.close({\r\n      evidences: selection\r\n    });\r\n  }\r\n\r\n  close() {\r\n    this._matDialogRef.close();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  getLevel = (node: EvidenceItemFlatNode) => node.level;\r\n  isExpandable = (node: EvidenceItemFlatNode) => node.expandable;\r\n  getChildren = (node: EvidenceItemNode): EvidenceItemNode[] => node.children;\r\n  hasChild = (_: number, _nodeData: EvidenceItemFlatNode) => _nodeData.expandable;\r\n\r\n  /**\r\n   * Transformer to convert nested node to flat node. Record the nodes in maps for later use.\r\n   */\r\n  transformer = (node: EvidenceItemNode, level: number) => {\r\n    const flatNode = new EvidenceItemFlatNode();\r\n    flatNode.activityNode = node.activityNode;\r\n    flatNode.evidence = node.evidence;\r\n    flatNode.level = level;\r\n    flatNode.expandable = !!node.children;\r\n    flatNode.count = node.children ? node.children.length : 0;\r\n    return flatNode;\r\n  }\r\n\r\n  /** Whether all the descendants of the node are selected. */\r\n  descendantsAllSelected(node: EvidenceItemFlatNode): boolean {\r\n    const descendants = this.treeControl.getDescendants(node);\r\n    const descAllSelected = descendants.every(child =>\r\n      this.checklistSelection.isSelected(child)\r\n    );\r\n    return descAllSelected;\r\n  }\r\n\r\n  /** Whether part of the descendants are selected */\r\n  descendantsPartiallySelected(node: EvidenceItemFlatNode): boolean {\r\n    const descendants = this.treeControl.getDescendants(node);\r\n    const result = descendants.some(child => this.checklistSelection.isSelected(child));\r\n    return result && !this.descendantsAllSelected(node);\r\n  }\r\n\r\n  /** Toggle the to-do item selection. Select/deselect all the descendants node */\r\n  evidenceItemSelectionToggle(node: EvidenceItemFlatNode): void {\r\n    this.checklistSelection.toggle(node);\r\n    const descendants = this.treeControl.getDescendants(node);\r\n    this.checklistSelection.isSelected(node)\r\n      ? this.checklistSelection.select(...descendants)\r\n      : this.checklistSelection.deselect(...descendants);\r\n\r\n    // Force update for the parent\r\n    descendants.every(child =>\r\n      this.checklistSelection.isSelected(child)\r\n    );\r\n    this.checkAllParentsSelection(node);\r\n  }\r\n\r\n  /** Toggle a leaf to-do item selection. Check all the parents to see if they changed */\r\n  evidenceLeafItemSelectionToggle(node: EvidenceItemFlatNode): void {\r\n    this.checklistSelection.toggle(node);\r\n    this.checkAllParentsSelection(node);\r\n  }\r\n\r\n  /* Checks all the parents when a leaf node is selected/unselected */\r\n  checkAllParentsSelection(node: EvidenceItemFlatNode): void {\r\n    let parent: EvidenceItemFlatNode | null = this.getParentNode(node);\r\n    while (parent) {\r\n      this.checkRootNodeSelection(parent);\r\n      parent = this.getParentNode(parent);\r\n    }\r\n  }\r\n\r\n  /** Check root node checked state and change it accordingly */\r\n  checkRootNodeSelection(node: EvidenceItemFlatNode): void {\r\n    const nodeSelected = this.checklistSelection.isSelected(node);\r\n    const descendants = this.treeControl.getDescendants(node);\r\n    const descAllSelected = descendants.every(child =>\r\n      this.checklistSelection.isSelected(child)\r\n    );\r\n    if (nodeSelected && !descAllSelected) {\r\n      this.checklistSelection.deselect(node);\r\n    } else if (!nodeSelected && descAllSelected) {\r\n      this.checklistSelection.select(node);\r\n    }\r\n  }\r\n\r\n  /* Get the parent node of a node */\r\n  getParentNode(node: EvidenceItemFlatNode): EvidenceItemFlatNode | null {\r\n    const currentLevel = this.getLevel(node);\r\n\r\n    if (currentLevel < 1) {\r\n      return null;\r\n    }\r\n\r\n    const startIndex = this.treeControl.dataNodes.indexOf(node) - 1;\r\n\r\n    for (let i = startIndex; i >= 0; i--) {\r\n      const currentNode = this.treeControl.dataNodes[i];\r\n\r\n      if (this.getLevel(currentNode) < currentLevel) {\r\n        return currentNode;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n\r\n  private _buildAnnotationTree(activityNodes: ActivityNode[]): EvidenceItemNode[] {\r\n    const result = activityNodes.map((activityNode: ActivityNode) => {\r\n      const node = new EvidenceItemNode();\r\n      node.activityNode = activityNode;\r\n\r\n      node.children = activityNode.predicate.evidence.map((evidence: Evidence) => {\r\n        const evidenceNode = new EvidenceItemNode();\r\n        evidenceNode.evidence = evidence;\r\n        return evidenceNode;\r\n      });\r\n\r\n      return node;\r\n    });\r\n\r\n    return result;\r\n\r\n  }\r\n\r\n  /*   buildFileTree(obj: { [key: string]: any }, level: number): EvidenceItemNode[] {\r\n      return Object.keys(obj).reduce<EvidenceItemNode[]>((accumulator, key) => {\r\n        const value = obj[key];\r\n        const node = new EvidenceItemNode();\r\n        node.item = key;\r\n  \r\n        if (value != null) {\r\n          if (typeof value === 'object') {\r\n            node.children = this.buildFileTree(value, level + 1);\r\n          } else {\r\n            node.item = value;\r\n          }\r\n        }\r\n  \r\n        return accumulator.concat(node);\r\n      }, []);\r\n    }*/\r\n}\r\n\r\n/**\r\n * Node for to-do item\r\n */\r\n\r\n\r\n/**\r\n * The Json object for to-do list data.\r\n */\r\nconst TREE_DATA = {\r\n  Groceries: {\r\n    'Almond Meal flour': null,\r\n    'Organic eggs': null,\r\n    'Protein Powder': null,\r\n    Fruits: {\r\n      Apple: null,\r\n      Berries: ['Blueberry', 'Raspberry'],\r\n      Orange: null\r\n    }\r\n  },\r\n  Reminders: [\r\n    'Cook dinner',\r\n    'Read the Material Design spec',\r\n    'Upgrade Application to Angular'\r\n  ]\r\n};\r\n\r\n","<div class=\"dialog-content-wrapper noc-dialog\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div class=\"m-0 noc-dialog-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-dialog-header-title\">\r\n      Search Evidence</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> Close\r\n    </button>\r\n  </div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"start start\" class=\"noc-dialog-body\">\r\n    <div class=\"h-100-p noc-form-section\" fxFlex=\"100%\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-section-header  w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-section-heading\">\r\n          Selected Evidence : {{checklistSelection.selected.length}}\r\n          <small></small>\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"dataSource.data\" class=\"noc-section-body w-100-p\" noctuaPerfectScrollbar>\r\n        <mat-tree #tree [dataSource]=\"dataSource\" [treeControl]=\"treeControl\">\r\n          <mat-tree-node class=\"ann-tree-node\" *matTreeNodeDef=\"let node\" matTreeNodeToggle matTreeNodePadding\r\n            matTreeNodePaddingIndent=\"10\" [ngClass]=\"{ 'background-highlight': activeAnnotation === node.short_name }\">\r\n            <div class=\"w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start start\">\r\n              <button mat-icon-button disabled class=\"ann-icon-button\"></button>\r\n              <mat-checkbox class=\"checklist-leaf-node mr-8\" [checked]=\"checklistSelection.isSelected(node)\"\r\n                (change)=\"evidenceLeafItemSelectionToggle(node)\"></mat-checkbox>\r\n              <div fxFlex=\"30%\">\r\n                {{node.evidence?.evidence?.label}}\r\n              </div>\r\n              <div fxFlex=\"20%\">\r\n                {{node.evidence?.reference}}\r\n              </div>\r\n              <div fxFlex=\"20%\">\r\n                {{node.evidence?.with}}\r\n              </div>\r\n              <div fxFlex>\r\n                {{node.evidence?.assignedBy?.label}}\r\n              </div>\r\n            </div>\r\n          </mat-tree-node>\r\n          <mat-tree-node fxLayout=\"row\" class=\"ann-tree-node text-truncate\" *matTreeNodeDef=\"let node;when: hasChild\"\r\n            matTreeNodePadding matTreeNodePaddingIndent=\"10\"\r\n            [ngClass]=\"{ 'background-highlight': activeAnnotation === node.short_name }\">\r\n            <button mat-icon-button matTreeNodeToggle class=\"\">\r\n              <fa-icon *ngIf=\"!treeControl.isExpanded(node)\" [icon]=\"['fas', 'chevron-right']\"></fa-icon>\r\n              <fa-icon *ngIf=\"treeControl.isExpanded(node)\" [icon]=\"['fas', 'chevron-down']\"></fa-icon>\r\n            </button>\r\n            <!--  <mat-checkbox class=\"mr-8\" [checked]=\"descendantsAllSelected(node)\"\r\n              [indeterminate]=\"descendantsPartiallySelected(node)\" (change)=\"evidenceItemSelectionToggle(node)\">\r\n            </mat-checkbox> -->\r\n            {{node.activityNode?.term?.label}}\r\n            (<small>{{node.activityNode?.term?.id}}</small>)\r\n            <span fxFlex></span>\r\n            <div class=\"\" fxFlex=\"100px\">\r\n              {{node.count}}\r\n            </div>\r\n          </mat-tree-node>\r\n        </mat-tree>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"m-0 p-16 noc-dialog-footer\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n    <span fxFlex></span>\r\n    <button (click)='close()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">Cancel</button>\r\n    <button (click)=\"save()\" type=\"button\" mat-raised-button color=\"primary\">Done</button>\r\n  </div>\r\n</div>","\r\nimport { Component, OnInit, OnDestroy, Inject } from '@angular/core';\r\n\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport {\r\n  Evidence,\r\n  NoctuaFormConfigService\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { noctuaAnimations } from '@noctua/animations';\r\n\r\n@Component({\r\n  selector: 'app-select-evidence',\r\n  templateUrl: './select-evidence.component.html',\r\n  styleUrls: ['./select-evidence.component.scss'],\r\n  animations: noctuaAnimations\r\n})\r\nexport class SelectEvidenceDialogComponent implements OnInit, OnDestroy {\r\n  private _unsubscribeAll: Subject<any>;\r\n  evidence: Evidence[] = [];\r\n  displayedColumns: string[] = ['select', 'evidence', 'reference', 'with'];\r\n  dataSource;\r\n  selection = new SelectionModel<Evidence>(true, []);\r\n\r\n  constructor(\r\n    private _matDialogRef: MatDialogRef<SelectEvidenceDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) private _data: any,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.evidence = this._data.evidence;\r\n    this.dataSource = new MatTableDataSource<Evidence>(this.evidence);\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n  /** Whether the number of selected elements matches the total number of rows. */\r\n  isAllSelected() {\r\n    const numSelected = this.selection.selected.length;\r\n    const numRows = this.dataSource.data.length;\r\n    return numSelected === numRows;\r\n  }\r\n\r\n  /** Selects all rows if they are not all selected; otherwise clear selection. */\r\n  masterToggle() {\r\n    this.isAllSelected() ?\r\n      this.selection.clear() :\r\n      this.dataSource.data.forEach(row => this.selection.select(row));\r\n  }\r\n\r\n  save() {\r\n    this._matDialogRef.close({\r\n      evidences: <Evidence[]>this.selection.selected\r\n    });\r\n  }\r\n\r\n  close() {\r\n    this._matDialogRef.close();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<div class=\"dialog-content-wrapper\">\r\n  <mat-toolbar class=\"mat-primary m-0\">\r\n    <mat-toolbar-row fxFlex fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <span class=\"title dialog-title\">\r\n        Clone Evidence</span>\r\n      <span fxFlex></span>\r\n      <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" aria-label=\"Close dialog\">\r\n        <mat-icon>close</mat-icon> Close\r\n      </button>\r\n    </mat-toolbar-row>\r\n  </mat-toolbar>\r\n  <div class=\"noc-dialog-body noc-right-panel noc-form-section\">\r\n    <div class=\"noc-section-header  w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div class=\"noc-section-heading\">\r\n        Select Evidence\r\n      </div>\r\n    </div>\r\n    <div class=\"noc-section-body w-100-p\" noctuaPerfectScrollbar>\r\n      <mat-table class=\"noc-evidence-table w-100-p\" #table [dataSource]=\"dataSource\" matSort\r\n        [@animateStagger]=\"{value:'50'}\" noctuaPerfectScrollbar>\r\n        <ng-container matColumnDef=\"select\" class=\"\">\r\n          <mat-header-cell *matHeaderCellDef fxFlex=\"30px\">\r\n            <mat-checkbox (change)=\"$event ? masterToggle() : null\" [checked]=\"selection.hasValue() && isAllSelected()\"\r\n              [indeterminate]=\"selection.hasValue() && !isAllSelected()\">\r\n            </mat-checkbox>\r\n          </mat-header-cell>\r\n          <mat-cell *matCellDef=\"let row\" fxFlex=\"30px\">\r\n            <mat-checkbox (click)=\"$event.stopPropagation()\" (change)=\"$event ? selection.toggle(row) : null\"\r\n              [checked]=\"selection.isSelected(row)\">\r\n            </mat-checkbox>\r\n          </mat-cell>\r\n        </ng-container>\r\n        <ng-container cdkColumnDef=\"evidence\">\r\n          <mat-header-cell *cdkHeaderCellDef fxFlex=\"40%\">Evidence</mat-header-cell>\r\n          <mat-cell *cdkCellDef=\"let evidence\" fxFlex=\"40%\">\r\n            <p class=\"\">{{evidence.evidence?.label}}</p>\r\n          </mat-cell>\r\n        </ng-container>\r\n        <ng-container cdkColumnDef=\"reference\">\r\n          <mat-header-cell *cdkHeaderCellDef fxFlex=\"20%\">Reference</mat-header-cell>\r\n          <mat-cell *cdkCellDef=\"let evidence\" fxFlex=\"20%\">\r\n            <p class=\"\">{{evidence.reference}}</p>\r\n          </mat-cell>\r\n        </ng-container>\r\n        <ng-container cdkColumnDef=\"with\">\r\n          <mat-header-cell *cdkHeaderCellDef fxFlex=\"20%\">With</mat-header-cell>\r\n          <mat-cell *cdkCellDef=\"let evidence\" fxFlex=\"20%\">\r\n            <p class=\"\">{{evidence.with}}</p>\r\n          </mat-cell>\r\n        </ng-container>\r\n        <ng-container cdkColumnDef=\"assignedBy\">\r\n          <mat-header-cell *cdkHeaderCellDef fxFlex=\"\">Assigned By</mat-header-cell>\r\n          <mat-cell *cdkCellDef=\"let evidence\" fxFlex=\"\">\r\n            <p class=\"\">{{evidence.assignedBy}}</p>\r\n          </mat-cell>\r\n        </ng-container>\r\n        <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\r\n        <mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"selection.toggle(row)\"></mat-row>\r\n      </mat-table>\r\n    </div>\r\n  </div>\r\n  <div class=\"m-0 p-16 noc-dialog-footer\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n    <span fxFlex></span>\r\n    <button (click)='close()' type=\"button\" mat-raised-button color=\"\" class=\"mr-8\">Cancel</button>\r\n    <button (click)=\"save()\" type=\"button\" mat-raised-button color=\"primary\">Done</button>\r\n  </div>\r\n</div>\r\n","export { NoctuaFormModule } from './noctua-form.module';\r\nexport * from './cam';\r\n\r\nexport { NoctuaFormDialogService } from './services/dialog.service';\r\nexport { AddEvidenceDialogComponent } from './dialogs/add-evidence/add-evidence.component';\r\nexport { ActivityErrorsDialogComponent } from './dialogs/activity-errors/activity-errors.component';\r\nexport { BeforeSaveDialogComponent } from './dialogs/before-save/before-save.component';\r\nexport { CreateFromExistingDialogComponent } from './dialogs/create-from-existing/create-from-existing.component';\r\nexport { LinkToExistingDialogComponent } from './dialogs/link-to-existing/link-to-existing.component';\r\nexport { SelectEvidenceDialogComponent } from './dialogs/select-evidence/select-evidence.component';\r\nexport { SearchDatabaseDialogComponent } from './dialogs/search-database/search-database.component';\r\nexport { CamFormComponent } from './cam/cam-form/cam-form.component';\r\n","import { ChangeDetectorRef, Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { noctuaAnimations } from './../../../../@noctua/animations';\r\n\r\nimport {\r\n  Cam,\r\n  ActivityType,\r\n  Contributor,\r\n  NoctuaUserService,\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  CamService,\r\n\r\n  noctuaFormConfig,\r\n  MiddlePanel,\r\n  LeftPanel,\r\n  Activity,\r\n  NoctuaGraphService,\r\n  ActivityDisplayType,\r\n  CamLoadingIndicator,\r\n  ReloadType,\r\n  RightPanel\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { takeUntil, distinctUntilChanged } from 'rxjs/operators';\r\nimport { NoctuaDataService } from '@noctua.common/services/noctua-data.service';\r\nimport { TableOptions } from '@noctua.common/models/table-options';\r\nimport { NoctuaSearchDialogService } from '@noctua.search/services/dialog.service';\r\nimport { NoctuaReviewSearchService } from '@noctua.search/services/noctua-review-search.service';\r\nimport { ResizeEvent } from 'angular-resizable-element';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\nimport { CamToolbarOptions } from '@noctua.common/models/cam-toolbar-options';\r\n\r\n@Component({\r\n  selector: 'app-noctua-form',\r\n  templateUrl: './noctua-form.component.html',\r\n  styleUrls: ['./noctua-form.component.scss'],\r\n  //encapsulation: ViewEncapsulation.None,\r\n  animations: noctuaAnimations\r\n})\r\nexport class NoctuaFormComponent implements OnInit, OnDestroy {\r\n  ActivityType = ActivityType;\r\n  LeftPanel = LeftPanel;\r\n  MiddlePanel = MiddlePanel;\r\n  RightPanel = RightPanel;\r\n\r\n\r\n  @ViewChild('leftDrawer', { static: true })\r\n  leftDrawer: MatDrawer;\r\n\r\n  @ViewChild('rightDrawer', { static: true })\r\n  rightDrawer: MatDrawer;\r\n\r\n  camToolbarOptions: CamToolbarOptions = {\r\n    showCreateButton: true\r\n  }\r\n\r\n  summary;\r\n  public cam: Cam;\r\n  searchResults = [];\r\n  modelId = '';\r\n  resizeStyle = {};\r\n\r\n  noctuaFormConfig = noctuaFormConfig;\r\n\r\n  tableOptions: TableOptions = {\r\n    displayType: ActivityDisplayType.TREE,\r\n    slimViewer: false,\r\n    editableTerms: true,\r\n    editableEvidence: true,\r\n    editableReference: true,\r\n    editableWith: true,\r\n    editableRelation: true,\r\n    showMenu: true\r\n  };\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private camService: CamService,\r\n    private _noctuaGraphService: NoctuaGraphService,\r\n    private noctuaDataService: NoctuaDataService,\r\n    private noctuaReviewSearchService: NoctuaReviewSearchService,\r\n    public noctuaSearchDialogService: NoctuaSearchDialogService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n    public noctuaCommonMenuService: NoctuaCommonMenuService) {\r\n\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.route\r\n      .queryParams\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(params => {\r\n        this.modelId = params['model_id'] || null;\r\n        const baristaToken = params['barista_token'] || null;\r\n        this.noctuaUserService.getUser(baristaToken);\r\n      });\r\n\r\n    this.noctuaUserService.onUserChanged.pipe(\r\n      distinctUntilChanged(this.noctuaUserService.distinctUser),\r\n      takeUntil(this._unsubscribeAll))\r\n      .subscribe((user: Contributor) => {\r\n\r\n        if (user === undefined) return;\r\n\r\n        this.noctuaFormConfigService.setupUrls();\r\n        this.noctuaFormConfigService.setUniversalUrls();\r\n        this.loadCam(this.modelId);\r\n      });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const self = this;\r\n    this.noctuaCommonMenuService.selectedMiddlePanel = MiddlePanel.camTable;\r\n    self.noctuaCommonMenuService.setLeftDrawer(self.leftDrawer);\r\n    self.noctuaCommonMenuService.setRightDrawer(self.rightDrawer);\r\n\r\n    this._noctuaGraphService.onCamGraphChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((cam: Cam) => {\r\n        if (!cam || cam.id !== self.cam.id) {\r\n          return;\r\n        }\r\n        this.cam = cam;\r\n\r\n        if (cam.activities.length > 0) {\r\n          this.camService.addCamEdit(this.cam)\r\n          this.camService.cams = [cam]\r\n        }\r\n        //this.noctuaReviewSearchService.addCamsToReview([this.cam], this.camService.cams);\r\n\r\n      });\r\n\r\n\r\n    this.camService.onCamsCheckoutChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(summary => {\r\n        if (!summary) {\r\n          return;\r\n        }\r\n\r\n        this.summary = summary\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  resizeValidate(event: ResizeEvent): boolean {\r\n    const MIN_DIMENSIONS_PX: number = 50;\r\n    if (\r\n      event.rectangle.width &&\r\n      event.rectangle.height &&\r\n      (event.rectangle.width < MIN_DIMENSIONS_PX ||\r\n        event.rectangle.height < MIN_DIMENSIONS_PX)\r\n    ) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Finilizes resize positions\r\n   * (used for drawer/sidenav width)\r\n   * @param event \r\n   */\r\n  onResizeEnd(event: ResizeEvent): void {\r\n    this.resizeStyle = {\r\n      // enable/disable these per your needs\r\n      //position: 'fixed',\r\n      //left: `${event.rectangle.left}px`,\r\n      //top: `${event.rectangle.top}px`,\r\n      //height: `${event.rectangle.height}px`,\r\n      width: `${event.rectangle.width}px`,\r\n    };\r\n  }\r\n\r\n  loadCam(modelId) {\r\n    this.cam = this.camService.getCam(modelId);\r\n  }\r\n\r\n\r\n  openSearch() {\r\n    this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.findReplace);\r\n    this.noctuaCommonMenuService.closeRightDrawer();\r\n    this.noctuaCommonMenuService.openLeftDrawer();\r\n  }\r\n\r\n  openTermsSummary() {\r\n    this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.camTermsSummary);\r\n    this.noctuaCommonMenuService.closeRightDrawer();\r\n    this.noctuaCommonMenuService.openLeftDrawer();\r\n  }\r\n\r\n  openCamStats() {\r\n    this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.camStats);\r\n    this.noctuaCommonMenuService.closeRightDrawer();\r\n    this.noctuaCommonMenuService.openLeftDrawer();\r\n  }\r\n\r\n  openCamForm() {\r\n    this.camService.initializeForm(this.cam);\r\n    this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.camForm);\r\n    this.noctuaCommonMenuService.closeRightDrawer();\r\n    this.noctuaCommonMenuService.openLeftDrawer();\r\n  }\r\n\r\n  openActivityForm(activityType: ActivityType) {\r\n    this.noctuaActivityFormService.setActivityType(activityType);\r\n    this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.activityForm);\r\n    this.noctuaCommonMenuService.closeRightDrawer();\r\n    this.noctuaCommonMenuService.openLeftDrawer();\r\n  }\r\n\r\n  openCopyModel() {\r\n    this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.copyModel);\r\n    this.noctuaCommonMenuService.closeRightDrawer();\r\n    this.noctuaCommonMenuService.openLeftDrawer();\r\n  }\r\n\r\n  resetCam(cam: Cam) {\r\n    const self = this;\r\n\r\n    const summary = self.camService.reviewCamChanges(cam);\r\n    const success = (ok) => {\r\n      if (ok) {\r\n        cam.loading = new CamLoadingIndicator(true, 'Resetting Model ...');\r\n        self.camService.reloadCam(cam, ReloadType.RESET)\r\n        self.noctuaReviewSearchService.onClearForm.next(true);\r\n        self.noctuaReviewSearchService.clear();\r\n        self.cam.clearHighlight()\r\n      }\r\n    }\r\n\r\n    const options = {\r\n      title: 'Discard Unsaved Changes',\r\n      message: `All your changes will be discarded for model. Model Name:\"${cam.title}\"`,\r\n      cancelLabel: 'Cancel',\r\n      confirmLabel: 'OK'\r\n    }\r\n\r\n    self.noctuaSearchDialogService.openCamReviewChangesDialog(success, summary, options)\r\n  }\r\n\r\n  storeCam(cam: Cam) {\r\n\r\n    const self = this;\r\n    const summary = self.camService.reviewCamChanges(cam);\r\n\r\n    const success = (replace) => {\r\n      if (replace) {\r\n        cam.loading = new CamLoadingIndicator(true, 'Saving Model ...');\r\n        self.camService.reloadCam(cam, ReloadType.STORE)\r\n        self.noctuaReviewSearchService.onClearForm.next(true);\r\n        self.noctuaReviewSearchService.clear();\r\n        self.cam.clearHighlight()\r\n      }\r\n    };\r\n\r\n    const options = {\r\n      title: 'Save Changes?',\r\n      message: `All your changes will be saved for model. Model Name:\"${cam.title}\"`,\r\n      cancelLabel: 'Go Back',\r\n      confirmLabel: 'Submit'\r\n    }\r\n\r\n    self.noctuaSearchDialogService.openCamReviewChangesDialog(success, summary, options)\r\n  }\r\n}\r\n\r\n","<div class=\"w-100-p h-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start start\">\r\n  <div class=\"noc-sidemenu\" fxLayout=\"column\" fxLayoutAlign=\"start center\">\r\n    <button mat-icon-button color=\"\" class=\"noc-rounded-button\"\r\n      [ngClass]=\"{'noc-active': noctuaCommonMenuService.selectedLeftPanel === LeftPanel.activityForm}\" color=\"primary\"\r\n      matTooltip=\"Add New Activity/Annotation\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\"\r\n      [matMenuTriggerFor]=\"createOptionsLeftMenu\">\r\n      <fa-icon [icon]=\"['fas', 'plus']\"></fa-icon>\r\n    </button>\r\n    <mat-menu #createOptionsLeftMenu=\"matMenu\" xPosition=\"before\">\r\n      <a mat-menu-item (click)=\"openActivityForm(ActivityType.default)\">\r\n        Create Activity\r\n      </a>\r\n      <a mat-menu-item (click)=\"openActivityForm(ActivityType.bpOnly)\">\r\n        Create New BP Annotation\r\n      </a>\r\n      <a mat-menu-item (click)=\"openActivityForm(ActivityType.ccOnly)\">\r\n        Create New CC Annotation\r\n      </a>\r\n    </mat-menu>\r\n    <button mat-icon-button color=\"\" class=\"noc-rounded-button\"\r\n      [ngClass]=\"{'noc-active': noctuaCommonMenuService.selectedLeftPanel === LeftPanel.camForm}\"\r\n      (click)=\"openCamForm()\" matTooltip=\"Model Details\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'info-circle']\"></fa-icon>\r\n    </button>\r\n    <button mat-icon-button color=\"\" class=\"noc-rounded-button\"\r\n      [ngClass]=\"{'noc-active': noctuaCommonMenuService.selectedLeftPanel === LeftPanel.findReplace}\"\r\n      (click)=\"openSearch()\" matTooltip=\"Find and replace\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'search']\"></fa-icon>\r\n    </button>\r\n    <button mat-icon-button color=\"\" class=\"noc-rounded-button\"\r\n      [ngClass]=\"{'noc-active': noctuaCommonMenuService.selectedLeftPanel === LeftPanel.camTermsSummary}\"\r\n      (click)=\"openTermsSummary()\" matTooltip=\"terms summary\" [matTooltipPosition]=\"'after'\"\r\n      [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'list']\"></fa-icon>\r\n    </button>\r\n    <button mat-icon-button color=\"\" class=\"noc-rounded-button\"\r\n      [ngClass]=\"{'noc-active': noctuaCommonMenuService.selectedLeftPanel === LeftPanel.camStats}\"\r\n      (click)=\"openCamStats()\" matTooltip=\"GO CAM Statistics\" [matTooltipPosition]=\"'after'\"\r\n      [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'chart-bar']\"></fa-icon>\r\n    </button>\r\n    <button mat-icon-button color=\"\" class=\"noc-rounded-button\" (click)=\"openCopyModel()\"\r\n      [ngClass]=\"{'noc-active': noctuaCommonMenuService.selectedLeftPanel === LeftPanel.copyModel}\"\r\n      matTooltip=\"Make a copy of this model\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'clone']\"></fa-icon>\r\n    </button>\r\n  </div>\r\n\r\n  <div class=\"w-100-p h-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n    <div *ngIf=\"!noctuaUserService.user\" class=\"noc-not-loggedin\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n      Not Logged In: You can only view existing annotations\r\n    </div>\r\n    <div *ngIf=\"noctuaUserService.user && cam?.modified && cam?.activities.length>0\" class=\"noc-not-loggedin\"\r\n      fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n      <small class=\"mr-16\">Not Saved</small>\r\n      <button mat-raised-button fxFlex=\"100px\" (click)=\"resetCam(cam)\" color=\"warn\"\r\n        class=\"noc-rounded-button noc-half-button noc-r noc-sm\">\r\n        Reset\r\n      </button>\r\n      <button mat-raised-button fxFlex=\"100px\" color=\"primary\" (click)=\"storeCam(cam)\"\r\n        class=\"noc-rounded-button noc-half-button noc-l noc-sm mr-8 p-0\">\r\n        Save\r\n      </button>\r\n    </div>\r\n    <noc-cam-toolbar [cam]=\"cam\" [options]=\"camToolbarOptions\"></noc-cam-toolbar>\r\n    <mat-drawer-container class=\"noc-drawer-container w-100-p h-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start start\"\r\n      autosize>\r\n      <mat-drawer #leftDrawer class=\"noc-left-drawer\" mode=\"side\" position=\"start\">\r\n        <div class=\"resize-handle-right\" mwlResizeHandle [resizeEdges]=\"{ right: true }\"></div>\r\n        <div [ngSwitch]=\"noctuaCommonMenuService.selectedLeftPanel\" class=\"h-100-p\">\r\n          <noc-cam-form [panelDrawer]=\"leftDrawer\" *ngSwitchCase=\"LeftPanel.camForm\">\r\n          </noc-cam-form>\r\n          <noc-copy-model [panelDrawer]=\"leftDrawer\" [panelSide]=\"'left'\" *ngSwitchCase=\"LeftPanel.copyModel\">\r\n          </noc-copy-model>\r\n          <noc-activity-form [panelDrawer]=\"leftDrawer\" *ngSwitchCase=\"LeftPanel.activityForm\">\r\n          </noc-activity-form>\r\n          <noc-find-replace [panelDrawer]=\"leftDrawer\"\r\n            [hidden]=\"noctuaCommonMenuService.selectedLeftPanel !== LeftPanel.findReplace\">\r\n          </noc-find-replace>\r\n\r\n          <noc-cam-terms [panelDrawer]=\"leftDrawer\"\r\n            [hidden]=\"noctuaCommonMenuService.selectedLeftPanel !== LeftPanel.camTermsSummary\"></noc-cam-terms>\r\n          <noc-cam-stats [panelDrawer]=\"leftDrawer\"\r\n            [hidden]=\"noctuaCommonMenuService.selectedLeftPanel !== LeftPanel.camStats\"></noc-cam-stats>\r\n        </div>\r\n      </mat-drawer>\r\n      <mat-drawer-content class=\"w-100-p h-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n        <div *ngIf=\"cam\" [ngSwitch]=\"noctuaCommonMenuService.selectedMiddlePanel\" class=\"w-100-p h-100-p\"\r\n          noctuaPerfectScrollbar>\r\n          <noc-cam-table *ngSwitchCase=\"MiddlePanel.camTable\" [cam]=\"cam\" [options]=\"tableOptions\"></noc-cam-table>\r\n        </div>\r\n      </mat-drawer-content>\r\n      <mat-drawer #rightDrawer class=\"noc-right-drawer\" mode=\"side\" position=\"end\">\r\n        <div [ngSwitch]=\"noctuaCommonMenuService.selectedRightPanel\" class=\"h-100-p\">\r\n          <noc-term-detail [panelDrawer]=\"rightDrawer\" *ngSwitchCase=\"RightPanel.termDetail\">\r\n          </noc-term-detail>\r\n        </div>\r\n      </mat-drawer>\r\n    </mat-drawer-container>\r\n  </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { TreeModule } from '@circlon/angular-tree-component';\r\nimport { NoctuaFormComponent } from './noctua-form.component';\r\nimport { NoctuaSharedModule } from './../../../../@noctua/shared.module';\r\nimport { NoctuaFormDialogService } from './services/dialog.service';\r\nimport { ActivityFormComponent } from './cam/activity/activity-form/activity-form.component';\r\nimport { EntityFormComponent } from './cam/activity/activity-form/entity-form/entity-form.component';\r\nimport { CamTableComponent } from './cam/cam-table/cam-table.component';\r\nimport { CamFormComponent } from './cam/cam-form/cam-form.component';\r\nimport { AddEvidenceDialogComponent } from './dialogs/add-evidence/add-evidence.component';\r\nimport { ActivityErrorsDialogComponent } from './dialogs/activity-errors/activity-errors.component';\r\nimport { BeforeSaveDialogComponent } from './dialogs/before-save/before-save.component';\r\nimport { CreateFromExistingDialogComponent } from './dialogs/create-from-existing/create-from-existing.component';\r\nimport { LinkToExistingDialogComponent } from './dialogs/link-to-existing/link-to-existing.component';\r\nimport { SelectEvidenceDialogComponent } from './dialogs/select-evidence/select-evidence.component';\r\nimport { SearchDatabaseDialogComponent } from './dialogs/search-database/search-database.component';\r\nimport { ActivityConnectorFormComponent } from './cam/activity/activity-connector-form/activity-connector-form.component';\r\nimport { ActivityTableComponent } from './cam/cam-table/activity-table/activity-table.component';\r\nimport { GraphPreviewComponent } from './cam/cam-preview/graph-preview/graph-preview.component';\r\nimport { NoctuaConfirmDialogModule } from '@noctua/components';\r\nimport { CamPreviewComponent } from './cam/cam-preview/cam-preview.component';\r\nimport { CamGraphComponent } from './cam/cam-preview/cam-graph/cam-graph.component';\r\nimport { NoctuaEditorModule } from '@noctua.editor/noctua-editor.module';\r\nimport { PreviewActivityDialogComponent } from './dialogs/preview-activity/preview-activity.component';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { SearchEvidenceDialogComponent } from './dialogs/search-evidence/search-evidence.component';\r\nimport { SelectEvidenceComponent } from './components/select-evidence/select-evidence.component';\r\nimport { MatTreeModule } from '@angular/material/tree';\r\nimport { CamErrorsDialogComponent } from './dialogs/cam-errors/cam-errors.component';\r\nimport { EvidenceTableComponent } from './cam/cam-table/activity-table/evidence-table/evidence-table.component';\r\nimport { ActivityTreeComponent } from './cam/cam-table/activity-tree/activity-tree.component';\r\nimport { ActivityTreeNodeComponent } from './cam/cam-table/activity-tree/activity-tree-node/activity-tree-node.component';\r\nimport { CreateActivityDialogComponent } from './dialogs/create-activity/create-activity.component';\r\nimport { ActivityTreeTableComponent } from './cam/cam-table/activity-tree-table/activity-tree-table.component';\r\nimport { PreviewActivityComponent } from './cam/activity/preview-activity/preview-activity.component';\r\nimport { NoctuaSearchBaseModule } from '@noctua.search';\r\nimport { CopyModelComponent } from './cam/copy-model/copy-model.component';\r\nimport { ResizableModule } from 'angular-resizable-element';\r\nimport { NoctuaTermDetailComponent } from './components/term-detail/term-detail.component';\r\nimport { CamStatsComponent } from './components/cam-stats/cam-stats.component';\r\nimport { NgxChartsModule } from '@swimlane/ngx-charts';\r\nimport { GeneralStatsComponent } from './components/cam-stats/general-stats/general-stats.component';\r\nimport { AspectStatsComponent } from './components/cam-stats/aspect-stats/aspect-stats.component';\r\nimport { ContributionStatsComponent } from './components/cam-stats/contribution-stats/contribution-stats.component';\r\nimport { StatementStatsComponent } from './components/cam-stats/statement-stats/statement-stats.component';\r\nimport { GPStatsComponent } from './components/cam-stats/gp-stats/gp-stats.component';\r\nimport { ActivityFormTableNodeComponent } from './cam/cam-table/activity-form-table/activity-form-table-node/activity-form-table-node.component';\r\nimport { ActivityFormTableComponent } from './cam/cam-table/activity-form-table/activity-form-table.component';\r\nimport { EvidenceFormTableComponent } from './cam/cam-table/activity-form-table/evidence-table/evidence-table.component';\r\nimport { ConfirmCopyModelDialogComponent } from './dialogs/confirm-copy-model/confirm-copy-model.component';\r\nimport { CamToolbarComponent } from './cam/cam-toolbar/cam-toolbar.component';\r\n\r\nconst routes = [\r\n  {\r\n    path: 'f',\r\n    component: NoctuaFormComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    NoctuaSharedModule,\r\n    TreeModule,\r\n    CommonModule,\r\n    // NoctuaModule.forRoot(noctuaConfig),\r\n    RouterModule.forChild(routes),\r\n    NoctuaConfirmDialogModule,\r\n    NoctuaEditorModule,\r\n    NoctuaSearchBaseModule,\r\n    NgxChartsModule,\r\n\r\n    //Material\r\n    MatAutocompleteModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatChipsModule,\r\n    MatDatepickerModule,\r\n    MatDialogModule,\r\n    MatFormFieldModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatMenuModule,\r\n    MatPaginatorModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatRippleModule,\r\n    MatSidenavModule,\r\n    MatSnackBarModule,\r\n    MatTableModule,\r\n    MatTooltipModule,\r\n    MatTreeModule,\r\n    ResizableModule,\r\n  ],\r\n  exports: [\r\n    ActivityFormComponent,\r\n    EntityFormComponent,\r\n    CamTableComponent,\r\n    AddEvidenceDialogComponent,\r\n    CreateActivityDialogComponent,\r\n    ActivityErrorsDialogComponent,\r\n    CamErrorsDialogComponent,\r\n    BeforeSaveDialogComponent,\r\n    CreateFromExistingDialogComponent,\r\n    LinkToExistingDialogComponent,\r\n    SelectEvidenceDialogComponent,\r\n    SearchDatabaseDialogComponent,\r\n    SearchEvidenceDialogComponent,\r\n    PreviewActivityDialogComponent,\r\n    CamFormComponent,\r\n    CopyModelComponent,\r\n    ActivityConnectorFormComponent,\r\n    ActivityTableComponent,\r\n    ActivityTreeComponent,\r\n    ActivityTreeTableComponent,\r\n    ActivityTreeNodeComponent,\r\n    ActivityFormTableComponent,\r\n    ActivityFormTableNodeComponent,\r\n    CamPreviewComponent,\r\n    PreviewActivityComponent,\r\n    GraphPreviewComponent,\r\n    EvidenceFormTableComponent,\r\n    ConfirmCopyModelDialogComponent,\r\n    CamToolbarComponent,\r\n  ],\r\n  providers: [\r\n    NoctuaFormDialogService,\r\n  ],\r\n  declarations: [\r\n    NoctuaFormComponent,\r\n    ActivityFormComponent,\r\n    EntityFormComponent,\r\n    CamTableComponent,\r\n    AddEvidenceDialogComponent,\r\n    CreateActivityDialogComponent,\r\n    ActivityErrorsDialogComponent,\r\n    CamErrorsDialogComponent,\r\n    BeforeSaveDialogComponent,\r\n    PreviewActivityDialogComponent,\r\n    CreateFromExistingDialogComponent,\r\n    LinkToExistingDialogComponent,\r\n    SelectEvidenceDialogComponent,\r\n    SearchDatabaseDialogComponent,\r\n    SearchEvidenceDialogComponent,\r\n    CamFormComponent,\r\n    CopyModelComponent,\r\n    ActivityConnectorFormComponent,\r\n    ActivityTableComponent,\r\n    ActivityTreeTableComponent,\r\n    EvidenceTableComponent,\r\n    GraphPreviewComponent,\r\n    CamPreviewComponent,\r\n    CamGraphComponent,\r\n    ActivityTreeComponent,\r\n    ActivityTreeNodeComponent,\r\n    ActivityFormTableComponent,\r\n    ActivityFormTableNodeComponent,\r\n    SelectEvidenceComponent,\r\n    PreviewActivityComponent,\r\n    NoctuaTermDetailComponent,\r\n    CamStatsComponent,\r\n    GPStatsComponent,\r\n    AspectStatsComponent,\r\n    GeneralStatsComponent,\r\n    ContributionStatsComponent,\r\n    StatementStatsComponent,\r\n    EvidenceFormTableComponent,\r\n    ConfirmCopyModelDialogComponent,\r\n    CamToolbarComponent\r\n  ],\r\n})\r\n\r\nexport class NoctuaFormModule {\r\n}\r\n","import { Injectable, NgZone } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\n\r\nimport { ActivityErrorsDialogComponent } from './../dialogs/activity-errors/activity-errors.component';\r\nimport { BeforeSaveDialogComponent } from './../dialogs/before-save/before-save.component';\r\nimport { CreateFromExistingDialogComponent } from './../dialogs/create-from-existing/create-from-existing.component';\r\nimport { LinkToExistingDialogComponent } from './../dialogs/link-to-existing/link-to-existing.component';\r\nimport { SelectEvidenceDialogComponent } from './../dialogs/select-evidence/select-evidence.component';\r\nimport { SearchDatabaseDialogComponent } from './../dialogs/search-database/search-database.component';\r\n\r\nimport {\r\n    Cam,\r\n    Evidence, FormType\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { NoctuaConfirmDialogComponent } from '@noctua/components/confirm-dialog/confirm-dialog.component';\r\nimport { PreviewActivityDialogComponent } from '../dialogs/preview-activity/preview-activity.component';\r\nimport { SearchEvidenceDialogComponent } from '../dialogs/search-evidence/search-evidence.component';\r\nimport { CamErrorsDialogComponent } from '../dialogs/cam-errors/cam-errors.component';\r\nimport { CreateActivityDialogComponent } from '../dialogs/create-activity/create-activity.component';\r\nimport { AddEvidenceDialogComponent } from '../dialogs/add-evidence/add-evidence.component';\r\nimport { ConfirmCopyModelDialogComponent } from '../dialogs/confirm-copy-model/confirm-copy-model.component';\r\n\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class NoctuaFormDialogService {\r\n\r\n    dialogRef: any;\r\n\r\n    constructor(\r\n        private zone: NgZone,\r\n        private snackBar: MatSnackBar,\r\n        private _matDialog: MatDialog) {\r\n    }\r\n\r\n    openInfoToast(message: string, action: string) {\r\n        this.zone.run(() => {\r\n            this.snackBar.open(message, action, {\r\n                duration: 10000,\r\n                verticalPosition: 'top'\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    openConfirmDialog(searchCriteria, success): void {\r\n        this.dialogRef = this._matDialog.open(NoctuaConfirmDialogComponent, {\r\n            panelClass: 'noc-search-database-dialog',\r\n            data: {\r\n                searchCriteria: searchCriteria\r\n            },\r\n            width: '600px',\r\n        });\r\n        this.dialogRef.afterClosed()\r\n            .subscribe(response => {\r\n                if (response) {\r\n                    success(response);\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n    openCreateActivityDialog(formType: FormType): void {\r\n        this.dialogRef = this._matDialog.open(CreateActivityDialogComponent, {\r\n            panelClass: 'noc-activity-create-dialog',\r\n            data: {\r\n                formType\r\n            }\r\n        });\r\n        this.dialogRef.afterClosed()\r\n            .subscribe(response => {\r\n\r\n            });\r\n    }\r\n\r\n    openActivityErrorsDialog(errors: any[]): void {\r\n        this.dialogRef = this._matDialog.open(ActivityErrorsDialogComponent, {\r\n            panelClass: 'activity-errors-dialog',\r\n            data: {\r\n                errors: errors\r\n            }\r\n        });\r\n        this.dialogRef.afterClosed()\r\n            .subscribe(response => {\r\n\r\n            });\r\n    }\r\n\r\n    openCamErrorsDialog(errors: any[]): void {\r\n        this.dialogRef = this._matDialog.open(CamErrorsDialogComponent, {\r\n            panelClass: 'cam-errors-dialog',\r\n            data: {\r\n                errors: errors\r\n            }\r\n        });\r\n        this.dialogRef.afterClosed()\r\n            .subscribe(response => {\r\n\r\n            });\r\n    }\r\n\r\n    openAddEvidenceDialog(success): void {\r\n        this.dialogRef = this._matDialog.open(AddEvidenceDialogComponent, {\r\n            panelClass: 'noc-add-evidence-dialog',\r\n            data: {\r\n            },\r\n            width: '600px',\r\n        });\r\n        this.dialogRef.afterClosed()\r\n            .subscribe(response => {\r\n                if (response) {\r\n                    success(response);\r\n                }\r\n            });\r\n    }\r\n\r\n    openBeforeSaveDialog(cam): void {\r\n        this.dialogRef = this._matDialog.open(BeforeSaveDialogComponent, {\r\n            panelClass: 'before-save-dialog',\r\n            data: {\r\n                cam: cam\r\n            }\r\n        });\r\n        this.dialogRef.afterClosed()\r\n            .subscribe(response => {\r\n\r\n            });\r\n    }\r\n\r\n    openConfirmCopyModelDialog(cam: Cam, success): void {\r\n        this.dialogRef = this._matDialog.open(ConfirmCopyModelDialogComponent, {\r\n            panelClass: 'noc-confirm-copy-model-dialog',\r\n            data: {\r\n                cam: cam\r\n            },\r\n            width: '600px',\r\n        });\r\n        this.dialogRef.afterClosed()\r\n            .subscribe(response => {\r\n                if (response) {\r\n                    success(response);\r\n                }\r\n            });\r\n    }\r\n\r\n    openCreateFromExistingDialog(cam): void {\r\n        this.dialogRef = this._matDialog.open(CreateFromExistingDialogComponent, {\r\n            panelClass: 'create-from-existing-dialog',\r\n            data: {\r\n                cam: cam\r\n            }\r\n        });\r\n        this.dialogRef.afterClosed()\r\n            .subscribe(response => {\r\n\r\n            });\r\n    }\r\n\r\n    openLinkToExistingDialogComponent(data, success): void {\r\n        this.dialogRef = this._matDialog.open(LinkToExistingDialogComponent, {\r\n            panelClass: 'noc-link-to-existing-dialog',\r\n            data\r\n        });\r\n        this.dialogRef.afterClosed()\r\n            .subscribe((response) => {\r\n                success(response);\r\n            });\r\n    }\r\n\r\n    openSelectEvidenceDialog(evidence: Evidence[], success): void {\r\n        this.dialogRef = this._matDialog.open(SelectEvidenceDialogComponent, {\r\n            panelClass: 'noc-select-evidence-dialog',\r\n            data: {\r\n                evidence: evidence\r\n            }\r\n        });\r\n        this.dialogRef.afterClosed()\r\n            .subscribe(response => {\r\n                if (response) {\r\n                    success(response);\r\n                }\r\n            });\r\n    }\r\n\r\n    openSearchDatabaseDialog(searchCriteria, success): void {\r\n        this.dialogRef = this._matDialog.open(SearchDatabaseDialogComponent, {\r\n            panelClass: 'noc-search-database-dialog',\r\n            data: {\r\n                searchCriteria: searchCriteria\r\n            },\r\n            width: '600px',\r\n        });\r\n        this.dialogRef.afterClosed()\r\n            .subscribe(response => {\r\n                if (response) {\r\n                    success(response);\r\n                }\r\n            });\r\n    }\r\n\r\n    openSearchEvidenceDialog(searchCriteria, success): void {\r\n        this.dialogRef = this._matDialog.open(SearchEvidenceDialogComponent, {\r\n            panelClass: 'noc-search-evidence-dialog',\r\n            data: {\r\n                searchCriteria: searchCriteria\r\n            },\r\n            width: '600px',\r\n        });\r\n        this.dialogRef.afterClosed()\r\n            .subscribe(response => {\r\n                if (response) {\r\n                    success(response);\r\n                }\r\n            });\r\n    }\r\n\r\n    openPreviewActivityDialog(): void {\r\n        this.dialogRef = this._matDialog.open(PreviewActivityDialogComponent, {\r\n            panelClass: 'noc-preview-activity-dialog',\r\n            width: '600px',\r\n        });\r\n    }\r\n}\r\n","import { Component, Input, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormGroup, FormArray } from '@angular/forms';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { Subscription, Subject } from 'rxjs';\r\n\r\nimport {\r\n  Cam,\r\n  Activity,\r\n  ConnectorActivity,\r\n  ConnectorState,\r\n  ActivityNode,\r\n  NoctuaActivityConnectorService,\r\n  NoctuaActivityFormService,\r\n  NoctuaFormConfigService,\r\n  NoctuaUserService,\r\n  ConnectorType,\r\n  NoctuaActivityEntityService\r\n} from '@geneontology/noctua-form-base';\r\nimport { NoctuaConfirmDialogService } from '@noctua/components/confirm-dialog/confirm-dialog.service';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { TableOptions } from '@noctua.common/models/table-options';\r\nimport { NoctuaFormDialogService } from 'app/main/apps/noctua-form';\r\nimport { SettingsOptions } from '@noctua.common/models/graph-settings';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\n\r\n@Component({\r\n  selector: 'noc-activity-connector-table',\r\n  templateUrl: './activity-connector-table.component.html',\r\n  styleUrls: ['./activity-connector-table.component.scss']\r\n})\r\nexport class ActivityConnectorTableComponent implements OnInit, OnDestroy {\r\n  ConnectorType = ConnectorType\r\n\r\n  @Input('panelDrawer')\r\n  panelDrawer: MatDrawer;\r\n\r\n  @Input('cam') cam: Cam\r\n  @Input('activity') activity: Activity\r\n\r\n  evidenceOptions: TableOptions = {\r\n    editableEvidence: true,\r\n    editableReference: true,\r\n    editableWith: true,\r\n    showEvidenceMenu: true,\r\n    showAddEvidenceButton: true\r\n  };\r\n\r\n\r\n  @Input() public closeDialog: () => void;\r\n\r\n  settings: SettingsOptions = new SettingsOptions()\r\n\r\n  connectorState = ConnectorState;\r\n  currentConnectorActivity: ConnectorActivity;\r\n  connectorActivity: ConnectorActivity;\r\n  mfNode: ActivityNode;\r\n  connectorFormGroup: FormGroup;\r\n  connectorFormSub: Subscription;\r\n  searchCriteria: any = {};\r\n  evidenceFormArray: FormArray;\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n  relationshipOptions: any;\r\n\r\n  constructor(\r\n    private confirmDialogService: NoctuaConfirmDialogService,\r\n    public noctuaActivityConnectorService: NoctuaActivityConnectorService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    private noctuaFormDialogService: NoctuaFormDialogService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n    private noctuaCommonMenuService: NoctuaCommonMenuService,\r\n    public noctuaActivityEntityService: NoctuaActivityEntityService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.connectorFormSub = this.noctuaActivityConnectorService.connectorFormGroup$\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(connectorFormGroup => {\r\n        if (!connectorFormGroup) {\r\n          return;\r\n        }\r\n        this.connectorFormGroup = connectorFormGroup;\r\n        this.currentConnectorActivity = this.noctuaActivityConnectorService.currentConnectorActivity;\r\n        this.connectorActivity = this.noctuaActivityConnectorService.connectorActivity;\r\n        this.relationshipOptions = this.noctuaFormConfigService[this.connectorActivity.connectorType + 'Relationship']['options']\r\n\r\n      });\r\n\r\n    this.noctuaCommonMenuService.onCamSettingsChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((settings: SettingsOptions) => {\r\n        if (!settings) {\r\n          return;\r\n        }\r\n        this.settings = settings;\r\n      });\r\n\r\n  }\r\n\r\n  openActivityConnector(connector: Activity) {\r\n    this.noctuaActivityConnectorService.initializeForm(this.noctuaActivityConnectorService.objectActivity.id, connector.id);\r\n  }\r\n\r\n  save() {\r\n    const self = this;\r\n    this.noctuaActivityConnectorService.saveActivity().then(() => {\r\n      self.noctuaFormDialogService.openInfoToast('Causal relation successfully created.', 'OK');\r\n\r\n      this.noctuaActivityConnectorService.initializeForm(\r\n        self.noctuaActivityConnectorService.subjectActivity.id, self.noctuaActivityConnectorService.objectActivity.id)\r\n      if (this.closeDialog) {\r\n        this.closeDialog();\r\n      }\r\n    });\r\n  }\r\n\r\n  editActivity() {\r\n    const self = this;\r\n    const success = () => {\r\n      self.noctuaActivityConnectorService.saveActivity().then(() => {\r\n        self.noctuaFormDialogService.openInfoToast('Causal relation successfully updated.', 'OK');\r\n      });\r\n    };\r\n\r\n    this.confirmDialogService.openConfirmDialog('Confirm Delete?',\r\n      'You are about to remove the causal relation',\r\n      success);\r\n  }\r\n\r\n  deleteConnectorEdge() {\r\n    const self = this;\r\n    const success = () => {\r\n      self.noctuaActivityConnectorService.deleteConnectorEdge(this.currentConnectorActivity).then(() => {\r\n        self.noctuaFormDialogService.openInfoToast('Causal relation successfully deleted.', 'OK');\r\n      });\r\n    };\r\n\r\n    this.confirmDialogService.openConfirmDialog('Confirm Delete?',\r\n      'You are about to remove the causal relation',\r\n      success);\r\n  }\r\n\r\n  close() {\r\n    if (this.panelDrawer) {\r\n      this.panelDrawer.close();\r\n    }\r\n    if (this.closeDialog) {\r\n      this.closeDialog();\r\n    }\r\n  }\r\n\r\n  termDisplayFn(term): string | undefined {\r\n    return term && term.id ? `${term.label} (${term.id})` : undefined;\r\n  }\r\n\r\n  evidenceDisplayFn(evidence): string | undefined {\r\n    return evidence && evidence.id ? `${evidence.label} (${evidence.id})` : undefined;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<form name=\"connectorFormGroup\" [formGroup]=\"connectorFormGroup\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\"\r\n  class=\"noc-drawer w-100-p h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-drawer-header-title\">\r\n      Causal Relation Form</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> Close\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-drawer-body\" fxLayout=\"column\" fxLayoutAlign=\"start start\" noctuaPerfectScrollbar>\r\n    <div *ngIf=\"connectorFormGroup\" class=\"noc-connector-form\">\r\n      <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"noc-form-section w-100-p\">\r\n        <!--   <div class=\"noc-section-body w-100-p p-0\" fxLayout=\"column\" fxLayoutAlign=\"start center\">\r\n          <noc-graph-preview [nodes]=\"connectorActivity?.graphPreview.nodes\"\r\n            [edges]=\"connectorActivity?.graphPreview.edges\" class=\"noc-graph-preview\"></noc-graph-preview>\r\n        </div> -->\r\n        <div *ngIf=\"!connectorActivity?.rule.relationship?.id\" class=\"alert alert-warning w-100-p\">\r\n          This relation is not supported, please choose a new relation below <br>\r\n          (<strong>{{currentConnectorActivity?.predicate?.edge.label}}</strong>)\r\n        </div>\r\n        <div class=\"noc-form-section p-0 w-100-p\">\r\n          <div class=\"px-8 noc-group-row\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n            <div class=\"noc-title\">\r\n              <p>Relationship</p>\r\n            </div>\r\n            <mat-radio-group fxFlex=\"\" formControlName=\"relationship\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n              <div *ngFor=\"let relationship of relationshipOptions\" class=\"noc-radio-row\" fxLayout=\"row\"\r\n                fxLayoutAlign=\"start center\">\r\n                <mat-radio-button class=\"noc-radio-button-rounded noc-label\"\r\n                  [checked]=\"relationship.id === connectorActivity?.rule.relationship?.id\" [value]=\"relationship\">\r\n                  {{relationship.label}}\r\n                </mat-radio-button>\r\n                <div *ngIf=\"relationship.description\" fxFlex=\"\" class=\"noc-hint\">\r\n                  {{relationship.description}}\r\n                </div>\r\n              </div>\r\n            </mat-radio-group>\r\n          </div>\r\n          <div *ngIf=\"connectorActivity?.rule.displaySection.effectDirection\" class=\"px-8 noc-group-row\" fxLayout=\"row\"\r\n            fxLayoutAlign=\"start center\">\r\n            <div class=\"noc-title\">\r\n              <p>Effect Direction</p>\r\n            </div>\r\n            <mat-radio-group formControlName=\"effectDirection\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n              <div *ngFor=\"let effectDirection of noctuaFormConfigService.effectDirection.options\" class=\"noc-radio-row\"\r\n                fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                <mat-radio-button class=\"noc-radio-button-rounded noc-label\" [value]=\"effectDirection\"\r\n                  [checked]=\"effectDirection.id === connectorActivity?.rule.effectDirection?.id\">\r\n                  {{effectDirection.label}}\r\n                </mat-radio-button>\r\n              </div>\r\n            </mat-radio-group>\r\n            <div fxFlex=\"\" fxLayout=\"column\" fxLayoutAlign=\"center start\">\r\n              <div class=\"noc-hint noc-sm\">\r\n                The mechanism regulation should be known, so it should be possible to pick the direction of the\r\n                regulation.\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"connectorActivity?.rule.displaySection.directness\" class=\"px-8 noc-group-row\" fxLayout=\"row\"\r\n            fxLayoutAlign=\"start center\">\r\n            <div class=\"noc-title\">\r\n              <p>Directness </p>\r\n            </div>\r\n            <mat-radio-group fxFlex=\"\" formControlName=\"directness\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n              <div *ngFor=\"let directness of noctuaFormConfigService.directness.options\" class=\"noc-radio-row\"\r\n                fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                <mat-radio-button class=\"noc-radio-button-rounded noc-label\" [value]=\"directness\"\r\n                  [checked]=\"directness.id === connectorActivity?.rule.directness?.id\">\r\n                  {{directness.label}}\r\n                </mat-radio-button>\r\n                <div *ngIf=\"directness.description\" fxFlex=\"\" class=\"noc-hint\">\r\n                  {{directness.description}}\r\n                </div>\r\n              </div>\r\n            </mat-radio-group>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"noc-section-header noc-bt\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <div class=\"noc-section-heading\">\r\n            Suggested Causal Relation\r\n          </div>\r\n        </div>\r\n        <div class=\"noc-note mb-4\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <span class=\"noc-description\">\r\n            {{connectorActivity?.predicate.edge?.label}}\r\n          </span>\r\n        </div>\r\n        <div class=\"noc-section-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <div class=\"noc-section-heading\">\r\n            Evidence\r\n          </div>\r\n        </div>\r\n        <noc-evidence-form-table class=\"w-100-p\" [settings]=\"settings\" [options]=\"evidenceOptions\" [cam]=\"cam\"\r\n          [activity]=\"connectorActivity\" [entity]=\"connectorActivity.subjectNode\">\r\n        </noc-evidence-form-table>\r\n        <!--\r\n        <noc-activity-form-table-node [settings]=\"settings\" [options]=\"evidenceOptions\" [cam]=\"cam\"\r\n          [activity]=\"connectorActivity\" [entity]=\"connectorActivity.subjectNode\" class=\"w-100-p\">\r\n        </noc-activity-form-table-node>-->\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"noc-drawer-footer noc-submit-row\">\r\n    <span fxFlex></span>\r\n    <button (click)='deleteConnectorEdge()' type=\"button\" mat-raised-button color=\"warn\" class=\"mr-8\">Delete</button>\r\n  </div>\r\n</form>","import { ChangeDetectorRef, Component, Input, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  NoctuaActivityEntityService,\r\n  CamService,\r\n  noctuaFormConfig,\r\n  NoctuaUserService,\r\n  ActivityType\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport {\r\n  Cam,\r\n  Activity,\r\n  ActivityNode\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { EditorCategory } from '@noctua.editor/models/editor-category';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { NoctuaConfirmDialogService } from '@noctua/components/confirm-dialog/confirm-dialog.service';\r\nimport { NoctuaFormDialogService } from '../../noctua-form';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\n\r\n@Component({\r\n  selector: 'noc-graph-activity-table',\r\n  templateUrl: './activity-table.component.html',\r\n  styleUrls: ['./activity-table.component.scss']\r\n})\r\nexport class ActivityTableComponent implements OnInit, OnDestroy {\r\n  EditorCategory = EditorCategory;\r\n  ActivityType = ActivityType;\r\n  activityTypeOptions = noctuaFormConfig.activityType.options;\r\n\r\n  @Input('options') options: any = {};\r\n  @Input('panelDrawer') panelDrawer: MatDrawer;\r\n  @Input('cam') cam: Cam;\r\n\r\n  activity: Activity\r\n\r\n  gpNode: ActivityNode;\r\n  nodes: ActivityNode[] = [];\r\n  editableTerms = false;\r\n  currentMenuEvent: any = {};\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private ngZone: NgZone,\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n    public camService: CamService,\r\n    public noctuaCommonMenuService: NoctuaCommonMenuService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityEntityService: NoctuaActivityEntityService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n    private confirmDialogService: NoctuaConfirmDialogService,\r\n    private noctuaFormDialogService: NoctuaFormDialogService) {\r\n\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const self = this;\r\n\r\n    this.camService.onSelectedActivityChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((activity: Activity) => {\r\n        if (!activity) {\r\n          return;\r\n        }\r\n        this.activity = null\r\n\r\n        setTimeout(() => {\r\n          this.activity = activity\r\n        }, 100);\r\n\r\n      });\r\n\r\n  }\r\n\r\n  deleteActivity(activity: Activity) {\r\n    const self = this;\r\n\r\n    const success = () => {\r\n      this.camService.deleteActivity(activity).then(() => {\r\n        this.camService.onSelectedActivityChanged.next(null);\r\n        this.noctuaCommonMenuService.closeRightDrawer();\r\n        this.camService.getCam(this.cam.id);\r\n        self.noctuaFormDialogService.openInfoToast('Activity successfully deleted.', 'OK');\r\n      });\r\n    };\r\n\r\n    if (!self.noctuaUserService.user) {\r\n      this.confirmDialogService.openConfirmDialog('Not Logged In',\r\n        'Please log in to continue.',\r\n        null);\r\n    } else {\r\n      this.confirmDialogService.openConfirmDialog('Confirm Delete?',\r\n        'You are about to delete an activity.',\r\n        success);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  close() {\r\n    this.panelDrawer.close();\r\n  }\r\n}\r\n","<div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"noc-drawer w-100-p h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-drawer-header-title\">\r\n    </span>\r\n    <span fxFlex></span>\r\n    <button mat-icon-button class=\"\" fxFlex=\"40px\" color=\"primary\" [matMenuTriggerFor]=\"activityOptionMenu\">\r\n      <mat-icon>more_vert</mat-icon>\r\n    </button>\r\n    <mat-menu #activityOptionMenu=\"matMenu\" class=\"noc-dropdown-menu\">\r\n      <button mat-menu-item color=\"warn\" class=\"\" (click)=\"deleteActivity(activity)\">\r\n        Delete\r\n      </button>\r\n    </mat-menu>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> Close\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-drawer-body\" fxLayout=\"column\" fxLayoutAlign=\"start start\" noctuaPerfectScrollbar>\r\n    <noc-activity-form-table *ngIf=\"activity\" [options]=\"options\" [cam]=\"cam\" [activity]=\"activity\"\r\n      class=\"noc-activities-table-body\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    </noc-activity-form-table>\r\n  </div>\r\n</div>","import { Component, OnInit, ViewChild, OnDestroy, AfterViewInit, ViewChildren, QueryList, Input } from '@angular/core';\r\nimport * as joint from 'jointjs';\r\nimport { CamGraphService } from './services/cam-graph.service';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\nimport { NoctuaDataService } from '@noctua.common/services/noctua-data.service';\r\nimport { Activity, Cam, CamOperation, NoctuaFormConfigService, NoctuaGraphService } from '@geneontology/noctua-form-base';\r\nimport { NoctuaShapesService } from '@noctua.graph/services/shapes.service';\r\nimport { noctuaStencil } from '@noctua.graph/data/cam-stencil';\r\nimport { NoctuaGraphEditorService } from '@noctua.graph/services/graph-editor-service';\r\n\r\n@Component({\r\n  selector: 'noc-cam-graph',\r\n  templateUrl: './cam-graph.component.html',\r\n  styleUrls: ['./cam-graph.component.scss']\r\n})\r\nexport class CamGraphComponent implements OnInit, AfterViewInit, OnDestroy {\r\n\r\n  @ViewChildren('stencils') stencilContainers: QueryList<any>;\r\n\r\n  @Input('cam')\r\n  public cam: Cam;\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n  stencils = [];\r\n\r\n  selectedLayoutDetail;\r\n\r\n  constructor(\r\n    public noctuaDataService: NoctuaDataService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaGraphEditorService: NoctuaGraphEditorService,\r\n    // public noctuaCamEditorService: NoctuaCamEditorService,\r\n    private _noctuaGraphService: NoctuaGraphService,\r\n    public noctuaCommonMenuService: NoctuaCommonMenuService,\r\n    public noctuaCamGraphService: CamGraphService,\r\n    private noctuaCamShapesService: NoctuaShapesService) {\r\n\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.stencils = noctuaStencil.camStencil\r\n\r\n    this.noctuaGraphEditorService.onGraphLayoutDetailChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((layoutDetail) => {\r\n        if (!layoutDetail) {\r\n          return;\r\n        }\r\n\r\n        this.noctuaCamGraphService.addToCanvas(this.cam, this.noctuaGraphEditorService.selectedGraphLayoutDetail.id);\r\n\r\n      });\r\n\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    const self = this;\r\n\r\n    self.noctuaCamGraphService.initializeGraph();\r\n    self.noctuaCamGraphService.initializeStencils();\r\n\r\n    self._noctuaGraphService.onCamGraphChanged\r\n      .pipe(takeUntil(self._unsubscribeAll))\r\n      .subscribe((cam: Cam) => {\r\n        if (!cam || cam.id !== self.cam.id) {\r\n          return;\r\n        }\r\n        self.cam = cam;\r\n        self.noctuaCamGraphService.cam = self.cam;\r\n        if (cam.operation !== CamOperation.ADD_ACTIVITY) {\r\n          self.noctuaCamGraphService.addToCanvas(self.cam, this.noctuaGraphEditorService.selectedGraphLayoutDetail.id);\r\n        }\r\n\r\n      });\r\n  }\r\n\r\n  ngOnInit() {\r\n    const self = this;\r\n\r\n    self._noctuaGraphService.onActivityAdded\r\n      .pipe(takeUntil(self._unsubscribeAll))\r\n      .subscribe((activity: Activity) => {\r\n        if (!activity) {\r\n          return;\r\n        }\r\n        //self.noctuaCamGraphService.cam.activities.push(activity)\r\n        self.noctuaCamGraphService.addActivity(activity, this.noctuaGraphEditorService.selectedGraphLayoutDetail.id);\r\n\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  selectLayoutDetail(selected) {\r\n    this.noctuaGraphEditorService.selectedGraphLayoutDetail = selected;\r\n    this.noctuaGraphEditorService.onGraphLayoutDetailChanged.next(selected)\r\n  }\r\n\r\n  canMove(e: any): boolean {\r\n    return e.indexOf('Disabled') === -1;\r\n  }\r\n\r\n  automaticLayout() {\r\n    this.noctuaCamGraphService.autoLayoutGraph();\r\n  }\r\n\r\n  zoomIn() {\r\n    const delta = 0.1;\r\n    this.noctuaCamGraphService.zoom(delta);\r\n  }\r\n\r\n  zoomOut() {\r\n    const delta = -0.1;\r\n    this.noctuaCamGraphService.zoom(delta);\r\n  }\r\n\r\n  onCtrlScroll($event) {\r\n    const self = this;\r\n    const delta = Math.max(-1, Math.min(1, ($event.wheelDelta || $event.detail))) / 10;\r\n\r\n    if ($event.ctrlKey) {\r\n      self.noctuaCamGraphService.zoom(delta, $event);\r\n      $event.returnValue = false;\r\n      // for Chrome and Firefox\r\n      if ($event.preventDefault) {\r\n        $event.preventDefault();\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n","<div id=\"noc-canvas\" class=\"\">\r\n  <div id=\"noc-palette\" class=\"\">\r\n    <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"noc-cam-form noc-drawer h-100-p\">\r\n      <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <span class=\"noc-drawer-header-title\">\r\n          TOOLBOX\r\n        </span>\r\n      </div>\r\n      <div class=\"noc-drawer-body w-100-p\" noctuaPerfectScrollbar>\r\n        <div #stencils *ngFor=\"let stencil of stencils\">\r\n          <!--   <div class=\"noc-heading\">\r\n            {{stencil.label}}\r\n          </div> -->\r\n          <div [attr.id]=\"stencil.id\" class=\"\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div fxFlex=\"\" class=\"noc-middle-panel\" fxLayout=\"column\" fxLayoutAlign=\"start \">\r\n    <div class=\"noc-workflow-toolbar w-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <button mat-stroked-button (click)=\"automaticLayout()\" color=\"primary\" class=\"noc-rounded-button noc-xs mr-8\"\r\n        matTooltip=\"Automatic Tree Layout\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n        Automatic Layout\r\n      </button>\r\n      <span class='noc-title mr-4'>\r\n        Layout Detail :\r\n      </span>\r\n      <button mat-stroked-button class=\"noc-rounded-button noc-action-button noc-half-button noc-xs\" color=\"primary\"\r\n        [matMenuTriggerFor]=\"graphLayoutDetailMenu\">\r\n        {{noctuaGraphEditorService.selectedGraphLayoutDetail.label}} <fa-icon *ngIf=\"cam.expanded\"\r\n          [icon]=\"['fas', 'caret-down']\"></fa-icon>\r\n      </button>\r\n      <mat-menu #graphLayoutDetailMenu=\"matMenu\" class=\"noc-dropdown-menu\">\r\n        <button mat-menu-item *ngFor=\"let graphLayoutDetail of noctuaFormConfigService.graphLayoutDetail.options\"\r\n          class=\"\" (click)=\"selectLayoutDetail(graphLayoutDetail)\">\r\n          {{graphLayoutDetail.label}}\r\n        </button>\r\n      </mat-menu>\r\n\r\n      <div class=\"noc-button-row ml-12\">\r\n        <span class='noc-title mr-4'>\r\n          Zoom :\r\n        </span>\r\n        <button mat-stroked-button (click)=\"zoomOut()\" color=\"\" class=\"noc-rounded-button noc-half-button noc-xs noc-r\">\r\n          <fa-icon class=\"\" [icon]=\"['fas', 'search-minus']\"></fa-icon>\r\n        </button>\r\n        <button mat-stroked-button (click)=\"zoomIn()\" color=\"\" class=\"noc-rounded-button noc-half-button noc-xs noc-m\">\r\n          <fa-icon class=\"\" [icon]=\"['fas', 'search-plus']\"></fa-icon>\r\n        </button>\r\n        <button mat-stroked-button (click)=\"noctuaCamGraphService.reset()\" color=\"\"\r\n          class=\"noc-rounded-button noc-half-button noc-xs noc-l\">\r\n          <mat-icon>youtube_searched_for</mat-icon>\r\n        </button>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"noc-paper-container\" (wheel)=\"onCtrlScroll($event)\">\r\n      <div #paper id=\"noc-paper\" class=\"\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport 'jqueryui';\r\nimport * as joint from 'jointjs';\r\nimport { each } from 'lodash';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\nimport { NoctuaDataService } from '@noctua.common/services/noctua-data.service';\r\nimport { Activity, Cam, CamService, FormType, NoctuaActivityConnectorService, NoctuaActivityFormService, noctuaFormConfig, NoctuaFormConfigService, NoctuaGraphService, NoctuaUserService } from '@geneontology/noctua-form-base';\r\nimport { NodeLink, NodeCellList, NoctuaShapesService } from '@noctua.graph/services/shapes.service';\r\nimport { NodeType } from 'scard-graph-ts';\r\nimport { NodeCellType } from '@noctua.graph/models/shapes';\r\nimport { noctuaStencil, StencilItemNode } from '@noctua.graph/data/cam-stencil';\r\nimport { RightPanel } from '@noctua.common/models/menu-panels';\r\nimport { NoctuaFormDialogService } from 'app/main/apps/noctua-form';\r\nimport { NoctuaConfirmDialogService } from '@noctua/components/confirm-dialog/confirm-dialog.service';\r\nimport { CamCanvas } from '@noctua.graph/models/cam-canvas';\r\nimport { CamStencil } from '@noctua.graph/models/cam-stencil';\r\nimport { NoctuaGraphEditorService } from '@noctua.graph/services/graph-editor-service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CamGraphService {\r\n  cam: Cam;\r\n  stencils: {\r\n    id: string,\r\n    paper: joint.dia.Paper;\r\n    graph: joint.dia.Graph;\r\n  }[] = [];\r\n\r\n\r\n  selectedElement: joint.shapes.noctua.NodeCellList | joint.shapes.noctua.NodeLink;\r\n  selectedStencilElement: joint.shapes.noctua.NodeCellList;\r\n  placeholderElement: joint.shapes.noctua.NodeCellList = new NodeCellList();\r\n\r\n  camCanvas: CamCanvas;\r\n  camStencil: CamStencil;\r\n\r\n  constructor(\r\n    private _camService: CamService,\r\n    private noctuaGraphEditorService: NoctuaGraphEditorService,\r\n    private _noctuaGraphService: NoctuaGraphService,\r\n    private _noctuaFormDialogService: NoctuaFormDialogService,\r\n    private _noctuaUserService: NoctuaUserService,\r\n    private confirmDialogService: NoctuaConfirmDialogService,\r\n    private _activityFormService: NoctuaActivityFormService,\r\n    private _activityConnectorService: NoctuaActivityConnectorService,\r\n    public noctuaCommonMenuService: NoctuaCommonMenuService,\r\n    private noctuaShapesService: NoctuaShapesService) {\r\n\r\n\r\n    /*    this._camService.onCamChanged\r\n         .subscribe((cam: Cam) => {\r\n           if (!cam || !self.selectedElement) {\r\n             return;\r\n           }\r\n   \r\n           const type = self.selectedElement.get('type');\r\n   \r\n           if (type === NodeCellType.link) {\r\n             (self.selectedElement as NodeLink).setText(cam.title);\r\n           } else {\r\n             self.selectedElement.attr('noctuaTitle/text', cam.title);\r\n             // (self.selectedElement as NodeCell).addColor(cam.backgroundColor);\r\n           }\r\n           self.selectedElement.set({ cam: cam });\r\n           self.selectedElement.set({ id: cam.id });\r\n         }); */\r\n  }\r\n\r\n  initializeGraph() {\r\n    const self = this;\r\n\r\n    self.camCanvas = new CamCanvas();\r\n    self.camCanvas.elementOnClick = self.openTable.bind(self);\r\n    self.camCanvas.editOnClick = self.openTable.bind(self);\r\n    self.camCanvas.deleteOnClick = self.deleteActivity.bind(self);\r\n    self.camCanvas.linkOnClick = self.openConnector.bind(self);\r\n    self.camCanvas.onLinkCreated = self.createActivityConnector.bind(self);\r\n    self.camCanvas.onUpdateCamLocations = self.updateCamLocations.bind(self);\r\n\r\n  }\r\n\r\n  initializeStencils() {\r\n    const self = this;\r\n\r\n    self.camStencil = new CamStencil(self.camCanvas, noctuaStencil.camStencil);\r\n    self.camStencil.onAddElement = self.createActivity.bind(self);\r\n  }\r\n\r\n  addToCanvas(cam: Cam, graphLayoutDetail: string) {\r\n    this.cam = cam;\r\n    this.camCanvas.addCanvasGraph(cam, graphLayoutDetail);\r\n  }\r\n\r\n  zoom(delta: number, e?) {\r\n    this.camCanvas.zoom(delta, e);\r\n  }\r\n\r\n  reset() {\r\n    this.camCanvas.resetZoom();\r\n  }\r\n\r\n  updateCamLocations(cam: Cam) {\r\n    this._noctuaGraphService.setActivityLocations(cam);\r\n  }\r\n\r\n  createActivity(element: joint.shapes.noctua.NodeCellList, x: number, y: number) {\r\n    const self = this;\r\n    const node = element.get('node') as StencilItemNode;\r\n\r\n    self.placeholderElement.position(x, y);\r\n    self._activityFormService.setActivityType(node.type)\r\n    self._activityFormService.activity.validateEvidence = false;\r\n    self._noctuaFormDialogService.openCreateActivityDialog(FormType.ACTIVITY);\r\n  }\r\n\r\n  createActivityConnector(\r\n    sourceId: string,\r\n    targetId: string,\r\n    link: joint.shapes.noctua.NodeLink) {\r\n    const self = this;\r\n\r\n    self._activityConnectorService.initializeForm(sourceId, targetId);\r\n    self._noctuaFormDialogService.openCreateActivityDialog(FormType.ACTIVITY_CONNECTOR);\r\n  }\r\n\r\n  addActivity(activity: Activity, graphLayoutDetail: string) {\r\n    const self = this;\r\n    const position = self.placeholderElement.prop('position') as joint.dia.Point\r\n\r\n    activity.position.x = position.x\r\n    activity.position.y = position.y\r\n\r\n    const el = self.camCanvas.createNode(activity, graphLayoutDetail)\r\n\r\n    self.camCanvas.canvasGraph.addCell(el);\r\n\r\n    this._noctuaGraphService.addActivityLocation(self.cam, activity);\r\n  }\r\n\r\n  deleteActivity(element: joint.shapes.noctua.NodeCellList) {\r\n    const self = this;\r\n\r\n    const activity = element.get('activity') as Activity;\r\n\r\n    const success = () => {\r\n      this._camService.deleteActivity(activity).then(() => {\r\n        this._camService.onSelectedActivityChanged.next(null);\r\n        this.noctuaCommonMenuService.closeRightDrawer();\r\n        this._camService.getCam(this.cam.id);\r\n        self._noctuaFormDialogService.openInfoToast('Activity successfully deleted.', 'OK');\r\n      });\r\n    };\r\n\r\n    if (!self._noctuaUserService.user) {\r\n      this.confirmDialogService.openConfirmDialog('Not Logged In',\r\n        'Please log in to continue.',\r\n        null);\r\n    } else {\r\n      this.confirmDialogService.openConfirmDialog('Confirm Delete?',\r\n        'You are about to delete an activity.',\r\n        success);\r\n    }\r\n  }\r\n\r\n\r\n  openTable(element: joint.shapes.noctua.NodeCellList) {\r\n    const activity = element.prop('activity') as Activity\r\n    this.selectedElement = element;\r\n    this._camService.onSelectedActivityChanged.next(activity);\r\n    // activity.type = element.get('type');\r\n    this.noctuaCommonMenuService.selectRightPanel(RightPanel.activityTable);\r\n    this.noctuaCommonMenuService.closeLeftDrawer();\r\n    this.noctuaCommonMenuService.openRightDrawer();\r\n\r\n\r\n    activity.expanded = true;\r\n    this._camService.currentMatch.activityDisplayId = activity.displayId;\r\n    const q = `#${activity.displayId}`;\r\n\r\n    this.noctuaCommonMenuService.scrollTo(q);\r\n  }\r\n\r\n  openConnector(element: joint.shapes.noctua.NodeLink) {\r\n    const self = this;\r\n\r\n    self.selectedElement = element;\r\n    const source = element.get('source');\r\n    const target = element.get('target');\r\n\r\n    if (!source || !target) return;\r\n\r\n    self._activityConnectorService.initializeForm(source.id, target.id);\r\n    self.noctuaCommonMenuService.selectRightPanel(RightPanel.activityConnectorTable);\r\n    self.noctuaCommonMenuService.closeLeftDrawer();\r\n    self.noctuaCommonMenuService.openRightDrawer();\r\n\r\n  }\r\n\r\n  autoLayoutGraph() {\r\n    this.camCanvas.autoLayoutGraph(this.camCanvas.canvasGraph);\r\n  }\r\n\r\n  save() {\r\n    const self = this;\r\n    const cells: joint.dia.Cell[] = this.camCanvas.canvasGraph.getCells();\r\n    const cams = [];\r\n    const triples = [];\r\n\r\n    each(cells, (cell: joint.dia.Cell) => {\r\n      const type = cell.get('type');\r\n\r\n      if (type === NodeCellType.link) {\r\n        const subject = cell.get('source');\r\n        const object = cell.get('target');\r\n\r\n        triples.push({\r\n          subject: {\r\n            uuid: subject.id,\r\n          },\r\n          predicate: {\r\n            id: cell.get('id'),\r\n          },\r\n          object: {\r\n            uuid: object.id\r\n          }\r\n        });\r\n      } else {\r\n        cams.push({\r\n          uuid: cell.get('id'),\r\n          id: cell.get('id'),\r\n          position: cell.get('position'),\r\n          size: cell.get('size'),\r\n        });\r\n      }\r\n    });\r\n\r\n    const cam = {\r\n      cams,\r\n      triples\r\n    };\r\n\r\n  }\r\n}\r\n","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport {\r\n  NoctuaUserService,\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n\r\n  CamService\r\n} from '@geneontology/noctua-form-base';\r\nimport { noctuaAnimations } from '@noctua/animations';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { distinctUntilChanged, debounceTime, takeUntil } from 'rxjs/operators';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\nimport { SettingsOptions } from '@noctua.common/models/graph-settings';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\n\r\n@Component({\r\n  selector: 'noc-graph-settings',\r\n  templateUrl: './graph-settings.component.html',\r\n  styleUrls: ['./graph-settings.component.scss'],\r\n  animations: noctuaAnimations,\r\n})\r\nexport class GraphSettingsComponent implements OnInit, OnDestroy {\r\n\r\n  displayedColumns = [\r\n    'category',\r\n    'count'\r\n  ];\r\n\r\n  @Input('panelDrawer')\r\n  panelDrawer: MatDrawer;\r\n\r\n  settings: SettingsOptions;\r\n  settingsForm: FormGroup;\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n\r\n  constructor(\r\n    public camService: CamService,\r\n    private noctuaCommonMenuService: NoctuaCommonMenuService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService\r\n  ) {\r\n\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.noctuaCommonMenuService.onCamSettingsChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((settings: SettingsOptions) => {\r\n        if (!settings) {\r\n          return;\r\n        }\r\n        this.settings = settings;\r\n        this.settingsForm = this.settings.createSettingsForm();\r\n        this._onValueChanges();\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n\r\n  createSettingsForm(settings: SettingsOptions) {\r\n\r\n  }\r\n\r\n  populateSettings(value) {\r\n    this.settings.populateSettings(value);\r\n    this.noctuaCommonMenuService.onCamSettingsChanged.next(this.settings);\r\n  }\r\n\r\n  private _onValueChanges() {\r\n    const self = this;\r\n\r\n\r\n    this.settingsForm.valueChanges.pipe(\r\n      distinctUntilChanged(),\r\n      debounceTime(400),\r\n      takeUntil(this._unsubscribeAll)\r\n    ).subscribe(value => {\r\n      self.populateSettings(value)\r\n    });\r\n  }\r\n\r\n  close() {\r\n    this.panelDrawer.close();\r\n  }\r\n\r\n}","<div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" class=\"noc-drawer h-100-p\">\r\n  <div class=\"noc-drawer-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-drawer-header-title\">\r\n      Graph Settings</span>\r\n    <span fxFlex></span>\r\n    <button mat-stroked-button (click)=\"close()\" class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n      aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon> CLOSE\r\n    </button>\r\n  </div>\r\n  <div class=\"noc-drawer-body\" noctuaPerfectScrollbar>\r\n    <form *ngIf=\"settingsForm\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" name=\"settingsForm\"\r\n      [formGroup]=\"settingsForm\">\r\n      <h2>Columns</h2>\r\n      <mat-checkbox formControlName=\"showAspect\" class=\"noc-checkbox\" color=\"primary\">Show Aspect\r\n      </mat-checkbox>\r\n      <mat-checkbox formControlName=\"showIsExtension\" class=\"noc-checkbox\" color=\"primary\">Show Is Extension\r\n      </mat-checkbox>\r\n      <mat-checkbox formControlName=\"showEvidence\" class=\"noc-checkbox\" color=\"primary\">Show Evidence\r\n      </mat-checkbox>\r\n      <mat-checkbox formControlName=\"showEvidenceCode\" class=\"noc-checkbox\" color=\"primary\">Show Evidence Code\r\n      </mat-checkbox>\r\n      <mat-checkbox formControlName=\"showReference\" class=\"noc-checkbox\" color=\"primary\">Show Reference\r\n      </mat-checkbox>\r\n      <mat-checkbox formControlName=\"showWith\" class=\"noc-checkbox\" color=\"primary\">Show With/From\r\n      </mat-checkbox>\r\n      <mat-checkbox formControlName=\"showGroup\" class=\"noc-checkbox\" color=\"primary\">Show Group\r\n      </mat-checkbox>\r\n      <mat-checkbox formControlName=\"showContributor\" class=\"noc-checkbox\" color=\"primary\">Show Contributor\r\n      </mat-checkbox>\r\n    </form>\r\n  </div>\r\n</div>","import { AfterViewInit, Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { Subject } from 'rxjs';\r\nimport { noctuaAnimations } from './../../../../@noctua/animations';\r\nimport {\r\n  Cam,\r\n  Contributor,\r\n  NoctuaUserService,\r\n  NoctuaFormConfigService,\r\n  CamService,\r\n  ActivityDisplayType,\r\n  ActivityType,\r\n  NoctuaActivityFormService\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { FormGroup } from '@angular/forms';\r\nimport { NoctuaSearchService } from '@noctua.search/services/noctua-search.service';\r\nimport { distinctUntilChanged, takeUntil } from 'rxjs/operators';\r\nimport { CamPage } from '@noctua.search/models/cam-page';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\nimport { ReviewMode } from '@noctua.search/models/review-mode';\r\nimport { LeftPanel, MiddlePanel, RightPanel } from '@noctua.common/models/menu-panels';\r\nimport { ArtBasket } from '@noctua.search/models/art-basket';\r\nimport { NoctuaReviewSearchService } from '@noctua.search/services/noctua-review-search.service';\r\nimport { PerfectScrollbarDirective } from 'ngx-perfect-scrollbar';\r\nimport { TableOptions } from '@noctua.common/models/table-options';\r\nimport { SettingsOptions } from '@noctua.common/models/graph-settings';\r\nimport { WorkbenchId } from '@noctua.common/models/workench-id';\r\nimport { CamToolbarOptions } from '@noctua.common/models/cam-toolbar-options';\r\n\r\n@Component({\r\n  selector: 'noc-noctua-graph',\r\n  templateUrl: './noctua-graph.component.html',\r\n  styleUrls: ['./noctua-graph.component.scss'],\r\n  // encapsulation: ViewEncapsulation.None,\r\n  animations: noctuaAnimations\r\n})\r\nexport class NoctuaGraphComponent implements OnInit, AfterViewInit, OnDestroy {\r\n\r\n  @ViewChild('leftDrawer', { static: true })\r\n  leftDrawer: MatDrawer;\r\n\r\n  @ViewChild('rightDrawer', { static: true })\r\n  rightDrawer: MatDrawer;\r\n\r\n  @ViewChild(PerfectScrollbarDirective, { static: false })\r\n  scrollbarRef?: PerfectScrollbarDirective;\r\n\r\n  settings: SettingsOptions;\r\n  tableWidth = \"550px\";\r\n\r\n  loadingSpinner: any = {\r\n    color: 'primary',\r\n    mode: 'indeterminate'\r\n  };\r\n\r\n\r\n  ActivityType = ActivityType;\r\n  ReviewMode = ReviewMode;\r\n  LeftPanel = LeftPanel;\r\n  MiddlePanel = MiddlePanel;\r\n  RightPanel = RightPanel;\r\n  artBasket: ArtBasket = new ArtBasket();\r\n\r\n  camPage: CamPage;\r\n  public cam: Cam;\r\n  public user: Contributor;\r\n\r\n  searchResults = [];\r\n  modelId = '';\r\n  searchCriteria: any = {};\r\n  searchFormData: any = [];\r\n  searchForm: FormGroup;\r\n\r\n  cams: any[] = [];\r\n\r\n  camToolbarOptions: CamToolbarOptions = {\r\n    showCreateButton: false\r\n  }\r\n\r\n  tableOptions: TableOptions = {\r\n    displayType: ActivityDisplayType.SLIM_TREE,\r\n    slimViewer: true,\r\n    editableTerms: true,\r\n    editableEvidence: true,\r\n    editableReference: true,\r\n    editableWith: true,\r\n    showMenu: true\r\n  };\r\n\r\n  noctuaFormOptions: TableOptions = {\r\n    displayType: ActivityDisplayType.TREE,\r\n    slimViewer: false,\r\n    editableTerms: true,\r\n    editableEvidence: true,\r\n    editableReference: true,\r\n    editableWith: true,\r\n    showMenu: true\r\n  };\r\n\r\n  scrollbarConfig = {\r\n    suppressScrollX: true\r\n  }\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private camService: CamService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n    public noctuaReviewSearchService: NoctuaReviewSearchService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaCommonMenuService: NoctuaCommonMenuService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaSearchService: NoctuaSearchService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n\r\n\r\n\r\n    this.route\r\n      .queryParams\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(params => {\r\n        this.modelId = params['model_id'] || null;\r\n        const baristaToken = params['barista_token'] || null;\r\n        this.noctuaUserService.getUser(baristaToken);\r\n      });\r\n\r\n    this.noctuaUserService.onUserChanged.pipe(\r\n      distinctUntilChanged(this.noctuaUserService.distinctUser),\r\n      takeUntil(this._unsubscribeAll))\r\n      .subscribe((user: Contributor) => {\r\n        this.noctuaFormConfigService.setupUrls();\r\n        this.noctuaFormConfigService.setUniversalUrls();\r\n        this.loadCam(this.modelId);\r\n      });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.noctuaCommonMenuService.selectedMiddlePanel = MiddlePanel.camGraph;\r\n    this.noctuaCommonMenuService.setLeftDrawer(this.leftDrawer);\r\n    this.noctuaCommonMenuService.setRightDrawer(this.rightDrawer);\r\n\r\n    this.noctuaCommonMenuService.onCamSettingsChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((settings: SettingsOptions) => {\r\n        if (!settings) {\r\n          return;\r\n        }\r\n        this.settings = settings;\r\n        this.tableWidth = this.getTableWidth(settings);\r\n      });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.noctuaCommonMenuService.resultsViewScrollbar = this.scrollbarRef;\r\n  }\r\n\r\n  loadCam(modelId) {\r\n    this.cam = this.camService.getCam(modelId);\r\n  }\r\n\r\n  openGraph() {\r\n    this.noctuaCommonMenuService.closeLeftDrawer();\r\n    this.noctuaCommonMenuService.closeRightDrawer();\r\n    this.noctuaCommonMenuService.selectMiddlePanel(MiddlePanel.camGraph)\r\n  }\r\n\r\n  openTable() {\r\n    //this.noctuaCommonMenuService.closeLeftDrawer();\r\n    this.noctuaCommonMenuService.closeRightDrawer();\r\n    this.noctuaCommonMenuService.selectMiddlePanel(MiddlePanel.camTable)\r\n  }\r\n\r\n  openPreview() {\r\n    this.noctuaCommonMenuService.selectMiddlePanel(MiddlePanel.camPreview)\r\n  }\r\n\r\n  openLeftDrawer(panel) {\r\n    this.noctuaCommonMenuService.selectLeftPanel(panel);\r\n    // this.noctuaCommonMenuService.openLeftDrawer();\r\n  }\r\n\r\n  selectMiddlePanel(panel: MiddlePanel) {\r\n    const self = this;\r\n    this.noctuaCommonMenuService.selectMiddlePanel(panel);\r\n  }\r\n\r\n\r\n  openRightDrawer(panel) {\r\n    this.noctuaCommonMenuService.selectRightPanel(panel);\r\n    this.noctuaCommonMenuService.openRightDrawer();\r\n  }\r\n\r\n  toggleLeftDrawer(panel) {\r\n    this.noctuaCommonMenuService.toggleLeftDrawer(panel);\r\n  }\r\n\r\n  createModel(type: WorkbenchId) {\r\n    this.noctuaCommonMenuService.createModel(type);\r\n  }\r\n\r\n  openSettings() {\r\n    this.openRightDrawer(RightPanel.graphSettings)\r\n  }\r\n\r\n  getTableWidth(settings: SettingsOptions) {\r\n    let width = 500;\r\n\r\n    if (settings.showEvidence) {\r\n      width += settings.showEvidenceCode ? 150 : 0\r\n      width += settings.showReference ? 100 : 0\r\n      width += settings.showWith ? 100 : 0\r\n      width += settings.showGroup ? 100 : 0\r\n      width += settings.showContributor ? 100 : 0\r\n\r\n    }\r\n\r\n    return width + 'px'\r\n  }\r\n\r\n\r\n  search() {\r\n    const searchCriteria = this.searchForm.value;\r\n    this.noctuaSearchService.search(searchCriteria);\r\n  }\r\n\r\n  refresh() {\r\n    this.noctuaSearchService.updateSearch();\r\n  }\r\n\r\n  reset() {\r\n    this.noctuaSearchService.clearSearchCriteria();\r\n  }\r\n\r\n  openCamForm() {\r\n    this.camService.initializeForm(this.cam);\r\n    this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.camForm);\r\n    this.noctuaCommonMenuService.closeRightDrawer();\r\n    this.noctuaCommonMenuService.openLeftDrawer();\r\n  }\r\n\r\n  openActivityForm(activityType: ActivityType) {\r\n    this.noctuaActivityFormService.setActivityType(activityType);\r\n    this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.activityForm);\r\n    this.noctuaCommonMenuService.closeRightDrawer();\r\n    this.noctuaCommonMenuService.openLeftDrawer();\r\n  }\r\n\r\n  openCopyModel() {\r\n    this.noctuaCommonMenuService.selectLeftPanel(LeftPanel.copyModel);\r\n    this.noctuaCommonMenuService.closeRightDrawer();\r\n    this.noctuaCommonMenuService.openLeftDrawer();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<div class=\"w-100-p h-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start start\">\r\n\r\n  <div *ngIf=\"false\" class=\"noc-sidemenu\" fxLayout=\"column\" fxLayoutAlign=\"start center\">\r\n    <button mat-icon-button color=\"\" class=\"noc-rounded-button\"\r\n      [ngClass]=\"{'noc-active': noctuaCommonMenuService.selectedMiddlePanel === MiddlePanel.camGraph}\"\r\n      (click)=\"openGraph()\" matTooltip=\"Filter\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'sitemap']\"></fa-icon>\r\n    </button>\r\n    <button mat-icon-button color=\"\" class=\"noc-rounded-button\"\r\n      [ngClass]=\"{'noc-active': noctuaCommonMenuService.selectedMiddlePanel === MiddlePanel.camTable}\"\r\n      (click)=\"openTable()\" matTooltip=\"Filter\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'table']\"></fa-icon>\r\n    </button>\r\n    <button mat-icon-button color=\"\" class=\"noc-rounded-button\"\r\n      [ngClass]=\"{'noc-active': noctuaCommonMenuService.selectedMiddlePanel === MiddlePanel.camTable}\"\r\n      (click)=\"openTable()\" matTooltip=\"Filter\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'list']\"></fa-icon>\r\n    </button>\r\n  </div>\r\n  <div class=\"w-100-p h-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <div *ngIf=\"!noctuaUserService.user\" class=\"noc-not-loggedin\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n      Not Logged In: You can only view existing annotations\r\n    </div>\r\n    <noc-cam-toolbar [cam]=\"cam\" [options]=\"camToolbarOptions\"></noc-cam-toolbar>\r\n    <mat-drawer-container class=\"h-100-p\" fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start start\" [hasBackdrop]=\"false\"\r\n      autosize>\r\n      <mat-drawer #leftDrawer class=\"noc-left-drawer\" mode=\"side\" position=\"start\" opened>\r\n        <div [ngSwitch]=\"noctuaCommonMenuService.selectedLeftPanel\" class=\"h-100-p\">\r\n          <noc-cam-form [panelDrawer]=\"leftDrawer\" *ngSwitchCase=\"LeftPanel.camForm\">\r\n          </noc-cam-form>\r\n          <noc-activity-form [panelDrawer]=\"leftDrawer\" *ngSwitchCase=\"LeftPanel.activityForm\">\r\n          </noc-activity-form>\r\n          <noc-copy-model [panelDrawer]=\"leftDrawer\" [panelSide]=\"'left'\" *ngSwitchCase=\"LeftPanel.copyModel\">\r\n          </noc-copy-model>\r\n        </div>\r\n      </mat-drawer>\r\n      <mat-drawer-content class=\"w-100-p h-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n        <div [ngSwitch]=\"noctuaCommonMenuService.selectedMiddlePanel\" class=\"w-100-p h-100-p\" noctuaPerfectScrollbar>\r\n          <noc-cam-table *ngSwitchCase=\"MiddlePanel.camTable\" [cam]=\"cam\" [options]=\"noctuaFormOptions\"></noc-cam-table>\r\n          <noc-cam-graph *ngSwitchCase=\"MiddlePanel.camGraph\" [cam]=\"cam\"></noc-cam-graph>\r\n        </div>\r\n      </mat-drawer-content>\r\n      <mat-drawer #rightDrawer class=\"noc-right-drawer\" mode=\"over\" position=\"end\">\r\n        <div [ngSwitch]=\"noctuaCommonMenuService.selectedRightPanel\" class=\"h-100-p\" #scrollbarRef\r\n          [perfectScrollbar]=\"scrollbarConfig\">\r\n          <noc-cam-table [ngStyle]=\"{width:tableWidth}\" [panelDrawer]=\"rightDrawer\" *ngSwitchCase=\"RightPanel.camTable\"\r\n            [cam]=\"cam\" [options]=\"tableOptions\"></noc-cam-table>\r\n\r\n          <noc-graph-activity-table [panelDrawer]=\"rightDrawer\" *ngSwitchCase=\"RightPanel.activityTable\"\r\n            [options]=\"tableOptions\" [cam]=\"cam\">\r\n          </noc-graph-activity-table>\r\n\r\n          <noc-activity-connector-table [panelDrawer]=\"rightDrawer\" *ngSwitchCase=\"RightPanel.activityConnectorTable\"\r\n            [cam]=\"cam\">\r\n          </noc-activity-connector-table>\r\n\r\n          <noc-graph-settings [panelDrawer]=\"rightDrawer\" *ngSwitchCase=\"RightPanel.graphSettings\">\r\n          </noc-graph-settings>\r\n        </div>\r\n      </mat-drawer>\r\n    </mat-drawer-container>\r\n  </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NoctuaSharedModule } from '@noctua/shared.module';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\nimport { NoctuaSearchBaseModule } from '@noctua.search';\r\nimport { NoctuaFooterModule } from 'app/layout/components/footer/footer.module';\r\nimport { NoctuaFormModule } from '../noctua-form';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CamGraphComponent } from './cam-graph/cam-graph.component';\r\nimport { NoctuaGraphComponent } from './noctua-graph.component';\r\nimport { GraphSettingsComponent } from './graph-settings/graph-settings.component';\r\nimport { RelationPreviewComponent } from './relation-preview/relation-preview.component';\r\nimport { ActivityTableComponent } from './activity-table/activity-table.component';\r\nimport { ActivityConnectorTableComponent } from './activity-connector-table/activity-connector-table.component';\r\n\r\n\r\nconst routes = [\r\n  {\r\n    path: 'g',\r\n    component: NoctuaGraphComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    NoctuaSharedModule,\r\n    ScrollingModule,\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NoctuaSearchBaseModule,\r\n    NoctuaFooterModule,\r\n    NoctuaFormModule,\r\n  ],\r\n  declarations: [\r\n    NoctuaGraphComponent,\r\n    CamGraphComponent,\r\n    GraphSettingsComponent,\r\n    RelationPreviewComponent,\r\n    ActivityTableComponent,\r\n    ActivityConnectorTableComponent\r\n  ]\r\n})\r\n\r\nexport class NoctuaGraphModule {\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { NodeCellType } from '@noctua.graph/models/shapes';\r\nimport { NodeCellList, NodeCellMolecule, NodeLink, StencilNode } from '@noctua.graph/services/shapes.service';\r\nimport * as joint from 'jointjs';\r\nimport { each, cloneDeep } from 'lodash';\r\nimport { StencilItemNode } from '@noctua.graph/data/cam-stencil';\r\nimport { getEdgeColor } from '@noctua.graph/data/edge-display';\r\n\r\n@Component({\r\n  selector: 'noc-relation-preview',\r\n  templateUrl: './relation-preview.component.html',\r\n  styleUrls: ['./relation-preview.component.scss']\r\n})\r\nexport class RelationPreviewComponent implements OnInit {\r\n\r\n  canvasPaper: joint.dia.Paper;\r\n\r\n  @Input('graph')\r\n  canvasGraph: joint.dia.Graph\r\n\r\n  constructor() {\r\n    this._initializeCanvas()\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  private _initializeCanvas() {\r\n    const self = this;\r\n    self.canvasGraph = new joint.dia.Graph({}, { cellNamespace: joint.shapes });\r\n    self.canvasPaper = new joint.dia.Paper({\r\n      cellViewNamespace: joint.shapes,\r\n      el: document.getElementById('noc-relation-preview-paper'),\r\n      height: '100%',\r\n      width: '100%',\r\n      model: this.canvasGraph,\r\n      restrictTranslate: true,\r\n      multiLinks: false,\r\n      markAvailable: true,\r\n      validateConnection: function (cellViewS, magnetS, cellViewT, magnetT, end, linkView) {\r\n        if (cellViewS === cellViewT) return false;\r\n        return true;\r\n      },\r\n      validateMagnet: function (cellView, magnet) {\r\n        return true;\r\n      },\r\n\r\n      defaultConnectionPoint: { name: 'boundary', args: { sticky: true } },\r\n\r\n      defaultConnector: { name: 'smooth' },\r\n      async: true,\r\n      interactive: { labelMove: false },\r\n      linkPinning: false,\r\n      // frozen: true,\r\n      gridSize: 10,\r\n      drawGrid: {\r\n        name: 'doubleMesh',\r\n        args: [\r\n          { color: '#DDDDDD', thickness: 1 }, // settings for the primary mesh\r\n          { color: '#DDDDDD', scaleFactor: 5, thickness: 4 } //settings for the secondary mesh\r\n        ]\r\n      },\r\n      sorting: joint.dia.Paper.sorting.APPROX,\r\n      // markAvailable: true,\r\n      defaultLink: function () {\r\n        return NodeLink.create();\r\n      },\r\n      perpendicularLinks: false,\r\n\r\n    });\r\n\r\n  }\r\n\r\n\r\n\r\n}\r\n","<div #paper id=\"noc-relation-preview-paper\" class=\"\">\r\n</div>","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport {\r\n  Cam,\r\n  CamService,\r\n  Contributor,\r\n  NoctuaActivityFormService,\r\n  NoctuaFormConfigService,\r\n  NoctuaGraphService,\r\n  NoctuaUserService\r\n} from '@geneontology/noctua-form-base';\r\nimport { NoctuaSearchDialogService } from '@noctua.search/services/dialog.service';\r\nimport { Subject } from 'rxjs';\r\nimport { distinctUntilChanged, takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-noctua-pathway',\r\n  templateUrl: './noctua-pathway.component.html',\r\n  styleUrls: ['./noctua-pathway.component.scss']\r\n})\r\nexport class NoctuaPathwayComponent implements OnInit, OnDestroy {\r\n  cam: Cam;\r\n  modelId: string;\r\n  private _unsubscribeAll: Subject<any>;\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private camService: CamService,\r\n    private _noctuaGraphService: NoctuaGraphService,\r\n    public noctuaSearchDialogService: NoctuaSearchDialogService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n  ) {\r\n\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.route\r\n      .queryParams\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(params => {\r\n        this.modelId = params['model_id'] || null;\r\n        const baristaToken = params['barista_token'] || null;\r\n        this.noctuaUserService.getUser(baristaToken);\r\n      });\r\n\r\n    this.noctuaUserService.onUserChanged.pipe(\r\n      distinctUntilChanged(this.noctuaUserService.distinctUser),\r\n      takeUntil(this._unsubscribeAll))\r\n      .subscribe((user: Contributor) => {\r\n\r\n        if (user === undefined) return;\r\n\r\n        this.noctuaFormConfigService.setupUrls();\r\n        this.noctuaFormConfigService.setUniversalUrls();\r\n        this.loadCam(this.modelId);\r\n      });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const self = this;\r\n    this._noctuaGraphService.onCamGraphChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((cam: Cam) => {\r\n        if (!cam || cam.id !== self.cam.id) {\r\n          return;\r\n        }\r\n        this.cam = cam;\r\n\r\n        if (cam.activities.length > 0) {\r\n          this.camService.addCamEdit(this.cam)\r\n          this.camService.cams = [cam]\r\n        }\r\n        //this.noctuaReviewSearchService.addCamsToReview([this.cam], this.camService.cams);\r\n\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  loadCam(modelId) {\r\n    this.cam = this.camService.getCam(modelId);\r\n  }\r\n\r\n}\r\n","<div class=\"w-100-p h-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n  <div *ngIf=\"!noctuaUserService.user\" class=\"noc-not-loggedin\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n    Not Logged In: You can only view existing annotations\r\n  </div>\r\n  <div *ngIf=\"cam\" class=\"noc-cam-heading\" fxFlex=\"1 1 auto\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <div *ngIf=\"cam.title\" class=\"noc-title\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div class=\"text-truncate pr-8\">\r\n        <strong>Title: </strong>{{cam.title }}\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"cam.state\" class=\"noc-model-state\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <mat-chip class=\"noc-table-chip noc-state-chip\" [ngClass]=\"{'noc-development': cam.state.name === 'development',\r\n      'noc-production': cam.state.name === 'production',\r\n      'noc-review': cam.state.name === 'review'}\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <div class=\"noc-icon\">\r\n          <fa-icon [icon]=\"['fas', 'tasks']\"></fa-icon>\r\n        </div>\r\n        <div fxFlex=\"\" class=\"noc-chip-label\">\r\n          {{cam.state.label}}\r\n        </div>\r\n      </mat-chip>\r\n    </div>\r\n    <div *ngIf=\"cam.date\" class=\"noc-date\" fxFlex=\"100px\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <mat-chip class=\"noc-table-chip noc-date-chip\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n        (click)=\"openCamForm()\">\r\n        <div class=\"noc-icon\">\r\n          <fa-icon [icon]=\"['fas', 'calendar-day']\"></fa-icon>\r\n        </div>\r\n        <div fxFlex=\"\" class=\"noc-chip-label\">\r\n          {{cam.date}}\r\n        </div>\r\n      </mat-chip>\r\n    </div>\r\n    <div fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <mat-chip-list>\r\n        <mat-chip class=\"noc-table-chip noc-user-chip\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n          *ngFor=\"let contributor of cam.contributors\" (click)=\"openCamForm()\">\r\n          <div class=\"noc-icon\">\r\n            <fa-icon [icon]=\"['fas', 'user']\"></fa-icon>\r\n          </div>\r\n          <div fxFlex=\"\" class=\"noc-chip-label\">\r\n            {{contributor.name}}\r\n          </div>\r\n        </mat-chip>\r\n      </mat-chip-list>\r\n    </div>\r\n    <div fxFlex=\"50px\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <a mat-icon-button [href]='cam?.model?.modelInfo?.graphEditorUrl' target=\"_blank\"\r\n        class=\"noc-edit-button noc-rounded-button noc-sm noc-half-button noc-l\" matTooltip=\"Graph Editor\"\r\n        [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1000\">\r\n        <fa-icon [icon]=\"['fas', 'sitemap']\"></fa-icon>\r\n      </a>\r\n    </div>\r\n    <div fxFlex=\"115px\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <button mat-stroked-button [matMenuTriggerFor]=\"exportMenu\" class=\"noc-edit-button noc-rounded-button noc-sm\"\r\n        color=\"primary\">\r\n        EXPORT AS\r\n      </button>\r\n      <mat-menu #exportMenu=\"matMenu\">\r\n        <a [href]='cam?.model?.modelInfo?.gpadUrl' target=\"_blank\" mat-menu-item>\r\n          GPAD\r\n        </a>\r\n        <a [href]='cam?.model?.modelInfo?.owlUrl' target=\"_blank\" mat-menu-item>\r\n          OWL\r\n        </a>\r\n      </mat-menu>\r\n    </div>\r\n  </div>\r\n  <mat-drawer-container class=\"noc-drawer-container w-100-p h-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start start\"\r\n    autosize>\r\n    <mat-drawer #leftDrawer class=\"noc-left-drawer\" mode=\"side\" position=\"start\">\r\n    </mat-drawer>\r\n    <mat-drawer-content class=\"w-100-p h-100-p\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div *ngIf=\"modelId\" class=\"noc-gocam-viz-container w-100-p h-100-p\" fxLayout=\"row\" fxLayoutAlign=\"center start\">\r\n        <wc-gocam-viz [attr.gocam-id]=\"modelId\" repository=\"dev\" show-go-cam-selector=false show-has-input=false\r\n          show-has-output=false show-gene-product=true show-activity=false show-isolated-activity=true>\r\n        </wc-gocam-viz>\r\n      </div>\r\n    </mat-drawer-content>\r\n  </mat-drawer-container>\r\n</div>","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NoctuaPathwayComponent } from './noctua-pathway.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { NoctuaSharedModule } from '@noctua/shared.module';\r\n\r\n\r\nconst routes = [\r\n  {\r\n    path: 'p',\r\n    component: NoctuaPathwayComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    NoctuaSharedModule,\r\n    RouterModule.forChild(routes),\r\n\r\n    //Material\r\n    MatAutocompleteModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatChipsModule,\r\n    MatDatepickerModule,\r\n    MatDialogModule,\r\n    MatFormFieldModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatMenuModule,\r\n    MatPaginatorModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatRippleModule,\r\n    MatSidenavModule,\r\n    MatSnackBarModule,\r\n    MatTableModule,\r\n    MatTooltipModule,\r\n  ],\r\n  schemas: [\r\n    CUSTOM_ELEMENTS_SCHEMA\r\n  ],\r\n  declarations: [NoctuaPathwayComponent],\r\n})\r\nexport class NoctuaPathwayModule { }\r\n\r\n\r\n\r\n","\r\n\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport {\r\n  NoctuaUserService,\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  CamStats,\r\n  CamService\r\n} from '@geneontology/noctua-form-base';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { noctuaAnimations } from '@noctua/animations';\r\nimport { NoctuaReviewSearchService } from '@noctua.search/services/noctua-review-search.service';\r\nimport { ReviewMode } from '@noctua.search/models/review-mode';\r\nimport { NoctuaSearchMenuService } from '@noctua.search/services/search-menu.service';\r\nimport { MiddlePanel, LeftPanel, RightPanel } from '@noctua.search/models/menu-panels';\r\nimport { ArtBasket } from '@noctua.search/models/art-basket';\r\n\r\n@Component({\r\n  selector: 'noc-cams-review-changes',\r\n  templateUrl: './cams-review-changes.component.html',\r\n  styleUrls: ['./cams-review-changes.component.scss'],\r\n  animations: noctuaAnimations,\r\n})\r\nexport class CamsReviewChangesComponent implements OnInit, OnDestroy {\r\n\r\n  ReviewMode = ReviewMode;\r\n  LeftPanel = LeftPanel;\r\n  MiddlePanel = MiddlePanel;\r\n  RightPanel = RightPanel;\r\n  stats: any[] = [];\r\n  artBasket: ArtBasket;\r\n  summary;\r\n\r\n  displayedColumns = [\r\n    'category',\r\n    'count'\r\n  ];\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private camService: CamService,\r\n    public noctuaReviewSearchService: NoctuaReviewSearchService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService) {\r\n\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.camService.onCamsCheckoutChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(summary => {\r\n        if (!summary) {\r\n          return;\r\n        }\r\n\r\n        this.summary = summary;\r\n\r\n        this.stats = this.generateStats(summary.stats);\r\n\r\n      });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.noctuaReviewSearchService.onArtBasketChanged.pipe(\r\n      takeUntil(this._unsubscribeAll))\r\n      .subscribe((artBasket: ArtBasket) => {\r\n        if (artBasket) {\r\n          this.artBasket = artBasket;\r\n        }\r\n      });\r\n  }\r\n\r\n  generateStats(stats: CamStats): any[] {\r\n    stats.updateTotal();\r\n    const result = [{\r\n      category: 'Genes',\r\n      count: stats.gpsCount\r\n    }, {\r\n      category: 'Terms',\r\n      count: stats.termsCount\r\n    }, {\r\n      category: 'Evidence',\r\n      count: stats.evidenceCount\r\n    }, {\r\n      category: 'Reference',\r\n      count: stats.referencesCount\r\n    }, {\r\n      category: 'With',\r\n      count: stats.withsCount\r\n    }, {\r\n      category: 'Relations',\r\n      count: stats.relationsCount\r\n    }];\r\n\r\n    return result;\r\n  }\r\n\r\n  selectMiddlePanel(panel) {\r\n    this.noctuaSearchMenuService.selectMiddlePanel(panel);\r\n\r\n    switch (panel) {\r\n      case MiddlePanel.cams:\r\n        this.noctuaSearchMenuService.selectLeftPanel(LeftPanel.filter);\r\n        break;\r\n      case MiddlePanel.camsReview:\r\n        this.noctuaSearchMenuService.selectLeftPanel(LeftPanel.artBasket);\r\n        break;\r\n      case MiddlePanel.reviewChanges:\r\n        this.noctuaSearchMenuService.selectLeftPanel(LeftPanel.artBasket);\r\n        break;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n}\r\n","<div class=\"noc-drawer-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div *ngIf=\"!noctuaUserService.user\" class=\"noc-draw-body-disabled\" fxLayoutAlign=\"center center\">\r\n    Log in to Continue\r\n  </div>\r\n\r\n  <div class=\"noc-summary-bar\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-header-title\">\r\n      Review and submit changes</span>\r\n  </div>\r\n  <div class=\"noc-stats-results\" fxLayout=\"column\" fxLayoutAlign=\"start center\">\r\n    <div class=\"noc-stat-summary\">\r\n      <span class=\"noc-number\">\r\n        {{summary?.stats.totalChanges }}\r\n      </span>\r\n      changes across\r\n      <span class=\"noc-number\">\r\n        {{summary?.stats.camsCount }} models\r\n      </span>\r\n    </div>\r\n    <table fxFlex=\"1 1 auto\" mat-table class=\"noc-summary-table\" [dataSource]=\"stats\" [@animateStagger]=\"{value:'50'}\">\r\n      <ng-container matColumnDef=\"category\">\r\n        <th mat-header-cell *matHeaderCellDef fxFlex=\"250px\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          Category\r\n        </th>\r\n        <td mat-cell *matCellDef=\"let stat\" fxFlex=\"250px\" class=\"noc-title\" fxLayout=\"row\"\r\n          fxLayoutAlign=\"start center\">\r\n          {{stat.category }}\r\n        </td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"count\">\r\n        <th mat-header-cell *matHeaderCellDef fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\">Changes</th>\r\n        <td mat-cell *matCellDef=\"let stat\" fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          {{stat.count}}\r\n        </td>\r\n      </ng-container>\r\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n      <tr mat-row (click)=\"$event.stopPropagation()\" *matRowDef=\"let stat; columns: displayedColumns;\">\r\n      </tr>\r\n    </table>\r\n    <!--   <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div fxFlex=\"200px\">\r\n        Summary\r\n      </div>\r\n      <div fxFlex>\r\n        Details\r\n      </div>\r\n    </div>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <div fxFlex=\"200px\">\r\n        Terms\r\n      </div>\r\n      <div fxFlex>\r\n        <div *ngFor=\"let modelSummary of summary\">\r\n          <div *ngFor=\"let term of modelSummary.changes?.terms\">\r\n            <div *ngFor=\"let termHistory of term.termHistory\">\r\n              {{term.label}} -> {{termHistory.label}}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div> -->\r\n  </div>\r\n  <div *ngIf=\"artBasket?.cams.length===0\" class=\"noc-no-info\">\r\n    No models to review\r\n    <a (click)=\"selectMiddlePanel(MiddlePanel.camsReview)\">\r\n      Add Models\r\n    </a>\r\n  </div>\r\n</div>\r\n","\r\n\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport {\r\n  Cam,\r\n  NoctuaUserService,\r\n  NoctuaFormConfigService,\r\n  noctuaFormConfig,\r\n  CamService,\r\n  ActivityDisplayType\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { noctuaAnimations } from '@noctua/animations';\r\nimport { NoctuaReviewSearchService } from '@noctua.search/services/noctua-review-search.service';\r\nimport { ArtBasket } from '@noctua.search/models/art-basket';\r\nimport { LeftPanel, MiddlePanel, RightPanel } from '@noctua.search/models/menu-panels';\r\nimport { NoctuaSearchMenuService } from '@noctua.search/services/search-menu.service';\r\nimport { ReviewMode } from '@noctua.search/models/review-mode';\r\nimport { TableOptions } from '@noctua.common/models/table-options';\r\nimport { SearchFilterType } from '@noctua.search/models/search-criteria';\r\n\r\n@Component({\r\n  selector: 'noc-cams-review',\r\n  templateUrl: './cams-review.component.html',\r\n  styleUrls: ['./cams-review.component.scss'],\r\n  animations: noctuaAnimations,\r\n})\r\nexport class CamsReviewComponent implements OnInit, OnDestroy {\r\n  SearchFilterType = SearchFilterType\r\n  ReviewMode = ReviewMode;\r\n  LeftPanel = LeftPanel;\r\n  MiddlePanel = MiddlePanel;\r\n  RightPanel = RightPanel;\r\n\r\n  cams: Cam[] = [];\r\n  searchResults = [];\r\n\r\n  displayReplaceForm = {\r\n    replaceSection: false,\r\n    replaceActions: false\r\n  };\r\n  artBasket: ArtBasket;\r\n\r\n  tableOptions: TableOptions = {\r\n    displayType: ActivityDisplayType.TREE_TABLE,\r\n    slimViewer: false,\r\n    editableTerms: true,\r\n    editableEvidence: true,\r\n    editableReference: true,\r\n    editableWith: true,\r\n  };\r\n\r\n  loadingSpinner: any = {\r\n    color: 'primary',\r\n    mode: 'indeterminate'\r\n  };\r\n\r\n  noctuaFormConfig = noctuaFormConfig;\r\n\r\n  searchCriteria: any = {};\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    public camService: CamService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    public noctuaReviewSearchService: NoctuaReviewSearchService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService) {\r\n\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.camService.onCamsChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(cams => {\r\n        if (!cams) {\r\n          return;\r\n        }\r\n        this.cams = cams;\r\n      });\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.noctuaReviewSearchService.onArtBasketChanged.pipe(\r\n      takeUntil(this._unsubscribeAll))\r\n      .subscribe((artBasket: ArtBasket) => {\r\n        if (artBasket) {\r\n          this.artBasket = artBasket;\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n\r\n  selectMiddlePanel(panel) {\r\n    this.noctuaSearchMenuService.selectMiddlePanel(panel);\r\n\r\n    switch (panel) {\r\n      case MiddlePanel.cams:\r\n        this.noctuaSearchMenuService.selectLeftPanel(LeftPanel.filter);\r\n        break;\r\n      case MiddlePanel.camsReview:\r\n        this.noctuaSearchMenuService.selectLeftPanel(LeftPanel.artBasket);\r\n        break;\r\n      case MiddlePanel.reviewChanges:\r\n        this.noctuaSearchMenuService.selectLeftPanel(LeftPanel.artBasket);\r\n        break;\r\n    }\r\n\r\n  }\r\n\r\n  compareCategory(a: any, b: any) {\r\n    if (a && b) {\r\n      return (a.name === b.name);\r\n    }\r\n    return false;\r\n  }\r\n\r\n}\r\n","<div class=\"noc-drawer-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div *ngIf=\"!noctuaUserService.user\" class=\"noc-draw-body-disabled\" fxLayoutAlign=\"center center\">\r\n    Log in to Continue\r\n  </div>\r\n  <div class=\"noc-summary-bar\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <span class=\"noc-header-title mr-8\">\r\n      Review Models</span>\r\n    (<span class=\"noc-review-number\">{{artBasket?.cams.length}} models </span>)\r\n  </div>\r\n  <div class=\"noc-cams-results\">\r\n    <div class=\"noc-cam-container\" *ngFor=\"let cam of cams\" id=\"{{'noc-review-cams-'+cam.displayId}}\"\r\n      [ngClass]=\" {'noc-selected': cam.id===camService.currentMatch?.modelId}\" fxLayout=\"column\"\r\n      fxLayoutAlign=\"start stretch\">\r\n      <div class=\"noc-cam-heading\" fxFlex=\"1 1 auto\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n        [@animateStagger]=\"{value:'50'}\">\r\n        <mat-progress-bar *ngIf=\"cam.loading.status\" class=\"noc-cam-progress\" [color]=\"loadingSpinner.color\"\r\n          [mode]=\"loadingSpinner.mode\">\r\n        </mat-progress-bar>\r\n        <button mat-icon-button (click)=\"cam.toggleExpand()\" class=\"noc-toggle-expand-button\">\r\n          <fa-icon *ngIf=\"!cam.expanded\" [icon]=\"['fas', 'caret-right']\"></fa-icon>\r\n          <fa-icon *ngIf=\"cam.expanded\" [icon]=\"['fas', 'caret-down']\"></fa-icon>\r\n        </button>\r\n        <div class=\"noc-display-number mr-8\">\r\n          {{cam.displayNumber}}\r\n        </div>\r\n        <div *ngIf=\"cam?.title\" class=\"noc-title\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <div class=\"text-truncate pr-8\">\r\n            <strong>Title: </strong>{{cam?.title }}\r\n          </div>\r\n        </div>\r\n        <div fxFlex></div>\r\n        <!--  <button mat-button class=\"\" fxFlex=\"100px\" color=\"primary\" (click)=\"resetCam(cam)\">\r\n          Reset\r\n        </button> -->\r\n        <button mat-stroked-button class=\"noc-rounded-button noc-sm\" color=\"primary\"\r\n          [matMenuTriggerFor]=\"activityOptionMenu\">\r\n          Options\r\n        </button>\r\n        <mat-menu #activityOptionMenu=\"matMenu\" class=\"noc-dropdown-menu\">\r\n          <button mat-menu-item class=\"\" (click)=\"cam.expandAllActivities(true)\">\r\n            Expand All\r\n          </button>\r\n          <button mat-menu-item class=\"\" (click)=\"cam.expandAllActivities(false)\">\r\n            Collapse All\r\n          </button>\r\n        </mat-menu>\r\n      </div>\r\n      <div *ngIf=\"false\" class=\"noc-cam-heading\">\r\n        <div fxFlex=\"110px\" class=\"noc-model-state pr-12\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <mat-chip *ngIf=\"cam.state\" class=\"noc-table-chip noc-state-chip\" [ngClass]=\"{'noc-development': cam.state.name === 'development',\r\n            'noc-production': cam.state.name === 'production',\r\n            'noc-review': cam.state.name === 'review'}\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n            (click)=\"noctuaSearchService.filter(SearchFilterType.states, cam.state)\" matTooltip=\"Add state to Filters\"\r\n            [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n            <div class=\"noc-icon\">\r\n              <fa-icon [icon]=\"['fas', 'tasks']\"></fa-icon>\r\n            </div>\r\n            <div fxFlex=\"\" class=\"noc-chip-label\">\r\n              {{cam.state.label}}\r\n            </div>\r\n          </mat-chip>\r\n        </div>\r\n        <div class=\"noc-date\" fxFlex=\"100px\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <mat-chip class=\"noc-table-chip noc-date-chip\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n            (click)=\"noctuaSearchService.filter(SearchFilterType.exactdates, cam.date)\"\r\n            matTooltip=\"Add date to exact date filter\" [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n            <div class=\"noc-icon\">\r\n              <fa-icon [icon]=\"['fas', 'calendar-day']\"></fa-icon>\r\n            </div>\r\n            <div fxFlex=\"\" class=\"noc-chip-label\">\r\n              {{cam.date}}\r\n            </div>\r\n          </mat-chip>\r\n        </div>\r\n        <div fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <mat-chip-list>\r\n            <mat-chip class=\"noc-table-chip noc-user-chip\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n              *ngFor=\"let contributor of cam.contributors\"\r\n              (click)=\"noctuaSearchService.filter(SearchFilterType.contributors, contributor)\"\r\n              matTooltip=\"Add {{contributor.name}} to Filters\" [matTooltipPosition]=\"'below'\"\r\n              [matTooltipShowDelay]=\"1000\" [style.borderColor]=\"contributor.color\">\r\n              <div class=\"noc-icon noc-icon-initials\" [style.backgroundColor]=\"contributor.color\">\r\n                {{contributor.initials}}\r\n              </div>\r\n              <div fxFlex=\"\" class=\"noc-chip-label\">\r\n                {{contributor.name ? contributor.name :contributor.orcid}}\r\n              </div>\r\n            </mat-chip>\r\n          </mat-chip-list>\r\n        </div>\r\n        <div fxFlex=\"100px\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <a mat-icon-button [href]='cam?.model?.modelInfo?.noctuaFormUrl' target=\"_blank\"\r\n            class=\"noc-edit-button noc-rounded-button noc-sm  mr-4 noc-half-button noc-r\" matTooltip=\"Form Editor\"\r\n            [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1000\">\r\n            <fa-icon [icon]=\"['fas', 'list-alt']\"></fa-icon>\r\n          </a>\r\n          <a mat-icon-button [href]='cam?.model?.modelInfo?.graphEditorUrl' target=\"_blank\"\r\n            class=\"noc-edit-button noc-rounded-button noc-sm noc-half-button noc-l\" matTooltip=\"Graph Editor\"\r\n            [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1000\">\r\n            <fa-icon [icon]=\"['fas', 'sitemap']\"></fa-icon>\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <noc-cam-table class=\"noc-cam-table\" [cam]=\"cam\" *ngIf=\"cam.expanded\" [options]=\"tableOptions\"></noc-cam-table>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"artBasket?.cams.length===0\" class=\"noc-no-info\">\r\n    No models to review\r\n    <a (click)=\"selectMiddlePanel(MiddlePanel.cams)\">\r\n      Add Models\r\n    </a>\r\n  </div>\r\n</div>","import { Component, OnDestroy, OnInit, ViewChild, ChangeDetectorRef, Input } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { Subject, takeUntil } from 'rxjs';\r\nimport { noctuaAnimations } from '@noctua/animations';\r\nimport { NoctuaSearchService } from '@noctua.search/services/noctua-search.service';\r\n\r\nimport {\r\n  NoctuaFormConfigService,\r\n  NoctuaUserService,\r\n  CamService,\r\n  Cam,\r\n  ActivityDisplayType,\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { MatPaginatorIntl } from '@angular/material/paginator';\r\nimport { CamPage } from '@noctua.search/models/cam-page';\r\nimport { NoctuaSearchMenuService } from '@noctua.search/services/search-menu.service';\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\nimport { trigger, state, style, transition, animate } from '@angular/animations';\r\nimport { ReviewMode } from '@noctua.search/models/review-mode';\r\nimport { NoctuaReviewSearchService } from '@noctua.search/services/noctua-review-search.service';\r\nimport { NoctuaUtils } from '@noctua/utils/noctua-utils';\r\nimport { LeftPanel, MiddlePanel, RightPanel } from '@noctua.search/models/menu-panels';\r\nimport { each, find } from 'lodash';\r\nimport { TableOptions } from '@noctua.common/models/table-options';\r\nimport { SearchFilterType } from '@noctua.search/models/search-criteria';\r\n\r\n\r\nexport function CustomPaginator() {\r\n  const customPaginatorIntl = new MatPaginatorIntl();\r\n\r\n  customPaginatorIntl.itemsPerPageLabel = 'GO CAMs per page:';\r\n\r\n  return customPaginatorIntl;\r\n}\r\n\r\n@Component({\r\n  selector: 'noc-cams-table',\r\n  templateUrl: './cams-table.component.html',\r\n  styleUrls: ['./cams-table.component.scss'],\r\n  animations: [\r\n    noctuaAnimations,\r\n    trigger('detailExpand', [\r\n      state('collapsed', style({ height: '0px', minHeight: '0', visibility: 'hidden' })),\r\n      state('expanded', style({ height: '*', visibility: 'visible' })),\r\n      transition('expanded <=> collapsed', animate('225ms cubic-bezier(0.4, 0.0, 0.2, 1)')),\r\n    ]),\r\n  ],\r\n  providers: [\r\n    { provide: MatPaginatorIntl, useValue: CustomPaginator() }\r\n  ]\r\n})\r\nexport class CamsTableComponent implements OnInit, OnDestroy {\r\n  SearchFilterType = SearchFilterType\r\n  ReviewMode = ReviewMode;\r\n  LeftPanel = LeftPanel;\r\n  MiddlePanel = MiddlePanel;\r\n  RightPanel = RightPanel;\r\n\r\n  loadingSpinner: any = {\r\n    color: 'primary',\r\n    mode: 'indeterminate'\r\n  };\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n  private _isReviewMode: string;\r\n\r\n  @Input() set isReviewMode(value: any) {\r\n    this._isReviewMode = value;\r\n    this.initTable(this._isReviewMode);\r\n  }\r\n\r\n  get isReviewMode(): any {\r\n    return this._isReviewMode;\r\n  }\r\n\r\n  displayedColumns = [];\r\n\r\n  searchCriteria: any = {};\r\n  searchFormData: any = [];\r\n  searchForm: FormGroup;\r\n\r\n  cams: any[] = [];\r\n  camPage: CamPage;\r\n\r\n  tableOptions: TableOptions = {\r\n    displayType: ActivityDisplayType.TREE,\r\n    slimViewer: false,\r\n  }\r\n\r\n  selection = new SelectionModel<Cam>(true, []);\r\n\r\n  constructor(\r\n    private camService: CamService,\r\n\r\n    public noctuaReviewSearchService: NoctuaReviewSearchService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaCommonMenuService: NoctuaCommonMenuService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaSearchService: NoctuaSearchService) {\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.selection.sort();\r\n  }\r\n\r\n  initTable(isReviewMode) {\r\n    this.displayedColumns = [\r\n      'expand',\r\n      'title',\r\n      'saved',\r\n      'state',\r\n      'date',\r\n      'contributor',\r\n      'edit',\r\n    ];\r\n\r\n    if (isReviewMode) {\r\n      this.displayedColumns.unshift('select');\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.noctuaSearchService.onCamsChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(cams => {\r\n        if (!cams) {\r\n          return;\r\n        }\r\n        this.cams = cams;\r\n        this.preCheck();\r\n      });\r\n\r\n    this.camService.onCamsChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(cams => {\r\n        if (!cams) {\r\n          return;\r\n        }\r\n        this.preCheck();\r\n      });\r\n\r\n    this.noctuaSearchService.onCamsPageChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((camPage: CamPage) => {\r\n        if (!camPage) {\r\n          return;\r\n        }\r\n        this.camPage = camPage;\r\n      });\r\n\r\n    this.noctuaReviewSearchService.onResetReview\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((remove: boolean) => {\r\n        if (remove) {\r\n          this.camService.clearCams();\r\n          this.selection.clear();\r\n        }\r\n      });\r\n\r\n    this.noctuaReviewSearchService.onReplaceChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((refresh: boolean) => {\r\n        if (refresh) {\r\n          this.refresh();\r\n        }\r\n      });\r\n  }\r\n\r\n  isAllSelected() {\r\n    const numSelected = this.selection.selected.length;\r\n    const numRows = this.cams.length;\r\n\r\n    return numSelected === numRows;\r\n  }\r\n\r\n  /** Selects all rows if they are not all selected; otherwise clear selection. */\r\n  masterToggle() {\r\n    this.isAllSelected() ?\r\n      this.selection.clear() :\r\n      this.cams.forEach(row => this.selection.select(row));\r\n  }\r\n\r\n  toggleSelection(cam: Cam) {\r\n    this.selection.toggle(cam);\r\n    if (this.selection.isSelected(cam)) {\r\n      this.addToReview(cam);\r\n    } else {\r\n      this.noctuaReviewSearchService.removeCamFromReview(cam);\r\n    }\r\n  }\r\n\r\n  preCheck() {\r\n    const self = this;\r\n    this.selection.clear();\r\n\r\n    each(self.cams, (cam) => {\r\n      const found = find(self.camService.cams, { id: cam.id });\r\n\r\n      if (found) {\r\n        self.selection.select(cam);\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n\r\n  /** The label for the checkbox on the passed row */\r\n  checkboxLabel(row?: any): string {\r\n    if (!row) {\r\n      return `${this.isAllSelected() ? 'select' : 'deselect'} all`;\r\n    }\r\n    return `${this.selection.isSelected(row) ? 'deselect' : 'select'} row ${row.position + 1}`;\r\n  }\r\n\r\n  toggleLeftDrawer(panel) {\r\n    this.noctuaSearchMenuService.toggleLeftDrawer(panel);\r\n  }\r\n\r\n  search() {\r\n    const searchCriteria = this.searchForm.value;\r\n    this.noctuaSearchService.search(searchCriteria);\r\n  }\r\n\r\n  getStateClass(stateLabel) {\r\n    return {\r\n      'noc-development': stateLabel === 'development',\r\n      'noc-production': stateLabel === 'production',\r\n      'noc-review': stateLabel === 'review'\r\n    };\r\n  }\r\n\r\n  setPage($event) {\r\n    if (this.camPage) {\r\n      let pageIndex = $event.pageIndex;\r\n      if (this.noctuaSearchService.searchCriteria.camPage.size > $event.pageSize) {\r\n        pageIndex = 0;\r\n      }\r\n      this.noctuaSearchService.getPage(pageIndex, $event.pageSize);\r\n    }\r\n  }\r\n\r\n  isExpansionDetailRow(i: number, cam: Cam) {\r\n    return cam.expanded;\r\n  }\r\n\r\n  toggleCamExpand(cam: Cam) {\r\n    if (!cam.expanded) {\r\n      this.openCam(cam);\r\n    } else {\r\n      cam.expanded = false;\r\n    }\r\n    //  this._changeDetectorRef.markForCheck();\r\n\r\n  }\r\n\r\n  addToReview(cam: Cam) {\r\n    this.noctuaReviewSearchService.addCamsToReview([cam], this.camService.cams);\r\n    this.noctuaReviewSearchService.addToArtBasket(cam.id, cam.title);\r\n  }\r\n\r\n  openCam(cam: Cam) {\r\n    //cam.rebuildRule.autoMerge = true;\r\n    //cam.rebuildRule.autoRebuild = true;\r\n    this.camService.loadCam(cam);\r\n    cam.expanded = true;\r\n    this.camService.cam = cam;\r\n    this.camService.onCamChanged.next(cam);\r\n  }\r\n\r\n  openCamForm(cam: Cam) {\r\n    this.camService.cam = cam;\r\n    this.camService.initializeForm(cam);\r\n    this.camService.onCamChanged.next(cam);\r\n\r\n    this.openRightDrawer(RightPanel.camForm)\r\n  }\r\n\r\n  openCopyModel(cam: Cam) {\r\n    this.camService.loadCamMeta(cam)\r\n    this.camService.cam = cam;\r\n\r\n    this.camService.onCamChanged.next(cam);\r\n\r\n    this.openRightDrawer(RightPanel.copyModel)\r\n  }\r\n\r\n  openLeftDrawer(panel: LeftPanel) {\r\n    this.noctuaSearchMenuService.selectLeftPanel(panel);\r\n    this.noctuaSearchMenuService.openLeftDrawer();\r\n  }\r\n\r\n  openRightDrawer(panel: RightPanel) {\r\n    this.noctuaSearchMenuService.selectRightPanel(panel);\r\n    this.noctuaSearchMenuService.openRightDrawer();\r\n  }\r\n\r\n  refresh() {\r\n    this.noctuaSearchService.updateSearch();\r\n  }\r\n\r\n  reset() {\r\n    this.noctuaSearchService.clearSearchCriteria();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  cleanId(dirtyId: string) {\r\n    return NoctuaUtils.cleanID(dirtyId);\r\n  }\r\n\r\n}\r\n\r\n","<div class=\"noc-cams-result noc-drawer-body\" [ngClass]=\"{'noc-review-mode': isReviewMode}\" fxLayout=\"column\"\r\n  fxLayoutAlign=\"start stretch\">\r\n  <div class=\"noc-summary-filter-bar\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <small class=\"mr-12\">Filtered By: </small>\r\n    <mat-chip *ngIf=\"noctuaSearchService?.searchCriteria?.filtersCount>0\" (click)=\"reset()\" class=\"noc-clearall-chip\">\r\n      Clear All\r\n    </mat-chip>\r\n    <mat-chip *ngIf=\"noctuaSearchService.searchCriteria.ids.length>0\" class=\"noc-filter-chip\"\r\n      (click)=\"openLeftDrawer(LeftPanel.filter)\" [removable]=\"true\"\r\n      (removed)=\"noctuaSearchService.removeFilterType(SearchFilterType.ids)\">\r\n      Model IDs: <span> ({{ noctuaSearchService.searchCriteria.ids.length}})</span>\r\n      <mat-icon matChipRemove>cancel</mat-icon>\r\n    </mat-chip>\r\n    <mat-chip *ngIf=\"noctuaSearchService.searchCriteria.gps.length>0\" class=\"noc-filter-chip\"\r\n      (click)=\"openLeftDrawer(LeftPanel.filter)\" [removable]=\"true\"\r\n      (removed)=\"noctuaSearchService.removeFilterType(SearchFilterType.gps)\">\r\n      GPs: <span> ({{ noctuaSearchService.searchCriteria.gps.length}})</span>\r\n      <mat-icon matChipRemove>cancel</mat-icon>\r\n    </mat-chip>\r\n    <mat-chip *ngIf=\"noctuaSearchService.searchCriteria.terms.length>0\" class=\"noc-filter-chip\"\r\n      (click)=\"openLeftDrawer(LeftPanel.filter)\" [removable]=\"true\"\r\n      (removed)=\"noctuaSearchService.removeFilterType(SearchFilterType.terms)\">\r\n      GO Terms: <span class=\"noc-filter-number\"> ({{ noctuaSearchService.searchCriteria.terms.length}})</span>\r\n      <mat-icon matChipRemove>cancel</mat-icon>\r\n    </mat-chip>\r\n    <mat-chip *ngIf=\"noctuaSearchService.searchCriteria.contributors.length>0\" class=\"noc-filter-chip\"\r\n      (click)=\"openLeftDrawer(LeftPanel.filter)\" [removable]=\"true\"\r\n      (removed)=\"noctuaSearchService.removeFilterType(SearchFilterType.contributors)\">\r\n      Contributors: <span class=\"noc-filter-number\">\r\n        ({{ noctuaSearchService.searchCriteria.contributors.length}})</span>\r\n      <mat-icon matChipRemove>cancel</mat-icon>\r\n    </mat-chip>\r\n    <mat-chip *ngIf=\"noctuaSearchService.searchCriteria.groups.length>0\" class=\"noc-filter-chip\"\r\n      (click)=\"openLeftDrawer(LeftPanel.filter)\" [removable]=\"true\"\r\n      (removed)=\"noctuaSearchService.removeFilterType(SearchFilterType.groups)\">\r\n      Groups: <span class=\"noc-filter-number\"> ({{ noctuaSearchService.searchCriteria.groups.length}})</span>\r\n      <mat-icon matChipRemove>cancel</mat-icon>\r\n    </mat-chip>\r\n    <mat-chip *ngIf=\"noctuaSearchService.searchCriteria.organisms.length>0\" class=\"noc-filter-chip\"\r\n      (click)=\"openLeftDrawer(LeftPanel.filter)\" [removable]=\"true\"\r\n      (removed)=\"noctuaSearchService.removeFilterType(SearchFilterType.organisms)\">\r\n      Species: <span class=\"noc-filter-number\"> ({{ noctuaSearchService.searchCriteria.organisms.length}})</span>\r\n      <mat-icon matChipRemove>cancel</mat-icon>\r\n    </mat-chip>\r\n    <mat-chip *ngIf=\"noctuaSearchService.searchCriteria.pmids.length>0\" class=\"noc-filter-chip\"\r\n      (click)=\"openLeftDrawer(LeftPanel.filter)\" [removable]=\"true\"\r\n      (removed)=\"noctuaSearchService.removeFilterType(SearchFilterType.pmids)\">\r\n      References: <span class=\"noc-filter-number\"> ({{ noctuaSearchService.searchCriteria.pmids.length}})</span>\r\n      <mat-icon matChipRemove>cancel</mat-icon>\r\n    </mat-chip>\r\n    <mat-chip *ngIf=\"noctuaSearchService.searchCriteria.states.length>0\" class=\"noc-filter-chip\"\r\n      (click)=\"openLeftDrawer(LeftPanel.filter)\" [removable]=\"true\"\r\n      (removed)=\"noctuaSearchService.removeFilterType(SearchFilterType.states)\">\r\n      Model States: <span class=\"noc-filter-number\">\r\n        ({{ noctuaSearchService.searchCriteria.states.length}})</span>\r\n      <mat-icon matChipRemove>cancel</mat-icon>\r\n    </mat-chip>\r\n    <mat-chip *ngIf=\"noctuaSearchService.searchCriteria.exactdates.length>0\" class=\"noc-filter-chip\"\r\n      (click)=\"openLeftDrawer(LeftPanel.filter)\" [removable]=\"true\"\r\n      (removed)=\"noctuaSearchService.removeFilterType(SearchFilterType.exactdates)\">\r\n      Date Modified: <span class=\"noc-filter-number\">\r\n        ({{ noctuaSearchService.searchCriteria.exactdates.length}})</span>\r\n      <mat-icon matChipRemove>cancel</mat-icon>\r\n    </mat-chip>\r\n  </div>\r\n  <div class=\"noc-summary-results-bar\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <mat-progress-bar *ngIf=\"noctuaSearchService.loading\" class=\"noc-cam-progress\" [color]=\"loadingSpinner.color\"\r\n      [mode]=\"loadingSpinner.mode\">\r\n    </mat-progress-bar>\r\n    <small>Results:</small>\r\n    <div class=\"ml-8 mr-16\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n      <button mat-stroked-button color=\"\" class=\"noc-rounded-button mr-4 noc-half-button noc-sm noc-r\">\r\n        {{camPage?.total}}\r\n      </button>\r\n      <button mat-stroked-button (click)=\"refresh()\" class=\"noc-rounded-button noc-half-button noc-sm noc-l\"\r\n        color=\"primary\" matTooltip=\"Refresh Search\" [matTooltipPosition]=\"'above'\" [matTooltipShowDelay]=\"1000\">\r\n        <mat-icon class=\"\">\r\n          youtube_searched_for\r\n        </mat-icon>\r\n      </button>\r\n    </div>\r\n    <span fxFlex></span>\r\n    <mat-paginator *ngIf=\"camPage\" class=\"noc-paginator\" #paginatorBottom [length]=\"camPage.total\"\r\n      [pageIndex]=\"camPage.pageNumber\" [pageSize]=\"camPage.size\" [pageSizeOptions]=\"camPage.pageSizeOptions\"\r\n      (page)=\"pageEvent = $event; setPage($event)\" [showFirstLastButtons]=\"true\">\r\n    </mat-paginator>\r\n  </div>\r\n  <table mat-table multiTemplateDataRows class=\"noc-cams-table\" [dataSource]=\"cams\" [@animateStagger]=\"{value:'50'}\">\r\n    <ng-container matColumnDef=\"select\">\r\n      <th mat-header-cell *matHeaderCellDef fxFlex=\"30px\">\r\n      </th>\r\n      <td class=\"noc-checkbox-cell\" mat-cell *matCellDef=\"let cam\" fxFlex=\"30px\">\r\n        <mat-checkbox (click)=\"$event.stopPropagation()\" (change)=\"$event ? toggleSelection(cam) : null\"\r\n          [checked]=\"selection.isSelected(cam)\" [aria-label]=\"checkboxLabel(cam)\">\r\n        </mat-checkbox>\r\n      </td>\r\n    </ng-container>\r\n    <ng-container matColumnDef=\"expand\">\r\n      <th mat-header-cell *matHeaderCellDef fxFlex=\"80px\" fxLayout=\"row\" fxLayoutAlign=\"start center\"></th>\r\n      <td mat-cell *matCellDef=\"let cam\" class=\"noc-expand-cell\" fxFlex=\"80px\" fxLayout=\"row\"\r\n        fxLayoutAlign=\"start center\">\r\n        <button mat-icon-button (click)=\"toggleCamExpand(cam)\" color=\"primary\" class=\"noc-toggle-expand-button\">\r\n          <fa-icon *ngIf=\"!cam.expanded\" [icon]=\"['fas', 'caret-right']\"></fa-icon>\r\n          <fa-icon *ngIf=\"cam.expanded\" [icon]=\"['fas', 'caret-down']\"></fa-icon>\r\n        </button>\r\n        <div class=\"noc-display-number mr-8\">\r\n          {{cam.displayNumber}}\r\n        </div>\r\n      </td>\r\n    </ng-container>\r\n    <ng-container matColumnDef=\"title\">\r\n      <th mat-header-cell *matHeaderCellDef fxFlex=\"200px\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        Title\r\n      </th>\r\n      <td mat-cell *matCellDef=\"let cam\" fxFlex=\"200px\" class=\"noc-title\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        {{cam.title }}\r\n      </td>\r\n    </ng-container>\r\n    <ng-container matColumnDef=\"saved\">\r\n      <th mat-header-cell *matHeaderCellDef fxFlex=\"50px\" fxLayout=\"row\" fxLayoutAlign=\"start center\">Saved</th>\r\n      <td mat-cell *matCellDef=\"let cam\" fxFlex=\"50px\" class=\"noc-model-saved pr-12\" fxLayout=\"row\"\r\n        fxLayoutAlign=\"center center\">\r\n        <fa-icon *ngIf=\"cam.modified\" class=\"red-500-fg\" [icon]=\"['far', 'times-circle']\"></fa-icon>\r\n        <fa-icon *ngIf=\"!cam.modified\" class=\"green-500-fg\" [icon]=\"['far', 'check-circle']\"></fa-icon>\r\n      </td>\r\n    </ng-container>\r\n    <ng-container matColumnDef=\"state\">\r\n      <th mat-header-cell *matHeaderCellDef fxFlex=\"110px\" fxLayout=\"row\" fxLayoutAlign=\"start center\">State</th>\r\n      <td mat-cell *matCellDef=\"let cam\" fxFlex=\"110px\" class=\"noc-model-state pr-12\" fxLayout=\"row\"\r\n        fxLayoutAlign=\"start center\">\r\n        <mat-chip *ngIf=\"cam.state\" class=\"noc-table-chip noc-state-chip\" [ngClass]=\"{'noc-development': cam.state.name === 'development',\r\n        'noc-production': cam.state.name === 'production',\r\n        'noc-review': cam.state.name === 'review'}\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n          (click)=\"noctuaSearchService.filter(SearchFilterType.states, cam.state)\" matTooltip=\"Add state to Filters\"\r\n          [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n          <div class=\"noc-icon\">\r\n            <fa-icon [icon]=\"['fas', 'tasks']\"></fa-icon>\r\n          </div>\r\n          <div fxFlex=\"\" class=\"noc-chip-label\">\r\n            {{cam.state.label}}\r\n          </div>\r\n        </mat-chip>\r\n      </td>\r\n    </ng-container>\r\n    <ng-container matColumnDef=\"date\">\r\n      <th mat-header-cell *matHeaderCellDef fxFlex=\"100px\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        Date Modified\r\n      </th>\r\n      <td mat-cell *matCellDef=\"let cam\" class=\"noc-date\" fxFlex=\"100px\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <mat-chip class=\"noc-table-chip noc-date-chip\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n          (click)=\"noctuaSearchService.filter(SearchFilterType.exactdates, cam.date)\"\r\n          matTooltip=\"Add date to exact date filter\" [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\">\r\n          <div class=\"noc-icon\">\r\n            <fa-icon [icon]=\"['fas', 'calendar-day']\"></fa-icon>\r\n          </div>\r\n          <div fxFlex=\"\" class=\"noc-chip-label\">\r\n            {{cam.date}}\r\n          </div>\r\n        </mat-chip>\r\n      </td>\r\n    </ng-container>\r\n    <ng-container matColumnDef=\"contributor\">\r\n      <th mat-header-cell *matHeaderCellDef fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\">Contributors</th>\r\n      <td mat-cell *matCellDef=\"let cam\" fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <mat-chip-list>\r\n          <mat-chip class=\"noc-table-chip noc-user-chip\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n            *ngFor=\"let contributor of cam.contributors\"\r\n            (click)=\"noctuaSearchService.filter(SearchFilterType.contributors, contributor)\"\r\n            matTooltip=\"Add {{contributor.name}} to Filters\" [matTooltipPosition]=\"'below'\" [matTooltipShowDelay]=\"1000\"\r\n            [style.borderColor]=\"contributor.color\">\r\n            <div class=\"noc-icon noc-icon-initials\" [style.backgroundColor]=\"contributor.color\">\r\n              {{contributor.initials}}\r\n            </div>\r\n            <div fxFlex=\"\" class=\"noc-chip-label\">\r\n              {{contributor.name ? contributor.name :contributor.orcid}}\r\n            </div>\r\n          </mat-chip>\r\n        </mat-chip-list>\r\n      </td>\r\n    </ng-container>\r\n    <ng-container matColumnDef=\"edit\">\r\n      <th mat-header-cell *matHeaderCellDef fxFlex=\"180px\" fxLayout=\"row\" fxLayoutAlign=\"start center\">Open In</th>\r\n      <td mat-cell *matCellDef=\"let cam\" fxFlex=\"180px\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <a mat-icon-button [href]=\"cam?.model?.modelInfo?.workbenches['noctua-visual-pathway-editor']?.url\"\r\n          target=\"_blank\" class=\"noc-edit-button noc-rounded-button noc-sm noc-half-button noc-r\"\r\n          matTooltip=\"Pathway Editor\" [matTooltipPosition]=\"'above'\" [matTooltipShowDelay]=\"1500\">\r\n          <img width=\"15\" src=\"assets/icons/pathway.png\">\r\n        </a>\r\n        <a mat-icon-button [href]='cam?.model?.modelInfo?.noctuaFormUrl' target=\"_blank\"\r\n          class=\"noc-edit-button noc-rounded-button noc-sm  mr-4 noc-half-button noc-m\" matTooltip=\"Form Editor\"\r\n          [matTooltipPosition]=\"'above'\" [matTooltipShowDelay]=\"1500\">\r\n          <fa-icon [icon]=\"['fas', 'list-alt']\"></fa-icon>\r\n        </a>\r\n        <a mat-icon-button [href]='cam?.model?.modelInfo?.graphEditorUrl' target=\"_blank\"\r\n          class=\"noc-edit-button noc-rounded-button noc-sm noc-half-button noc-m\" matTooltip=\"Graph Editor\"\r\n          [matTooltipPosition]=\"'above'\" [matTooltipShowDelay]=\"1500\">\r\n          <fa-icon [icon]=\"['fas', 'sitemap']\"></fa-icon>\r\n        </a>\r\n        <a mat-icon-button [matMenuTriggerFor]=\"optionsMenu\"\r\n          class=\"noc-edit-button noc-rounded-button noc-sm noc-half-button noc-l\" color=\"primary\">\r\n          <mat-icon>more_horiz</mat-icon>\r\n        </a>\r\n        <mat-menu #optionsMenu=\"matMenu\">\r\n          <a mat-menu-item [href]=\"cam?.model?.modelInfo?.workbenches['noctua-alliance-pathway-preview']?.url\"\r\n            target=\"_blank\" class=\"\">\r\n            Alliance Pathway Preview\r\n          </a>\r\n          <button mat-menu-item (click)=\"openCamForm(cam)\" class=\"\">\r\n            Model Info\r\n          </button>\r\n          <button mat-menu-item (click)=\"openCopyModel(cam)\" class=\"\">\r\n            Copy Model\r\n          </button>\r\n          <button mat-menu-item [matMenuTriggerFor]=\"exportMenu\" class=\"\">\r\n            Export As\r\n          </button>\r\n        </mat-menu>\r\n        <mat-menu #exportMenu=\"matMenu\">\r\n          <a [href]='cam?.model?.modelInfo?.gpadUrl' target=\"_blank\" mat-menu-item>\r\n            GPAD\r\n          </a>\r\n          <a [href]='cam?.model?.modelInfo?.owlUrl' target=\"_blank\" mat-menu-item>\r\n            OWL\r\n          </a>\r\n        </mat-menu>\r\n      </td>\r\n    </ng-container>\r\n    <ng-container matColumnDef=\"expandedDetail\">\r\n      <td class=\"p-0\" mat-cell *matCellDef=\"let cam\" [attr.colspan]=\"displayedColumns.length\">\r\n        <div class=\"noc-cam-table-container\">\r\n          <mat-progress-bar *ngIf=\"cam.loading.status\" class=\"noc-cam-progress\" [color]=\"loadingSpinner.color\"\r\n            [mode]=\"loadingSpinner.mode\">\r\n          </mat-progress-bar>\r\n          <noc-cam-table *ngIf=\"cam.expanded\" [cam]=\"cam\" [options]=\"tableOptions\"></noc-cam-table>\r\n        </div>\r\n      </td>\r\n    </ng-container>\r\n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n    <tr mat-row (click)=\"$event.stopPropagation()\" *matRowDef=\"let cam; columns: displayedColumns;\"\r\n      id=\"{{cleanId(cam.id)}}\">\r\n    </tr>\r\n    <tr mat-row *matRowDef=\"let cam; columns: ['expandedDetail']\"\r\n      [@detailExpand]=\"cam.expanded ? 'expanded' : 'collapsed'\" style=\"overflow: hidden\">\r\n    </tr>\r\n\r\n  </table>\r\n  <div *ngIf=\"cams?.length===0\" class=\"noc-no-info\">\r\n    no results yet.\r\n  </div>\r\n</div>","import { AfterViewInit, Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { Subject } from 'rxjs';\r\nimport { noctuaAnimations } from './../../../../@noctua/animations';\r\nimport {\r\n  Cam,\r\n  Contributor,\r\n  NoctuaUserService,\r\n  NoctuaFormConfigService,\r\n  CamService,\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { NoctuaSearchService } from '@noctua.search/services/noctua-search.service';\r\nimport { distinctUntilChanged, takeUntil } from 'rxjs/operators';\r\nimport { CamPage } from '@noctua.search/models/cam-page';\r\nimport { NoctuaSearchMenuService } from '@noctua.search/services/search-menu.service';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\nimport { ReviewMode } from '@noctua.search/models/review-mode';\r\nimport { LeftPanel, MiddlePanel, RightPanel } from '@noctua.search/models/menu-panels';\r\nimport { ArtBasket } from '@noctua.search/models/art-basket';\r\nimport { NoctuaReviewSearchService } from '@noctua.search/services/noctua-review-search.service';\r\nimport { PerfectScrollbarDirective } from 'ngx-perfect-scrollbar';\r\nimport { WorkbenchId } from '@noctua.common/models/workench-id';\r\n\r\n@Component({\r\n  selector: 'noc-noctua-search',\r\n  templateUrl: './noctua-search.component.html',\r\n  styleUrls: ['./noctua-search.component.scss'],\r\n  // encapsulation: ViewEncapsulation.None,\r\n  animations: noctuaAnimations,\r\n})\r\nexport class NoctuaSearchComponent implements OnInit, AfterViewInit, OnDestroy {\r\n\r\n  @ViewChild('leftDrawer', { static: true })\r\n  leftDrawer: MatDrawer;\r\n\r\n  @ViewChild('rightDrawer', { static: true })\r\n  rightDrawer: MatDrawer;\r\n\r\n  @ViewChild(PerfectScrollbarDirective)\r\n  scrollbarRef?: PerfectScrollbarDirective;\r\n\r\n  // @ViewChild(NgScrollbar) scrollbarRef: NgScrollbar;\r\n\r\n  loadingSpinner: any = {\r\n    color: 'primary',\r\n    mode: 'indeterminate'\r\n  };\r\n\r\n  scrollbarConfig = {\r\n    suppressScrollX: true\r\n  }\r\n  WorkbenchId = WorkbenchId;\r\n  ReviewMode = ReviewMode;\r\n  LeftPanel = LeftPanel;\r\n  MiddlePanel = MiddlePanel;\r\n  RightPanel = RightPanel;\r\n  artBasket: ArtBasket = new ArtBasket();\r\n\r\n  camPage: CamPage | undefined;\r\n  cam: Cam | undefined;\r\n  user: Contributor | undefined;\r\n\r\n  cams: any[] = [];\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private camService: CamService,\r\n\r\n    public noctuaReviewSearchService: NoctuaReviewSearchService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaCommonMenuService: NoctuaCommonMenuService,\r\n    public noctuaSearchMenuService: NoctuaSearchMenuService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaSearchService: NoctuaSearchService,\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.route\r\n      .queryParams\r\n      .subscribe(params => {\r\n        const baristaToken = params['barista_token'] || null;\r\n\r\n        this.noctuaSearchService.paramsToSearch(params)\r\n        this.noctuaUserService.getUser(baristaToken);\r\n      });\r\n\r\n    this.noctuaSearchService.onCamsPageChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((camPage: CamPage) => {\r\n        if (!camPage) {\r\n          return;\r\n        }\r\n        this.camPage = camPage;\r\n      });\r\n\r\n    this.noctuaUserService.onUserChanged.pipe(\r\n      distinctUntilChanged(this.noctuaUserService.distinctUser),\r\n      takeUntil(this._unsubscribeAll))\r\n      .subscribe((user: Contributor) => {\r\n        if (user === undefined) {\r\n          return;\r\n        }\r\n        this.noctuaFormConfigService.setupUrls();\r\n        this.noctuaFormConfigService.setUniversalUrls();\r\n        this.noctuaSearchService.setup();\r\n        this.noctuaReviewSearchService.setup();\r\n      });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.noctuaSearchMenuService.setLeftDrawer(this.leftDrawer);\r\n    this.noctuaSearchMenuService.setRightDrawer(this.rightDrawer);\r\n\r\n    this.rightDrawer.open();\r\n\r\n    this.noctuaSearchService.onCamsChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(cams => {\r\n        this.cams = cams;\r\n      });\r\n\r\n    this.noctuaReviewSearchService.onArtBasketChanged.pipe(\r\n      takeUntil(this._unsubscribeAll))\r\n      .subscribe((artBasket: ArtBasket) => {\r\n        if (artBasket) {\r\n          this.artBasket = artBasket;\r\n        }\r\n      });\r\n  }\r\n\r\n\r\n  ngAfterViewInit(): void {\r\n    this.noctuaSearchMenuService.resultsViewScrollbar = this.scrollbarRef;\r\n  }\r\n\r\n  openLeftDrawer(panel: LeftPanel) {\r\n    this.noctuaSearchMenuService.selectLeftPanel(panel);\r\n    this.noctuaSearchMenuService.openLeftDrawer();\r\n  }\r\n\r\n  selectMiddlePanel(panel: MiddlePanel) {\r\n    const self = this;\r\n    this.noctuaSearchMenuService.selectMiddlePanel(panel);\r\n\r\n    switch (panel) {\r\n      case MiddlePanel.cams:\r\n        this.noctuaSearchMenuService.selectLeftPanel(LeftPanel.filter);\r\n        break;\r\n      case MiddlePanel.camsReview:\r\n        self.camService.reviewChangesCams();\r\n        this.noctuaSearchMenuService.selectLeftPanel(LeftPanel.artBasket);\r\n        break;\r\n      case MiddlePanel.reviewChanges:\r\n        self.camService.reviewChangesCams();\r\n        this.noctuaSearchMenuService.selectLeftPanel(LeftPanel.artBasket);\r\n        break;\r\n    }\r\n  }\r\n\r\n  openRightDrawer(panel: RightPanel) {\r\n    this.noctuaSearchMenuService.selectRightPanel(panel);\r\n    this.noctuaSearchMenuService.openRightDrawer();\r\n  }\r\n\r\n  toggleLeftDrawer(panel: LeftPanel) {\r\n    this.noctuaSearchMenuService.toggleLeftDrawer(panel);\r\n    this.noctuaSearchMenuService.selectMiddlePanel(MiddlePanel.cams);\r\n  }\r\n\r\n  createModel(type: WorkbenchId) {\r\n    this.noctuaCommonMenuService.createModel(type);\r\n  }\r\n\r\n  openBasketPanel() {\r\n    this.openLeftDrawer(LeftPanel.artBasket);\r\n    this.camService.reviewChangesCams();\r\n    this.noctuaSearchMenuService.selectMiddlePanel(MiddlePanel.camsReview);\r\n    this.noctuaSearchMenuService.reviewMode = ReviewMode.on;\r\n    this.noctuaSearchMenuService.isReviewMode = true;\r\n  }\r\n\r\n  toggleReviewMode() {\r\n    if (this.noctuaSearchMenuService.reviewMode === ReviewMode.off) {\r\n      this.noctuaSearchMenuService.reviewMode = ReviewMode.on;\r\n      this.noctuaSearchMenuService.isReviewMode = true;\r\n      // this.noctuaSearchMenuService.closeLeftDrawer();\r\n    } else if (this.noctuaSearchMenuService.reviewMode === ReviewMode.on) {\r\n      this.noctuaReviewSearchService.onClearForm.next(true);\r\n      this.noctuaSearchMenuService.reviewMode = ReviewMode.off;\r\n      this.noctuaSearchMenuService.selectMiddlePanel(MiddlePanel.cams);\r\n      this.noctuaSearchMenuService.selectLeftPanel(LeftPanel.filter);\r\n      this.noctuaSearchMenuService.isReviewMode = false;\r\n    }\r\n  }\r\n\r\n\r\n  refresh() {\r\n    this.noctuaSearchService.updateSearch();\r\n  }\r\n\r\n  reset() {\r\n    this.noctuaSearchService.clearSearchCriteria();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<div class=\"w-100-p h-100-p\" fxLayout=\"row\" fxLayoutAlign=\"start start\">\r\n\r\n  <div class=\"noc-sidemenu\" fxLayout=\"column\" fxLayoutAlign=\"start center\">\r\n    <button mat-icon-button color=\"\" class=\"noc-rounded-button\"\r\n      [ngClass]=\"{'noc-active': noctuaSearchMenuService.selectedLeftPanel === LeftPanel.filter}\"\r\n      (click)=\"toggleLeftDrawer(LeftPanel.filter)\" matTooltip=\"Filter\" [matTooltipPosition]=\"'after'\"\r\n      [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'search']\"></fa-icon>\r\n    </button>\r\n    <!--    <button mat-icon-button color=\"\" class=\"noc-rounded-button\" (click)=\"toggleLeftDrawer(LeftPanel.relation)\"\r\n      matTooltip=\"Relation Search\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      <mat-icon class=\"icon-rotate-relation\"> linear_scale </mat-icon>\r\n    </button> -->\r\n    <button mat-icon-button color=\"\" class=\"noc-rounded-button\" (click)=\"\r\n      toggleLeftDrawer(LeftPanel.contributor)\" matTooltip=\"Browse by contributor\"\r\n      [ngClass]=\"{'noc-active': noctuaSearchMenuService.selectedLeftPanel === LeftPanel.contributor}\"\r\n      [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1000\">\r\n      <fa-icon [icon]=\"['fas', 'user']\"></fa-icon>\r\n    </button>\r\n    <button mat-icon-button color=\"\" class=\"noc-rounded-button\" (click)=\"\r\n      toggleLeftDrawer(LeftPanel.group)\"\r\n      [ngClass]=\"{'noc-active': noctuaSearchMenuService.selectedLeftPanel === LeftPanel.group}\"\r\n      matTooltip=\"Browse by group\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1000\">\r\n      <fa-icon [icon]=\"['fas', 'users']\"></fa-icon>\r\n    </button>\r\n    <button mat-icon-button color=\"\" class=\"noc-rounded-button\" (click)=\"\r\n      toggleLeftDrawer(LeftPanel.organism)\"\r\n      [ngClass]=\"{'noc-active': noctuaSearchMenuService.selectedLeftPanel === LeftPanel.organism}\"\r\n      matTooltip=\"Search by organism\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1000\">\r\n      <fa-icon [icon]=\"['fas', 'paw']\"></fa-icon>\r\n    </button>\r\n    <button mat-icon-button color=\"\" class=\"noc-rounded-button\" (click)=\"toggleLeftDrawer(LeftPanel.history)\"\r\n      [ngClass]=\"{'noc-active': noctuaSearchMenuService.selectedLeftPanel === LeftPanel.history}\" matTooltip=\"History\"\r\n      [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      <fa-icon [icon]=\"['fas', 'history']\"></fa-icon>\r\n    </button>\r\n    <button mat-icon-button color=\"\" class=\"noc-rounded-button\" (click)=\"openBasketPanel()\"\r\n      [ngClass]=\"{'noc-active': noctuaSearchMenuService.selectedLeftPanel === LeftPanel.artBasket}\"\r\n      matTooltip=\"Art Basket\" [matTooltipPosition]=\"'after'\" [matTooltipShowDelay]=\"1500\">\r\n      <div *ngIf=\"artBasket?.cams.length > 0\" class=\"noc-badge\">\r\n        {{artBasket?.cams.length}}\r\n      </div>\r\n      <fa-icon [icon]=\"['fas', 'shopping-basket']\"></fa-icon>\r\n    </button>\r\n  </div>\r\n  <mat-drawer-container class=\"h-100-p\" fxFlex=\"\" fxLayout=\"row\" fxLayoutAlign=\"start start\" [hasBackdrop]=\"false\"\r\n    autosize>\r\n    <mat-drawer #leftDrawer class=\"noc-left-drawer\" mode=\"side\" position=\"start\" opened>\r\n      <div [ngSwitch]=\"noctuaSearchMenuService.selectedLeftPanel\" class=\"h-100-p\">\r\n        <noc-search-filter *ngSwitchCase=\"LeftPanel.filter\"></noc-search-filter>\r\n        <noc-search-relation *ngSwitchCase=\"LeftPanel.relation\"></noc-search-relation>\r\n        <noc-search-groups *ngSwitchCase=\"LeftPanel.group\"></noc-search-groups>\r\n        <noc-search-contributors *ngSwitchCase=\"LeftPanel.contributor\">\r\n        </noc-search-contributors>\r\n        <noc-search-organisms *ngSwitchCase=\"LeftPanel.organism\"></noc-search-organisms>\r\n        <noc-search-history *ngSwitchCase=\"LeftPanel.history\"></noc-search-history>\r\n        <noc-art-basket [hidden]=\"noctuaSearchMenuService.selectedLeftPanel !== LeftPanel.artBasket\"></noc-art-basket>\r\n      </div>\r\n    </mat-drawer>\r\n    <mat-drawer-content #scrollbarRef class=\"noc-section-body w-100-p\" [perfectScrollbar]=\"scrollbarConfig\">\r\n\r\n      <div class=\"header accent p-8 w-100-p\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n        <h1 [@animate]=\"{value:'*',params:{delay:'100ms', y:'25px'}}\">\r\n          WELCOME TO NOCTUA\r\n        </h1>\r\n        <h3 [@animate]=\"{value:'*',params:{delay:'100ms', y:'25px'}}\">\r\n          Noctua is a web-based, collaborative Gene Ontology (GO) annotation tool developed by the GO Consortium.\r\n          It can be used to create standard GO annotations as well as more expressive models of biological processes,\r\n          known as GO-CAMs (Gene Ontology Causal Activity Models)\r\n        </h3>\r\n\r\n        <h4 *ngIf=\"!noctuaUserService.user\" class=\"\">\r\n          You must\r\n          <a mat-button href=\"{{noctuaFormConfigService.loginUrl}}\" class=\"noc-login-button\">\r\n            Login\r\n          </a>\r\n          to create or edit models. Models may be viewed without login.\r\n        </h4>\r\n        <div *ngIf=\"noctuaUserService.user\" class=\"noc-create\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <div fxLayout=\"column\" fxLayoutAlign=\"start center\" fxFlex=\"75\" class=\"noc-create-section\">\r\n            <div class=\"noc-heading\">\r\n              Create\r\n            </div>\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <button mat-raised-button (click)=\"createModel(WorkbenchId.VISUAL_PATHWAY_EDITOR)\" color=\"\"\r\n                class=\"noc-rounded-button mr-4 noc-half-button noc-r\">\r\n                PATHWAY <br> EDITOR\r\n                <div class=\"noc-badge\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n                  new\r\n                </div>\r\n              </button>\r\n              <button mat-raised-button (click)=\"createModel(WorkbenchId.FORM)\" color=\"\"\r\n                class=\"noc-rounded-button mr-4 noc-half-button noc-m\">\r\n                FORM <br>EDITOR\r\n              </button>\r\n              <button mat-raised-button (click)=\"createModel(WorkbenchId.GRAPH_EDITOR)\" color=\"\"\r\n                class=\"noc-rounded-button mr-4 noc-half-button noc-l\">\r\n                GRAPH <br> EDITOR\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div fxLayout=\"column\" fxLayoutAlign=\"start center\" fxFlex=\"25\" class=\"noc-create-section\">\r\n            <div class=\"noc-heading\">\r\n              <span>Review</span>\r\n            </div>\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n              <button mat-raised-button (click)=\"toggleReviewMode()\" color=\"\"\r\n                class=\"noc-rounded-button noc-half-button noc-review-mode-button\"\r\n                [ngClass]=\"{'noc-selected': noctuaSearchMenuService.reviewMode !== ReviewMode.off}\">\r\n                ANNOTATION REVIEW <br> TOOL\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"noctuaSearchMenuService.reviewMode !== ReviewMode.off\" class=\"noc-art-info\" fxLayout=\"row\"\r\n        fxLayoutAlign=\"center center\">\r\n        <div class=\"noc-art-tabs\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n          <div class=\"noc-line noc-visited\" fxFlex>\r\n          </div>\r\n          <button mat-stroked-button (click)=\"selectMiddlePanel(MiddlePanel.cams)\" class=\"\" color=\"\" [ngClass]=\"{'noc-active': noctuaSearchMenuService.selectedMiddlePanel === MiddlePanel.cams,\r\n            'noc-visited': noctuaSearchMenuService.reviewLevel>0}\">\r\n            <div class=\"noc-title\">Search</div><br>\r\n            <div class=\"noc-description\">Add/remove to review</div>\r\n            <div class=\"noc-badge\">\r\n              {{artBasket?.cams.length}} selected\r\n            </div>\r\n          </button>\r\n          <div class=\"noc-line\" fxFlex=\"80px\" [ngClass]=\"{'noc-visited': noctuaSearchMenuService.reviewLevel>0}\">\r\n          </div>\r\n          <button mat-stroked-button (click)=\"selectMiddlePanel(MiddlePanel.camsReview)\" [ngClass]=\"{'noc-active': noctuaSearchMenuService.selectedMiddlePanel === MiddlePanel.camsReview,\r\n            'noc-visited': noctuaSearchMenuService.reviewLevel>1}\" class=\"\" color=\"\">\r\n            <div class=\"noc-title\">Review</div> <br>\r\n            <div class=\"noc-description\">Edit models</div>\r\n          </button>\r\n          <div class=\"noc-line\" fxFlex=\"80px\" [ngClass]=\"{'noc-visited': noctuaSearchMenuService.reviewLevel>1}\">\r\n          </div>\r\n          <button mat-stroked-button (click)=\"selectMiddlePanel(MiddlePanel.reviewChanges)\" class=\"\" color=\"\" [ngClass]=\"{'noc-active': noctuaSearchMenuService.selectedMiddlePanel === MiddlePanel.reviewChanges,\r\n            'noc-visited': noctuaSearchMenuService.reviewLevel>2}\">\r\n            <div class=\"noc-title\">Checkout</div> <br>\r\n            <div class=\"noc-description\">Review and submit changes</div>\r\n          </button>\r\n          <div class=\"noc-line\" fxFlex [ngClass]=\"{'noc-visited': noctuaSearchMenuService.reviewLevel>2}\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"noc-middle-panel w-100-p\">\r\n        <noc-cams-table class=\"w-100-p\" [hidden]=\"noctuaSearchMenuService.selectedMiddlePanel !== MiddlePanel.cams\"\r\n          [isReviewMode]=\"noctuaSearchMenuService.isReviewMode\">\r\n        </noc-cams-table>\r\n        <noc-cams-review [hidden]=\"noctuaSearchMenuService.selectedMiddlePanel !== MiddlePanel.camsReview\">\r\n        </noc-cams-review>\r\n        <noc-cams-review-changes [hidden]=\"noctuaSearchMenuService.selectedMiddlePanel !== MiddlePanel.reviewChanges\">\r\n        </noc-cams-review-changes>\r\n      </div>\r\n      <div class=\"w-100-p\">\r\n        <app-footer></app-footer>\r\n      </div>\r\n    </mat-drawer-content>\r\n    <mat-drawer #rightDrawer class=\"noc-right-drawer\" mode=\"over\" position=\"end\">\r\n      <div [ngSwitch]=\"noctuaSearchMenuService.selectedRightPanel\" class=\"h-100-p\">\r\n        <noc-cam-form [panelDrawer]=\"rightDrawer\" *ngSwitchCase=\"RightPanel.camForm\">\r\n        </noc-cam-form>\r\n        <noc-copy-model [panelDrawer]=\"rightDrawer\" [panelSide]=\"'right'\" *ngSwitchCase=\"RightPanel.copyModel\">\r\n        </noc-copy-model>\r\n      </div>\r\n    </mat-drawer>\r\n  </mat-drawer-container>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NoctuaSharedModule } from '@noctua/shared.module';\r\nimport { CamsTableComponent } from './cams/cams-table/cams-table.component';\r\nimport { NoctuaSearchComponent } from './noctua-search.component';\r\nimport { NoctuaSearchBaseModule } from '@noctua.search';\r\nimport { NoctuaFooterModule } from 'app/layout/components/footer/footer.module';\r\nimport { NoctuaFormModule } from '../noctua-form';\r\nimport { CamsReviewComponent } from './cams/cams-review/cams-review.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CamsReviewChangesComponent } from './cams/cams-review-changes/cams-review-changes.component';\r\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar';\r\nconst routes = [\r\n  {\r\n    path: '',\r\n    component: NoctuaSearchComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    NoctuaSharedModule,\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NoctuaSearchBaseModule,\r\n    NoctuaFooterModule,\r\n    NoctuaFormModule,\r\n    PerfectScrollbarModule\r\n  ],\r\n  declarations: [\r\n    NoctuaSearchComponent,\r\n    CamsTableComponent,\r\n    CamsReviewComponent,\r\n    CamsReviewChangesComponent\r\n  ]\r\n})\r\n\r\nexport class NoctuaSearchModule { }\r\n","import { AfterViewInit, Component, Input, NgZone, OnInit } from '@angular/core';\r\nimport Reveal from 'reveal.js';\r\nimport Markdown from 'reveal.js/plugin/markdown/markdown.esm.js';\r\nimport Highlight from 'reveal.js/plugin/highlight/highlight.esm.js';\r\nimport { ActivityDisplayType, Cam } from '@geneontology/noctua-form-base';\r\nimport { TableOptions } from '@noctua.common/models/table-options';\r\n\r\n\r\n@Component({\r\n  selector: 'noctua-basic-tutorial',\r\n  templateUrl: './basic-tutorial.component.html',\r\n  styleUrls: ['./basic-tutorial.component.scss']\r\n})\r\nexport class BasicTutorialComponent implements OnInit, AfterViewInit {\r\n\r\n  @Input('cam')\r\n  cam: Cam\r\n\r\n  tableOptions: TableOptions = {\r\n    displayType: ActivityDisplayType.TREE,\r\n    slimViewer: false,\r\n    editableTerms: true,\r\n    editableEvidence: true,\r\n    editableReference: true,\r\n    editableWith: true,\r\n    editableRelation: true,\r\n    showMenu: true\r\n  };\r\n\r\n  constructor(private zone: NgZone) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    setTimeout(() => {\r\n      Reveal.initialize(\r\n        {\r\n          controls: true,\r\n          progress: true,\r\n          history: true,\r\n          center: true,\r\n          mouseWheel: true,\r\n          transition: 'slide',\r\n          controlsLayout: 'edges',\r\n          controlsBackArrows: 'visible',\r\n          width: '90%',\r\n          height: '100%',\r\n          plugins: [\r\n            Markdown,\r\n            Highlight,\r\n          ]\r\n        }\r\n      );\r\n    }, 2000)\r\n  }\r\n\r\n}\r\n","<div class=\"reveal\">\r\n  <div class=\"slides\">\r\n    <section>\r\n      <h2>Introduction</h2>\r\n      GO-CAM models are based on the semantic annotation and combination of biological facts. Each fact or statement\r\n      corresponds to a standard GO Annotation, that is a Gene associated to a GO-Term. To read more about standard GO\r\n      annotations, click here\r\n\r\n      GO-CAM relies on the Gene Ontology to define a controlled set of vocabulary and enable curators to create\r\n      structured biological facts, also called annotations. GO-CAM combines those single biological facts to describe\r\n      and define larger biological processes. Each biological fact can be written as.a triplet subject - predicate -\r\n      object and a model, as a collection of triplets, can be stored in TTL file.\r\n\r\n      The curators use the platform Noctua to create these GO-CAM models. Noctua is the front-end, currently written\r\n      with that allows for the creation of workbenches (end-user UI to access and manipulate the models in different\r\n      ways)\r\n    </section>\r\n    <section *ngFor=\"let activity of cam.activities\">\r\n      <section>\r\n        <div class=\"noc-card-content\" fxLayout=\"column\" fxLayoutAlign=\"start center\">\r\n          <div class=\"card\">\r\n            <div class=\"noc-card\" nocPerfectScrollbar>\r\n              <div class=\"noc-title\" fxLayout=\"column\" fxLayoutAlign=\"start center\">\r\n                {{activity.title}}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <section *ngFor=\"let node of activity.nodes\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n        {{node.term?.label}}\r\n        <!--   <noc-entity-form [entityFormGroup]=\"entityForm\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n        class=\"w-100-p\">\r\n      </noc-entity-form>      -->\r\n\r\n        <noc-activity-tree-node [options]=\"tableOptions\" [cam]=\"cam\" [activity]=\"activity\" [entity]=\"node\" class=\"\">\r\n        </noc-activity-tree-node>\r\n\r\n        What is the evidence\r\n        <input />\r\n      </section>\r\n    </section>\r\n  </div>\r\n</div>","\r\nimport { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { noctuaAnimations } from './../../../../@noctua/animations';\r\n\r\nimport {\r\n  Cam,\r\n  ActivityType,\r\n  Contributor,\r\n  NoctuaUserService,\r\n  NoctuaFormConfigService,\r\n  NoctuaActivityFormService,\r\n  CamService,\r\n  noctuaFormConfig,\r\n  MiddlePanel,\r\n  LeftPanel,\r\n  NoctuaGraphService,\r\n  ActivityDisplayType\r\n} from '@geneontology/noctua-form-base';\r\n\r\nimport { takeUntil, distinctUntilChanged } from 'rxjs/operators';\r\nimport { TableOptions } from '@noctua.common/models/table-options';\r\nimport { NoctuaSearchDialogService } from '@noctua.search/services/dialog.service';\r\nimport { NoctuaReviewSearchService } from '@noctua.search/services/noctua-review-search.service';\r\nimport { NoctuaCommonMenuService } from '@noctua.common/services/noctua-common-menu.service';\r\n\r\n@Component({\r\n  selector: 'app-noctua-tutorial',\r\n  templateUrl: './noctua-tutorial.component.html',\r\n  styleUrls: ['./noctua-tutorial.component.scss'],\r\n  animations: noctuaAnimations\r\n})\r\nexport class NoctuaTutorialComponent implements OnInit, OnDestroy {\r\n  ActivityType = ActivityType;\r\n  LeftPanel = LeftPanel;\r\n  MiddlePanel = MiddlePanel;\r\n\r\n\r\n  @ViewChild('leftDrawer', { static: true })\r\n  leftDrawer: MatDrawer;\r\n\r\n  @ViewChild('rightDrawer', { static: true })\r\n  rightDrawer: MatDrawer;\r\n\r\n  summary;\r\n  public cam: Cam;\r\n  searchResults = [];\r\n  modelId = '';\r\n\r\n  noctuaFormConfig = noctuaFormConfig;\r\n\r\n  tableOptions: TableOptions = {\r\n    displayType: ActivityDisplayType.TREE,\r\n    slimViewer: false,\r\n    editableTerms: true,\r\n    editableEvidence: true,\r\n    editableReference: true,\r\n    editableWith: true,\r\n    editableRelation: true,\r\n    showMenu: true\r\n  };\r\n\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private camService: CamService,\r\n    private _noctuaGraphService: NoctuaGraphService,\r\n    private noctuaReviewSearchService: NoctuaReviewSearchService,\r\n    public noctuaSearchDialogService: NoctuaSearchDialogService,\r\n    public noctuaUserService: NoctuaUserService,\r\n    public noctuaFormConfigService: NoctuaFormConfigService,\r\n    public noctuaActivityFormService: NoctuaActivityFormService,\r\n    public noctuaCommonMenuService: NoctuaCommonMenuService) {\r\n\r\n    this._unsubscribeAll = new Subject();\r\n\r\n    this.route\r\n      .queryParams\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(params => {\r\n        this.modelId = params['model_id'] || null;\r\n        const baristaToken = params['barista_token'] || null;\r\n        this.noctuaUserService.getUser(baristaToken);\r\n      });\r\n\r\n    this.noctuaUserService.onUserChanged.pipe(\r\n      distinctUntilChanged(this.noctuaUserService.distinctUser),\r\n      takeUntil(this._unsubscribeAll))\r\n      .subscribe((user: Contributor) => {\r\n\r\n        if (user === undefined) return;\r\n\r\n        this.noctuaFormConfigService.setupUrls();\r\n        this.noctuaFormConfigService.setUniversalUrls();\r\n        this.loadCam(this.modelId);\r\n\r\n      });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const self = this;\r\n\r\n    self.noctuaCommonMenuService.setLeftDrawer(self.leftDrawer);\r\n    self.noctuaCommonMenuService.setRightDrawer(self.rightDrawer);\r\n\r\n    this._noctuaGraphService.onCamGraphChanged\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe((cam: Cam) => {\r\n        if (!cam || cam.id !== self.cam.id) {\r\n          return;\r\n        }\r\n        this.cam = cam;\r\n\r\n        if (cam.activities.length > 0) {\r\n          this.camService.addCamEdit(this.cam)\r\n          this.camService.cams = [cam]\r\n        }\r\n        //this.noctuaReviewSearchService.addCamsToReview([this.cam], this.camService.cams);\r\n\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._unsubscribeAll.next(null);\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  loadCam(modelId) {\r\n    this.cam = this.camService.getCam(modelId);\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\n","<noctua-basic-tutorial *ngIf=\"cam\" [cam]=\"cam\"></noctua-basic-tutorial>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NoctuaSharedModule } from '@noctua/shared.module';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\nimport { NoctuaSearchBaseModule } from '@noctua.search';\r\nimport { NoctuaFooterModule } from 'app/layout/components/footer/footer.module';\r\nimport { NoctuaFormModule } from '../noctua-form';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { BasicTutorialComponent } from './basic-tutorial/basic-tutorial.component';\r\nimport { NoctuaTutorialComponent } from './noctua-tutorial.component';\r\n\r\n\r\nconst routes = [\r\n  {\r\n    path: 'tutorial',\r\n    component: NoctuaTutorialComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    NoctuaSharedModule,\r\n    ScrollingModule,\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NoctuaSearchBaseModule,\r\n    NoctuaFooterModule,\r\n    NoctuaFormModule,\r\n  ],\r\n  declarations: [\r\n    NoctuaTutorialComponent,\r\n    BasicTutorialComponent\r\n  ]\r\n})\r\n\r\nexport class NoctuaTutorialModule {\r\n}\r\n","export const noctuaConfig = {\r\n    customScrollbars: true,\r\n    routerAnimation: 'fadeIn' // fadeIn, slideUp, slideDown, slideRight, slideLeft, none\r\n};\r\n","import { Injectable } from '@angular/core';\r\nimport { NoctuaDataService } from '@noctua.common/services/noctua-data.service';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n\r\n@Injectable()\r\nexport class StartupService {\r\n\r\n  constructor(\r\n    private dataService: NoctuaDataService\r\n  ) {\r\n    const self = this;\r\n\r\n  }\r\n\r\n  loadData() {\r\n    return this.dataService.setup();\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","export const globalWorkbenchesModel =\r\n\r\n  [\r\n    {\r\n      \"menu-name\": \"Form Editor 2.0\",\r\n      \"page-name\": \"Form Editor 2.0\",\r\n      \"type\": \"model\",\r\n      \"help-link\": \"https://github.com/geneontology/noctua-form/issues\",\r\n      \"workbench-id\": \"noctua-form\",\r\n      \"template-injectable\": \"../noctua-form/workbenches/noctua-form/public/inject.tmpl\",\r\n      \"public-directory\": \"../noctua-form/workbenches/noctua-form/public\"\r\n    },\r\n    {\r\n      \"menu-name\": \"Alliance Pathway Preview\",\r\n      \"page-name\": \"Alliance Pathway Preview\",\r\n      \"type\": \"model\",\r\n      \"help-link\": \"https://github.com/geneontology/alliance-pathway-preview/issues\",\r\n      \"workbench-id\": \"noctua-alliance-pathway-preview\",\r\n      \"template-injectable\": \"../alliance-pathway-preview/workbenches/noctua-alliance-pathway-preview/public/inject.tmpl\",\r\n      \"public-directory\": \"../alliance-pathway-preview/workbenches/noctua-alliance-pathway-preview/public\"\r\n    },\r\n    {\r\n      \"menu-name\": \"Form Editor Legacy\",\r\n      \"page-name\": \"Form Editor 1.0\",\r\n      \"type\": \"model\",\r\n      \"help-link\": \"http://github.com/geneontology/noctua-form-legacy/issues\",\r\n      \"javascript\": [\r\n        \"bundle.js\"\r\n      ],\r\n      \"css\": [\r\n\r\n      ],\r\n      \"workbench-id\": \"noctua-form-legacy\",\r\n      \"template-injectable\": \"../noctua-form-legacy/workbenches/noctua-form-legacy/public/inject.tmpl\",\r\n      \"public-directory\": \"../noctua-form-legacy/workbenches/noctua-form-legacy/public\"\r\n    },\r\n    {\r\n      \"menu-name\": \"Activity Graph\",\r\n      \"page-name\": \"Activity Graph\",\r\n      \"type\": \"model\",\r\n      \"help-link\": \"https://github.com/geneontology/noctua-form/issues\",\r\n      \"javascript\": [\r\n        \"main.js\"\r\n      ],\r\n      \"css\": [\r\n\r\n      ],\r\n      \"workbench-id\": \"noctua-visual-pathway-editor\",\r\n      \"template-injectable\": \"../noctua-form-base/workbenches/noctua-visual-pathway-editor/public/inject.tmpl\",\r\n      \"public-directory\": \"../noctua-form-base/workbenches/noctua-visual-pathway-editor/public\"\r\n    },\r\n    {\r\n      \"menu-name\": \"Annotation preview\",\r\n      \"page-name\": \"Annotation Preview\",\r\n      \"type\": \"model\",\r\n      \"help-link\": \"http://github.com/geneontology/noctua/issues\",\r\n      \"javascript\": [\r\n        \"AnnPreviewBundle.js\",\r\n        \"jquery.dataTables.min.js\"\r\n      ],\r\n      \"css\": [\r\n        \"https://cdn.datatables.net/1.10.13/css/jquery.dataTables.min.css\"\r\n      ],\r\n      \"workbench-id\": \"annpreview\",\r\n      \"template-injectable\": \"workbenches/annpreview/public/inject.tmpl\",\r\n      \"public-directory\": \"workbenches/annpreview/public\"\r\n    },\r\n    {\r\n      \"menu-name\": \"Function companion\",\r\n      \"page-name\": \"Function Companion\",\r\n      \"type\": \"model\",\r\n      \"help-link\": \"http://github.com/geneontology/noctua/issues\",\r\n      \"javascript\": [\r\n        \"CompanionBundle.js\"\r\n      ],\r\n      \"css\": [\r\n\r\n      ],\r\n      \"workbench-id\": \"companion\",\r\n      \"template-injectable\": \"workbenches/companion/public/inject.tmpl\",\r\n      \"public-directory\": \"workbenches/companion/public\"\r\n    },\r\n    {\r\n      \"menu-name\": \"Cytoscape layout tool\",\r\n      \"page-name\": \"Cytoscape Layout Tool\",\r\n      \"type\": \"model\",\r\n      \"help-link\": \"http://github.com/geneontology/noctua/issues\",\r\n      \"javascript\": [\r\n        \"CytoViewBundle.js\"\r\n      ],\r\n      \"css\": [\r\n\r\n      ],\r\n      \"workbench-id\": \"cytoview\",\r\n      \"template-injectable\": \"workbenches/cytoview/public/inject.tmpl\",\r\n      \"public-directory\": \"workbenches/cytoview/public\"\r\n    },\r\n    {\r\n      \"menu-name\": \"Gosling (Noctua's little GOOSE)\",\r\n      \"page-name\": \"Gosling (Noctua's little GOOSE)\",\r\n      \"type\": \"model\",\r\n      \"help-link\": \"http://github.com/geneontology/noctua/issues\",\r\n      \"javascript\": [\r\n        \"http://cdn.jsdelivr.net/yasqe/2.11.10/yasqe.bundled.min.js\",\r\n        \"http://cdn.jsdelivr.net/yasr/2.10.8/yasr.bundled.min.js\",\r\n        \"GoslingModelBundle.js\"\r\n      ],\r\n      \"css\": [\r\n        \"http://cdn.jsdelivr.net/yasqe/2.11.10/yasqe.min.css\",\r\n        \"http://cdn.jsdelivr.net/yasr/2.10.8/yasr.min.css\"\r\n      ],\r\n      \"workbench-id\": \"gosling-model\",\r\n      \"template-injectable\": \"workbenches/gosling-model/public/inject.tmpl\",\r\n      \"public-directory\": \"workbenches/gosling-model/public\"\r\n    },\r\n    {\r\n      \"menu-name\": \"Inference explanations\",\r\n      \"page-name\": \"Inference explanations\",\r\n      \"type\": \"model\",\r\n      \"help-link\": \"http://github.com/geneontology/noctua/issues\",\r\n      \"javascript\": [\r\n        \"InferredRelationsBundle.js\",\r\n        \"jquery.dataTables.min.js\"\r\n      ],\r\n      \"css\": [\r\n        \"https://cdn.datatables.net/1.10.13/css/jquery.dataTables.min.css\"\r\n      ],\r\n      \"workbench-id\": \"inferredrelations\",\r\n      \"template-injectable\": \"workbenches/inferredrelations/public/inject.tmpl\",\r\n      \"public-directory\": \"workbenches/inferredrelations/public\"\r\n    },\r\n    {\r\n      \"menu-name\": \"Macromolecular complex creator\",\r\n      \"page-name\": \"Macromolecular Complex Creator\",\r\n      \"type\": \"model\",\r\n      \"help-link\": \"http://github.com/geneontology/noctua/issues\",\r\n      \"javascript\": [\r\n        \"MMCCBundle.js\"\r\n      ],\r\n      \"css\": [\r\n        \"selectize.bootstrap3.css\",\r\n        \"override-selectize.css\"\r\n      ],\r\n      \"workbench-id\": \"mmcc\",\r\n      \"template-injectable\": \"workbenches/mmcc/public/inject.tmpl\",\r\n      \"public-directory\": \"workbenches/mmcc/public\"\r\n    },\r\n    {\r\n      \"menu-name\": \"Pathway view\",\r\n      \"page-name\": \"Pathway View\",\r\n      \"type\": \"model\",\r\n      \"help-link\": \"http://github.com/geneontology/noctua/issues\",\r\n      \"javascript\": [\r\n        \"PathwayViewBundle.js\"\r\n      ],\r\n      \"css\": [\r\n\r\n      ],\r\n      \"workbench-id\": \"pathwayview\",\r\n      \"template-injectable\": \"workbenches/pathwayview/public/inject.tmpl\",\r\n      \"public-directory\": \"workbenches/pathwayview/public\"\r\n    }\r\n  ];\r\n\r\nexport const globalWorkbenchesUniversal = [\r\n  {\r\n    'menu-name': 'Noctua Landing Page',\r\n    'page-name': 'Noctua Landing Page',\r\n    'type': 'universal',\r\n    'help-link': 'https://github.com/geneontology/noctua-landing-page/issues',\r\n    'workbench-id': 'noctua-landing-page',\r\n    'template-injectable': '../noctua-landing-page/workbenches/noctua-landing-page/public/inject.tmpl',\r\n    'public-directory': '../noctua-landing-page/workbenches/noctua-landing-page/public'\r\n  },\r\n  {\r\n    'menu-name': 'Noctua Annotation Review',\r\n    'page-name': 'Noctua Annotation Review',\r\n    'type': 'universal',\r\n    'help-link': 'https://github.com/geneontology/noctua-annotation-review/issues',\r\n    'workbench-id': 'noctua-annotation-review',\r\n    'template-injectable': '../noctua-annotation-review/workbenches/noctua-annotation-review/public/inject.tmpl',\r\n    'public-directory': '../noctua-annotation-review/workbenches/noctua-annotation-review/public'\r\n  },\r\n  {\r\n    'menu-name': 'Noctua Search',\r\n    'page-name': 'Noctua Search',\r\n    'type': 'universal',\r\n    'help-link': 'https://github.com/geneontology/noctua-search/issues',\r\n    'workbench-id': 'noctua-search',\r\n    'template-injectable': '../noctua-search/workbenches/noctua-search/public/inject.tmpl',\r\n    'public-directory': '../noctua-search/workbenches/noctua-search/public'\r\n  },\r\n  {\r\n    'menu-name': 'Model count (template)',\r\n    'page-name': 'Model Count',\r\n    'type': 'universal',\r\n    'help-link': 'http://github.com/geneontology/noctua/issues',\r\n    'javascript': [\r\n      'http://vuejs.org/js/vue.min.js',\r\n      'foo.js'\r\n    ],\r\n    'workbench-id': 'count',\r\n    'template-injectable': 'workbenches/count/public/inject.tmpl',\r\n    'public-directory': 'workbenches/count/public'\r\n  },\r\n  {\r\n    'menu-name': 'Gosling (Noctua\\'s little GOOSE)',\r\n    'page-name': 'Gosling (Noctua\\'s little GOOSE)',\r\n    'type': 'universal',\r\n    'help-link': 'http://github.com/geneontology/noctua/issues',\r\n    'javascript': [\r\n      'http://cdn.jsdelivr.net/yasqe/2.11.10/yasqe.bundled.min.js',\r\n      'http://cdn.jsdelivr.net/yasr/2.10.8/yasr.bundled.min.js',\r\n      'GoslingUniversalBundle.js'\r\n    ],\r\n    'css': [\r\n      'http://cdn.jsdelivr.net/yasqe/2.11.10/yasqe.min.css',\r\n      'http://cdn.jsdelivr.net/yasr/2.10.8/yasr.min.css'\r\n    ],\r\n    'workbench-id': 'gosling-universal',\r\n    'template-injectable': 'workbenches/gosling-universal/public/inject.tmpl',\r\n    'public-directory': 'workbenches/gosling-universal/public'\r\n  }\r\n]\r\n\r\n\r\nexport const globalWorkbenchesModelBetaTest =\r\n  [{ \"menu-name\": \"Form Editor (Beta)\", \"page-name\": \"Form Editor (Beta)\", \"type\": \"model\", \"is-beta\": true, \"help-link\": \"https://github.com/geneontology/noctua-form/issues\", \"javascript\": [\"main.js\"], \"css\": [], \"workbench-id\": \"noctua-form-beta\", \"template-injectable\": \"../noctua-form/workbenches/noctua-form-beta/public/inject.tmpl\", \"public-directory\": \"../noctua-form/workbenches/noctua-form-beta/public\" }];\r\nexport const globalWorkbenchesUniversalBetaTest = [\r\n  {\r\n    'menu-name': 'Noctua Landing Page',\r\n    'page-name': 'Noctua Landing Page',\r\n    'type': 'universal',\r\n    \"is-beta\": true,\r\n    'help-link': 'https://github.com/geneontology/noctua-landing-page/issues',\r\n    'workbench-id': 'noctua-landing-page',\r\n    'template-injectable': '../noctua-landing-page/workbenches/noctua-landing-page/public/inject.tmpl',\r\n    'public-directory': '../noctua-landing-page/workbenches/noctua-landing-page/public'\r\n  },\r\n  {\r\n    'menu-name': 'Noctua Annotation Review',\r\n    'page-name': 'Noctua Annotation Review',\r\n    'type': 'universal',\r\n    \"is-beta\": true,\r\n    'help-link': 'https://github.com/geneontology/noctua-annotation-review/issues',\r\n    'workbench-id': 'noctua-annotation-review',\r\n    'template-injectable': '../noctua-annotation-review/workbenches/noctua-annotation-review/public/inject.tmpl',\r\n    'public-directory': '../noctua-annotation-review/workbenches/noctua-annotation-review/public'\r\n  }\r\n]\r\n\r\nexport const globalKnownRelations = [\r\n  {\r\n    \"id\": \"BFO:0000050\",\r\n    \"label\": \"part of\",\r\n    \"relevant\": true\r\n  },\r\n  {\r\n    \"id\": \"BFO:0000051\",\r\n    \"label\": \"has part\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BFO:0000054\",\r\n    \"label\": \"realized in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BFO:0000055\",\r\n    \"label\": \"realizes\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BFO:0000060\",\r\n    \"label\": \"obsolete preceded by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BFO:0000062\",\r\n    \"label\": \"preceded_by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BFO:0000063\",\r\n    \"label\": \"precedes\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BFO:0000066\",\r\n    \"label\": \"occurs in\",\r\n    \"relevant\": true\r\n  },\r\n  {\r\n    \"id\": \"BFO:0000067\",\r\n    \"label\": \"contains process\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BFO:0000070\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0000096\",\r\n    \"label\": \"anterior to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0000097\",\r\n    \"label\": \"distal to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0000098\",\r\n    \"label\": \"dorsal to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0000099\",\r\n    \"label\": \"posterior to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0000100\",\r\n    \"label\": \"proximal to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0000102\",\r\n    \"label\": \"ventral to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0000107\",\r\n    \"label\": \"deep to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0000108\",\r\n    \"label\": \"superficial to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0000120\",\r\n    \"label\": \"in left side of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0000121\",\r\n    \"label\": \"in right side of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0000122\",\r\n    \"label\": \"in posterior side of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0000123\",\r\n    \"label\": \"in anterior side of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0000124\",\r\n    \"label\": \"in proximal side of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0000125\",\r\n    \"label\": \"in distal side of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0000126\",\r\n    \"label\": \"in lateral side of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0001100\",\r\n    \"label\": \"in superficial part of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0001101\",\r\n    \"label\": \"in deep part of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0001106\",\r\n    \"label\": \"proximalmost part of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0001107\",\r\n    \"label\": \"immediately deep to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0001108\",\r\n    \"label\": \"distalmost part of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0001113\",\r\n    \"label\": \"preaxialmost part of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0001115\",\r\n    \"label\": \"postaxialmost part of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0005001\",\r\n    \"label\": \"intersects midsagittal plane of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0015009\",\r\n    \"label\": \"immediately anterior to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0015012\",\r\n    \"label\": \"immediately posterior to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0015014\",\r\n    \"label\": \"immediately superficial to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0015101\",\r\n    \"label\": \"in dorsal side of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0015102\",\r\n    \"label\": \"in ventral side of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0015202\",\r\n    \"label\": \"aboral to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"BSPO:0020001\",\r\n    \"label\": \"in central side of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"ECO:9000000\",\r\n    \"label\": \"used_in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"ECO:9000001\",\r\n    \"label\": \"uses\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:GOREL_0000040\",\r\n    \"label\": \"results_in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:GOREL_0001006\",\r\n    \"label\": \"acts_on_population_of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:GOREL_0001019\",\r\n    \"label\": \"results_in_division_of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:GOREL_0002001\",\r\n    \"label\": \"obsolete results_in_assembly_of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:GOREL_0002002\",\r\n    \"label\": \"obsolete results_in_disassembly_of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:GOREL_0002003\",\r\n    \"label\": \"results in distribution of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:GOREL_0002004\",\r\n    \"label\": \"results_in_fission_of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:GOREL_0002005\",\r\n    \"label\": \"results_in_fusion_of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:GOREL_0002006\",\r\n    \"label\": \"obsolete results_in_organization_of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:GOREL_0002007\",\r\n    \"label\": \"obsolete results_in_remodeling_of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:GOREL_0002008\",\r\n    \"label\": \"obsolete has intermediate\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:GOREL_0012006\",\r\n    \"label\": \"results_in_maintenance_of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"IAO:0000136\",\r\n    \"label\": \"is about\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:LEGOREL_0000000\",\r\n    \"label\": \"lego relation\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"OBI:0000295\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0000052\",\r\n    \"label\": \"inheres in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0000053\",\r\n    \"label\": \"has characteristic\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0000056\",\r\n    \"label\": \"participates in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0000057\",\r\n    \"label\": \"has_participant\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0000058\",\r\n    \"label\": \"is concretized as\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0000059\",\r\n    \"label\": \"concretizes\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0000079\",\r\n    \"label\": \"function of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0000080\",\r\n    \"label\": \"quality of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0000081\",\r\n    \"label\": \"role of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0000085\",\r\n    \"label\": \"has function\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0000086\",\r\n    \"label\": \"has quality\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0000087\",\r\n    \"label\": \"has role\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0000091\",\r\n    \"label\": \"has disposition\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0000092\",\r\n    \"label\": \"disposition of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0000300\",\r\n    \"label\": \"obsolete in neural circuit with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0000301\",\r\n    \"label\": \"obsolete upstream in neural circuit with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0000302\",\r\n    \"label\": \"obsolete downstream in neural circuit with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0001000\",\r\n    \"label\": \"derives from\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0001001\",\r\n    \"label\": \"derives into\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0001015\",\r\n    \"label\": \"location of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0001018\",\r\n    \"label\": \"contained in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0001019\",\r\n    \"label\": \"contains\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0001020\",\r\n    \"label\": \"is allergic trigger for\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0001021\",\r\n    \"label\": \"is autoimmune trigger for\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0001022\",\r\n    \"label\": \"has allergic trigger\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0001023\",\r\n    \"label\": \"has autoimmune trigger\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0001025\",\r\n    \"label\": \"located_in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002000\",\r\n    \"label\": \"2D boundary of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002001\",\r\n    \"label\": \"aligned with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002002\",\r\n    \"label\": \"has 2D boundary\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002003\",\r\n    \"label\": \"electrically_synapsed_to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002004\",\r\n    \"label\": \"tracheates\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002005\",\r\n    \"label\": \"innervated_by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002006\",\r\n    \"label\": \"has synaptic terminal of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002007\",\r\n    \"label\": \"bounding layer of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002008\",\r\n    \"label\": \"coincident with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002009\",\r\n    \"label\": \"cell expresses\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002010\",\r\n    \"label\": \"regulates in other organism\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002011\",\r\n    \"label\": \"regulates transport of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002012\",\r\n    \"label\": \"occurrent part of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002013\",\r\n    \"label\": \"has regulatory component activity\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002014\",\r\n    \"label\": \"has negative regulatory component activity\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002015\",\r\n    \"label\": \"has positive regulatory component activity\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002016\",\r\n    \"label\": \"has necessary component activity\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002017\",\r\n    \"label\": \"has component activity\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002018\",\r\n    \"label\": \"has component process\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002019\",\r\n    \"label\": \"has ligand\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002020\",\r\n    \"label\": \"transports\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002021\",\r\n    \"label\": \"occurs across\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002022\",\r\n    \"label\": \"directly regulated by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002023\",\r\n    \"label\": \"directly negatively regulated by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002024\",\r\n    \"label\": \"directly positively regulated by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002025\",\r\n    \"label\": \"has effector activity\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002026\",\r\n    \"label\": \"in register with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002081\",\r\n    \"label\": \"before or simultaneous with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002082\",\r\n    \"label\": \"simultaneous with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002083\",\r\n    \"label\": \"before\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002084\",\r\n    \"label\": \"during which ends\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002085\",\r\n    \"label\": \"encompasses\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002086\",\r\n    \"label\": \"ends after\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002087\",\r\n    \"label\": \"immediately preceded by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002088\",\r\n    \"label\": \"during which starts\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002089\",\r\n    \"label\": \"starts before\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002090\",\r\n    \"label\": \"immediately precedes\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002091\",\r\n    \"label\": \"starts during\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002092\",\r\n    \"label\": \"happens during\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002093\",\r\n    \"label\": \"ends during\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002100\",\r\n    \"label\": \"has soma location\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002101\",\r\n    \"label\": \"fasciculates with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002102\",\r\n    \"label\": \"axon synapses in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002103\",\r\n    \"label\": \"synapsed by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002104\",\r\n    \"label\": \"has plasma membrane part\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002105\",\r\n    \"label\": \"synapsed_via_type_Ib_bouton_to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002106\",\r\n    \"label\": \"synapsed_via_type_Is_bouton_to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002107\",\r\n    \"label\": \"synapsed_via_type_II_bouton_to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002108\",\r\n    \"label\": \"synapsed_by_via_type_II_bouton\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002109\",\r\n    \"label\": \"synapsed_by_via_type_Ib_bouton\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002110\",\r\n    \"label\": \"has postsynaptic terminal in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002111\",\r\n    \"label\": \"releases neurotransmitter\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002112\",\r\n    \"label\": \"synapsed_by_via_type_Is_bouton\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002113\",\r\n    \"label\": \"has presynaptic terminal in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002114\",\r\n    \"label\": \"synapsed_via_type_III_bouton_to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002115\",\r\n    \"label\": \"synapsed_by_via_type_III_bouton\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002120\",\r\n    \"label\": \"synapsed to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002121\",\r\n    \"label\": \"dendrite synapsed in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002130\",\r\n    \"label\": \"has synaptic terminal in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002131\",\r\n    \"label\": \"overlaps\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002132\",\r\n    \"label\": \"has fasciculating neuron projection\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002134\",\r\n    \"label\": \"innervates\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002150\",\r\n    \"label\": \"continuous with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002151\",\r\n    \"label\": \"partially overlaps\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002156\",\r\n    \"label\": \"derived by descent from\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002157\",\r\n    \"label\": \"has derived by descendant\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002158\",\r\n    \"label\": \"shares ancestor with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002159\",\r\n    \"label\": \"serially homologous to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002160\",\r\n    \"label\": \"only in taxon\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002162\",\r\n    \"label\": \"in taxon\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002163\",\r\n    \"label\": \"spatially disjoint from\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002170\",\r\n    \"label\": \"connected to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002176\",\r\n    \"label\": \"connects\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002177\",\r\n    \"label\": \"attached to part of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002178\",\r\n    \"label\": \"supplies\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002179\",\r\n    \"label\": \"drains\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002180\",\r\n    \"label\": \"has component\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002200\",\r\n    \"label\": \"has phenotype\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002201\",\r\n    \"label\": \"phenotype of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002202\",\r\n    \"label\": \"develops from\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002203\",\r\n    \"label\": \"develops into\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002204\",\r\n    \"label\": \"gene product of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002205\",\r\n    \"label\": \"has gene product\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002206\",\r\n    \"label\": \"expressed in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002207\",\r\n    \"label\": \"directly develops from\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002208\",\r\n    \"label\": \"parasitoid of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002209\",\r\n    \"label\": \"has parasitoid\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002210\",\r\n    \"label\": \"directly develops into\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002211\",\r\n    \"label\": \"regulates\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002212\",\r\n    \"label\": \"negatively regulates\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002213\",\r\n    \"label\": \"positively regulates\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002214\",\r\n    \"label\": \"has prototype\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002215\",\r\n    \"label\": \"capable of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002216\",\r\n    \"label\": \"capable of part of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002217\",\r\n    \"label\": \"obsolete actively participates in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002218\",\r\n    \"label\": \"obsolete has active participant\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002219\",\r\n    \"label\": \"surrounded by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002220\",\r\n    \"label\": \"adjacent_to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002221\",\r\n    \"label\": \"surrounds\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002222\",\r\n    \"label\": \"temporally related to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002223\",\r\n    \"label\": \"starts\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002224\",\r\n    \"label\": \"starts with\",\r\n    \"relevant\": true\r\n  },\r\n  {\r\n    \"id\": \"RO:0002225\",\r\n    \"label\": \"develops from part of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002226\",\r\n    \"label\": \"develops in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002227\",\r\n    \"label\": \"obligate parasite of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002228\",\r\n    \"label\": \"facultative parasite of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002229\",\r\n    \"label\": \"ends\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002230\",\r\n    \"label\": \"ends with\",\r\n    \"relevant\": true\r\n  },\r\n  {\r\n    \"id\": \"RO:0002231\",\r\n    \"label\": \"has start location\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002232\",\r\n    \"label\": \"has end location\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002233\",\r\n    \"label\": \"has input\",\r\n    \"relevant\": true\r\n  },\r\n  {\r\n    \"id\": \"RO:0002234\",\r\n    \"label\": \"has output\",\r\n    \"relevant\": true\r\n  },\r\n  {\r\n    \"id\": \"RO:0002235\",\r\n    \"label\": \"stem parasite of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002236\",\r\n    \"label\": \"root parasite of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002237\",\r\n    \"label\": \"hemiparasite of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002238\",\r\n    \"label\": \"has component participant\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002240\",\r\n    \"label\": \"has exposure receptor\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002241\",\r\n    \"label\": \"has exposure stressor\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002242\",\r\n    \"label\": \"has exposure route\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002243\",\r\n    \"label\": \"has exposure transport path\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002244\",\r\n    \"label\": \"related via exposure to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002245\",\r\n    \"label\": \"over-expressed in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002246\",\r\n    \"label\": \"under-expressed in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002248\",\r\n    \"label\": \"has active ingredient\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002249\",\r\n    \"label\": \"active ingredient in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002252\",\r\n    \"label\": \"connecting branch of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002253\",\r\n    \"label\": \"has connecting branch\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002254\",\r\n    \"label\": \"has developmental contribution from\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002255\",\r\n    \"label\": \"developmentally contributes to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002256\",\r\n    \"label\": \"developmentally induced by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002257\",\r\n    \"label\": \"developmentally induces\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002258\",\r\n    \"label\": \"developmentally preceded by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002260\",\r\n    \"label\": \"has biological role\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002261\",\r\n    \"label\": \"has application role\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002262\",\r\n    \"label\": \"has chemical role\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002263\",\r\n    \"label\": \"acts upstream of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002264\",\r\n    \"label\": \"acts upstream of or within\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002285\",\r\n    \"label\": \"developmentally replaces\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002286\",\r\n    \"label\": \"developmentally succeeded by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002287\",\r\n    \"label\": \"part of developmental precursor of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002291\",\r\n    \"label\": \"ubiquitously expressed in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002292\",\r\n    \"label\": \"expresses\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002293\",\r\n    \"label\": \"ubiquitously expresses\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002295\",\r\n    \"label\": \"results in developmental progression of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002296\",\r\n    \"label\": \"results in development of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002297\",\r\n    \"label\": \"results in formation of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002298\",\r\n    \"label\": \"results in morphogenesis of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002299\",\r\n    \"label\": \"results in maturation of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002300\",\r\n    \"label\": \"results in disappearance of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002301\",\r\n    \"label\": \"results in developmental regression of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002302\",\r\n    \"label\": \"is treated by substance\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002303\",\r\n    \"label\": \"has habitat\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002304\",\r\n    \"label\": \"causally upstream of, positive effect\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002305\",\r\n    \"label\": \"causally upstream of, negative effect\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002309\",\r\n    \"label\": \"has exposure stimulus\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002312\",\r\n    \"label\": \"evolutionary variant of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002313\",\r\n    \"label\": \"transports or maintains localization of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002314\",\r\n    \"label\": \"characteristic of part of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002315\",\r\n    \"label\": \"results in acquisition of features of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002320\",\r\n    \"label\": \"evolutionarily related to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002321\",\r\n    \"label\": \"ecologically related to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002322\",\r\n    \"label\": \"confers advantage in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002323\",\r\n    \"label\": \"mereotopologically related to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002324\",\r\n    \"label\": \"developmentally related to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002325\",\r\n    \"label\": \"colocalizes with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002326\",\r\n    \"label\": \"contributes to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002327\",\r\n    \"label\": \"enables\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002328\",\r\n    \"label\": \"functionally related to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002329\",\r\n    \"label\": \"part of structure that is capable of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002330\",\r\n    \"label\": \"genomically related to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002331\",\r\n    \"label\": \"involved in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002332\",\r\n    \"label\": \"regulates levels of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002333\",\r\n    \"label\": \"enabled by\",\r\n    \"relevant\": true\r\n  },\r\n  {\r\n    \"id\": \"RO:0002334\",\r\n    \"label\": \"regulated by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002335\",\r\n    \"label\": \"negatively regulated by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002336\",\r\n    \"label\": \"positively regulated by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002337\",\r\n    \"label\": \"related via localization to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002338\",\r\n    \"label\": \"has target start location\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002339\",\r\n    \"label\": \"has target end location\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002340\",\r\n    \"label\": \"imports\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002341\",\r\n    \"label\": \"results in transport along\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002342\",\r\n    \"label\": \"results in transport across\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002343\",\r\n    \"label\": \"results in growth of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002344\",\r\n    \"label\": \"results in transport to from or in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002345\",\r\n    \"label\": \"exports\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002348\",\r\n    \"label\": \"results in commitment to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002349\",\r\n    \"label\": \"results in determination of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002350\",\r\n    \"label\": \"member of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002351\",\r\n    \"label\": \"has member\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002352\",\r\n    \"label\": \"input of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002353\",\r\n    \"label\": \"output of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002354\",\r\n    \"label\": \"formed as result of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002355\",\r\n    \"label\": \"results in structural organization of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002356\",\r\n    \"label\": \"results in specification of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002357\",\r\n    \"label\": \"results in developmental induction of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002360\",\r\n    \"label\": \"has dendrite location\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002371\",\r\n    \"label\": \"attached to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002372\",\r\n    \"label\": \"has muscle origin\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002373\",\r\n    \"label\": \"has muscle insertion\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002374\",\r\n    \"label\": \"derived from ancestral fusion of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002375\",\r\n    \"label\": \"in branching relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002376\",\r\n    \"label\": \"tributary of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002377\",\r\n    \"label\": \"distributary of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002378\",\r\n    \"label\": \"anabranch of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002379\",\r\n    \"label\": \"spatially coextensive with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002380\",\r\n    \"label\": \"branching part of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002381\",\r\n    \"label\": \"main stem of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002382\",\r\n    \"label\": \"proper distributary of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002383\",\r\n    \"label\": \"proper tributary of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002384\",\r\n    \"label\": \"has developmental potential involving\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002385\",\r\n    \"label\": \"has potential to developmentally contribute to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002386\",\r\n    \"label\": \"has potential to developmentally induce\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002387\",\r\n    \"label\": \"has potential to develop into\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002388\",\r\n    \"label\": \"has potential to directly develop into\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002400\",\r\n    \"label\": \"has direct input\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002401\",\r\n    \"label\": \"obsolete has indirect input\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002402\",\r\n    \"label\": \"obsolete has direct output\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002403\",\r\n    \"label\": \"obsolete has indirect output\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002404\",\r\n    \"label\": \"causally downstream of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002405\",\r\n    \"label\": \"immediately causally downstream of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002406\",\r\n    \"label\": \"obsolete directly activates\",\r\n    \"relevant\": true\r\n  },\r\n  {\r\n    \"id\": \"RO:0002407\",\r\n    \"label\": \"indirectly positively regulates\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002408\",\r\n    \"label\": \"obsolete directly inhibits\",\r\n    \"relevant\": true\r\n  },\r\n  {\r\n    \"id\": \"RO:0002407\",\r\n    \"label\": \"indirectly positively regulates\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002409\",\r\n    \"label\": \"indirectly negatively regulates\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002410\",\r\n    \"label\": \"causally related to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002411\",\r\n    \"label\": \"causally upstream of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002412\",\r\n    \"label\": \"immediately causally upstream of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002413\",\r\n    \"label\": \"directly provides input for\",\r\n    \"relevant\": true\r\n  },\r\n  {\r\n    \"id\": \"RO:0002414\",\r\n    \"label\": \"transitively provides input for\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002418\",\r\n    \"label\": \"causally upstream of or within\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002424\",\r\n    \"label\": \"differs in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002425\",\r\n    \"label\": \"differs in attribute of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002426\",\r\n    \"label\": \"differs in attribute\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002427\",\r\n    \"label\": \"causally downstream of or within\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002428\",\r\n    \"label\": \"involved in regulation of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002429\",\r\n    \"label\": \"involved in positive regulation of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002430\",\r\n    \"label\": \"involved in negative regulation of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002431\",\r\n    \"label\": \"involved in or involved in regulation of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002432\",\r\n    \"label\": \"is active in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002433\",\r\n    \"label\": \"contributes to morphology of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002434\",\r\n    \"label\": \"interacts with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002435\",\r\n    \"label\": \"genetically interacts with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002436\",\r\n    \"label\": \"molecularly interacts with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002437\",\r\n    \"label\": \"biotically interacts with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002438\",\r\n    \"label\": \"trophically interacts with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002439\",\r\n    \"label\": \"preys on\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002440\",\r\n    \"label\": \"symbiotically interacts with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002441\",\r\n    \"label\": \"commensually interacts with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002442\",\r\n    \"label\": \"mutualistically interacts with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002443\",\r\n    \"label\": \"interacts with via parasite-host interaction\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002444\",\r\n    \"label\": \"parasite of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002445\",\r\n    \"label\": \"parasitized by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002446\",\r\n    \"label\": \"participates in a abiotic-biotic interaction with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002447\",\r\n    \"label\": \"phosphorylates\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002448\",\r\n    \"label\": \"directly regulates activity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002449\",\r\n    \"label\": \"directly negatively regulates activity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002450\",\r\n    \"label\": \"directly positively regulates activity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002451\",\r\n    \"label\": \"transmitted by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002452\",\r\n    \"label\": \"has symptom\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002453\",\r\n    \"label\": \"host of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002454\",\r\n    \"label\": \"has host\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002455\",\r\n    \"label\": \"pollinates\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002456\",\r\n    \"label\": \"pollinated by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002457\",\r\n    \"label\": \"acquires nutrients from\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002458\",\r\n    \"label\": \"preyed upon by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002459\",\r\n    \"label\": \"is vector for\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002460\",\r\n    \"label\": \"has vector\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002461\",\r\n    \"label\": \"partner in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002462\",\r\n    \"label\": \"subject participant in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002463\",\r\n    \"label\": \"target participant in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002464\",\r\n    \"label\": \"helper property (not for use in curation)\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002465\",\r\n    \"label\": \"is symbiosis\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002466\",\r\n    \"label\": \"is commensalism\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002467\",\r\n    \"label\": \"is mutualism\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002468\",\r\n    \"label\": \"is parasitism\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002469\",\r\n    \"label\": \"provides nutrients for\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002470\",\r\n    \"label\": \"eats\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002471\",\r\n    \"label\": \"is eaten by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002472\",\r\n    \"label\": \"is evidence for\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002473\",\r\n    \"label\": \"composed primarily of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002476\",\r\n    \"label\": \"child nucleus of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002477\",\r\n    \"label\": \"child nucleus of in hermaphrodite\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002478\",\r\n    \"label\": \"child nucleus of in male\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002479\",\r\n    \"label\": \"has part that occurs in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002480\",\r\n    \"label\": \"ubiquitinates\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002481\",\r\n    \"label\": \"is kinase activity\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002482\",\r\n    \"label\": \"is ubiquitination\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002485\",\r\n    \"label\": \"receives input from\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002486\",\r\n    \"label\": \"sends output to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002487\",\r\n    \"label\": \"relation between physical entity and a process or stage\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002488\",\r\n    \"label\": \"existence starts during\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002489\",\r\n    \"label\": \"existence starts with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002490\",\r\n    \"label\": \"existence overlaps\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002491\",\r\n    \"label\": \"existence starts and ends during\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002492\",\r\n    \"label\": \"existence ends during\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002493\",\r\n    \"label\": \"existence ends with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002494\",\r\n    \"label\": \"transformation of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002495\",\r\n    \"label\": \"immediate transformation of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002496\",\r\n    \"label\": \"existence starts during or after\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002497\",\r\n    \"label\": \"existence ends during or before\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002500\",\r\n    \"label\": \"causal agent in process\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002501\",\r\n    \"label\": \"causal relation between processes\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002502\",\r\n    \"label\": \"depends on\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002503\",\r\n    \"label\": \"towards\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002505\",\r\n    \"label\": \"has intermediate\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002506\",\r\n    \"label\": \"causal relation between entities\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002507\",\r\n    \"label\": \"determined by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002508\",\r\n    \"label\": \"determines\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002509\",\r\n    \"label\": \"determined by part of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002510\",\r\n    \"label\": \"transcribed from\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002511\",\r\n    \"label\": \"transcribed to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002512\",\r\n    \"label\": \"ribosomal translation of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002513\",\r\n    \"label\": \"ribosomally translates to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002514\",\r\n    \"label\": \"sequentially related to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002515\",\r\n    \"label\": \"sequentially adjacent to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002516\",\r\n    \"label\": \"has start sequence\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002517\",\r\n    \"label\": \"is start sequence of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002518\",\r\n    \"label\": \"has end sequence\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002519\",\r\n    \"label\": \"is end sequence of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002520\",\r\n    \"label\": \"is consecutive sequence of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002521\",\r\n    \"label\": \"is sequentially aligned with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002522\",\r\n    \"label\": \"bounds sequence of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002523\",\r\n    \"label\": \"is bound by sequence of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002524\",\r\n    \"label\": \"has subsequence\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002525\",\r\n    \"label\": \"is subsequence of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002526\",\r\n    \"label\": \"overlaps sequence of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002527\",\r\n    \"label\": \"does not overlap sequence of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002528\",\r\n    \"label\": \"is upstream of sequence of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002529\",\r\n    \"label\": \"is downstream of sequence of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002530\",\r\n    \"label\": \"is immediately downstream of sequence of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002531\",\r\n    \"label\": \"is immediately upstream of sequence of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002551\",\r\n    \"label\": \"has skeleton\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002552\",\r\n    \"label\": \"results in ending of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002553\",\r\n    \"label\": \"hyperparasite of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002554\",\r\n    \"label\": \"hyperparasitized by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002555\",\r\n    \"label\": \"allelopath of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002556\",\r\n    \"label\": \"pathogen of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002557\",\r\n    \"label\": \"has pathogen\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002558\",\r\n    \"label\": \"has evidence\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002559\",\r\n    \"label\": \"causally influenced by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002563\",\r\n    \"label\": \"interaction relation helper property\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002564\",\r\n    \"label\": \"molecular interaction relation helper property\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002565\",\r\n    \"label\": \"results in movement of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002566\",\r\n    \"label\": \"causally influences\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002567\",\r\n    \"label\": \"biomechanically related to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002568\",\r\n    \"label\": \"has muscle antagonist\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002569\",\r\n    \"label\": \"has branching part\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002570\",\r\n    \"label\": \"conduit for\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002571\",\r\n    \"label\": \"lumen of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002572\",\r\n    \"label\": \"luminal space of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002573\",\r\n    \"label\": \"has modifier\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002574\",\r\n    \"label\": \"participates in a biotic-biotic interaction with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002576\",\r\n    \"label\": \"skeleton of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002578\",\r\n    \"label\": \"directly regulates\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002583\",\r\n    \"label\": \"existence starts at end of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002584\",\r\n    \"label\": \"has part structure that is capable of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002585\",\r\n    \"label\": \"results in closure of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002586\",\r\n    \"label\": \"results in breakdown of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002587\",\r\n    \"label\": \"results in synthesis of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002588\",\r\n    \"label\": \"results in assembly of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002589\",\r\n    \"label\": \"results in catabolism of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002590\",\r\n    \"label\": \"results in disassembly of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002591\",\r\n    \"label\": \"results in remodeling of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002592\",\r\n    \"label\": \"results in organization of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002593\",\r\n    \"label\": \"existence ends at start of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002595\",\r\n    \"label\": \"causal relation between material entity and a process\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002596\",\r\n    \"label\": \"capable of regulating\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002597\",\r\n    \"label\": \"capable of negatively regulating\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002598\",\r\n    \"label\": \"capable of positively regulating\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002599\",\r\n    \"label\": \"capable of inhibiting or preventing pathological process\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002600\",\r\n    \"label\": \"capable of upregulating or causing pathological process\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002606\",\r\n    \"label\": \"is substance that treats\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002607\",\r\n    \"label\": \"is marker for\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002608\",\r\n    \"label\": \"process has causal agent\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002609\",\r\n    \"label\": \"obsolete related via dependence to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002610\",\r\n    \"label\": \"correlated with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002614\",\r\n    \"label\": \"is evidence with support from\",\r\n    \"relevant\": true\r\n  },\r\n  {\r\n    \"id\": \"RO:0002615\",\r\n    \"label\": \"has model\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002616\",\r\n    \"label\": \"related via evidence or inference to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002618\",\r\n    \"label\": \"visits\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002619\",\r\n    \"label\": \"visited by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002622\",\r\n    \"label\": \"visits flowers of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002623\",\r\n    \"label\": \"has flowers visited by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002624\",\r\n    \"label\": \"lays eggs in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002625\",\r\n    \"label\": \"has eggs laid in by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002626\",\r\n    \"label\": \"kills\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002627\",\r\n    \"label\": \"is killed by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002629\",\r\n    \"label\": \"directly positively regulates\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002630\",\r\n    \"label\": \"directly negatively regulates\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002632\",\r\n    \"label\": \"ectoparasite of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002633\",\r\n    \"label\": \"has ectoparasite\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002634\",\r\n    \"label\": \"endoparasite of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002635\",\r\n    \"label\": \"has endoparasite\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002636\",\r\n    \"label\": \"mesoparasite of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002637\",\r\n    \"label\": \"has mesoparasite\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002638\",\r\n    \"label\": \"intercellular endoparasite of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002639\",\r\n    \"label\": \"has intercellular endoparasite\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002640\",\r\n    \"label\": \"intracellular endoparasite of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002641\",\r\n    \"label\": \"has intracellular endoparasite\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0002801\",\r\n    \"label\": \"co-roosts with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0003000\",\r\n    \"label\": \"produces\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0003001\",\r\n    \"label\": \"produced by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0003002\",\r\n    \"label\": \"represses expression of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0003003\",\r\n    \"label\": \"increases expression of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0003301\",\r\n    \"label\": \"has role in modeling\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0003302\",\r\n    \"label\": \"causes or contributes to condition\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0003303\",\r\n    \"label\": \"causes condition\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0003304\",\r\n    \"label\": \"contributes to condition\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0003305\",\r\n    \"label\": \"contributes to severity of condition\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0003306\",\r\n    \"label\": \"contributes to frequency of condition\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0003307\",\r\n    \"label\": \"ameliorates condition\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0003308\",\r\n    \"label\": \"correlated with condition\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0003309\",\r\n    \"label\": \"exacerbates condition\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0003310\",\r\n    \"label\": \"condition ameliorated by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0003311\",\r\n    \"label\": \"condition exacerbated by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004000\",\r\n    \"label\": \"condition has genetic basis in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004001\",\r\n    \"label\": \"has material basis in gain of function germline mutation in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004002\",\r\n    \"label\": \"has material basis in loss of function germline mutation in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004003\",\r\n    \"label\": \"has material basis in germline mutation in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004004\",\r\n    \"label\": \"has material basis in somatic mutation in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004005\",\r\n    \"label\": \"has major susceptibility factor\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004006\",\r\n    \"label\": \"has partial material basis in germline mutation in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004007\",\r\n    \"label\": \"has primary input or output\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004008\",\r\n    \"label\": \"has primary output\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004009\",\r\n    \"label\": \"has primary input\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004010\",\r\n    \"label\": \"is genetic basis for condition\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004011\",\r\n    \"label\": \"is causal gain of function germline mutation of in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004012\",\r\n    \"label\": \"is causal loss of function germline mutation of in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004013\",\r\n    \"label\": \"is causal germline mutation in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004014\",\r\n    \"label\": \"is causal somatic mutation in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004015\",\r\n    \"label\": \"is causal susceptibility factor for\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004016\",\r\n    \"label\": \"is causal germline mutation partially giving rise to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004017\",\r\n    \"label\": \"realizable has basis in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004018\",\r\n    \"label\": \"is basis for realizable\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004019\",\r\n    \"label\": \"disease has basis in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004020\",\r\n    \"label\": \"disease has basis in dysfunction of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004021\",\r\n    \"label\": \"disease has basis in disruption of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004022\",\r\n    \"label\": \"disease has basis in feature\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004023\",\r\n    \"label\": \"causal relationship with disease as subject\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004024\",\r\n    \"label\": \"disease causes disruption of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004025\",\r\n    \"label\": \"disease causes dysfunction of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004026\",\r\n    \"label\": \"disease has location\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004027\",\r\n    \"label\": \"disease has inflammation site\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004028\",\r\n    \"label\": \"realized in response to stimulus\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004029\",\r\n    \"label\": \"disease has feature\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004030\",\r\n    \"label\": \"disease arises from alteration in structure\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004031\",\r\n    \"label\": \"enables subfunction\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004032\",\r\n    \"label\": \"acts upstream of or within, positive effect\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004033\",\r\n    \"label\": \"acts upstream of or within, negative effect\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004034\",\r\n    \"label\": \"acts upstream of, positive effect\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004035\",\r\n    \"label\": \"acts upstream of, negative effect\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004046\",\r\n    \"label\": \"causally upstream of or within, negative effect\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004047\",\r\n    \"label\": \"causally upstream of or within, positive effect\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004096\",\r\n    \"label\": \"DEPRECATED inheres in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0004097\",\r\n    \"label\": \"DEPRECATED bearer of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0007000\",\r\n    \"label\": \"has driver\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0007001\",\r\n    \"label\": \"has disease driver\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0008501\",\r\n    \"label\": \"epiphyte of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0008502\",\r\n    \"label\": \"has epiphyte\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0008503\",\r\n    \"label\": \"kleptoparasite of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0008504\",\r\n    \"label\": \"kleptoparasitized by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0008505\",\r\n    \"label\": \"creates habitat for\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0008506\",\r\n    \"label\": \"ecologically co-occurs with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0008507\",\r\n    \"label\": \"lays eggs on\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0008508\",\r\n    \"label\": \"has eggs laid on by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0009001\",\r\n    \"label\": \"has substance added\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0009002\",\r\n    \"label\": \"has substance removed\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0009003\",\r\n    \"label\": \"immersed in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0009004\",\r\n    \"label\": \"has consumer\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0009005\",\r\n    \"label\": \"has primary substance added\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0009501\",\r\n    \"label\": \"realized in response to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0010001\",\r\n    \"label\": \"generically depends on\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0010002\",\r\n    \"label\": \"is carrier of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0011002\",\r\n    \"label\": \"regulates activity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0011003\",\r\n    \"label\": \"regulates quantity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0011004\",\r\n    \"label\": \"indirectly regulates activity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0011007\",\r\n    \"label\": \"decreases by repression quantity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0011008\",\r\n    \"label\": \"increases by expression quantity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0011009\",\r\n    \"label\": \"directly positively regulates quantity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0011010\",\r\n    \"label\": \"directly negatively regulates quantity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0011013\",\r\n    \"label\": \"indirectly positively regulates activity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0011014\",\r\n    \"label\": \"destabilizes quantity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0011015\",\r\n    \"label\": \"stabilizes quantity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0011016\",\r\n    \"label\": \"indirectly negatively regulates activity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0011021\",\r\n    \"label\": \"directly regulates quantity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0011022\",\r\n    \"label\": \"indirectly regulates quantity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0011023\",\r\n    \"label\": \"indirectly negatively regulates quantity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0011024\",\r\n    \"label\": \"indirectly positively regulates quantity of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0012000\",\r\n    \"label\": \"has small molecule regulator\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0012001\",\r\n    \"label\": \"has small molecule activator\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0012002\",\r\n    \"label\": \"has small molecule inhibitor\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0012003\",\r\n    \"label\": \"acts on population of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0012004\",\r\n    \"label\": \"is small molecule regulator of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0012005\",\r\n    \"label\": \"is small molecule activator of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0012006\",\r\n    \"label\": \"is small molecule inhibitor of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0012007\",\r\n    \"label\": \"results in adhesion of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0012008\",\r\n    \"label\": \"results in fusion of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0012009\",\r\n    \"label\": \"constitutively upstream of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0012010\",\r\n    \"label\": \"removes input for\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0012011\",\r\n    \"label\": \"indirectly causally upstream of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0012012\",\r\n    \"label\": \"indirectly regulates\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0013001\",\r\n    \"label\": \"has synaptic IO in region\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0013002\",\r\n    \"label\": \"receives synaptic input in region\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0013003\",\r\n    \"label\": \"sends synaptic output to region\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0013004\",\r\n    \"label\": \"has synaptic IO throughout\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0013005\",\r\n    \"label\": \"receives synaptic input throughout\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0013006\",\r\n    \"label\": \"sends synaptic output throughout\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0013007\",\r\n    \"label\": \"has sensory dendrite in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0013008\",\r\n    \"label\": \"receives synaptic input from neuron\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0013009\",\r\n    \"label\": \"sends synaptic output to cell\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0014001\",\r\n    \"label\": \"disease has infectious agent\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0015001\",\r\n    \"label\": \"has exemplar data\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0015002\",\r\n    \"label\": \"exemplar data of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0015003\",\r\n    \"label\": \"subcluster of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0015004\",\r\n    \"label\": \"has characterizing marker set\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0015006\",\r\n    \"label\": \"different in magnitude relative to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0015007\",\r\n    \"label\": \"increased in magnitude relative to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0015008\",\r\n    \"label\": \"decreased in magnitude relative to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0015009\",\r\n    \"label\": \"similar in magnitude relative to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0015010\",\r\n    \"label\": \"has relative magnitude\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0015011\",\r\n    \"label\": \"has cross section\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0015012\",\r\n    \"label\": \"reciprocal of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0015015\",\r\n    \"label\": \"has high plasma membrane amount\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0015016\",\r\n    \"label\": \"has low plasma membrane amount\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0016001\",\r\n    \"label\": \"has phenotype or disease\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0016002\",\r\n    \"label\": \"has disease\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0016004\",\r\n    \"label\": \"has exposure medium\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0017001\",\r\n    \"label\": \"device utilizes material\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0018001\",\r\n    \"label\": \"is myristoyltransferase activity\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0018002\",\r\n    \"label\": \"myristoylates\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0018003\",\r\n    \"label\": \"myristoylated by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0019000\",\r\n    \"label\": \"regulates characteristic\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0019001\",\r\n    \"label\": \"positively regulates characteristic\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0019002\",\r\n    \"label\": \"negatively regulates characteristic\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0019501\",\r\n    \"label\": \"confers susceptibility to condition\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0040035\",\r\n    \"label\": \"disease relationship\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:0040036\",\r\n    \"label\": \"results in changes to anatomical or cellular structure\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000000\",\r\n    \"label\": \"in similarity relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000001\",\r\n    \"label\": \"in homology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000002\",\r\n    \"label\": \"in homoplasy relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000003\",\r\n    \"label\": \"in homocracy relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000004\",\r\n    \"label\": \"in convergence relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000005\",\r\n    \"label\": \"in parallelism relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000006\",\r\n    \"label\": \"in structural homology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000007\",\r\n    \"label\": \"in historical homology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000008\",\r\n    \"label\": \"in biological homology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000009\",\r\n    \"label\": \"in reversal relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000010\",\r\n    \"label\": \"in syntenic homology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000011\",\r\n    \"label\": \"in paralogy relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000012\",\r\n    \"label\": \"in syntenic paralogy relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000013\",\r\n    \"label\": \"in syntenic orthology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000014\",\r\n    \"label\": \"in partial homology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000015\",\r\n    \"label\": \"in protein structural homology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000016\",\r\n    \"label\": \"in non functional homology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000017\",\r\n    \"label\": \"in orthology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000018\",\r\n    \"label\": \"in xenology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000019\",\r\n    \"label\": \"in 1 to 1 homology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000020\",\r\n    \"label\": \"in 1 to 1 orthology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000022\",\r\n    \"label\": \"in ohnology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000023\",\r\n    \"label\": \"in in-paralogy relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000024\",\r\n    \"label\": \"in out-paralogy relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000025\",\r\n    \"label\": \"in pro-orthology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000026\",\r\n    \"label\": \"in semi-orthology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000027\",\r\n    \"label\": \"in serial homology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000028\",\r\n    \"label\": \"in heterochronous homology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000029\",\r\n    \"label\": \"in paedomorphorsis relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000030\",\r\n    \"label\": \"in peramorphosis relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000031\",\r\n    \"label\": \"in progenesis relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000032\",\r\n    \"label\": \"in neoteny relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000033\",\r\n    \"label\": \"in mimicry relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000034\",\r\n    \"label\": \"in 1 to many orthology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000036\",\r\n    \"label\": \"in many to many homology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000037\",\r\n    \"label\": \"in 1 to many homology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000042\",\r\n    \"label\": \"in apomorphy relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000043\",\r\n    \"label\": \"in plesiomorphy relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000044\",\r\n    \"label\": \"in deep homology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000045\",\r\n    \"label\": \"in hemiplasy relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000046\",\r\n    \"label\": \"in gametology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000047\",\r\n    \"label\": \"in chromosomal homology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000048\",\r\n    \"label\": \"in many to many orthology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000049\",\r\n    \"label\": \"in within-species paralogy relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000050\",\r\n    \"label\": \"in between-species paralogy relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000051\",\r\n    \"label\": \"in postdisplacement relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000052\",\r\n    \"label\": \"in hypermorphosis relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000053\",\r\n    \"label\": \"in synology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000054\",\r\n    \"label\": \"in isoorthology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000055\",\r\n    \"label\": \"in tandem paralogy relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000057\",\r\n    \"label\": \"in latent homology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000058\",\r\n    \"label\": \"in syngeny relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000060\",\r\n    \"label\": \"in apparent orthology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000061\",\r\n    \"label\": \"in pseudoparalogy relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000062\",\r\n    \"label\": \"in equivalogy relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000063\",\r\n    \"label\": \"in interology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000065\",\r\n    \"label\": \"in functional equivalence relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000066\",\r\n    \"label\": \"in iterative homology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000068\",\r\n    \"label\": \"in paraxenology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000069\",\r\n    \"label\": \"in plerology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000071\",\r\n    \"label\": \"in homotopy relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000072\",\r\n    \"label\": \"in homeosis relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000073\",\r\n    \"label\": \"in homoeology relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000074\",\r\n    \"label\": \"in paramorphism relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"RO:HOM0000075\",\r\n    \"label\": \"in regulogy relationship with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:SEPIO_0000124\",\r\n    \"label\": \"has supporting reference\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:chebi#has_functional_parent\",\r\n    \"label\": \"has functional parent\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:chebi#has_parent_hydride\",\r\n    \"label\": \"has parent hydride\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:chebi#is_conjugate_acid_of\",\r\n    \"label\": \"is conjugate acid of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:chebi#is_conjugate_base_of\",\r\n    \"label\": \"is conjugate base of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:chebi#is_enantiomer_of\",\r\n    \"label\": \"is enantiomer of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:chebi#is_substituent_group_from\",\r\n    \"label\": \"is substituent group from\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:chebi#is_tautomer_of\",\r\n    \"label\": \"is tautomer of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:cl#has_completed\",\r\n    \"label\": \"has_completed\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:cl#has_high_plasma_membrane_amount\",\r\n    \"label\": \"obsolete has_high_plasma_membrane_amount\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:cl#has_low_plasma_membrane_amount\",\r\n    \"label\": \"obsolete has_low_plasma_membrane_amount\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:cl#has_not_completed\",\r\n    \"label\": \"has_not_completed\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:cl#lacks_part\",\r\n    \"label\": \"lacks_part\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:cl#lacks_plasma_membrane_part\",\r\n    \"label\": \"lacks_plasma_membrane_part\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:ddanat#develops_from\",\r\n    \"label\": \"develops_from\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:ddanat#part_of\",\r\n    \"label\": \"part of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:emapa#attached_to\",\r\n    \"label\": \"attached_to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:emapa#develops_from\",\r\n    \"label\": \"develops_from\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:emapa#develops_in\",\r\n    \"label\": \"develops_in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:emapa#ends_at\",\r\n    \"label\": \"ends_at\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:emapa#has_part\",\r\n    \"label\": \"has_part\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:emapa#is_a\",\r\n    \"label\": \"is_a\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:emapa#located_in\",\r\n    \"label\": \"located_in\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:emapa#part_of\",\r\n    \"label\": \"part_of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:emapa#starts_at\",\r\n    \"label\": \"starts_at\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:go/chebi/role#has_part\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:go/extensions/ro_pending#alters_location_of\",\r\n    \"label\": \"obsolete alters location of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:go/extensions/ro_pending#results_in_connection_of\",\r\n    \"label\": \"obsolete results_in_connection_of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:go/extensions/ro_pending#results_in_transport_through\",\r\n    \"label\": \"obsolete results_in_transport_through\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:pr#has_gene_template\",\r\n    \"label\": \"has_gene_template\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:pr#lacks_part\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#anastomoses_with\",\r\n    \"label\": \"anastomoses with\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#anteriorly_connected_to\",\r\n    \"label\": \"anteriorly connected to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#channel_for\",\r\n    \"label\": \"channel for\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#channels_from\",\r\n    \"label\": \"channels_from\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#channels_into\",\r\n    \"label\": \"channels_into\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#conduit_for\",\r\n    \"label\": \"conduit for\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#distally_connected_to\",\r\n    \"label\": \"distally connected to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#extends_fibers_into\",\r\n    \"label\": \"extends_fibers_into\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#filtered_through\",\r\n    \"label\": \"filtered through\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#has_start\",\r\n    \"label\": \"has_start\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#in_innermost_side_of\",\r\n    \"label\": \"in_innermost_side_of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#in_outermost_side_of\",\r\n    \"label\": \"in_outermost_side_of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#indirectly_supplies\",\r\n    \"label\": \"indirectly_supplies\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#layer_part_of\",\r\n    \"label\": \"layer part of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#posteriorly_connected_to\",\r\n    \"label\": \"posteriorly connected to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#protects\",\r\n    \"label\": \"protects\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#proximally_connected_to\",\r\n    \"label\": \"proximally connected to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#sexually_homologous_to\",\r\n    \"label\": \"sexually_homologous_to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#site_of\",\r\n    \"label\": \"site_of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#subdivision_of\",\r\n    \"label\": \"subdivision of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#synapsed_by\",\r\n    \"label\": \"synapsed by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#transitively_anteriorly_connected_to\",\r\n    \"label\": \"transitively anteriorly connected to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#transitively_connected_to\",\r\n    \"label\": \"transitively_connected to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#transitively_distally_connected_to\",\r\n    \"label\": \"transitively distally connected to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#transitively_proximally_connected_to\",\r\n    \"label\": \"transitively proximally connected to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:uberon/core#trunk_part_of\",\r\n    \"label\": \"trunk_part_of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:wbbt#xunion_of\",\r\n    \"label\": \"exclusive_union_of\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:wbphenotype/wbphenotype-equivalent-axioms-subq#during\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:wbphenotype/wbphenotype-equivalent-axioms-subq#ends_during_or_before\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:wbphenotype/wbphenotype-equivalent-axioms-subq#has_quality\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:wbphenotype/wbphenotype-equivalent-axioms-subq#in_response_to\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:wbphenotype/wbphenotype-equivalent-axioms-subq#starts_during_or_after\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:xao#end_stage\",\r\n    \"label\": \"ends during\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:xao#preceded_by\",\r\n    \"label\": \"preceded by\",\r\n    \"relevant\": false\r\n  },\r\n  {\r\n    \"id\": \"obo:xao#start_stage\",\r\n    \"label\": \"starts during\",\r\n    \"relevant\": false\r\n  }\r\n]\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nimport * as enviromnenetData from './environment-data';\r\n\r\ndeclare var global_barista_location: any;\r\ndeclare var global_minerva_definition_name: any;\r\ndeclare var global_golr_neo_server: any;\r\ndeclare var global_golr_server: any;\r\ndeclare var global_workbenches_universal: any;\r\ndeclare var global_workbenches_model: any;\r\ndeclare var global_workbenches_model_beta_test: any;\r\ndeclare var global_workbenches_universal_beta_test: any;\r\ndeclare var global_known_relations: any;\r\n\r\nconst baristaLocation = typeof global_barista_location !== 'undefined' ? global_barista_location : 'http://localhost:3400'; // 'http://barista-dev.berkeleybop.org';\r\nconst minervaDefinitionName = typeof global_minerva_definition_name !== 'undefined' ? global_minerva_definition_name : 'minerva_public_dev';\r\nconst golrNeoServer = typeof global_golr_neo_server !== 'undefined'\r\n  ? global_golr_neo_server\r\n  : 'http://noctua-golr.berkeleybop.org/';\r\nconst golrServer = typeof global_golr_server !== 'undefined'\r\n  ? global_golr_server\r\n  : 'http://golr-aux.geneontology.io/solr/';//'http://golr-aux.geneontology.io/solr/'\r\n\r\nconst globalWorkbenchesModel = typeof global_workbenches_model !== 'undefined'\r\n  ? global_workbenches_model\r\n  : enviromnenetData.globalWorkbenchesModel;\r\n\r\nconst globalWorkbenchesUniversal = typeof global_workbenches_universal !== 'undefined'\r\n  ? global_workbenches_universal\r\n  : enviromnenetData.globalWorkbenchesUniversal;\r\n\r\nconst globalWorkbenchesModelBetaTest = typeof global_workbenches_model_beta_test !== 'undefined'\r\n  ? global_workbenches_model_beta_test\r\n  : enviromnenetData.globalWorkbenchesModelBetaTest;\r\n\r\nconst globalWorkbenchesUniversalBetaTest = typeof global_workbenches_universal_beta_test !== 'undefined'\r\n  ? global_workbenches_universal_beta_test\r\n  : enviromnenetData.globalWorkbenchesUniversalBetaTest;\r\n\r\nconst globalKnownRelations = typeof global_known_relations !== 'undefined'\r\n  ? global_known_relations\r\n  : enviromnenetData.globalKnownRelations;\r\n\r\nexport const environment = {\r\n  production: false,\r\n  isDev: true,\r\n  isBeta: true,\r\n  isGraph: false,\r\n  spaqrlApiUrl: 'http://rdf-internal.berkeleybop.io/blazegraph/sparql',\r\n  globalGolrNeoServer: golrNeoServer,\r\n  globalGolrServer: golrServer,\r\n  globalMinervaDefinitionName: minervaDefinitionName,\r\n  globalBaristaLocation: baristaLocation,\r\n  globalWorkbenchesModel: globalWorkbenchesModel,\r\n  globalWorkbenchesUniversal: globalWorkbenchesUniversal,\r\n  globalWorkbenchesModelBetaTest: globalWorkbenchesModelBetaTest,\r\n  globalWorkbenchesUniversalBetaTest: globalWorkbenchesUniversalBetaTest,\r\n  globalKnownRelations: globalKnownRelations,\r\n  searchApi: `${baristaLocation}/search/`,\r\n\r\n  //Workbench\r\n  noctuaUrl: `${window.location.origin}`,\r\n  noctuaLandingPageUrl: `${window.location.origin}/workbench/noctua-landing-page`,\r\n\r\n  workbenchUrl: `${window.location.origin}/workbench/`,\r\n\r\n  amigoTerm: 'http://amigo.geneontology.org/amigo/term/',\r\n  wikidataSparqlUrl: 'https://query.wikidata.org/sparql',\r\n  pubMedSummaryApi: 'https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&retmode=json&id=',\r\n  announcementUrl: 'https://raw.githubusercontent.com/geneontology/noctua-announcements/dev/notification.json'\r\n};\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n","var map = {\n\t\"./af\": 58685,\n\t\"./af.js\": 58685,\n\t\"./ar\": 254,\n\t\"./ar-dz\": 4312,\n\t\"./ar-dz.js\": 4312,\n\t\"./ar-kw\": 32614,\n\t\"./ar-kw.js\": 32614,\n\t\"./ar-ly\": 18630,\n\t\"./ar-ly.js\": 18630,\n\t\"./ar-ma\": 28674,\n\t\"./ar-ma.js\": 28674,\n\t\"./ar-sa\": 49032,\n\t\"./ar-sa.js\": 49032,\n\t\"./ar-tn\": 24730,\n\t\"./ar-tn.js\": 24730,\n\t\"./ar.js\": 254,\n\t\"./az\": 53052,\n\t\"./az.js\": 53052,\n\t\"./be\": 60150,\n\t\"./be.js\": 60150,\n\t\"./bg\": 63069,\n\t\"./bg.js\": 63069,\n\t\"./bm\": 13466,\n\t\"./bm.js\": 13466,\n\t\"./bn\": 18516,\n\t\"./bn-bd\": 90557,\n\t\"./bn-bd.js\": 90557,\n\t\"./bn.js\": 18516,\n\t\"./bo\": 26273,\n\t\"./bo.js\": 26273,\n\t\"./br\": 9588,\n\t\"./br.js\": 9588,\n\t\"./bs\": 19815,\n\t\"./bs.js\": 19815,\n\t\"./ca\": 83331,\n\t\"./ca.js\": 83331,\n\t\"./cs\": 21320,\n\t\"./cs.js\": 21320,\n\t\"./cv\": 72219,\n\t\"./cv.js\": 72219,\n\t\"./cy\": 68266,\n\t\"./cy.js\": 68266,\n\t\"./da\": 66427,\n\t\"./da.js\": 66427,\n\t\"./de\": 67435,\n\t\"./de-at\": 52871,\n\t\"./de-at.js\": 52871,\n\t\"./de-ch\": 12994,\n\t\"./de-ch.js\": 12994,\n\t\"./de.js\": 67435,\n\t\"./dv\": 82357,\n\t\"./dv.js\": 82357,\n\t\"./el\": 95649,\n\t\"./el.js\": 95649,\n\t\"./en-au\": 59961,\n\t\"./en-au.js\": 59961,\n\t\"./en-ca\": 19878,\n\t\"./en-ca.js\": 19878,\n\t\"./en-gb\": 3924,\n\t\"./en-gb.js\": 3924,\n\t\"./en-ie\": 70864,\n\t\"./en-ie.js\": 70864,\n\t\"./en-il\": 91579,\n\t\"./en-il.js\": 91579,\n\t\"./en-in\": 30940,\n\t\"./en-in.js\": 30940,\n\t\"./en-nz\": 16181,\n\t\"./en-nz.js\": 16181,\n\t\"./en-sg\": 44301,\n\t\"./en-sg.js\": 44301,\n\t\"./eo\": 85291,\n\t\"./eo.js\": 85291,\n\t\"./es\": 54529,\n\t\"./es-do\": 53764,\n\t\"./es-do.js\": 53764,\n\t\"./es-mx\": 12584,\n\t\"./es-mx.js\": 12584,\n\t\"./es-us\": 63425,\n\t\"./es-us.js\": 63425,\n\t\"./es.js\": 54529,\n\t\"./et\": 35203,\n\t\"./et.js\": 35203,\n\t\"./eu\": 70678,\n\t\"./eu.js\": 70678,\n\t\"./fa\": 83483,\n\t\"./fa.js\": 83483,\n\t\"./fi\": 96262,\n\t\"./fi.js\": 96262,\n\t\"./fil\": 52521,\n\t\"./fil.js\": 52521,\n\t\"./fo\": 34555,\n\t\"./fo.js\": 34555,\n\t\"./fr\": 63131,\n\t\"./fr-ca\": 88239,\n\t\"./fr-ca.js\": 88239,\n\t\"./fr-ch\": 21702,\n\t\"./fr-ch.js\": 21702,\n\t\"./fr.js\": 63131,\n\t\"./fy\": 267,\n\t\"./fy.js\": 267,\n\t\"./ga\": 23821,\n\t\"./ga.js\": 23821,\n\t\"./gd\": 71753,\n\t\"./gd.js\": 71753,\n\t\"./gl\": 13870,\n\t\"./gl.js\": 13870,\n\t\"./gom-deva\": 92762,\n\t\"./gom-deva.js\": 92762,\n\t\"./gom-latn\": 5969,\n\t\"./gom-latn.js\": 5969,\n\t\"./gu\": 82809,\n\t\"./gu.js\": 82809,\n\t\"./he\": 45402,\n\t\"./he.js\": 45402,\n\t\"./hi\": 315,\n\t\"./hi.js\": 315,\n\t\"./hr\": 10410,\n\t\"./hr.js\": 10410,\n\t\"./hu\": 38288,\n\t\"./hu.js\": 38288,\n\t\"./hy-am\": 67928,\n\t\"./hy-am.js\": 67928,\n\t\"./id\": 71334,\n\t\"./id.js\": 71334,\n\t\"./is\": 86959,\n\t\"./is.js\": 86959,\n\t\"./it\": 34864,\n\t\"./it-ch\": 51124,\n\t\"./it-ch.js\": 51124,\n\t\"./it.js\": 34864,\n\t\"./ja\": 36141,\n\t\"./ja.js\": 36141,\n\t\"./jv\": 29187,\n\t\"./jv.js\": 29187,\n\t\"./ka\": 42136,\n\t\"./ka.js\": 42136,\n\t\"./kk\": 94332,\n\t\"./kk.js\": 94332,\n\t\"./km\": 18607,\n\t\"./km.js\": 18607,\n\t\"./kn\": 84305,\n\t\"./kn.js\": 84305,\n\t\"./ko\": 70234,\n\t\"./ko.js\": 70234,\n\t\"./ku\": 16003,\n\t\"./ku.js\": 16003,\n\t\"./ky\": 75061,\n\t\"./ky.js\": 75061,\n\t\"./lb\": 32786,\n\t\"./lb.js\": 32786,\n\t\"./lo\": 66183,\n\t\"./lo.js\": 66183,\n\t\"./lt\": 50029,\n\t\"./lt.js\": 50029,\n\t\"./lv\": 24169,\n\t\"./lv.js\": 24169,\n\t\"./me\": 68577,\n\t\"./me.js\": 68577,\n\t\"./mi\": 68177,\n\t\"./mi.js\": 68177,\n\t\"./mk\": 50337,\n\t\"./mk.js\": 50337,\n\t\"./ml\": 65260,\n\t\"./ml.js\": 65260,\n\t\"./mn\": 52325,\n\t\"./mn.js\": 52325,\n\t\"./mr\": 14695,\n\t\"./mr.js\": 14695,\n\t\"./ms\": 75334,\n\t\"./ms-my\": 37151,\n\t\"./ms-my.js\": 37151,\n\t\"./ms.js\": 75334,\n\t\"./mt\": 63570,\n\t\"./mt.js\": 63570,\n\t\"./my\": 97963,\n\t\"./my.js\": 97963,\n\t\"./nb\": 88028,\n\t\"./nb.js\": 88028,\n\t\"./ne\": 86638,\n\t\"./ne.js\": 86638,\n\t\"./nl\": 50302,\n\t\"./nl-be\": 66782,\n\t\"./nl-be.js\": 66782,\n\t\"./nl.js\": 50302,\n\t\"./nn\": 33501,\n\t\"./nn.js\": 33501,\n\t\"./oc-lnc\": 50563,\n\t\"./oc-lnc.js\": 50563,\n\t\"./pa-in\": 50869,\n\t\"./pa-in.js\": 50869,\n\t\"./pl\": 65302,\n\t\"./pl.js\": 65302,\n\t\"./pt\": 49687,\n\t\"./pt-br\": 74884,\n\t\"./pt-br.js\": 74884,\n\t\"./pt.js\": 49687,\n\t\"./ro\": 79107,\n\t\"./ro.js\": 79107,\n\t\"./ru\": 33627,\n\t\"./ru.js\": 33627,\n\t\"./sd\": 30355,\n\t\"./sd.js\": 30355,\n\t\"./se\": 83427,\n\t\"./se.js\": 83427,\n\t\"./si\": 11848,\n\t\"./si.js\": 11848,\n\t\"./sk\": 54590,\n\t\"./sk.js\": 54590,\n\t\"./sl\": 11399,\n\t\"./sl.js\": 11399,\n\t\"./sq\": 56361,\n\t\"./sq.js\": 56361,\n\t\"./sr\": 78965,\n\t\"./sr-cyrl\": 81287,\n\t\"./sr-cyrl.js\": 81287,\n\t\"./sr.js\": 78965,\n\t\"./ss\": 25456,\n\t\"./ss.js\": 25456,\n\t\"./sv\": 70451,\n\t\"./sv.js\": 70451,\n\t\"./sw\": 77558,\n\t\"./sw.js\": 77558,\n\t\"./ta\": 51356,\n\t\"./ta.js\": 51356,\n\t\"./te\": 73693,\n\t\"./te.js\": 73693,\n\t\"./tet\": 21243,\n\t\"./tet.js\": 21243,\n\t\"./tg\": 42500,\n\t\"./tg.js\": 42500,\n\t\"./th\": 55768,\n\t\"./th.js\": 55768,\n\t\"./tk\": 77761,\n\t\"./tk.js\": 77761,\n\t\"./tl-ph\": 35780,\n\t\"./tl-ph.js\": 35780,\n\t\"./tlh\": 29590,\n\t\"./tlh.js\": 29590,\n\t\"./tr\": 33807,\n\t\"./tr.js\": 33807,\n\t\"./tzl\": 93857,\n\t\"./tzl.js\": 93857,\n\t\"./tzm\": 60654,\n\t\"./tzm-latn\": 8806,\n\t\"./tzm-latn.js\": 8806,\n\t\"./tzm.js\": 60654,\n\t\"./ug-cn\": 30845,\n\t\"./ug-cn.js\": 30845,\n\t\"./uk\": 19232,\n\t\"./uk.js\": 19232,\n\t\"./ur\": 47052,\n\t\"./ur.js\": 47052,\n\t\"./uz\": 77967,\n\t\"./uz-latn\": 32233,\n\t\"./uz-latn.js\": 32233,\n\t\"./uz.js\": 77967,\n\t\"./vi\": 98615,\n\t\"./vi.js\": 98615,\n\t\"./x-pseudo\": 12320,\n\t\"./x-pseudo.js\": 12320,\n\t\"./yo\": 31313,\n\t\"./yo.js\": 31313,\n\t\"./zh-cn\": 64490,\n\t\"./zh-cn.js\": 64490,\n\t\"./zh-hk\": 55910,\n\t\"./zh-hk.js\": 55910,\n\t\"./zh-mo\": 98262,\n\t\"./zh-mo.js\": 98262,\n\t\"./zh-tw\": 44223,\n\t\"./zh-tw.js\": 44223\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;","/* (ignored) */","/* (ignored) */"],"names":["FormControl","FormGroup","Validators","FormBuilder","FormArray","Subject","debounceTime","distinctUntilChanged","takeUntil","startWith","map","NoctuaFormConfigService","NoctuaActivityFormService","ActivityError","NoctuaLookupService","withfrom","ErrorLevel","ErrorType","withDropdownData","WithDropdownOverlayRef","NoctuaFormDialogService","moveItemInArray","transferArrayItem","i0","ctx_r9","ctx_r12","ctx_r14","NoctuaWithDropdownComponent","constructor","fb","dialogRef","data","noctuaLookupService","noctuaFormDialogService","noctuaFormConfigService","noctuaActivityFormService","companies","projects","projectName","_unsubscribeAll","formControl","myForm","group","array","withfroms","value","groups","split","items","weeks","id","weeklist","week","connectedTo","push","_filter","filterValue","toLowerCase","options","filter","option","includes","ngOnInit","evidenceDBForm","_createEvidenceDBForm","clearValues","addNewCompany","control","controls","company","deleteCompany","index","removeAt","addNewProject","_onValueChange","deleteProject","setCompanies","indata","forEach","x","setProjects","arr","y","drop","event","previousContainer","container","previousIndex","currentIndex","save","self","errors","canSave","withs","project","item","error","general","join","setValue","close","openActivityErrorsDialog","cancelEvidenceDb","db","evidenceDBs","selected","accession","required","filteredOptions","valueChanges","pipe","ngOnDestroy","next","complete","selectors","decls","vars","consts","template","ctx","environment","BehaviorSubject","Observable","ModelDefinition","EntityDefinition","noctuaFormConfig","NoctuaUserService","ActivityType","compareActivity","find","each","differenceWith","chain","uniq","CardinalityViolation","RelationViolation","CurieService","ActivityNode","ActivityNodeType","compareTerm","Cam","CamLoadingIndicator","CamOperation","Entity","compareEvidence","compareEvidenceDate","compareEvidenceEvidence","compareEvidenceReference","compareEvidenceWith","Evidence","Predicate","Triple","TermsSummary","Article","equalContributor","moment","HttpClient","HttpHeaders","graph","bbopGraph","barista_client","require","amigo","barista_response","minerva_requests","jquery_engine","jquery","class_expression","minerva_manager","NoctuaGraphService","curieService","httpClient","noctuaUserService","globalBaristaLocation","globalMinervaDefinitionName","linker","curieUtil","getCurieUtil","onCamRebuildChange","onCamGraphChanged","onActivityAdded","registerManager","useReasoner","engine","method","manager","baristaLocation","minervaDefinitionName","baristaToken","managerError","resp","console","log","message_type","message","warning","alert","perm_flag","token_flag","indexOf","shieldsUp","shieldsDown","register","use_reasoner_p","registerBaristaClient","cam","barclient","response","onCamMergeSignal","onCamRebuildSignal","connect","getGraphInfo","modelId","loading","copyModelManager","artManager","groupManager","replaceManager","rebuild","getMetadata","responseData","load_data_basic","model","Object","assign","modelInfo","getModelUrls","modified","titleAnnotations","get_annotations_by_key","commentAnnotations","stateAnnotations","dateAnnotations","groupAnnotations","contributorAnnotations","contributors","getContributorsFromAnnotations","getGroupsFromAnnotations","length","date","title","comments","c","state","findModelState","inGraph","merge_special","isReasoned","loadCam","loadViolations","status","rebuildRule","addMergeSignal","autoRebuild","addRebuildSignal","rebuildFromStoredApi","activeModel","publish","activities","graphToActivities","isGraph","molecules","graphToMolecules","operation","ADD_ACTIVITY","activity","getAddedActivity","causalRelations","getCausalRelations","getActivityLocations","applyFilter","updateActivityDisplayNumber","updateProperties","NONE","a","b","validationResults","violations","hasViolations","violation","explanations","explanation","constraints","constraint","camViolation","generateViolation","node","setViolations","activityNode","nodeToActivityNode","cardinality","edge","findEdge","property","nobjects","object","predicate","startsWith","getCurie","getNodeInfo","result","types","srcType","type","complement_class_expression","class_id","label","class_label","classExpression","getNodeRootInfo","root_types","getNodeDate","getNodeLocation","x_annotations","y_annotations","parseInt","getNodeIsComplement","in_type","t","objectId","get_node","nodeInfo","uuid","term","url","rootTypes","location","isComplement","edgeToEvidence","evidenceAnnotations","evidenceAnnotation","annotationId","annotationNode","evidence","predicate_id","setEvidence","getTermURL","sources","formattedDate","format","sorted","sort","_compareSources","reference","source","referenceUrl","referenceEntity","with","withEntity","isaClosurePostParse","closure","categoryToClosure","isaClosure","isCatalyticActivity","isStartEdge","subjectNode","predicateId","enabledBy","partOf","locatedIn","isActiveIn","hasRootType","GoMolecularEntity","getTerms","camGraph","termsSummary","nodes","frequency","all_nodes","bbopNode","gp","GoMolecularFunction","mf","GoBiologicalProcess","bp","GoCellularComponent","cc","GoEvidenceNode","other","uniqueNodes","uniqWith","append","allTerms","addSummaryEvidences","evidences","relations","all_edges","bbopEdge","bbopPredicateId","evidenceHash","contributor","orcid","evidenceEcos","dates","references","_a","trim","papers","uniqueRelations","uniqueDates","uniqueEvidence","uniqueEvidenceEco","uniqueReference","uniqueWith","uniqueContributors","dateEntity","relationId","article","getActivityPreset","objectNode","bbopSubjectEdges","activityType","default","ccOnly","rootNode","subjectEdge","causalEdges","bpOnly","GoProteinContainingComplex","proteinComplex","createActivityBaseModel","bbopSubjectId","subject_id","bbopObjectId","object_id","subjectEdges","get_edges_by_subject","subjectActivityNode","setIsComplement","_graphToActivityDFS","postRunUpdateCompliment","postRunUpdate","GoChemicalEntity","objectEdges","get_edges_by_object","hasEnabledBy","molecule","triples","subjectActivity","objectInfo","edges","allEdges","causalEdge","objectActivity","findActivityById","hasInput","isReverseLink","reverseLinkTitle","triple","subject","saveModelGroup","groupId","use_groups","copyModel","reqs","request_set","req","request","add_annotation_to_model","add","user","request_with","copyModelRaw","baristaUrl","headers","requests","payload","encodeURIComponent","JSON","stringify","post","resetModel","storeCam","store_model","saveCamAnnotations","annotations","annotation","remove_annotation_from_model","comment","addActivity","addIndividual","addFact","editConnection","removeTriples","addTriples","remove_fact","editActivity","addNodes","removeIds","destNode","remove_individual","bulkEditActivity","bulkEditIndividual","bulkEditEvidence","bulkEditActivityNode","deleteActivity","uuids","success","deleteEvidence","remove_evidence","deleteEvidenceAnnotation","key","oldValue","remove_annotation_from_individual","add_fact","evidenceReference","evidenceWith","add_evidence","deleteFact","hasValue","ce","as_complement","add_individual","editIndividual","srcNode","remove_type_from_individual","add_type_to_individual","cls","getTerm","camId","pendingEntityChanges","newValue","pendingEvidenceChanges","editUserEvidenceAnnotations","pendingReferenceChanges","add_annotation_to_individual","pendingWithChanges","replaceIndividual","entity","replaceWithTerm","deleteIndividual","locations","localStorage","getItem","manualLayout","activityLocations","parse","activityLocation","position","setActivityLocations","setItem","addActivityLocation","bbopEdges","partialObjectNode","_insertNode","updateEntityInsertMenu","getEdge","nodeDescriptions","canInsertNodes","nodeDescription","hasRootTypes","category","insertNode","factory","providedIn","HttpParams","difference","EvidenceExt","golr_conf","gconf","conf","golr","gserv","globalGolrServer","impl_engine","golr_manager","golr_response","use_jsonp","onArticleCacheReady","name","golrURLBase","globalGolrNeoServer","localClosures","lookupFunc","termLookup","bind","evidenceLookup","escapeGolrValue","str","pattern","replace","buildQ","set_comfy_query","get_query","searchText","requestParams","q","params","fromObject","toString","jsonp","_lookupMap","termPreLookup","filtered","termList","evidencePreLookup","evidenceList","referencePreLookup","withPreLookup","filteredResults","companionLookup","aspect","extraParams","golrUrl","defType","qt","indent","wt","rows","start","fl","facet","fq","docs","doc","evidence_label","evidence_with","getGroupsFromNames","assigned_by","srcActivityNode","annotation_class","annotation_extension_json","extJsons","Array","isArray","ext","evidenceExts","extJson","relationship","relation","evidenceExt","e","addEvidence","annotation_class_label","categories","categoryType","packet","callback_type","qf","getTermDetail","idAccession","addPubmedInfos","pmids","presentPmids","keys","articleCache","ids","pubMedSummaryApi","get","res","uid","_addArticles","subscribe","articles","getPubmedInfo","pmid","link","evidenceDB","pubdate","authors","author","xref","database_xref","xrefDB","description","isObsolete","is_obsolete","replacedBy","replaced_by","_makeEntitiesArray","isa_closure","isa_closure_label","labels","NoctuaFormUtils","NodeCellList","NodeCellMolecule","NodeLink","StencilNode","joint","cloneDeep","getEdgeColor","CamCanvas","_initializeCanvas","canvasGraph","dia","Graph","cellNamespace","shapes","canvasPaper","Paper","cellViewNamespace","el","document","getElementById","height","width","restrictTranslate","multiLinks","markAvailable","validateConnection","cellViewS","magnetS","cellViewT","magnetT","end","linkView","validateMagnet","cellView","magnet","defaultConnectionPoint","args","sticky","defaultConnector","async","interactive","labelMove","linkPinning","gridSize","drawGrid","color","thickness","scaleFactor","sorting","APPROX","defaultLink","create","perpendicularLinks","on","unselectAll","layoutChanged","updateLocation","element","elementOnClick","cell","selectNode","hover","highlightSuccessorNodes","removeTools","unhighlightAllNodes","linkOnClick","elementView","evt","stopPropagation","editOnClick","deleteOnClick","prop","toggleActivityVisibility","sourcePort","port","sourceId","targetPort","targetId","onLinkCreated","addLink","set","setText","predecessors","getPredecessors","successors","getSuccessors","getCells","setColor","setBorder","getElements","onUpdateCamLocations","backgroundColor","unsetBorder","createLinkFromElements","target","createLink","createEntity","causallyUpstreamOf","createLinkFromTriple","autoLayout","addTo","autoLayoutGraph","paperScale","delta","$el","newScale","scale","sx","offsetX","clientX","offset","left","offsetY","clientY","top","localPoint","_offsetToLocalPoint","translate","zoom","resetZoom","elements","concat","subgraph","getSubgraph","expanded","attr","_addGPEntity","treeNode","displaySection","_b","_c","addEntity","pad","treeLevel","_d","hasEvidence","children","child","_addFDEntity","fd","createNode","graphLayoutDetail","addIcon","summary","coverage","detailed","gpNodes","buildGPTrees","gpNode","fdNodes","buildTrees","fdNode","mfNode","activityNodes","getEdges","canAdd","defaultGraphDisplayEdges","addHeader","expand","stroke","strokeWidth","createMolecule","size","getActivityTypeDetail","moleculeNode","ccNode","addCanvasGraph","resetCells","visible","isTripleComplete","reverseLink","setDimensions","scaleContentToFit","minScaleX","minScaleY","maxScaleX","maxScaleY","unfreeze","render","addStencilGraph","_layout","currentY","autoLayoutElements","manualLayoutElements","layout","DirectedGraph","align","setLabels","marginX","marginY","rankSep","rankDir","neighbor","getNeighbors","inbound","neighborPosition","getBBox","bottomRight","svgPoint","Vectorizer","createSVGPoint","pointTransformed","matrixTransform","viewport","getCTM","inverse","COMMA","ENTER","QueryList","ElementRef","NoctuaSearchService","NoctuaSearchMenuService","MomentDateAdapter","MAT_MOMENT_DATE_ADAPTER_OPTIONS","DateAdapter","MAT_DATE_FORMATS","MAT_DATE_LOCALE","_moment","_rollupMoment","InlineReferenceService","NoctuaConfirmDialogService","SearchFilterType","NoctuaDataService","ctx_r55","ctx_r59","ctx_r63","ctx_r67","ctx_r70","ctx_r74","ctx_r78","ctx_r87","ctx_r89","_r81","ctx_r38","ctx_r102","ctx_r105","ctx_r107","ctx_r109","_r91","ctx_r39","_r96","ctx_r111","ctx_r114","ctx_r117","MY_FORMATS","dateInput","display","monthYearLabel","dateA11yLabel","monthYearA11yLabel","SearchFilterComponent","noctuaDataService","confirmDialogService","inlineReferenceService","noctuaSearchMenuService","noctuaSearchService","generateBaseTerm","termNode","GoAllCellularComponent","GoBiologicalPhase","GoAnatomicalEntity","GoCellTypeEntity","UberonStage","obsoleteTermNode","ObsoleteTerm","filterForm","createAnswerForm","_onValueChanges","onOrganismsChanged","organism","organisms","_onValueOrganismChanges","gps","obsoleteTerms","terms","titles","states","exactdates","startdates","enddates","isDateRange","exactTerm","termDisplayFn","undefined","evidenceDisplayFn","contributorDisplayFn","groupDisplayFn","organismDisplayFn","taxonName","stateDisplayFn","closeLeftDrawer","clear","clearSearchCriteria","searchInput","nativeElement","filterType","limit","input","searchCriteria","openInfoToast","cleanModelId","updateSearch","remove","splice","openAddReference","open","downloadFilter","downloadSearchConfig","lookup","results","filteredContributors","filterContributors","slice","filteredGroups","filterGroups","filteredStates","filterStates","filteredOrganisms","filterOrganisms","onFileChange","reader","FileReader","files","file","readAsText","onload","uploadSearchConfig","exception","viewQuery","provide","useClass","deps","useValue","_r0","_r5","_r10","_r20","_r26","_r32","_r48","ctx_r13","SearchFormComponent","searchForm","unsubscribeAll","onValueChanges","search","SparqlMinervaService","onCamsChanged","onCamChanged","foo","query","special","RelationPreviewComponent","inputs"],"sourceRoot":"webpack:///"}