<div class="w-100-p h-100-p" fxLayout="row" fxLayoutAlign="start start">
  <div class="noc-sidemenu" fxLayout="column" fxLayoutAlign="start center">
    <button mat-icon-button color="primary" class="noc-rounded-button"
      (click)="toggleLeftDrawer(noctuaSearchService.leftPanel.filter)" matTooltip="Filter"
      [matTooltipPosition]="'after'" [matTooltipShowDelay]="1500">
      <mat-icon> search </mat-icon>
    </button>
    <button mat-icon-button color="primary" class="noc-rounded-button" (click)="
      toggleLeftDrawer(noctuaSearchService.leftPanel.group)" matTooltip="Browse by group"
      [matTooltipPosition]="'after'" [matTooltipShowDelay]="1000">
      <mat-icon> people_outline </mat-icon>
    </button>
    <button mat-icon-button color="primary" class="noc-rounded-button" (click)="
      toggleLeftDrawer(noctuaSearchService.leftPanel.contributor)" matTooltip="Browse by contributor"
      [matTooltipPosition]="'after'" [matTooltipShowDelay]="1000">
      <mat-icon>person_outline</mat-icon>
    </button>
    <button mat-icon-button color="primary" class="noc-rounded-button" (click)="
      toggleLeftDrawer(noctuaSearchService.leftPanel.species)" matTooltip="Search by species"
      [matTooltipPosition]="'after'" [matTooltipShowDelay]="1000">
      <mat-icon> pets </mat-icon>
    </button>
    <button mat-icon-button color="primary" class="noc-rounded-button"
      (click)="toggleLeftDrawer(noctuaSearchService.leftPanel.relation)" matTooltip="Relation Search"
      [matTooltipPosition]="'after'" [matTooltipShowDelay]="1500">
      <mat-icon class="icon-rotate-relation"> linear_scale </mat-icon>
    </button>
    <button mat-icon-button color="primary" class="noc-rounded-button"
      (click)="toggleLeftDrawer(noctuaSearchService.leftPanel.history)" matTooltip="History"
      [matTooltipPosition]="'after'" [matTooltipShowDelay]="1500">
      <mat-icon> history </mat-icon>
    </button>
  </div>
  <mat-drawer-container class="w-100-p h-100-p" fxLayout="row" fxLayoutAlign="start start" autosize>
    <mat-drawer #leftDrawer class="noc-left-drawer" mode="side" position="start" opened>
      <div class="noc-create" fxLayout="column" fxLayoutAlign="start center">
        <div class="" fxLayout="row" fxLayoutAlign="center center">
          <button mat-flat-button (click)="openAnnotonForm(AnnotonType.default)" color="primary"
            class="noc-rounded-button noc-half-button noc-sm noc-r">
            <mat-icon class=""> add </mat-icon> Create New Model
          </button>
          <button mat-flat-button fxFlex="35px" [matMenuTriggerFor]="createOptions" color="primary"
            class="noc-rounded-button noc-half-button noc-sm noc-l mr-8 p-0">
            <mat-icon class="">arrow_drop_down </mat-icon>
          </button>
          <mat-menu #createOptions="matMenu" xPosition="before">
            <a mat-menu-item>
              Noctua Form
            </a>
            <a mat-menu-item>
              Graph Editor
            </a>
          </mat-menu>
        </div>
      </div>
      <div [ngSwitch]="noctuaSearchService.selectedLeftPanel?.id" class="h-100-p">
        <noc-search-form *ngSwitchCase="noctuaSearchService.leftPanel.search.id"></noc-search-form>
        <noc-search-filter *ngSwitchCase="noctuaSearchService.leftPanel.filter.id"></noc-search-filter>
        <noc-search-relation *ngSwitchCase="noctuaSearchService.leftPanel.relation.id"></noc-search-relation>
        <noc-search-groups *ngSwitchCase="noctuaSearchService.leftPanel.group.id"></noc-search-groups>
        <noc-search-contributors *ngSwitchCase="noctuaSearchService.leftPanel.contributor.id"></noc-search-contributors>
        <noc-search-organisms *ngSwitchCase="noctuaSearchService.leftPanel.species.id"></noc-search-organisms>
        <noc-search-history *ngSwitchCase="noctuaSearchService.leftPanel.history.id"></noc-search-history>
      </div>
    </mat-drawer>
    <mat-drawer-content class="noc-section-body w-100-p h-100-p" noctuaPerfectScrollbar>
      <div class="header accent p-8 w-100-p" fxLayout="column" fxLayoutAlign="center center">
        <mat-icon class="hero-icon">school</mat-icon>
        <h1 [@animate]="{value:'*',params:{delay:'100ms', y:'25px'}}">
          WELCOME TO NOCTUA
        </h1>
        <h3 [@animate]="{value:'*',params:{delay:'100ms', y:'25px'}}">
          Noctua is a web-based, collaborative Gene Ontology (GO) annotation tool developed by the GO Consortium.
          It can be used to create standard GO annotations as well as more expressive models of biological processes,
          known as GO-CAMs (Gene Ontology Causal Activity Models). There are two types of user interface available in
          Noctua: 1)
          a form interface and 2) a graph interface.
        </h3> You must Login to create or edit models. Models may be viewed without login.
      </div>
      <div class="noc-summary-bar" [ngClass]="{'noc-expanded': summary.expanded}" fxLayout="column"
        fxLayoutAlign="start stretch">
        <div class="noc-cams-table-header w-100-p" fxLayout="row" fxLayoutAlign="start center">
          <mat-chip class="mr-12" (click)="refresh()">
            <mat-icon>list</mat-icon>
            <small>Results: </small> ({{camPage?.total}})
            <button mat-icon-button (click)="refresh()" class="">
              <mat-icon class="">
                refresh
              </mat-icon>
            </button>
          </mat-chip>
          <small class="mr-12">Filtered By: </small>
          <mat-chip-list>
            <mat-chip *ngIf="noctuaSearchService.searchCriteria.gps.length>0"
              (click)="toggleLeftDrawer(noctuaSearchService.leftPanel.filter)" [removable]="true"
              (removed)="noctuaSearchService.removeFilterType(noctuaSearchService.filterType.gps)">
              <small>GPs: </small> ({{ noctuaSearchService.searchCriteria.gps.length}})
              <mat-icon matChipRemove>cancel</mat-icon>
            </mat-chip>
            <mat-chip *ngIf="noctuaSearchService.searchCriteria.goterms.length>0"
              (click)="toggleLeftDrawer(noctuaSearchService.leftPanel.filter)" [removable]="true"
              (removed)="noctuaSearchService.removeFilterType(noctuaSearchService.filterType.goterms)">
              <small>GO Terms: </small> ({{ noctuaSearchService.searchCriteria.goterms.length}})
              <mat-icon matChipRemove>cancel</mat-icon>
            </mat-chip>
            <mat-chip *ngIf="noctuaSearchService.searchCriteria.contributors.length>0"
              (click)="toggleLeftDrawer(noctuaSearchService.leftPanel.filter)" [removable]="true"
              (removed)="noctuaSearchService.removeFilterType(noctuaSearchService.filterType.contributors)">
              <small>Contributors: </small> ({{ noctuaSearchService.searchCriteria.contributors.length}})
              <mat-icon matChipRemove>cancel</mat-icon>
            </mat-chip>
            <mat-chip *ngIf="noctuaSearchService.searchCriteria.groups.length>0"
              (click)="toggleLeftDrawer(noctuaSearchService.leftPanel.filter)" [removable]="true"
              (removed)="noctuaSearchService.removeFilterType(noctuaSearchService.filterType.groups)">
              <small>Groups: </small> ({{ noctuaSearchService.searchCriteria.groups.length}})
              <mat-icon matChipRemove>cancel</mat-icon>
            </mat-chip>
            <mat-chip *ngIf="noctuaSearchService.searchCriteria.organisms.length>0"
              (click)="toggleLeftDrawer(noctuaSearchService.leftPanel.filter)" [removable]="true"
              (removed)="noctuaSearchService.removeFilterType(noctuaSearchService.filterType.organisms)">
              <small>Species: </small> ({{ noctuaSearchService.searchCriteria.organisms.length}})
              <mat-icon matChipRemove>cancel</mat-icon>
            </mat-chip>
            <mat-chip *ngIf="noctuaSearchService.searchCriteria.pmids.length>0"
              (click)="toggleLeftDrawer(noctuaSearchService.leftPanel.filter)" [removable]="true"
              (removed)="noctuaSearchService.removeFilterType(noctuaSearchService.filterType.pmids)">
              <small>PMIDs: </small> ({{ noctuaSearchService.searchCriteria.pmids.length}})
              <mat-icon matChipRemove>cancel</mat-icon>
            </mat-chip>
            <mat-chip *ngIf="noctuaSearchService.searchCriteria.states.length>0"
              (click)="toggleLeftDrawer(noctuaSearchService.leftPanel.filter)" [removable]="true"
              (removed)="noctuaSearchService.removeFilterType(noctuaSearchService.filterType.states)">
              <small>Model State: </small> ({{ noctuaSearchService.searchCriteria.states.length}})
              <mat-icon matChipRemove>cancel</mat-icon>
            </mat-chip>
          </mat-chip-list>
          <span fxFlex=""></span>
          <div class="" fxFlex="150px" fxLayout="row" fxLayoutAlign="end center">
            <button mat-icon-button (click)="refresh()" class="">
              <mat-icon class="">
                refresh
              </mat-icon>
            </button>
          </div>
        </div>
      </div>
      <div class="noc-table-container w-100-p">
        <noc-cams-table></noc-cams-table>
      </div>
      <div class="w-100-p">
        <app-footer></app-footer>
      </div>
    </mat-drawer-content>
    <mat-drawer #rightDrawer class="noc-right-drawer" noctuaPerfectScrollbar mode="side" position="end">
      <div [ngSwitch]="noctuaSearchService.selectedRightPanel?.id" class="h-100-p">
      </div>
    </mat-drawer>
  </mat-drawer-container>
</div>
